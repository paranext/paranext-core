var Wl=Object.defineProperty;var Bl=(n,e,t)=>e in n?Wl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var he=(n,e,t)=>Bl(n,typeof e!="symbol"?e+"":e,t);import{r as R}from"./iframe-CVHSQGdR.js";import{j as le}from"./jsx-runtime-CJPyTDtn.js";import{r as Ko}from"./index-DcQccknk.js";const os=R.createContext(null);function Jl(n,e){return{getTheme:function(){return e??null}}}function dt(){const n=R.useContext(os);return n==null&&function(e,...t){const r=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",e);for(const i of t)o.append("v",i);throw r.search=o.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),n}function N(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Se=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,jl=Se&&"documentMode"in document?document.documentMode:null,be=Se&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ot=Se&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),An=!(!Se||!("InputEvent"in window)||jl)&&"getTargetRanges"in new window.InputEvent("input"),Ht=Se&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),wt=Se&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ul=Se&&/Android/.test(navigator.userAgent),is=Se&&/^(?=.*Chrome).*/i.test(navigator.userAgent),zo=Se&&Ul&&is,Dn=Se&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!is;function Fn(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const Vl=1,ql=3,Hl=9,Yl=11,it=0,ss=1,bt=2,Gl=0,Xl=1,Ql=2,Pn=4,Ln=8,eo=128,Zl=1792|(112|(3|Pn|Ln)|eo),to=1,no=2,ro=3,oo=4,io=5,so=6,Hn=Ht||wt||Dn?" ":"​",Re=`

`,ea=ot?" ":Hn,ls="֑-߿יִ-﷽ﹰ-ﻼ",as="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",ta=new RegExp("^[^"+as+"]*["+ls+"]"),na=new RegExp("^[^"+ls+"]*["+as+"]"),Ve={bold:1,capitalize:1024,code:16,highlight:eo,italic:2,lowercase:256,strikethrough:Pn,subscript:32,superscript:64,underline:Ln,uppercase:512},ra={directionless:1,unmergeable:2},Wo={center:no,end:so,justify:oo,left:to,right:ro,start:io},oa={[no]:"center",[so]:"end",[oo]:"justify",[to]:"left",[ro]:"right",[io]:"start"},ia={normal:0,segmented:2,token:1},sa={[Gl]:"normal",[Ql]:"segmented",[Xl]:"token"},Bo="$config";function cs(n,e,t,r,o,i){let s=n.getFirstChild();for(;s!==null;){const l=s.__key;s.__parent===e&&(x(s)&&cs(s,l,t,r,o,i),t.has(l)||i.delete(l),o.push(l)),s=s.getNextSibling()}}const la=100;let Or=!1,lo=0;function aa(n){lo=n.timeStamp}function hr(n,e,t){const r=n.nodeName==="BR",o=e.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&nr(n,t)!==void 0}function ca(n,e,t){const r=Ce(_e(t));let o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);const s=n.nodeValue;s!==null&&wo(e,s,o,i,!1)}function ua(n,e,t){if(E(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return $e(e)&&t.isAttached()}function fa(n,e,t,r){for(let o=n;o&&!hc(o);o=fn(o)){const i=nr(o,e);if(i!==void 0){const s=X(i,t);if(s)return K(s)||!U(o)?void 0:[o,s]}else if(o===r)return[r,dl(t)]}}function us(n,e,t){Or=!0;const r=performance.now()-lo>la;try{ue(n,()=>{const o=A()||function(f){return f.getEditorState().read(()=>{const g=A();return g!==null?g.clone():null})}(n),i=new Map,s=n.getRootElement(),l=n._editorState,a=n._blockCursorElement;let c=!1,u="";for(let f=0;f<e.length;f++){const g=e[f],h=g.type,p=g.target,_=fa(p,n,l,s);if(!_)continue;const[y,m]=_;if(h==="characterData")r&&O(m)&&$e(p)&&ua(o,p,m)&&ca(p,m,n);else if(h==="childList"){c=!0;const C=g.addedNodes;for(let S=0;S<C.length;S++){const T=C[S],b=ul(T),v=T.parentNode;if(v!=null&&T!==a&&b===null&&!hr(T,v,n)){if(ot){const D=(U(T)?T.innerText:null)||T.nodeValue;D&&(u+=D)}v.removeChild(T)}}const w=g.removedNodes,k=w.length;if(k>0){let S=0;for(let T=0;T<k;T++){const b=w[T];(hr(b,p,n)||a===b)&&(p.appendChild(b),S++)}k!==S&&i.set(y,m)}}}if(i.size>0)for(const[f,g]of i)g.reconcileObservedMutation(f,n);const d=t.takeRecords();if(d.length>0){for(let f=0;f<d.length;f++){const g=d[f],h=g.addedNodes,p=g.target;for(let _=0;_<h.length;_++){const y=h[_],m=y.parentNode;m==null||y.nodeName!=="BR"||hr(y,p,n)||m.removeChild(y)}}t.takeRecords()}o!==null&&(c&&se(o),ot&&_l(n)&&o.insertRawText(u))})}finally{Or=!1}}function fs(n){const e=n._observer;e!==null&&us(n,e.takeRecords(),e)}function ds(n){(function(e){lo===0&&_e(e).addEventListener("textInput",aa,!0)})(n),n._observer=new MutationObserver((e,t)=>{us(n,e,t)})}let da=class{constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||_a).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}};function Iu(n,e){return new da(n,e)}function ha(n,e,t="latest"){const r=(t==="latest"?n.getLatest():n).__state;return r?r.getValue(e):e.defaultValue}function $u(n,e,t){let r;if(ee(),typeof t=="function"){const i=n.getLatest(),s=ha(i,e);if(r=t(s),e.isEqual(s,r))return i}else r=t;const o=n.getWritable();return gs(o).updateFromKnown(e,r),o}function ga(n){const e=new Map,t=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:o}=Eo(r);if(o&&o.stateConfigs)for(const i of o.stateConfigs){let s;"stateConfig"in i?(s=i.stateConfig,i.flat&&t.add(s.key)):s=i,e.set(s.key,s)}}return{flatKeys:t,sharedConfigMap:e}}let pa=class hs{constructor(e,t,r=void 0,o=new Map,i=void 0){this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=o;const{sharedConfigMap:s}=this.sharedNodeState,l=i!==void 0?i:function(a,c,u){let d=u.size;if(c)for(const f in c){const g=a.get(f);g&&u.has(g)||d++}return d}(s,r,o);this.size=l}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const o=this.unknownState[e.key];o!==void 0&&(r=e.parse(o)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,o]of this.knownState)r.isEqual(o,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(o);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return Jo(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,o=new Map(this.knownState);return new hs(e,t,function(i,s,l){let a;if(l)for(const[c,u]of Object.entries(l)){const d=i.get(c);d?s.has(d)||s.set(d,d.parse(u)):(a=a||{},a[c]=u)}return a}(t.sharedConfigMap,o,r),o,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:o,unknownState:i}=this;o.has(e)||i&&r in i||(i&&(delete i[r],this.unknownState=Jo(i)),this.size++),o.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,o]of Object.entries(e))this.updateFromUnknown(r,o)}};function gs(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new pa(e,ps(e));return e.__state=t,t}function ps(n){return n.__state?n.__state.sharedNodeState:al(or(),n.getType()).sharedNodeState}function Jo(n){if(n)for(const e in n)return n}function _a(n){return n}function jo(n,e,t){for(const[r,o]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const i=t?t.getValue(r):r.defaultValue;if(i!==o&&!r.isEqual(i,o))return!0}return!1}function Uo(n,e,t){const{unknownState:r}=e,o=t?t.unknownState:void 0;if(r){for(const[i,s]of Object.entries(r))if(!n.has(i)&&(n.add(i),s!==(o?o[i]:void 0)))return!0}return!1}function Vo(n,e){const t=n.__state;return t&&t.node===n?t.getWritable(e):t}function qo(n,e){const t=n.__mode,r=n.__format,o=n.__style,i=e.__mode,s=e.__format,l=e.__style,a=n.__state,c=e.__state;return(t===null||t===i)&&(r===null||r===s)&&(o===null||o===l)&&(n.__state===null||a===c||function(u,d){if(u===d)return!0;if(u&&d&&u.size!==d.size)return!1;const f=new Set;return!(u&&jo(f,u,d)||d&&jo(f,d,u)||u&&Uo(f,u,d)||d&&Uo(f,d,u))}(a,c))}function Ho(n,e){const t=n.mergeWithSibling(e),r=J()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function Yo(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&O(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(qo(e,r)){r=Ho(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&O(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(qo(r,t)){r=Ho(r,t);break}break}t.remove()}}else r.remove()}function Yt(n){return Go(n.anchor),Go(n.focus),n}function Go(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,o;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),o=!0):(r=e.getChildAtIndex(t),o=!1),O(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!x(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let qe,ie,Gt,Yn,Mr,Ar,st,me,Dr,Xt,V="",oe="",ve=null,we="",Pe="",_s=!1,Qt=!1,Nn=null;function Rn(n,e){const t=st.get(n);if(e!==null){const r=Lr(n);r.parentNode===e&&e.removeChild(r)}if(me.has(n)||ie._keyToDOMMap.delete(n),x(t)){const r=$n(t,st);Fr(r,0,r.length-1,null)}t!==void 0&&bo(Xt,Gt,Yn,t,"destroyed")}function Fr(n,e,t,r){let o=e;for(;o<=t;++o){const i=n[o];i!==void 0&&Rn(i,r)}}function Xe(n,e){n.setProperty("text-align",e)}const ma="40px";function ms(n,e){const t=qe.theme.indent;if(typeof t=="string"){const o=n.classList.contains(t);e>0&&!o?n.classList.add(t):e<1&&o&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||ma;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function ys(n,e){const t=n.style;e===0?Xe(t,""):e===to?Xe(t,"left"):e===no?Xe(t,"center"):e===ro?Xe(t,"right"):e===oo?Xe(t,"justify"):e===io?Xe(t,"start"):e===so&&Xe(t,"end")}function In(n,e){const t=me.get(n);t===void 0&&N(60);const r=t.createDOM(qe,ie);if(function(o,i,s){const l=s._keyToDOMMap;(function(a,c,u){const d=`__lexicalKey_${c._key}`;a[d]=u})(i,s,o),l.set(o,i)}(n,r,ie),O(t)?r.setAttribute("data-lexical-text","true"):K(t)&&r.setAttribute("data-lexical-decorator","true"),x(t)){const o=t.__indent,i=t.__size;if(o!==0&&ms(r,o),i!==0){const l=i-1;(function(a,c,u,d){const f=oe;oe="",Pr(a,u,0,c,u.getDOMSlot(d)),xs(u,d),oe=f})($n(t,me),l,t,r)}const s=t.__format;s!==0&&ys(r,s),t.isInline()||Cs(null,t,r),rr(t)&&(V+=Re,Pe+=Re)}else{const o=t.getTextContent();if(K(t)){const i=t.decorate(ie,qe);i!==null&&Ss(n,i),r.contentEditable="false"}else O(t)&&(t.isDirectionless()||(oe+=o));V+=o,Pe+=o}return e!==null&&e.insertChild(r),bo(Xt,Gt,Yn,t,"created"),r}function Pr(n,e,t,r,o){const i=V;V="";let s=t;for(;s<=r;++s){In(n[s],o);const l=me.get(n[s]);l!==null&&O(l)&&(ve===null&&(ve=l.getFormat()),we===""&&(we=l.getStyle()))}rr(e)&&(V+=Re),o.element.__lexicalTextContent=V,V=i+V}function Xo(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return tt(r)?"line-break":K(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Cs(n,e,t){const r=Xo(n,st),o=Xo(e,me);r!==o&&e.getDOMSlot(t).setManagedLineBreak(o)}function xs(n,e){const t=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(t!==oe||r!==Nn){const o=oe==="",i=o?Nn:function(s){return ta.test(s)?"rtl":na.test(s)?"ltr":null}(oe);if(i!==r){const s=e.classList,l=qe.theme;let a=r!==null?l[r]:void 0,c=i!==null?l[i]:void 0;if(a!==void 0){if(typeof a=="string"){const u=Fn(a);a=l[r]=u}s.remove(...a)}if(i===null||o&&i==="ltr")e.removeAttribute("dir");else{if(c!==void 0){if(typeof c=="string"){const u=Fn(c);c=l[i]=u}c!==void 0&&s.add(...c)}e.dir=i}Qt||(n.getWritable().__dir=i)}Nn=i,e.__lexicalDirTextContent=oe,e.__lexicalDir=i}}function ya(n,e,t){const r=oe;var o;oe="",ve=null,we="",function(i,s,l){const a=V,c=i.__size,u=s.__size;V="";const d=l.element;if(c===1&&u===1){const f=i.__first,g=s.__first;if(f===g)Wt(f,d);else{const p=Lr(f),_=In(g,null);try{d.replaceChild(_,p)}catch(y){if(typeof y=="object"&&y!=null){const m=`${y.toString()} Parent: ${d.tagName}, new child: {tag: ${_.tagName} key: ${g}}, old child: {tag: ${p.tagName}, key: ${f}}.`;throw new Error(m)}throw y}Rn(f,null)}const h=me.get(g);O(h)&&(ve===null&&(ve=h.getFormat()),we===""&&(we=h.getStyle()))}else{const f=$n(i,st),g=$n(s,me);if(f.length!==c&&N(227),g.length!==u&&N(228),c===0)u!==0&&Pr(g,s,0,u-1,l);else if(u===0){if(c!==0){const h=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;Fr(f,0,c-1,h?null:d),h&&(d.textContent="")}}else(function(h,p,_,y,m,C){const w=y-1,k=m-1;let S,T,b=C.getFirstChild(),v=0,D=0;for(;v<=w&&D<=k;){const I=p[v],L=_[D];if(I===L)b=gr(Wt(L,C.element)),v++,D++;else{S===void 0&&(S=new Set(p)),T===void 0&&(T=new Set(_));const ne=T.has(I),de=S.has(L);if(ne)if(de){const Ee=Tt(ie,L);Ee===b?b=gr(Wt(L,C.element)):(C.withBefore(b).insertChild(Ee),Wt(L,C.element)),v++,D++}else In(L,C.withBefore(b)),D++;else b=gr(Lr(I)),Rn(I,C.element),v++}const W=me.get(L);W!==null&&O(W)&&(ve===null&&(ve=W.getFormat()),we===""&&(we=W.getStyle()))}const P=v>w,B=D>k;if(P&&!B){const I=_[k+1],L=I===void 0?null:ie.getElementByKey(I);Pr(_,h,D,k,C.withBefore(L))}else B&&!P&&Fr(p,v,w,C.element)})(s,f,g,c,u,l)}rr(s)&&(V+=Re),d.__lexicalTextContent=V,V=a+V}(n,e,e.getDOMSlot(t)),xs(e,t),o=e,ve==null||ve===o.__textFormat||Qt||o.setTextFormat(ve),function(i){we===""||we===i.__textStyle||Qt||i.setTextStyle(we)}(e),oe=r}function $n(n,e){const t=[];let r=n.__first;for(;r!==null;){const o=e.get(r);o===void 0&&N(101),t.push(r),r=o.__next}return t}function Wt(n,e){const t=st.get(n);let r=me.get(n);t!==void 0&&r!==void 0||N(61);const o=_s||Ar.has(n)||Mr.has(n),i=Tt(ie,n);if(t===r&&!o){if(x(t)){const s=i.__lexicalTextContent;s!==void 0&&(V+=s,Pe+=s);const l=i.__lexicalDirTextContent;l!==void 0&&(oe+=l)}else{const s=t.getTextContent();O(t)&&!t.isDirectionless()&&(oe+=s),Pe+=s,V+=s}return i}if(t!==r&&o&&bo(Xt,Gt,Yn,r,"updated"),r.updateDOM(t,i,qe)){const s=In(n,null);return e===null&&N(62),e.replaceChild(s,i),Rn(n,null),s}if(x(t)&&x(r)){const s=r.__indent;s!==t.__indent&&ms(i,s);const l=r.__format;l!==t.__format&&ys(i,l),o&&(ya(t,r,i),re(r)||r.isInline()||Cs(t,r,i)),rr(r)&&(V+=Re,Pe+=Re)}else{const s=r.getTextContent();if(K(r)){const l=r.decorate(ie,qe);l!==null&&Ss(n,l)}else O(r)&&!r.isDirectionless()&&(oe+=s);V+=s,Pe+=s}if(!Qt&&re(r)&&r.__cachedText!==Pe){const s=r.getWritable();s.__cachedText=Pe,r=s}return i}function Ss(n,e){let t=ie._pendingDecorators;const r=ie._decorators;if(t===null){if(r[n]===e)return;t=fl(ie)}t[n]=e}function gr(n){let e=n.nextSibling;return e!==null&&e===ie._blockCursorElement&&(e=e.nextSibling),e}function Ca(n,e,t,r,o,i){V="",Pe="",oe="",_s=r===bt,Nn=null,ie=t,qe=t._config,Gt=t._nodes,Yn=ie._listeners.mutation,Mr=o,Ar=i,st=n._nodeMap,me=e._nodeMap,Qt=e._readOnly,Dr=new Map(t._keyToDOMMap);const s=new Map;return Xt=s,Wt("root",null),ie=void 0,Gt=void 0,Mr=void 0,Ar=void 0,st=void 0,me=void 0,qe=void 0,Dr=void 0,Xt=void 0,s}function Lr(n){const e=Dr.get(n);return e===void 0&&N(75,n),e}function F(n){return{type:n}}const vs=F("SELECTION_CHANGE_COMMAND"),xa=F("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),ws=F("CLICK_COMMAND"),et=F("DELETE_CHARACTER_COMMAND"),yt=F("INSERT_LINE_BREAK_COMMAND"),Kn=F("INSERT_PARAGRAPH_COMMAND"),Ct=F("CONTROLLED_TEXT_INSERTION_COMMAND"),ao=F("PASTE_COMMAND"),Rr=F("REMOVE_TEXT_COMMAND"),Zt=F("DELETE_WORD_COMMAND"),en=F("DELETE_LINE_COMMAND"),Be=F("FORMAT_TEXT_COMMAND"),bs=F("UNDO_COMMAND"),Ns=F("REDO_COMMAND"),Sa=F("KEYDOWN_COMMAND"),Ts=F("KEY_ARROW_RIGHT_COMMAND"),va=F("MOVE_TO_END"),ks=F("KEY_ARROW_LEFT_COMMAND"),wa=F("MOVE_TO_START"),Es=F("KEY_ARROW_UP_COMMAND"),Os=F("KEY_ARROW_DOWN_COMMAND"),zn=F("KEY_ENTER_COMMAND"),Ms=F("KEY_SPACE_COMMAND"),As=F("KEY_BACKSPACE_COMMAND"),Ds=F("KEY_ESCAPE_COMMAND"),Fs=F("KEY_DELETE_COMMAND"),Ps=F("KEY_TAB_COMMAND"),ba=F("INSERT_TAB_COMMAND"),Na=F("INDENT_CONTENT_COMMAND"),Qo=F("OUTDENT_CONTENT_COMMAND"),Ls=F("DROP_COMMAND"),Ta=F("FORMAT_ELEMENT_COMMAND"),Rs=F("DRAGSTART_COMMAND"),Is=F("DRAGOVER_COMMAND"),ka=F("DRAGEND_COMMAND"),Gn=F("COPY_COMMAND"),co=F("CUT_COMMAND"),Ir=F("SELECT_ALL_COMMAND"),Ea=F("CLEAR_EDITOR_COMMAND"),Ku=F("CLEAR_HISTORY_COMMAND"),zu=F("CAN_REDO_COMMAND"),Wu=F("CAN_UNDO_COMMAND"),Oa=F("FOCUS_COMMAND"),Ma=F("BLUR_COMMAND"),Aa=F("KEY_MODIFIER_COMMAND"),Me=Object.freeze({}),$r=30,Kr=[["keydown",function(n,e){if(Jt=n.timeStamp,$s=n.key,!e.isComposing()&&!M(e,Sa,n)&&n.key!=null){if(pr&&Ti(n))return ue(e,()=>{yn(e,_r)}),pr=!1,void(_r="");if(function(t){return z(t,"ArrowRight",{shiftKey:"any"})}(n))M(e,Ts,n);else if(function(t){return z(t,"ArrowRight",De)}(n))M(e,va,n);else if(function(t){return z(t,"ArrowLeft",{shiftKey:"any"})}(n))M(e,ks,n);else if(function(t){return z(t,"ArrowLeft",De)}(n))M(e,wa,n);else if(function(t){return z(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(n))M(e,Es,n);else if(function(t){return z(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(n))M(e,Os,n);else if(function(t){return z(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(n))jt=!0,M(e,zn,n);else if(function(t){return t.key===" "}(n))M(e,Ms,n);else if(function(t){return be&&z(t,"o",{ctrlKey:!0})}(n))n.preventDefault(),jt=!0,M(e,yt,!0);else if(function(t){return z(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(n))jt=!1,M(e,zn,n);else if(function(t){return z(t,"Backspace",{shiftKey:"any"})||be&&z(t,"h",{ctrlKey:!0})}(n))Ti(n)?M(e,As,n):(n.preventDefault(),M(e,et,!0));else if(function(t){return t.key==="Escape"}(n))M(e,Ds,n);else if(function(t){return z(t,"Delete",{})||be&&z(t,"d",{ctrlKey:!0})}(n))(function(t){return t.key==="Delete"})(n)?M(e,Fs,n):(n.preventDefault(),M(e,et,!1));else if(function(t){return z(t,"Backspace",Ni)}(n))n.preventDefault(),M(e,Zt,!0);else if(function(t){return z(t,"Delete",Ni)}(n))n.preventDefault(),M(e,Zt,!1);else if(function(t){return be&&z(t,"Backspace",{metaKey:!0})}(n))n.preventDefault(),M(e,en,!0);else if(function(t){return be&&(z(t,"Delete",{metaKey:!0})||z(t,"k",{ctrlKey:!0}))}(n))n.preventDefault(),M(e,en,!1);else if(function(t){return z(t,"b",De)}(n))n.preventDefault(),M(e,Be,"bold");else if(function(t){return z(t,"u",De)}(n))n.preventDefault(),M(e,Be,"underline");else if(function(t){return z(t,"i",De)}(n))n.preventDefault(),M(e,Be,"italic");else if(function(t){return z(t,"Tab",{shiftKey:"any"})}(n))M(e,Ps,n);else if(function(t){return z(t,"z",De)}(n))n.preventDefault(),M(e,bs,void 0);else if(function(t){return be?z(t,"z",{metaKey:!0,shiftKey:!0}):z(t,"y",{ctrlKey:!0})||z(t,"z",{ctrlKey:!0,shiftKey:!0})}(n))n.preventDefault(),M(e,Ns,void 0);else{const t=e._editorState._selection;t===null||E(t)?ki(n)&&(n.preventDefault(),M(e,Ir,n)):function(r){return z(r,"c",De)}(n)?(n.preventDefault(),M(e,Gn,n)):function(r){return z(r,"x",De)}(n)?(n.preventDefault(),M(e,co,n)):ki(n)&&(n.preventDefault(),M(e,Ir,n))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&M(e,Aa,n)}}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;Ft(t)&&r!=="touch"&&r!=="pen"&&n.button===0&&ue(e,()=>{vi(t)||(Wr=!0)})}],["compositionstart",function(n,e){ue(e,()=>{const t=A();if(E(t)&&!e.isComposing()){const r=t.anchor,o=t.anchor.getNode();te(r.key),(n.timeStamp<Jt+$r||r.type==="element"||!t.isCollapsed()||o.getFormat()!==t.format||O(o)&&o.getStyle()!==t.style)&&M(e,Ct,ea)}})}],["compositionend",function(n,e){ot?$t=!0:wt||!Ht&&!Dn?ue(e,()=>{yn(e,n.data)}):(pr=!0,_r=n.data)}],["input",function(n,e){n.stopPropagation(),ue(e,()=>{if(U(n.target)&&vi(n.target))return;const t=A(),r=n.data,o=Js(n);if(r!=null&&E(t)&&Ws(t,o,r,n.timeStamp,!1)){$t&&(yn(e,r),$t=!1);const i=t.anchor.getNode(),s=Ce(_e(e));if(s===null)return;const l=t.isBackward(),a=l?t.anchor.offset:t.focus.offset,c=l?t.focus.offset:t.anchor.offset;An&&!t.isCollapsed()&&O(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+c)===pl(s.anchorNode)||M(e,Ct,r);const u=r.length;ot&&u>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=u),Ht||wt||Dn||!e.isComposing()||(Jt=0,te(null))}else vo(!1,e,r!==null?r:void 0),$t&&(yn(e,r||void 0),$t=!1);(function(){ee();const i=J();fs(i)})()},{event:n}),_t=null}],["click",function(n,e){ue(e,()=>{const t=A(),r=Ce(_e(e)),o=At();if(r){if(E(t)){const i=t.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&t.isCollapsed()&&!re(s)&&j().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&t.is(o))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&s!==t.focus.getNode()){const l=function(a,c){let u=a;for(;u!==j()&&u!=null;){if(c(u))return u;u=u.getParent()}return null}(s,a=>x(a)&&!a.isInline());x(l)&&l.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const i=r.anchorNode;(U(i)||$e(i))&&se(ho(o,r,e,n))}}M(e,ws,n)})}],["cut",Me],["copy",Me],["dragstart",Me],["dragover",Me],["dragend",Me],["paste",Me],["focus",Me],["blur",Me],["drop",Me]];An&&Kr.push(["beforeinput",(n,e)=>function(t,r){const o=t.inputType,i=Js(t);o==="deleteCompositionText"||ot&&_l(r)||o!=="insertCompositionText"&&ue(r,()=>{const s=A();if(o==="deleteContentBackward"){if(s===null){const g=At();if(!E(g))return;se(g.clone())}if(E(s)){const g=s.anchor.key===s.focus.key;if(l=t.timeStamp,$s==="MediaLast"&&l<Jt+$r&&r.isComposing()&&g){if(te(null),Jt=0,setTimeout(()=>{ue(r,()=>{te(null)})},$r),E(s)){const h=s.anchor.getNode();h.markDirty(),O(h)||N(142),Bs(s,h)}}else{te(null),t.preventDefault();const h=s.anchor.getNode(),p=h.getTextContent(),_=h.canInsertTextAfter(),y=s.anchor.offset===0&&s.focus.offset===p.length;let m=zo&&g&&!y&&_;if(m&&s.isCollapsed()&&(m=!K(Vr(s.anchor,!0))),!m){M(r,et,!0);const C=A();zo&&E(C)&&C.isCollapsed()&&(Qe=C,setTimeout(()=>Qe=null))}}return}}var l;if(!E(s))return;const a=t.data;_t!==null&&vo(!1,r,_t),s.dirty&&_t===null||!s.isCollapsed()||re(s.anchor.getNode())||i===null||s.applyDOMRange(i),_t=null;const c=s.anchor,u=s.focus,d=c.getNode(),f=u.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(t.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":M(r,Ct,t);break;case"insertFromComposition":te(null),M(r,Ct,t);break;case"insertLineBreak":te(null),M(r,yt,!1);break;case"insertParagraph":te(null),jt&&!wt?(jt=!1,M(r,yt,!1)):M(r,Kn,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":M(r,ao,t);break;case"deleteByComposition":(function(g,h){return g!==h||x(g)||x(h)||!nt(g)||!nt(h)})(d,f)&&M(r,Rr,t);break;case"deleteByDrag":case"deleteByCut":M(r,Rr,t);break;case"deleteContent":M(r,et,!1);break;case"deleteWordBackward":M(r,Zt,!0);break;case"deleteWordForward":M(r,Zt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":M(r,en,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":M(r,en,!1);break;case"formatStrikeThrough":M(r,Be,"strikethrough");break;case"formatBold":M(r,Be,"bold");break;case"formatItalic":M(r,Be,"italic");break;case"formatUnderline":M(r,Be,"underline");break;case"historyUndo":M(r,bs,void 0);break;case"historyRedo":M(r,Ns,void 0)}else{if(a===`
`)t.preventDefault(),M(r,yt,!1);else if(a===Re)t.preventDefault(),M(r,Kn,void 0);else if(a==null&&t.dataTransfer){const g=t.dataTransfer.getData("text/plain");t.preventDefault(),s.insertRawText(g)}else a!=null&&Ws(s,i,a,t.timeStamp,!0)?(t.preventDefault(),M(r,Ct,a)):_t=a;Ks=t.timeStamp}})}(n,e)]);let Jt=0,$s=null,Ks=0,_t=null;const Wn=new WeakMap;let zr=!1,Wr=!1,jt=!1,$t=!1,pr=!1,_r="",Qe=null,zs=[0,"",0,"root",0];function Ws(n,e,t,r,o){const i=n.anchor,s=n.focus,l=i.getNode(),a=J(),c=Ce(_e(a)),u=c!==null?c.anchorNode:null,d=i.key,f=a.getElementByKey(d),g=t.length;return d!==s.key||!O(l)||(!o&&(!An||Ks<r+50)||l.isDirty()&&g<2||hl(t))&&i.offset!==s.offset&&!l.isComposing()||Fe(l)||l.isDirty()&&g>1||(o||!An)&&f!==null&&!l.isComposing()&&u!==Nt(f)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||function(h,p){if(p.isSegmented())return!0;if(!h.isCollapsed())return!1;const _=h.anchor.offset,y=p.getParentOrThrow(),m=nt(p);return _===0?!p.canInsertTextBefore()||!y.canInsertTextBefore()&&!p.isComposing()||m||function(C){const w=C.getPreviousSibling();return(O(w)||x(w)&&w.isInline())&&!w.canInsertTextAfter()}(p):_===p.getTextContentSize()&&(!p.canInsertTextAfter()||!y.canInsertTextAfter()&&!p.isComposing()||m)}(n,l)}function Zo(n,e){return $e(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function ei(n,e,t){const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;zr&&(zr=!1,Zo(r,o)&&Zo(i,s)&&!Qe)||ue(e,()=>{if(!t)return void se(null);if(!un(e,r,i))return;let l=A();if(Qe&&E(l)&&l.isCollapsed()){const a=l.anchor,c=Qe.anchor;(a.key===c.key&&a.offset===c.offset+1||a.offset===1&&c.getNode().is(a.getNode().getPreviousSibling()))&&(l=Qe.clone(),se(l))}if(Qe=null,E(l)){const a=l.anchor,c=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);const u=_e(e).event,d=u?u.timeStamp:performance.now(),[f,g,h,p,_]=zs,y=j(),m=e.isComposing()===!1&&y.getTextContent()==="";if(d<_+200&&a.offset===h&&a.key===p)Tn(l,f,g);else if(a.type==="text")O(c)||N(141),Bs(l,c);else if(a.type==="element"&&!m){x(c)||N(259);const C=a.getNode();C.isEmpty()?function(w,k){const S=k.getTextFormat(),T=k.getTextStyle();Tn(w,S,T)}(l,C):Tn(l,0,"")}}else{const u=a.key,d=l.focus.key,f=l.getNodes(),g=f.length,h=l.isBackward(),p=h?s:o,_=h?o:s,y=h?d:u,m=h?u:d;let C=Zl,w=!1;for(let k=0;k<g;k++){const S=f[k],T=S.getTextContentSize();if(O(S)&&T!==0&&!(k===0&&S.__key===y&&p===T||k===g-1&&S.__key===m&&_===0)&&(w=!0,C&=S.getFormat(),C===0))break}l.format=w?C:0}}M(e,vs,void 0)})}function Tn(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function Bs(n,e){Tn(n,e.getFormat(),e.getStyle())}function Js(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function yn(n,e){const t=n._compositionKey;if(te(null),t!==null&&e!=null){if(e===""){const r=X(t),o=Nt(n.getElementByKey(t));return void(o!==null&&o.nodeValue!==null&&O(r)&&wo(r,o.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=A();if(E(r)){const o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void M(n,zn,null)}}}vo(!0,n,e)}function js(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const xt=new Map;function Us(n){const e=uc(n.target);if(e===null)return;const t=cl(e.anchorNode);if(t===null)return;Wr&&(Wr=!1,ue(t,()=>{const a=At(),c=e.anchorNode;(U(c)||$e(c))&&se(ho(a,e,t,n))}));const r=So(t),o=r[r.length-1],i=o._key,s=xt.get(i),l=s||o;l!==t&&ei(e,l,!1),ei(e,t,!0),t!==o?xt.set(i,t):s&&xt.delete(i)}function ti(n){n._lexicalHandled=!0}function ni(n){return n._lexicalHandled===!0}function Da(n){const e=n.ownerDocument,t=Wn.get(e);if(t===void 0)return;const r=t-1;r>=0||N(164),Wn.set(e,r),r===0&&e.removeEventListener("selectionchange",Us);const o=tr(n);xo(o)?(function(s){if(s._parentEditor!==null){const l=So(s),a=l[l.length-1]._key;xt.get(a)===s&&xt.delete(a)}else xt.delete(s._key)}(o),n.__lexicalEditor=null):o&&N(198);const i=js(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function Br(n,e,t){ee();const r=n.__key,o=n.getParent();if(o===null)return;const i=function(l){const a=A();if(!E(a)||!x(l))return a;const{anchor:c,focus:u}=a,d=c.getNode(),f=u.getNode();return qr(d,l)&&c.set(l.__key,0,"element"),qr(f,l)&&u.set(l.__key,0,"element"),a}(n);let s=!1;if(E(i)&&e){const l=i.anchor,a=i.focus;l.key===r&&(Jn(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(Jn(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else ce(i)&&e&&n.isSelected()&&n.selectPrevious();if(E(i)&&e&&!s){const l=n.getIndexWithinParent();rt(n),Bn(i,o,l,-1)}else rt(n);t||Ke(o)||o.canBeEmpty()||!o.isEmpty()||Br(o,e),e&&i&&re(o)&&o.isEmpty()&&o.selectEnd()}class Ot{static getType(){const{ownNodeType:e}=Eo(this);return e===void 0&&N(64,this.name),e}static clone(e){N(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),nc(this,e)}getType(){return this.__type}isInline(){N(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=X(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||A();if(t==null)return!1;const r=t.getNodes().some(o=>o.__key===this.__key);if(O(this))return r;if(E(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const o=this.getParent();if(K(this)&&this.isInline()&&o){const i=t.isBackward()?t.focus:t.anchor;if(o.is(i.getNode())&&i.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:X(e)}getParentOrThrow(){const e=this.getParent();return e===null&&N(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(Ke(t))return x(e)||e===this&&K(e)||N(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&N(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:X(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:X(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=x(this)?this:this.getParent(),r=x(e)?e:e.getParent(),o=t&&r?En(t,r):null;return o?o.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=En(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?Cl(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&N(279),!1)))}isParentOf(e){const t=En(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],o=new Set;let i=this;for(;i!==null;){const s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===e)break;const l=x(i)?t?i.getFirstChild():i.getLastChild():null;if(l!==null){i=l;continue}const a=t?i.getNextSibling():i.getPreviousSibling();if(a!==null){i=a;continue}const c=i.getParentOrThrow();if(o.has(c.__key)||r.push(c),c===e)break;let u=null,d=c;do{if(d===null&&N(68),u=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;u!==null||o.has(d.__key)||r.push(d)}while(u===null);i=u}return t||r.reverse(),r}isDirty(){const e=J()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=X(this.__key);return e===null&&N(113),e}getWritable(){ee();const e=Ge(),t=J(),r=e._nodeMap,o=this.__key,i=this.getLatest(),s=t._cloneNotNeeded,l=A();if(l!==null&&l.setCachedNodes(null),s.has(o))return Un(i),i;const a=To(i);return s.add(o),Un(a),r.set(o,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){N(70)}updateDOM(e,t,r){N(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){N(18,this.name)}updateFromJSON(e){return function(t,r){const o=t.getWritable(),i=r.$;let s=i;for(const l of ps(o).flatKeys)l in r&&(s!==void 0&&s!==i||(s={...i}),s[l]=r[l]);return(o.__state||s)&&gs(t).updateFromJSON(s),o}(this,e)}static transform(){return null}remove(e){Br(this,!0,e)}replace(e,t){ee();let r=A();r!==null&&(r=r.clone()),vr(this,e);const o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;rt(l);const u=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,g=o.__next,h=o.__parent;if(Br(o,!1,!0),u===null?a.__first=s:u.getWritable().__next=s,l.__prev=f,d===null?a.__last=s:d.getWritable().__prev=s,l.__next=g,l.__parent=h,a.__size=c,t&&(x(this)&&x(l)||N(139),this.getChildren().forEach(p=>{l.append(p)})),E(r)){se(r);const p=r.anchor,_=r.focus;p.key===i&&si(p,l),_.key===i&&si(_,l)}return Je()===i&&te(s),l}insertAfter(e,t=!0){ee(),vr(this,e);const r=this.getWritable(),o=e.getWritable(),i=o.getParent(),s=A();let l=!1,a=!1;if(i!==null){const g=e.getIndexWithinParent();if(rt(o),E(s)){const h=i.__key,p=s.anchor,_=s.focus;l=p.type==="element"&&p.key===h&&p.offset===g+1,a=_.type==="element"&&_.key===h&&_.offset===g+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=o.__key,f=r.__next;if(c===null?u.__last=d:c.getWritable().__prev=d,u.__size++,r.__next=d,o.__next=f,o.__prev=r.__key,o.__parent=r.__parent,t&&E(s)){const g=this.getIndexWithinParent();Bn(s,u,g+1);const h=u.__key;l&&s.anchor.set(h,g+2,"element"),a&&s.focus.set(h,g+2,"element")}return e}insertBefore(e,t=!0){ee(),vr(this,e);const r=this.getWritable(),o=e.getWritable(),i=o.__key;rt(o);const s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;const u=A();return t&&E(u)&&Bn(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return Q()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){ee();const r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(x(r))return r.select();if(!O(r)){const i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(e,t)}selectNext(e,t){ee();const r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(x(r))return r.select(0,0);if(!O(r)){const i=r.getIndexWithinParent();return o.select(i,i)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class on extends Ot{static getType(){return"linebreak"}static clone(e){return new on(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const r=t.parentElement;if(r!==null&&Vn(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&Cn(o)){const i=r.lastChild;if(i===t||i.previousSibling===t&&Cn(i))return!0}}return!1}(e)||function(t){const r=t.parentElement;if(r!==null&&Vn(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&Cn(o))return!1;const i=r.lastChild;if(i===t||i.previousSibling===t&&Cn(i))return!0}return!1}(e)?null:{conversion:Fa,priority:0}}}static importJSON(e){return lt().updateFromJSON(e)}}function Fa(n){return{node:lt()}}function lt(){return ze(new on)}function tt(n){return n instanceof on}function Cn(n){return $e(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function mr(n,e){return 16&e?"code":e&eo?"mark":32&e?"sub":64&e?"sup":null}function yr(n,e){return 1&e?"strong":2&e?"em":"span"}function Vs(n,e,t,r,o){const i=r.classList;let s=St(o,"base");s!==void 0&&i.add(...s),s=St(o,"underlineStrikethrough");let l=!1;const a=e&Ln&&e&Pn;s!==void 0&&(t&Ln&&t&Pn?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const c in Ve){const u=Ve[c];if(s=St(o,c),s!==void 0)if(t&u){if(l&&(c==="underline"||c==="strikethrough")){e&u&&i.remove(...s);continue}e&u&&(!a||c!=="underline")&&c!=="strikethrough"||i.add(...s)}else e&u&&i.remove(...s)}}function qs(n,e,t){const r=e.firstChild,o=t.isComposing(),i=n+(o?Hn:"");if(r==null)e.textContent=i;else{const s=r.nodeValue;if(s!==i)if(o||ot){const[l,a,c]=function(u,d){const f=u.length,g=d.length;let h=0,p=0;for(;h<f&&h<g&&u[h]===d[h];)h++;for(;p+h<f&&p+h<g&&u[f-p-1]===d[g-p-1];)p++;return[h,f-h-p,d.slice(h,g-p)]}(s,i);a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=i}}function ri(n,e,t,r,o,i){qs(o,n,e);const s=i.theme.text;s!==void 0&&Vs(0,0,r,n,s)}function xn(n,e){const t=document.createElement(e);return t.appendChild(n),t}class Mt extends Ot{static getType(){return"text"}static clone(e){return new Mt(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return sa[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Je()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=Ve[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return jn(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const r=this.__format,o=mr(0,r),i=yr(0,r),s=o===null?i:o,l=document.createElement(s);let a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),o!==null&&(a=document.createElement(i),l.appendChild(a)),ri(a,this,0,r,this.__text,e);const c=this.__style;return c!==""&&(l.style.cssText=c),l}updateDOM(e,t,r){const o=this.__text,i=e.__format,s=this.__format,l=mr(0,i),a=mr(0,s),c=yr(0,i),u=yr(0,s);if((l===null?c:l)!==(a===null?u:a))return!0;if(l===a&&c!==u){const p=t.firstChild;p==null&&N(48);const _=document.createElement(u);return ri(_,this,0,s,o,r),t.replaceChild(_,p),!1}let d=t;a!==null&&l!==null&&(d=t.firstChild,d==null&&N(49)),qs(o,d,this);const f=r.theme.text;f!==void 0&&i!==s&&Vs(0,i,s,d,f);const g=e.__style,h=this.__style;return g!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:Ia,priority:0}),b:()=>({conversion:La,priority:0}),code:()=>({conversion:Ae,priority:0}),em:()=>({conversion:Ae,priority:0}),i:()=>({conversion:Ae,priority:0}),mark:()=>({conversion:Ae,priority:0}),s:()=>({conversion:Ae,priority:0}),span:()=>({conversion:Pa,priority:0}),strong:()=>({conversion:Ae,priority:0}),sub:()=>({conversion:Ae,priority:0}),sup:()=>({conversion:Ae,priority:0}),u:()=>({conversion:Ae,priority:0})}}static importJSON(e){return Z().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return U(t)||N(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=xn(t,"b")),this.hasFormat("italic")&&(t=xn(t,"i")),this.hasFormat("strikethrough")&&(t=xn(t,"s")),this.hasFormat("underline")&&(t=xn(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?Ve[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?ra[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=jn(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=ia[e];if(this.__mode===t)return this;const r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){ee();let r=e,o=t;const i=A(),s=this.getTextContent(),l=this.__key;if(typeof s=="string"){const a=s.length;r===void 0&&(r=a),o===void 0&&(o=a)}else r=0,o=0;if(!E(i))return Xs(l,r,l,o,"text","text");{const a=Je();a!==i.anchor.key&&a!==i.focus.key||te(l),i.setTextNodeRange(this,r,this,o)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,o){const i=this.getWritable(),s=i.__text,l=r.length;let a=e;a<0&&(a=l+a,a<0&&(a=0));const c=A();if(o&&E(c)){const d=e+l;c.setTextNodeRange(i,d,i,d)}const u=s.slice(0,a)+r+s.slice(a+t);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ee();const t=this.getLatest(),r=t.getTextContent();if(r==="")return[];const o=t.__key,i=Je(),s=r.length;e.sort((b,v)=>b-v),e.push(s);const l=[],a=e.length;for(let b=0,v=0;b<s&&v<=a;v++){const D=e[v];D>b&&(l.push(r.slice(b,D)),b=D)}const c=l.length;if(c===1)return[t];const u=l[0],d=t.getParent();let f;const g=t.getFormat(),h=t.getStyle(),p=t.__detail;let _=!1,y=null,m=null;const C=A();if(E(C)){const[b,v]=C.isBackward()?[C.focus,C.anchor]:[C.anchor,C.focus];b.type==="text"&&b.key===o&&(y=b),v.type==="text"&&v.key===o&&(m=v)}t.isSegmented()?(f=Z(u),f.__format=g,f.__style=h,f.__detail=p,f.__state=Vo(t,f),_=!0):f=t.setTextContent(u);const w=[f];for(let b=1;b<c;b++){const v=Z(l[b]);v.__format=g,v.__style=h,v.__detail=p,v.__state=Vo(t,v);const D=v.__key;i===o&&te(D),w.push(v)}const k=y?y.offset:null,S=m?m.offset:null;let T=0;for(const b of w){if(!y&&!m)break;const v=T+b.getTextContentSize();if(y!==null&&k!==null&&k<=v&&k>=T&&(y.set(b.getKey(),k-T,"text"),k<v&&(y=null)),m!==null&&S!==null&&S<=v&&S>=T){m.set(b.getKey(),S-T,"text");break}T=v}if(d!==null){(function(D){const P=D.getPreviousSibling(),B=D.getNextSibling();P!==null&&Un(P),B!==null&&Un(B)})(this);const b=d.getWritable(),v=this.getIndexWithinParent();_?(b.splice(v,0,w),this.remove()):b.splice(v,1,w),E(C)&&Bn(C,d,v,c-1)}return w}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||N(50);const r=this.__key,o=e.__key,i=this.__text,s=i.length;Je()===o&&te(r);const l=A();if(E(l)){const d=l.anchor,f=l.focus;d!==null&&d.key===o&&hi(d,t,r,e,s),f!==null&&f.key===o&&hi(f,t,r,e,s)}const a=e.__text,c=t?a+i:i+a;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function Pa(n){return{forChild:uo(n.style),node:null}}function La(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:uo(e.style,t?void 0:"bold"),node:null}}const oi=new WeakMap;function Ra(n){if(!U(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function Ia(n){const e=n;n.parentElement===null&&N(129);let t=e.textContent||"";if(function(r){let o,i=r.parentNode;const s=[r];for(;i!==null&&(o=oi.get(i))===void 0&&!Ra(i);)s.push(i),i=i.parentNode;const l=o===void 0?i:o;for(let a=0;a<s.length;a++)oi.set(s[a],l);return l}(e)!==null){const r=t.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){const l=r[s];l===`
`||l===`\r
`?o.push(lt()):l==="	"?o.push(ln()):l!==""&&o.push(Z(l))}return{node:o}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,o=!0;for(;r!==null&&(r=ii(r,!1))!==null;){const i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(t=t.slice(1)),o=!1;break}}o&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,o=!0;for(;r!==null&&(r=ii(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Z(t)}}function ii(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const i=t.parentElement;if(i===null)return null;t=i}if(t=r,U(t)){const i=t.style.display;if(i===""&&!Gr(t)||i!==""&&!i.startsWith("inline"))return null}let o=t;for(;(o=e?t.firstChild:t.lastChild)!==null;)t=o;if($e(t))return t;if(t.nodeName==="BR")return null}}const $a={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ae(n){const e=$a[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:uo(n.style,e),node:null}}function Z(n=""){return ze(new Mt(n))}function O(n){return n instanceof Mt}function uo(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),o=t==="700"||t==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return c=>(O(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),l&&!c.hasFormat("underline")&&c.toggleFormat("underline"),a!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),a!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class sn extends Mt{static getType(){return"tab"}static clone(e){return new sn(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=St(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return ln().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&N(126),super.setTextContent("	")}spliceText(e,t,r,o){return r===""&&t===0||r==="	"&&t===1||N(286),this}setDetail(e){return e!==2&&N(127),this}setMode(e){return e!=="normal"&&N(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ln(){return ze(new sn)}function Hs(n){return n instanceof sn}class Ka{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:yl(Te(Ie(this,"next")),Te(Ie(e,"next")))<0}getNode(){const e=X(this.key);return e===null&&N(20),e}set(e,t,r,o){const i=this._selection,s=this.key;o&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,Dt()||(Je()===s&&te(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}}function pe(n,e,t){return new Ka(n,e,t)}function Cr(n,e){let t=e.__key,r=n.offset,o="element";if(O(e)){o="text";const i=e.getTextContentSize();r>i&&(r=i)}else if(!x(e)){const i=e.getNextSibling();if(O(i))t=i.__key,r=0,o="text";else{const s=e.getParent();s&&(t=s.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,o)}function si(n,e){if(x(e)){const t=e.getLastDescendant();x(t)||O(t)?Cr(n,t):Cr(n,e)}else Cr(n,e)}class Xn{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ce(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Xn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,o=t[r-1];let i;if(O(o))i=o.select();else{const s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(e);for(let s=0;s<r;s++)t[s].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const o of t){const i=X(o);i!==null&&r.push(i)}return Dt()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((A()||At())===this&&e[0]){const t=H(e[0],"next");vc(Ye(t,t))}for(const t of e)t.remove()}}function E(n){return n instanceof ht}class ht{constructor(e,t,r,o){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!E(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(r){const o=[],[i,s]=r.getTextSlices();i&&o.push(i.caret.origin);const l=new Set,a=new Set;for(const c of r)if(ye(c)){const{origin:u}=c;o.length===0?l.add(u):(a.add(u),o.push(u))}else{const{origin:u}=c;x(u)&&a.has(u)||o.push(u)}if(s&&o.push(s.caret.origin),ut(r.focus)&&x(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=xe(r.focus.origin,"previous");ye(c)&&l.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(o[o.length-1]);c=nn(c))l.delete(c.origin),o.pop();for(;o.length>1;){const c=o[o.length-1];if(!x(c)||a.has(c)||c.isEmpty()||l.has(c))break;o.pop()}if(o.length===0&&r.isCollapsed()){const c=Te(r.anchor),u=Te(r.anchor.getFlipped()),d=g=>je(g)?g.origin:g.getNodeAtCaret(),f=d(c)||d(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);o.push(f)}return o}(Sl(Fi(this),"next"));return Dt()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,o){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=Jr(this);let c="",u=!0;for(let d=0;d<e.length;d++){const f=e[d];if(x(f)&&!f.isInline())u||(c+=`
`),u=!f.isEmpty();else if(u=!1,O(f)){let g=f.getTextContent();f===t?f===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(g=l<a?g.slice(l,a):g.slice(a,l)):g=s?g.slice(l):g.slice(a):f===r&&(g=s?g.slice(0,a):g.slice(0,l)),c+=g}else!K(f)&&!tt(f)||f===r&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(e){const t=J(),r=t.getEditorState()._selection,o=Gs(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(o===null)return;const[i,s]=o;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),Yt(this)}clone(){const e=this.anchor,t=this.focus;return new ht(pe(e.key,e.offset,e.type),pe(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=jn(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Ve[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],o=t.length;for(let i=0;i<o;i++){const s=t[i];s===`
`||s===`\r
`?r.push(lt()):s==="	"?r.push(ln()):r.push(Z(s))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,o=this.format,i=this.style;let s=t,l=r;!this.isCollapsed()&&r.isBefore(t)&&(s=r,l=t),s.type==="element"&&function(_,y,m,C){const w=_.getNode(),k=w.getChildAtIndex(_.offset),S=Z(),T=re(w)?Q().append(S):S;S.setFormat(m),S.setStyle(C),k===null?w.append(T):k.insertBefore(T),_.is(y)&&y.set(S.__key,0,"text"),_.set(S.__key,0,"text")}(s,l,o,i),l.type==="element"&&rn(l,Te(Ie(l,"next")));const a=s.offset;let c=l.offset;const u=this.getNodes(),d=u.length;let f=u[0];O(f)||N(26);const g=f.getTextContent().length,h=f.getParentOrThrow();let p=u[d-1];if(d===1&&l.type==="element"&&(c=g,l.set(s.key,c,"text")),this.isCollapsed()&&a===g&&(Fe(f)||!f.canInsertTextAfter()||!h.canInsertTextAfter()&&f.getNextSibling()===null)){let _=f.getNextSibling();if(O(_)&&_.canInsertTextBefore()&&!Fe(_)||(_=Z(),_.setFormat(o),_.setStyle(i),h.canInsertTextAfter()?f.insertAfter(_):h.insertAfter(_)),_.select(0,0),f=_,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&a===0&&(Fe(f)||!f.canInsertTextBefore()||!h.canInsertTextBefore()&&f.getPreviousSibling()===null)){let _=f.getPreviousSibling();if(O(_)&&!Fe(_)||(_=Z(),_.setFormat(o),h.canInsertTextBefore()?f.insertBefore(_):h.insertBefore(_)),_.select(),f=_,e!=="")return void this.insertText(e)}else if(f.isSegmented()&&a!==g){const _=Z(f.getTextContent());_.setFormat(o),f.replace(_),f=_}else if(!this.isCollapsed()&&e!==""){const _=p.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||x(_)&&(!_.canInsertTextBefore()||!_.canInsertTextAfter()))return this.insertText(""),Ys(this.anchor,this.focus,null),void this.insertText(e)}if(d===1){if(nt(f)){const C=Z(e);return C.select(),void f.replace(C)}const _=f.getFormat(),y=f.getStyle();if(a!==c||_===o&&y===i){if(Hs(f)){const C=Z(e);return C.setFormat(o),C.setStyle(i),C.select(),void f.replace(C)}}else{if(f.getTextContent()!==""){const C=Z(e);if(C.setFormat(o),C.setStyle(i),C.select(),a===0)f.insertBefore(C,!1);else{const[w]=f.splitText(a);w.insertAfter(C,!1)}return void(C.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}f.setFormat(o),f.setStyle(i)}const m=c-a;f=f.spliceText(a,m,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=_,this.style=y))}else{const _=new Set([...f.getParentKeys(),...p.getParentKeys()]),y=x(f)?f:f.getParentOrThrow();let m=x(p)?p:p.getParentOrThrow(),C=p;if(!y.is(m)&&m.isInline())do C=m,m=m.getParentOrThrow();while(m.isInline());if(l.type==="text"&&(c!==0||p.getTextContent()==="")||l.type==="element"&&p.getIndexWithinParent()<c)if(O(p)&&!nt(p)&&c!==p.getTextContentSize()){if(p.isSegmented()){const b=Z(p.getTextContent());p.replace(b),p=b}re(l.getNode())||l.type!=="text"||(p=p.spliceText(0,c,"")),_.add(p.__key)}else{const b=p.getParentOrThrow();b.canBeEmpty()||b.getChildrenSize()!==1?p.remove():b.remove()}else _.add(p.__key);const w=m.getChildren(),k=new Set(u),S=y.is(m),T=y.isInline()&&f.getNextSibling()===null?y:f;for(let b=w.length-1;b>=0;b--){const v=w[b];if(v.is(f)||x(v)&&v.isParentOf(f))break;v.isAttached()&&(!k.has(v)||v.is(C)?S||T.insertAfter(v,!1):v.remove())}if(!S){let b=m,v=null;for(;b!==null;){const D=b.getChildren(),P=D.length;(P===0||D[P-1].is(v))&&(_.delete(b.__key),v=b),b=b.getParent()}}if(nt(f))if(a===g)f.select();else{const b=Z(e);b.select(),f.replace(b)}else f=f.spliceText(a,g-a,e,!0),f.getTextContent()===""?f.remove():f.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let b=1;b<d;b++){const v=u[b],D=v.__key;_.has(D)||v.remove()}}}removeText(){const e=A()===this;On(this,wc(Fi(this))),e&&A()!==this&&se(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void te(null);const r=this.getNodes(),o=[];for(const w of r)O(w)&&o.push(w);const i=w=>{r.forEach(k=>{if(x(k)){const S=k.getFormatFlags(e,w);k.setTextFormat(S)}})},s=o.length;if(s===0)return this.toggleFormat(e),te(null),void i(t);const l=this.anchor,a=this.focus,c=this.isBackward(),u=c?a:l,d=c?l:a;let f=0,g=o[0],h=u.type==="element"?0:u.offset;if(u.type==="text"&&h===g.getTextContentSize()&&(f=1,g=o[1],h=0),g==null)return;const p=g.getFormatFlags(e,t);i(p);const _=s-1;let y=o[_];const m=d.type==="text"?d.offset:y.getTextContentSize();if(g.is(y)){if(h===m)return;if(Fe(g)||h===0&&m===g.getTextContentSize())g.setFormat(p);else{const w=g.splitText(h,m),k=h===0?w[0]:w[1];k.setFormat(p),u.type==="text"&&u.set(k.__key,0,"text"),d.type==="text"&&d.set(k.__key,m-h,"text")}return void(this.format=p)}h===0||Fe(g)||([,g]=g.splitText(h),h=0),g.setFormat(p);const C=y.getFormatFlags(e,p);m>0&&(m===y.getTextContentSize()||Fe(y)||([y]=y.splitText(m)),y.setFormat(C));for(let w=f+1;w<_;w++){const k=o[w],S=k.getFormatFlags(e,C);k.setFormat(S)}u.type==="text"&&u.set(g.__key,h,"text"),d.type==="text"&&d.set(y.__key,m,"text"),this.format=p|C}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const h=A();return E(h)||N(134),h.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=br(t,ge),o=e[e.length-1];if(x(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const h=xr(this);r.splice(h,0,e),o.selectEnd()}return}if(!e.some(h=>(x(h)||K(h))&&!h.isInline())){x(r)||N(211,t.constructor.name,t.getType());const h=xr(this);return r.splice(h,0,e),void o.selectEnd()}const i=function(h){const p=Q();let _=null;for(let y=0;y<h.length;y++){const m=h[y],C=tt(m);if(C||K(m)&&m.isInline()||x(m)&&m.isInline()||O(m)||m.isParentRequired()){if(_===null&&(_=m.createParentElementNode(),p.append(_),C))continue;_!==null&&_.append(m)}else p.append(m),_=null}return p}(e),s=i.getLastDescendant(),l=i.getChildren(),a=!x(r)||!r.isEmpty()?this.insertParagraph():null,c=l[l.length-1];let u=l[0];var d;x(d=u)&&ge(d)&&!d.isEmpty()&&x(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(x(r)||N(211,t.constructor.name,t.getType()),r.append(...u.getChildren()),u=l[1]),u&&(r===null&&N(212,t.constructor.name,t.getType()),function(h,p,_){const y=p.getParentOrThrow().getLastChild();let m=p;const C=[p];for(;m!==y;)m.getNextSibling()||N(140),m=m.getNextSibling(),C.push(m);let w=h;for(const k of C)w=w.insertAfter(k)}(r,u));const f=br(s,ge);a&&x(f)&&(a.canMergeWhenEmpty()||ge(c))&&(f.append(...a.getChildren()),a.remove()),x(r)&&r.isEmpty()&&r.remove(),s.selectEnd();const g=x(r)?r.getLastChild():null;tt(g)&&f!==r&&g.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=Q();return j().splice(this.anchor.offset,0,[s]),s.select(),s}const e=xr(this),t=br(this.anchor.getNode(),ge);x(t)||N(213);const r=t.getChildAtIndex(e),o=r?[r,...r.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(e){const t=lt();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),o=t.getIndexWithinParent();r.select(o,o)}}extract(){const e=this.getNodes(),t=e.length,r=t-1,o=this.anchor,i=this.focus;let s=e[0],l=e[r];const[a,c]=Jr(this);if(t===0)return[];if(t===1){if(O(s)&&!this.isCollapsed()){const d=a>c?c:a,f=a>c?a:c,g=s.splitText(d,f),h=d===0?g[0]:g[1];return h!=null?[h]:[]}return[s]}const u=o.isBefore(i);if(O(s)){const d=u?a:c;d===s.getTextContentSize()?e.shift():d!==0&&([,s]=s.splitText(d),e[0]=s)}if(O(l)){const d=l.getTextContent().length,f=u?c:a;f===0?e.pop():f!==d&&([l]=l.splitText(f),e[r]=l)}return e}modify(e,t,r){if(gi(this,e,t,r))return;const o=e==="move",i=J(),s=Ce(_e(i));if(!s)return;const l=i._blockCursorElement,a=i._rootElement,c=this.focus.getNode();if(a===null||l===null||!x(c)||c.isInline()||c.canBeEmpty()||Hr(l,i,a),this.dirty){let u=Tt(i,this.anchor.key),d=Tt(i,this.focus.key);this.anchor.type==="text"&&(u=Nt(u)),this.focus.type==="text"&&(d=Nt(d)),u&&d&&Zs(s,u,this.anchor.offset,d,this.focus.offset)}if(function(u,d,f,g){u.modify(d,f,g)}(s,e,t?"backward":"forward",r),s.rangeCount>0){const u=s.getRangeAt(0),d=this.anchor.getNode(),f=re(d)?d:ac(d);if(this.applyDOMRange(u),this.dirty=!0,!o){const g=this.getNodes(),h=[];let p=!1;for(let _=0;_<g.length;_++){const y=g[_];qr(y,f)?h.push(y):p=!0}if(p&&h.length>0)if(t){const _=h[0];x(_)?_.selectStart():_.getParentOrThrow().selectStart()}else{const _=h[h.length-1];x(_)?_.selectEnd():_.getParentOrThrow().selectEnd()}s.anchorNode===u.startContainer&&s.anchorOffset===u.startOffset||function(_){const y=_.focus,m=_.anchor,C=m.key,w=m.offset,k=m.type;m.set(y.key,y.offset,y.type,!0),y.set(C,w,k,!0)}(this)}}r==="lineboundary"&&gi(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&x(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const o=t.getParent(),i=t.getNextSibling()||(o===null?null:o.getNextSibling());if(x(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let o=r.getNode();if(this.forwardDeletion(r,o,e))return;const i=Do(Ie(r,e?"previous":"next"));if(i.getTextSlices().every(l=>l===null||l.distance===0)){let l={type:"initial"};for(const a of i.iterNodeCarets("shadowRoot"))if(ye(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(x(i.anchor.origin)&&i.anchor.origin.isEmpty()){const c=Te(a);On(this,Ye(c,c)),i.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(ut(a)){if(x(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(i.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(K(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&x(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();const c=Qs();c.add(a.origin.getKey()),se(c)}else a.origin.remove();return}break}}if(l.type==="merge-block"){const{caret:a,block:c}=l;return On(this,Ye(!a.origin.isEmpty()&&c.isEmpty()?sr(H(c,a.direction)):i.anchor,a)),this.removeText()}}const s=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&ai(this,r.getNode()))return}else{const l=s.type==="text"?s.getNode():null;if(o=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const a=s.offset,c=l.getTextContentSize();if(l.is(o)||e&&a!==c||!e&&a!==0)return void ci(l,e,a)}else if(o!==null&&o.isSegmented()){const a=r.offset,c=o.getTextContentSize();if(o.is(l)||e&&a!==0||!e&&a!==c)return void ci(o,e,a)}(function(a,c){const u=a.anchor,d=a.focus,f=u.getNode(),g=d.getNode();if(f===g&&u.type==="text"&&d.type==="text"){const h=u.offset,p=d.offset,_=h<p,y=_?h:p,m=_?p:h,C=m-1;y!==C&&function(w){return!(hl(w)||za(w))}(f.getTextContent().slice(y,m))&&(c?d.set(d.key,C,d.type):u.set(u.key,C,u.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&re(r.getParent())&&r.getPreviousSibling()===null&&ai(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ce(n){return n instanceof Xn}function li(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function Jr(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[li(t),li(r)]}function ai(n,e){for(let t=e;t;t=t.getParent()){if(x(t)){if(t.collapseAtStart(n))return!0;if(Ke(t))break}if(t.getPreviousSibling())break}return!1}const za=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function ci(n,e,t){const r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let c=0;c<i;c++){const u=c===i-1;if(l=s,s+=o[c].length,e&&s===t||s>t||u){o.splice(c,1),u&&(l=void 0);break}}const a=o.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function ui(n,e,t,r){let o,i=e;if(U(n)){let s=!1;const l=n.childNodes,a=l.length,c=r._blockCursorElement;i===a&&(s=!0,i=a-1);let u=l[i],d=!1;if(u===c)u=l[i+1],d=!0;else if(c!==null){const f=c.parentNode;n===f&&e>Array.prototype.indexOf.call(f.children,c)&&i--}if(o=mt(u),O(o))i=Ue(o,s?"next":"previous");else{let f=mt(n);if(f===null)return null;if(x(f)){const g=r.getElementByKey(f.getKey());g===null&&N(214),[f,i]=f.getDOMSlot(g).resolveChildIndex(f,g,n,e),x(f)||N(215),s&&i>=f.getChildrenSize()&&(i=Math.max(0,f.getChildrenSize()-1));let p=f.getChildAtIndex(i);if(x(p)&&function(_,y,m){const C=_.getParent();return m===null||C===null||!C.canBeEmpty()||C!==m.getNode()}(p,0,t)){const _=s?p.getLastDescendant():p.getFirstDescendant();_===null?f=p:(p=_,f=x(p)?p:p.getParentOrThrow()),i=0}O(p)?(o=p,f=null,i=Ue(p,s?"next":"previous")):p!==f&&s&&!d&&(x(f)||N(216),i=Math.min(f.getChildrenSize(),i+1))}else{const g=f.getIndexWithinParent();i=e===0&&K(f)&&mt(n)===f?g:g+1,f=f.getParentOrThrow()}if(x(f))return pe(f.__key,i,"element")}}else o=mt(n);return O(o)?pe(o.__key,Ue(o,i,"clamp"),"text"):null}function fi(n,e,t){const r=n.offset,o=n.getNode();if(r===0){const i=o.getPreviousSibling(),s=o.getParent();if(e){if((t||!e)&&i===null&&x(s)&&s.isInline()){const l=s.getPreviousSibling();O(l)&&n.set(l.__key,l.getTextContent().length,"text")}}else x(i)&&!t&&i.isInline()?n.set(i.__key,i.getChildrenSize(),"element"):O(i)&&n.set(i.__key,i.getTextContent().length,"text")}else if(r===o.getTextContent().length){const i=o.getNextSibling(),s=o.getParent();if(e&&x(i)&&i.isInline())n.set(i.__key,0,"element");else if((t||e)&&i===null&&x(s)&&s.isInline()&&!s.canInsertTextAfter()){const l=s.getNextSibling();O(l)&&n.set(l.__key,0,"text")}}}function Ys(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),o=n.is(e);fi(n,r,o),fi(e,!r,o),o&&e.set(n.key,n.offset,n.type);const i=J();if(i.isComposing()&&i._compositionKey!==n.key&&E(t)){const s=t.anchor,l=t.focus;n.set(s.key,s.offset,s.type,!0),e.set(l.key,l.offset,l.type,!0)}}}function Gs(n,e,t,r,o,i){if(n===null||t===null||!un(o,n,t))return null;const s=ui(n,e,E(i)?i.anchor:null,o);if(s===null)return null;const l=ui(t,r,E(i)?i.focus:null,o);if(l===null)return null;if(s.type==="element"&&l.type==="element"){const a=mt(n),c=mt(t);if(K(a)&&K(c))return null}return Ys(s,l,i),[s,l]}function jr(n){return x(n)&&!n.isInline()}function Xs(n,e,t,r,o,i){const s=Ge(),l=new ht(pe(n,e,o),pe(t,r,i),0,"");return l.dirty=!0,s._selection=l,l}function fo(){const n=pe("root",0,"element"),e=pe("root",0,"element");return new ht(n,e,0,"")}function Qs(){return new Xn(new Set)}function ho(n,e,t,r){const o=t._window;if(o===null)return null;const i=r||o.event,s=i?i.type:void 0,l=s==="selectionchange",a=!Or&&(l||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0);let c,u,d,f;if(E(n)&&!a)return n.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,d=e.anchorOffset,f=e.focusOffset,l&&E(n)&&!un(t,c,u))return n.clone();const g=Gs(c,d,u,f,t,n);if(g===null)return null;const[h,p]=g;return new ht(h,p,E(n)?n.format:0,E(n)?n.style:"")}function A(){return Ge()._selection}function At(){return J()._editorState._selection}function Bn(n,e,t,r=1){const o=n.anchor,i=n.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;const a=e.__key;if(n.isCollapsed()){const c=o.offset;if(t<=c&&r>0||t<c&&r<0){const u=Math.max(0,c+r);o.set(a,u,"element"),i.set(a,u,"element"),di(n)}}else{const c=n.isBackward(),u=c?i:o,d=u.getNode(),f=c?o:i,g=f.getNode();if(e.is(d)){const h=u.offset;(t<=h&&r>0||t<h&&r<0)&&u.set(a,Math.max(0,h+r),"element")}if(e.is(g)){const h=f.offset;(t<=h&&r>0||t<h&&r<0)&&f.set(a,Math.max(0,h+r),"element")}}di(n)}function di(n){const e=n.anchor,t=e.offset,r=n.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(n.isCollapsed()){if(!x(i))return;const l=i.getChildrenSize(),a=t>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(O(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(x(i)){const l=i.getChildrenSize(),a=t>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(O(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(x(s)){const l=s.getChildrenSize(),a=o>=l,c=a?s.getChildAtIndex(l-1):s.getChildAtIndex(o);if(O(c)){let u=0;a&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function Jn(n,e,t,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,O(r)?(s=r.getTextContentSize(),l="text"):x(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,O(o)?l="text":x(o)&&(l="element")),i!==null&&l!==null?n.set(i,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=t.getChildrenSize()),n.set(t.__key,s,"element"))}function hi(n,e,t,r,o){n.type==="text"?n.set(t,n.offset+(e?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Zs(n,e,t,r,o){try{n.setBaseAndExtent(e,t,r,o)}catch{}}function Wa(n,e,t,r,o,i,s){const l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(o.has(qa)&&d!==i||d!==null&&Co(d))return;if(!E(e))return void(n!==null&&un(t,l,a)&&r.removeAllRanges());const f=e.anchor,g=e.focus,h=f.key,p=g.key,_=Tt(t,h),y=Tt(t,p),m=f.offset,C=g.offset,w=e.format,k=e.style,S=e.isCollapsed();let T=_,b=y,v=!1;if(f.type==="text"){T=Nt(_);const W=f.getNode();v=W.getFormat()!==w||W.getStyle()!==k}else E(n)&&n.anchor.type==="text"&&(v=!0);var D,P,B,I,L;if(g.type==="text"&&(b=Nt(y)),T!==null&&b!==null&&(S&&(n===null||v||E(n)&&(n.format!==w||n.style!==k))&&(D=w,P=k,B=m,I=h,L=performance.now(),zs=[D,P,B,I,L]),c!==m||u!==C||l!==T||a!==b||r.type==="Range"&&S||(d!==null&&i.contains(d)||i.focus({preventScroll:!0}),f.type==="element"))){if(Zs(r,T,m,b,C),!o.has(Ha)&&e.isCollapsed()&&i!==null&&i===document.activeElement){const W=E(e)&&e.anchor.type==="element"?T.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(W!==null){let ne;if(W instanceof Text){const de=document.createRange();de.selectNode(W),ne=de.getBoundingClientRect()}else ne=W.getBoundingClientRect();(function(de,Ee,Oe){const Rt=ml(Oe),Io=No(Rt);if(Rt===null||Io===null)return;let{top:ur,bottom:fr}=Ee,pn=0,_n=0,We=Oe;for(;We!==null;){const dr=We===Rt.body;if(dr)pn=0,_n=_e(de).innerHeight;else{const mn=We.getBoundingClientRect();pn=mn.top,_n=mn.bottom}let It=0;if(ur<pn?It=-(pn-ur):fr>_n&&(It=fr-_n),It!==0)if(dr)Io.scrollBy(0,It);else{const mn=We.scrollTop;We.scrollTop+=It;const $o=We.scrollTop-mn;ur-=$o,fr-=$o}if(dr)break;We=fn(We)}})(t,ne,i)}}zr=!0}}function Ba(n){let e=A()||At();e===null&&(e=j().selectEnd()),e.insertNodes(n)}function xr(n){let e=n;n.isCollapsed()||e.removeText();const t=A();E(t)&&(e=t),E(e)||N(161);const r=e.anchor;let o=r.getNode(),i=r.offset;for(;!ge(o);){const s=o;if([o,i]=Ja(o,i),s.is(o))break}return i}function Ja(n,e){const t=n.getParent();if(!t){const o=Q();return j().append(o),o.select(),[j(),0]}if(O(n)){const o=n.splitText(e);if(o.length===0)return[t,n.getIndexWithinParent()];const i=e===0?0:1;return[t,o[0].getIndexWithinParent()+i]}if(!x(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const o=new ht(pe(n.__key,e,"element"),pe(n.__key,e,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function gi(n,e,t,r,o="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[u,d]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(u.key,u.offset,u.type),!0}const i=Ie(n.focus,t?"previous":"next"),s=r==="lineboundary",l=e==="move";let a=i,c=o==="decorators-and-blocks";if(!xl(a)){for(const u of a){c=!1;const{origin:d}=u;if(!K(d)||d.isIsolated()||(a=u,!s||!d.isInline()))break}if(c)for(const u of Do(i).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(ye(u))u.origin.isInline()||(a=u);else{if(x(u.origin))continue;K(u.origin)&&!u.origin.isInline()&&(a=u)}break}}if(a===i)return!1;if(l&&!s&&K(a.origin)&&a.origin.isKeyboardSelectable()){const u=Qs();return u.add(a.origin.getKey()),se(u),!0}return a=Te(a),l&&rn(n.anchor,a),rn(n.focus,a),c||!s}let Y=null,G=null,ae=!1,Sr=!1,kn=0;const pi={characterData:!0,childList:!0,subtree:!0};function Dt(){return ae||Y!==null&&Y._readOnly}function ee(){ae&&N(13)}function el(){kn>99&&N(14)}function Ge(){return Y===null&&N(195,tl()),Y}function J(){return G===null&&N(196,tl()),G}function tl(){let n=0;const e=new Set,t=er.version;if(typeof window<"u")for(const o of document.querySelectorAll("[contenteditable]")){const i=tr(o);if(xo(i))n++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===t&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function ja(){return G}function _i(n,e,t){const r=e.__type,o=al(n,r);let i=t.get(r);i===void 0&&(i=Array.from(o.transforms),t.set(r,i));const s=i.length;for(let l=0;l<s&&(i[l](e),e.isAttached());l++);}function mi(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function nl(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const o of r)t.add(o)}function Ua(n){return go(n,J()._nodes)}function go(n,e){const t=n.type,r=e.get(t);r===void 0&&N(17,t);const o=r.klass;n.type!==o.getType()&&N(18,o.name);const i=o.importJSON(n),s=n.children;if(x(i)&&Array.isArray(s))for(let l=0;l<s.length;l++){const a=go(s[l],e);i.append(a)}return i}function yi(n,e,t){const r=Y,o=ae,i=G;Y=e,ae=!0,G=n;try{return t()}finally{Y=r,ae=o,G=i}}function Le(n,e){const t=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(t===null)return;const i=n._editorState,s=i._selection,l=t._selection,a=n._dirtyType!==it,c=Y,u=ae,d=G,f=n._updating,g=n._observer;let h=null;if(n._pendingEditorState=null,n._editorState=t,!o&&a&&g!==null){G=n,Y=t,ae=!1,n._updating=!0;try{const S=n._dirtyType,T=n._dirtyElements,b=n._dirtyLeaves;g.disconnect(),h=Ca(i,t,n,S,T,b)}catch(S){if(S instanceof Error&&n._onError(S),Sr)throw S;return ll(n,null,r,t),ds(n),n._dirtyType=bt,Sr=!0,Le(n,i),void(Sr=!1)}finally{g.observe(r,pi),n._updating=f,Y=c,ae=u,G=d}}t._readOnly||(t._readOnly=!0);const p=n._dirtyLeaves,_=n._dirtyElements,y=n._normalizedNodes,m=n._updateTags,C=n._deferred;a&&(n._dirtyType=it,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(S,T){const b=S._decorators;let v=S._pendingDecorators||b;const D=T._nodeMap;let P;for(P in v)D.has(P)||(v===b&&(v=fl(S)),delete v[P])}(n,t);const w=o?null:Ce(_e(n));if(n._editable&&w!==null&&(a||l===null||l.dirty)&&r!==null&&!m.has(Ya)){G=n,Y=t;try{if(g!==null&&g.disconnect(),a||l===null||l.dirty){const S=n._blockCursorElement;S!==null&&Hr(S,n,r),Wa(s,l,n,w,m,r)}(function(S,T,b){let v=S._blockCursorElement;if(E(b)&&b.isCollapsed()&&b.anchor.type==="element"&&T.contains(document.activeElement)){const D=b.anchor,P=D.getNode(),B=D.offset;let I=!1,L=null;if(B===P.getChildrenSize())wr(P.getChildAtIndex(B-1))&&(I=!0);else{const W=P.getChildAtIndex(B);if(W!==null&&wr(W)){const ne=W.getPreviousSibling();(ne===null||wr(ne))&&(I=!0,L=S.getElementByKey(W.__key))}}if(I){const W=S.getElementByKey(P.__key);return v===null&&(S._blockCursorElement=v=function(ne){const de=ne.theme,Ee=document.createElement("div");Ee.contentEditable="false",Ee.setAttribute("data-lexical-cursor","true");let Oe=de.blockCursor;if(Oe!==void 0){if(typeof Oe=="string"){const Rt=Fn(Oe);Oe=de.blockCursor=Rt}Oe!==void 0&&Ee.classList.add(...Oe)}return Ee}(S._config)),T.style.caretColor="transparent",void(L===null?W.appendChild(v):W.insertBefore(v,L))}}v!==null&&Hr(v,S,T)})(n,r,l)}finally{g!==null&&g.observe(r,pi),G=d,Y=c}}h!==null&&function(S,T,b,v,D){const P=Array.from(S._listeners.mutation),B=P.length;for(let I=0;I<B;I++){const[L,W]=P[I];for(const ne of W){const de=T.get(ne);de!==void 0&&L(de,{dirtyLeaves:v,prevEditorState:D,updateTags:b})}}}(n,h,m,p,i),E(l)||l===null||s!==null&&s.is(l)||n.dispatchCommand(vs,void 0);const k=n._pendingDecorators;k!==null&&(n._decorators=k,n._pendingDecorators=null,Ut("decorator",n,!0,k)),function(S,T,b){const v=wi(T),D=wi(b);v!==D&&Ut("textcontent",S,!0,D)}(n,e||i,t),Ut("update",n,!0,{dirtyElements:_,dirtyLeaves:p,editorState:t,mutatedNodes:h,normalizedNodes:y,prevEditorState:e||i,tags:m}),function(S,T){if(S._deferred=[],T.length!==0){const b=S._updating;S._updating=!0;try{for(let v=0;v<T.length;v++)T[v]()}finally{S._updating=b}}}(n,C),function(S){const T=S._updates;if(T.length!==0){const b=T.shift();if(b){const[v,D]=b;Qn(S,v,D)}}}(n)}function Ut(n,e,t,...r){const o=e._updating;e._updating=t;try{const i=Array.from(e._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{e._updating=o}}function Ci(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const o=t.shift();if(o){const[i,s]=o,l=n._pendingEditorState;let a;s!==void 0&&(a=s.onUpdate,s.skipTransforms&&(r=!0),s.discrete&&(l===null&&N(191),l._flushSync=!0),a&&n._deferred.push(a),nl(n,s.tag)),l==null?Qn(n,i,s):i()}}return r}function Qn(n,e,t){const r=n._updateTags;let o,i=!1,s=!1;t!==void 0&&(o=t.onUpdate,nl(n,t.tag),i=t.skipTransforms||!1,s=t.discrete||!1),o&&n._deferred.push(o);const l=n._editorState;let a=n._pendingEditorState,c=!1;(a===null||a._readOnly)&&(a=n._pendingEditorState=ol(a||l),c=!0),a._flushSync=s;const u=Y,d=ae,f=G,g=n._updating;Y=a,ae=!1,n._updating=!0,G=n;const h=n._headless||n.getRootElement()===null;mo(null);try{c&&(h?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=function(m,C){const w=m.getEditorState()._selection,k=Ce(_e(m));return E(w)||w==null?ho(w,k,m,C):w.clone()}(n,t&&t.event||null));const _=n._compositionKey;e(),i=Ci(n,i),function(m,C){const w=C.getEditorState()._selection,k=m._selection;if(E(k)){const S=k.anchor,T=k.focus;let b;if(S.type==="text"&&(b=S.getNode(),b.selectionTransform(w,k)),T.type==="text"){const v=T.getNode();b!==v&&v.selectionTransform(w,k)}}}(a,n),n._dirtyType!==it&&(i?function(m,C){const w=C._dirtyLeaves,k=m._nodeMap;for(const S of w){const T=k.get(S);O(T)&&T.isAttached()&&T.isSimpleText()&&!T.isUnmergeable()&&Yo(T)}}(a,n):function(m,C){const w=C._dirtyLeaves,k=C._dirtyElements,S=m._nodeMap,T=Je(),b=new Map;let v=w,D=v.size,P=k,B=P.size;for(;D>0||B>0;){if(D>0){C._dirtyLeaves=new Set;for(const I of v){const L=S.get(I);O(L)&&L.isAttached()&&L.isSimpleText()&&!L.isUnmergeable()&&Yo(L),L!==void 0&&mi(L,T)&&_i(C,L,b),w.add(I)}if(v=C._dirtyLeaves,D=v.size,D>0){kn++;continue}}C._dirtyLeaves=new Set,C._dirtyElements=new Map,P.delete("root")&&P.set("root",!0);for(const I of P){const L=I[0],W=I[1];if(k.set(L,W),!W)continue;const ne=S.get(L);ne!==void 0&&mi(ne,T)&&_i(C,ne,b)}v=C._dirtyLeaves,D=v.size,P=C._dirtyElements,B=P.size,kn++}C._dirtyLeaves=w,C._dirtyElements=k}(a,n),Ci(n),function(m,C,w,k){const S=m._nodeMap,T=C._nodeMap,b=[];for(const[v]of k){const D=T.get(v);D!==void 0&&(D.isAttached()||(x(D)&&cs(D,v,S,T,b,k),S.has(v)||k.delete(v),b.push(v)))}for(const v of b)T.delete(v);for(const v of w){const D=T.get(v);D===void 0||D.isAttached()||(S.has(v)||w.delete(v),T.delete(v))}}(l,a,n._dirtyLeaves,n._dirtyElements)),_!==n._compositionKey&&(a._flushSync=!0);const y=a._selection;if(E(y)){const m=a._nodeMap,C=y.anchor.key,w=y.focus.key;m.get(C)!==void 0&&m.get(w)!==void 0||N(19)}else ce(y)&&y._nodes.size===0&&(a._selection=null)}catch(_){return _ instanceof Error&&n._onError(_),n._pendingEditorState=l,n._dirtyType=bt,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Le(n)}finally{Y=u,ae=d,G=f,n._updating=g,kn=0}n._dirtyType!==it||n._deferred.length>0||function(_,y){const m=y.getEditorState()._selection,C=_._selection;if(C!==null){if(C.dirty||!C.is(m))return!0}else if(m!==null)return!0;return!1}(a,n)?a._flushSync?(a._flushSync=!1,Le(n)):c&&ec(()=>{Le(n)}):(a._flushSync=!1,c&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function ue(n,e,t){G===n&&t===void 0?e():Qn(n,e,t)}class Vt{constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new Vt(this.element,e,this.after)}withAfter(e){return new Vt(this.element,this.before,e)}withElement(e){return this.element===e?this:new Vt(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&N(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&N(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&N(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(wt||Ht);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,o=this.before,i=document.createElement("br");if(r.insertBefore(i,o),e){const s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",r.insertBefore(s,i),r.__lexicalLineBreak=s}else r.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,o){if(r===this.element){const a=this.getFirstChildOffset();return[e,Math.min(a+e.getChildrenSize(),Math.max(a,o))]}const i=xi(t,r);i.push(o);const s=xi(t,this.element);let l=e.getIndexWithinParent();for(let a=0;a<s.length;a++){const c=i[a],u=s[a];if(c===void 0||c<u)break;if(c>u){l+=1;break}}return[e.getParentOrThrow(),l]}}function xi(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let i=r.previousSibling;i!==null;i=i.previousSibling)o++;t.push(o)}return r!==n&&N(225),t.reverse()}class ke extends Ot{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return oa[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=J()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(O(t)&&e.push(t),x(t)){const r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;x(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;x(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;if(e>=r){const i=t[r-1];return x(i)&&i.getLastDescendant()||i||null}const o=t[e];return x(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:X(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&N(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:X(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&N(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let r,o;if(e<t/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=e;){if(o===e)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=t-1;r!==null&&o>=e;){if(o===e)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let e="";const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const i=t[o];e+=i.getTextContent(),x(i)&&o!==r-1&&!i.isInline()&&(e+=Re)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const i=t[o];e+=i.getTextContentSize(),x(i)&&o!==r-1&&!i.isInline()&&(e+=Re.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=Wo[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=Ve[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return jn(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){ee();const r=A();let o=e,i=t;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const a=this.getFirstChild();if(O(a)||x(a))return a.select(0,0)}else if(!(e!==void 0&&e!==s||t!==void 0&&t!==s)){const a=this.getLastChild();if(O(a)||x(a))return a.select()}}o===void 0&&(o=s),i===void 0&&(i=s);const l=this.__key;return E(r)?(r.anchor.set(l,o,"element"),r.focus.set(l,i,"element"),r.dirty=!0,r):Xs(l,o,l,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?Wo[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){const o=r.length,i=this.getChildrenSize(),s=this.getWritable();e+t<=i||N(226,String(e),String(t),String(i));const l=s.__key,a=[],c=[],u=this.getChildAtIndex(e+t);let d=null,f=i-t+o;if(e!==0)if(e===i)d=this.getLastChild();else{const h=this.getChildAtIndex(e);h!==null&&(d=h.getPreviousSibling())}if(t>0){let h=d===null?this.getFirstChild():d.getNextSibling();for(let p=0;p<t;p++){h===null&&N(100);const _=h.getNextSibling(),y=h.__key;rt(h.getWritable()),c.push(y),h=_}}let g=d;for(let h=0;h<o;h++){const p=r[h];g!==null&&p.is(g)&&(d=g=g.getPreviousSibling());const _=p.getWritable();_.__parent===l&&f--,rt(_);const y=p.__key;if(g===null)s.__first=y,_.__prev=null;else{const m=g.getWritable();m.__next=y,_.__prev=m.__key}p.__key===l&&N(76),_.__parent=l,a.push(y),g=p}if(e+t===i)g!==null&&(g.getWritable().__next=null,s.__last=g.__key);else if(u!==null){const h=u.getWritable();if(g!==null){const p=g.getWritable();h.__prev=g.__key,p.__next=u.__key}else h.__prev=null}if(s.__size=f,c.length){const h=A();if(E(h)){const p=new Set(c),_=new Set(a),{anchor:y,focus:m}=h;Si(y,p,_)&&Jn(y,y.getNode(),this,d,u),Si(m,p,_)&&Jn(m,m.getNode(),this,d,u),f!==0||this.canBeEmpty()||Ke(this)||this.remove()}}return s}getDOMSlot(e){return new Vt(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(U(t)){const r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");const o=this.getDirection();o&&(t.dir=o)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const r=this.getDOMSlot(e);let o=r.getFirstChild();for(let i=this.getFirstChild();i;i=i.getNextSibling()){const s=t.getElementByKey(i.getKey());s!==null&&(o==null?(r.insertChild(s),o=s):o!==s&&r.replaceChild(s,o),o=o.nextSibling)}}}function x(n){return n instanceof ke}function Si(n,e,t){let r=n.getNode();for(;r;){const o=r.__key;if(e.has(o)&&!t.has(o))return!0;r=r.getParent()}return!1}class rl extends Ot{decorate(e,t){N(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function K(n){return n instanceof rl}class an extends ke{static getType(){return"root"}static clone(){return new an}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){N(51)}getTextContent(){const e=this.__cachedText;return!Dt()&&J()._dirtyType!==it||e===null?super.getTextContent():e}remove(){N(52)}replace(e){N(53)}insertBefore(e){N(54)}insertAfter(e){N(55)}updateDOM(e,t){return!1}splice(e,t,r){for(const o of r)x(o)||K(o)||N(282);return super.splice(e,t,r)}static importJSON(e){return j().updateFromJSON(e)}collapseAtStart(){return!0}}function re(n){return n instanceof an}function ol(n){return new Zn(new Map(n._nodeMap))}function po(){return new Zn(new Map([["root",new an]]))}function il(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&N(130,t.name),x(n)){const r=e.children;Array.isArray(r)||N(59,t.name);const o=n.getChildren();for(let i=0;i<o.length;i++){const s=il(o[i]);r.push(s)}}return e}class Zn{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return yi(t&&t.editor||null,this,e)}clone(e){const t=new Zn(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return yi(null,this,()=>({root:il(j())}))}}const Bu="historic",Ju="history-push",qt="history-merge",Va="paste",qa="collaboration",Ha="skip-scroll-into-view",Ya="skip-dom-selection";class _o extends ke{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class cn extends ke{static getType(){return"paragraph"}static clone(e){return new cn(e.__key)}createDOM(e){const t=document.createElement("p"),r=St(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:Ga,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(U(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Q().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const r=Q();r.setTextFormat(e.format),r.setTextStyle(e.style);const o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||O(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Ga(n){const e=Q();return n.style&&(e.setFormat(n.style.textAlign),ko(n,e)),{node:e}}function Q(){return ze(new cn)}function sl(n){return n instanceof cn}const $=0,ju=1,Uu=2,Vu=3,Xa=4;function ll(n,e,t,r){const o=n._keyToDOMMap;o.clear(),n._editorState=po(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=it,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const i=n._observer;i!==null&&(i.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",o.set("root",t))}function Qa(n){const e=n||{},t=ja(),r=e.theme||{},o=n===void 0?t:e.parentEditor||null,i=e.disableEvents||!1,s=po(),l=e.namespace||(o!==null?o._config.namespace:gl()),a=e.editorState,c=[an,Mt,on,sn,cn,_o,...e.nodes||[]],{onError:u,html:d}=e,f=e.editable===void 0||e.editable;let g;if(n===void 0&&t!==null)g=t._nodes;else{g=new Map;for(let p=0;p<c.length;p++){let _=c[p],y=null,m=null;if(typeof _!="function"){const T=_;_=T.replace,y=T.with,m=T.withKlass||null}const{ownNodeConfig:C}=Eo(_),w=_.getType(),k=_.transform(),S=new Set;C&&C.$transform&&S.add(C.$transform),k!==null&&S.add(k),g.set(w,{exportDOM:d&&d.export?d.export.get(_):void 0,klass:_,replace:y,replaceWithKlass:m,sharedNodeState:ga(c[p]),transforms:S})}}const h=new er(s,o,g,{disableEvents:i,namespace:l,theme:r},u||console.error,function(p,_){const y=new Map,m=new Set,C=w=>{Object.keys(w).forEach(k=>{let S=y.get(k);S===void 0&&(S=[],y.set(k,S)),S.push(w[k])})};return p.forEach(w=>{const k=w.klass.importDOM;if(k==null||m.has(k))return;m.add(k);const S=k.call(w.klass);S!==null&&C(S)}),_&&C(_),y}(g,d?d.import:void 0),f,n);return a!==void 0&&(h._pendingEditorState=a,h._dirtyType=bt),h}class er{constructor(e,t,r,o,i,s,l,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=it,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=gl(),this._onError=i,this._htmlConversions=s,this._editable=l,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&N(35);const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=o.get(e);i===void 0&&N(36,String(e));const s=i[r];return s.add(t),()=>{s.delete(t),i.every(l=>l.size===0)&&o.delete(e)}}registerMutationListener(e,t,r){const o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;let s=i.get(t);s===void 0&&(s=new Set,i.set(t,s)),s.add(o);const l=r&&r.skipInitialization;return l!==void 0&&l||this.initializeMutationListener(t,o),()=>{s.delete(o),s.size===0&&i.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&N(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,o=Mi(r).get(t.getType());if(!o)return;const i=new Map;for(const s of o.keys())i.set(s,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),o=[r],i=r.replaceWithKlass;if(i!=null){const s=this.registerNodeTransformToKlass(i,t);o.push(s)}return function(s,l){const a=Mi(s.getEditorState()),c=[];for(const u of l){const d=a.get(u);d&&c.push(d)}c.length!==0&&s.update(()=>{for(const u of c)for(const d of u.keys()){const f=X(d);f&&f.markDirty()}},s._pendingEditorState===null?{tag:qt}:void 0)}(this,o.map(s=>s.klass.getType())),()=>{o.forEach(s=>s.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return M(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=St(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,ll(this,t,e,o),t!==null&&(this._config.disableEvents||Da(t),r!=null&&t.classList.remove(...r)),e!==null){const i=No(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=bt,ds(this),this._updateTags.add(qt),Le(this),this._config.disableEvents||function(l,a){const c=l.ownerDocument,u=Wn.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",Us),Wn.set(c,(u||0)+1),l.__lexicalEditor=a;const d=js(l);for(let f=0;f<Kr.length;f++){const[g,h]=Kr[f],p=typeof h=="function"?_=>{ni(_)||(ti(_),(a.isEditable()||g==="click")&&h(_,a))}:_=>{if(ni(_))return;ti(_);const y=a.isEditable();switch(g){case"cut":return y&&M(a,co,_);case"copy":return M(a,Gn,_);case"paste":return y&&M(a,ao,_);case"dragstart":return y&&M(a,Rs,_);case"dragover":return y&&M(a,Is,_);case"dragend":return y&&M(a,ka,_);case"focus":return y&&M(a,Oa,_);case"blur":return y&&M(a,Ma,_);case"drop":return y&&M(a,Ls,_)}};l.addEventListener(g,p),d.push(()=>{l.removeEventListener(g,p)})}}(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(qt),Le(this);Ut("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&N(38);let r=e;r._readOnly&&(r=ol(e),r._selection=e._selection?e._selection.clone():null),fs(this);const o=this._pendingEditorState,i=this._updateTags,s=t!==void 0?t.tag:null;o===null||o.isEmpty()||(s!=null&&i.add(s),Le(this)),this._pendingEditorState=r,this._dirtyType=bt,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||Le(this)}parseEditorState(e,t){return function(r,o,i){const s=po(),l=Y,a=ae,c=G,u=o._dirtyElements,d=o._dirtyLeaves,f=o._cloneNotNeeded,g=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,Y=s,ae=!1,G=o,mo(null);try{const h=o._nodes;go(r.root,h),i&&i(),s._readOnly=!0}catch(h){h instanceof Error&&o._onError(h)}finally{o._dirtyElements=u,o._dirtyLeaves=d,o._cloneNotNeeded=f,o._dirtyType=g,Y=l,ae=a,G=c}return s}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Le(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,o,i){r._updating?r._updates.push([o,i]):Qn(r,o,i)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),ue(this,()=>{const o=A(),i=j();o!==null?o.dirty||se(o.clone()):i.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),ic("focus"),sc(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=Ce(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ut("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}er.version="0.34.0+prod.esm";let Ur=null;function mo(n){Ur=n}let Za=1;function al(n,e){const t=yo(n,e);return t===void 0&&N(30,e),t}function yo(n,e){return n._nodes.get(e)}const ec=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function vi(n){return K(He(n))}function Co(n){const e=document.activeElement;if(!U(e))return!1;const t=e.nodeName;return K(He(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&tr(e)==null)}function un(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!Co(e)&&cl(e)===n}catch{return!1}}function xo(n){return n instanceof er}function cl(n){let e=n;for(;e!=null;){const t=tr(e);if(xo(t))return t;e=fn(e)}return null}function tr(n){return n?n.__lexicalEditor:null}function nt(n){return Hs(n)||n.isToken()}function Fe(n){return nt(n)||n.isSegmented()}function $e(n){return Ft(n)&&n.nodeType===ql}function tc(n){return Ft(n)&&n.nodeType===Hl}function Nt(n){let e=n;for(;e!=null;){if($e(e))return e;e=e.firstChild}return null}function jn(n,e,t){const r=Ve[e];if(t!==null&&(n&r)==(t&r))return n;let o=n^r;return e==="subscript"?o&=-65:e==="superscript"?o&=-33:e==="lowercase"?(o&=-513,o&=-1025):e==="uppercase"?(o&=-257,o&=-1025):e==="capitalize"&&(o&=-257,o&=-513),o}function nc(n,e){const t=function(){const s=Ur;return Ur=null,s}();if((e=e||t&&t.__key)!=null)return void(n.__key=e);ee(),el();const r=J(),o=Ge(),i=""+Za++;o._nodeMap.set(i,n),x(n)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=ss,n.__key=i}function rt(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling(),s=i!==null?i.__key:null,l=o!==null?o.__key:null,a=o!==null?o.getWritable():null,c=i!==null?i.getWritable():null;o===null&&(r.__first=s),i===null&&(r.__last=l),a!==null&&(a.__next=s),c!==null&&(c.__prev=l),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function Un(n){el();const e=n.getLatest(),t=e.__parent,r=Ge(),o=J(),i=r._nodeMap,s=o._dirtyElements;t!==null&&function(a,c,u){let d=a;for(;d!==null;){if(u.has(d))return;const f=c.get(d);if(f===void 0)break;u.set(d,!1),d=f.__parent}}(t,i,s);const l=e.__key;o._dirtyType=ss,x(n)?s.set(l,!0):o._dirtyLeaves.add(l)}function te(n){ee();const e=J(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=X(t);r!==null&&r.getWritable()}if(n!==null){const r=X(n);r!==null&&r.getWritable()}}}function Je(){return Dt()?null:J()._compositionKey}function X(n,e){const t=(e||Ge())._nodeMap.get(n);return t===void 0?null:t}function ul(n,e){const t=nr(n,J());return t!==void 0?X(t,e):null}function nr(n,e){return n[`__lexicalKey_${e._key}`]}function He(n,e){let t=n;for(;t!=null;){const r=ul(t,e);if(r!==null)return r;t=fn(t)}return null}function fl(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function wi(n){return n.read(()=>j().getTextContent())}function j(){return dl(Ge())}function dl(n){return n._nodeMap.get("root")}function se(n){ee();const e=Ge();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function mt(n){const e=J(),t=function(r,o){let i=r;for(;i!=null;){const s=nr(i,o);if(s!==void 0)return s;i=fn(i)}return null}(n,e);return t===null?n===e.getRootElement()?X("root"):null:X(t)}function hl(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function So(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function gl(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function pl(n){return $e(n)?n.nodeValue:null}function vo(n,e,t){const r=Ce(_e(e));if(r===null)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(o!==null){let l=pl(o);const a=He(o);if(l!==null&&O(a)){if(l===Hn&&t){const c=t.length;l=t,i=c,s=c}l!==null&&wo(a,l,i,s,n)}}}function wo(n,e,t,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=e;(s||o)&&e[e.length-1]===Hn&&(l=e.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(l===""){if(te(null),Ht||wt||Dn)i.remove();else{const p=J();setTimeout(()=>{p.update(()=>{i.isAttached()&&i.remove()})},20)}return}const c=i.getParent(),u=At(),d=i.getTextContentSize(),f=Je(),g=i.getKey();if(i.isToken()||f!==null&&g===f&&!s||E(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!i.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===d&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const h=A();if(!E(h)||t===null||r===null)return void bi(i,l,h);if(h.setTextNodeRange(i,t,i,r),i.isSegmented()){const p=Z(i.getTextContent());i.replace(p),i=p}bi(i,l,h)}}}function bi(n,e,t){if(n.setTextContent(e),E(t)){const r=n.getKey();for(const o of["anchor","focus"]){const i=t[o];i.type==="text"&&i.key===r&&(i.offset=Ue(n,i.offset,"clamp"))}}}function Sn(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function rc(n,e){return Sn(n,e,"altKey")&&Sn(n,e,"ctrlKey")&&Sn(n,e,"shiftKey")&&Sn(n,e,"metaKey")}function z(n,e,t){return rc(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const De={ctrlKey:!be,metaKey:be},Ni={altKey:be,ctrlKey:!be};function Ti(n){return n.key==="Backspace"}function ki(n){return z(n,"a",De)}function oc(n){const e=j();if(E(n)){const t=n.anchor,r=n.focus,o=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),Yt(n),n}{const t=e.select(0,e.getChildrenSize());return se(Yt(t)),t}}function St(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const o=n[e];if(typeof o=="string"){const i=Fn(o);return t[e]=i,i}return o}function bo(n,e,t,r,o){if(t.size===0)return;const i=r.__type,s=r.__key,l=e.get(i);l===void 0&&N(33,i);const a=l.klass;let c=n.get(a);c===void 0&&(c=new Map,n.set(a,c));const u=c.get(s),d=u==="destroyed"&&o==="created";(u===void 0||d)&&c.set(s,d?"updated":o)}function Ei(n,e,t){const r=n.getParent();let o=t,i=n;return r!==null&&(e&&t===0?(o=i.getIndexWithinParent(),i=r):e||t!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o)}function Vr(n,e){const t=n.offset;if(n.type==="element")return Ei(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const o=e?r.getPreviousSibling():r.getNextSibling();return o===null?Ei(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):o}}return null}function _l(n){const e=_e(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function M(n,e,t){return function(r,o,i){const s=So(r);for(let l=4;l>=0;l--)for(let a=0;a<s.length;a++){const c=s[a],u=c._commands.get(o);if(u!==void 0){const d=u[l];if(d!==void 0){const f=Array.from(d),g=f.length;let h=!1;if(ue(c,()=>{for(let p=0;p<g;p++)if(f[p](i,r))return void(h=!0)}),h)return h}}}return!1}(n,e,t)}function rr(n){return!re(n)&&!n.isLastChild()&&!n.isInline()}function Tt(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&N(75,e),t}function fn(n){const e=n.assignedSlot||n.parentElement;return Yr(e)?e.host:e}function ml(n){return tc(n)?n:U(n)?n.ownerDocument:null}function qu(n){return J()._updateTags.has(n)}function ic(n){ee(),J()._updateTags.add(n)}function sc(n){ee(),J()._deferred.push(n)}function qr(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function No(n){const e=ml(n);return e?e.defaultView:null}function _e(n){const e=n._window;return e===null&&N(78),e}function lc(n){return x(n)&&n.isInline()||K(n)&&n.isInline()}function ac(n){let e=n.getParentOrThrow();for(;e!==null;){if(Ke(e))return e;e=e.getParentOrThrow()}return e}function Ke(n){return re(n)||x(n)&&n.isShadowRoot()}function ze(n){const e=J(),t=n.getType(),r=yo(e,t);r===void 0&&N(200,n.constructor.name,t);const{replace:o,replaceWithKlass:i}=r;if(o!==null){const s=o(n),l=s.constructor;return i!==null?s instanceof i||N(201,i.name,i.getType(),l.name,l.getType(),n.constructor.name,t):s instanceof n.constructor&&l!==n.constructor||N(202,l.name,l.getType(),n.constructor.name,t),s.__key===n.__key&&N(203,n.constructor.name,t,l.name,l.getType()),s}return n}function vr(n,e){!re(n.getParent())||x(e)||K(e)||N(99)}function cc(n){const e=X(n);return e===null&&N(63,n),e}function wr(n){return(K(n)||x(n)&&!n.canBeEmpty())&&!n.isInline()}function Hr(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function Ce(n){return Se?(n||window).getSelection():null}function uc(n){const e=No(n);return e?e.getSelection():null}function Hu(n){return U(n)&&n.tagName==="A"}function U(n){return Ft(n)&&n.nodeType===Vl}function Ft(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function Yr(n){return Ft(n)&&n.nodeType===Yl}function Gr(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function Vn(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function ge(n){if(K(n)&&!n.isInline())return!0;if(!x(n)||Ke(n))return!1;const e=n.getFirstChild(),t=e===null||tt(e)||O(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function br(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function or(){return J()}const Oi=new WeakMap,fc=new Map;function Mi(n){if(!n._readOnly&&n.isEmpty())return fc;n._readOnly||N(192);let e=Oi.get(n);return e||(e=function(t){const r=new Map;for(const[o,i]of t._nodeMap){const s=i.__type;let l=r.get(s);l||(l=new Map,r.set(s,l)),l.set(o,i)}return r}(n),Oi.set(n,e)),e}function To(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function ko(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function dc(n){n.__lexicalUnmanaged=!0}function hc(n){return n.__lexicalUnmanaged===!0}function Kt(n,e){return function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}(n,e)&&n[e]!==Ot[e]}function Eo(n){const e=Bo in n.prototype?n.prototype[Bo]():void 0,t=function(s){return s===rl||s===ke||s===Ot}(n),r=!t&&Kt(n,"getType")?n.getType():void 0;let o,i=r;if(e)if(r)o=e[r];else for(const[s,l]of Object.entries(e))i=s,o=l;if(!t&&i&&(Kt(n,"getType")||(n.getType=()=>i),Kt(n,"clone")||(n.clone=s=>(mo(s),new n)),Kt(n,"importJSON")||(n.importJSON=o&&o.$importJSON||(s=>new n().updateFromJSON(s))),!Kt(n,"importDOM")&&o)){const{importDOM:s}=o;s&&(n.importDOM=()=>s)}return{ownNodeConfig:o,ownNodeType:i}}const gc={next:"previous",previous:"next"};class Oo{constructor(e){this.origin=e}[Symbol.iterator](){return ir({hasNext:ut,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return H(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return H(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const o=r===this.direction?t:Array.from(t).reverse();let i=this;const s=this.getParentAtCaret(),l=new Map;for(let a=i.getAdjacentCaret();a!==null&&l.size<e;a=a.getAdjacentCaret()){const c=a.origin.getWritable();l.set(c.getKey(),c)}for(const a of o){if(l.size>0){const c=i.getNodeAtCaret();if(c){if(l.delete(c.getKey()),l.delete(a.getKey()),!(c.is(a)||i.origin.is(a))){const u=a.getParent();u&&u.is(s)&&a.remove(),c.replace(a)}}else c===null&&N(263,Array.from(l).join(" "))}else i.insert(a);i=H(a,this.direction)}for(const a of l.values())a.remove();return this}}class tn extends Oo{constructor(){super(...arguments);he(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:xe(t,this.direction)}getParentCaret(t="root"){return H(Mo(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Pt(this.direction);return H(this.getNodeAtCaret(),t)||xe(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof tn&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const pc={root:re,shadowRoot:Ke};function Pt(n){return gc[n]}function Mo(n,e="root"){return pc[e](n)?null:n}class at extends Oo{constructor(){super(...arguments);he(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:H(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return x(this.origin)?xe(this.origin,this.direction):null}getParentCaret(t="root"){return H(Mo(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=Pt(this.direction);return H(this.getNodeAtCaret(),t)||xe(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof at&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof at||t instanceof ct)&&this.direction===t.direction&&this.origin.is(t.origin)}}class ct extends Oo{constructor(t,r){super(t);he(this,"type","text");this.offset=r}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:ft(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return H(Mo(this.getParentAtCaret(),t),this.direction)}getFlipped(){return ft(this.origin,Pt(this.direction),this.offset)}isSamePointCaret(t){return t instanceof ct&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof at||t instanceof ct)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return H(this.origin,this.direction)}}function je(n){return n instanceof ct}function ut(n){return n instanceof at}function ye(n){return n instanceof tn}const _c={next:class extends ct{constructor(){super(...arguments);he(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends ct{constructor(){super(...arguments);he(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},mc={next:class extends at{constructor(){super(...arguments);he(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends at{constructor(){super(...arguments);he(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},yc={next:class extends tn{constructor(){super(...arguments);he(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends tn{constructor(){super(...arguments);he(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function H(n,e){return n?new mc[e](n):null}function ft(n,e,t){return n?new _c[e](n,Ue(n,t)):null}function Ue(n,e,t="error"){const r=n.getTextContentSize();let o=e==="next"?r:e==="previous"?0:e;return(o<0||o>r)&&(t!=="clamp"&&function(i,...s){const l=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",i);for(const c of s)a.append("v",c);l.search=a.toString(),console.warn(`Minified Lexical warning #${i}; visit ${l.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(r),n.getKey()),o=o<0?0:r),o}function Ai(n,e){return new xc(n,e)}function xe(n,e){return x(n)?new yc[e](n):null}function Cc(n){return n&&n.getChildCaret()||n}function nn(n){return n&&Cc(n.getAdjacentCaret())}class Ao{constructor(e,t,r){he(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Ao(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=o=>{const i=this[o].getLatest();return je(i)?function(s,l){const{direction:a,origin:c}=s,u=Ue(c,l==="focus"?Pt(a):a);return Ai(s,u-s.offset)}(i,o):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:o}=t,{caret:i}=r;if(o.isSameNodeCaret(i))return[Ai(o,i.offset-o.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=je(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=je(r),i=s=>s.isSameNodeCaret(r)?null:nn(s)||s.getParentCaret(e);return ir({hasNext:s=>s!==null&&!(o&&r.isSameNodeCaret(s)),initial:t.isSameNodeCaret(r)?null:i(t),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class xc{constructor(e,t){he(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,o]=this.getSliceIndices(),i=e.getTextContent();return ft(e.setTextContent(i.slice(0,r)+i.slice(o)),t,r)}}function Do(n){return Ye(n,H(j(),n.direction))}function Sc(n){return Ye(n,n)}function Ye(n,e){return n.direction!==e.direction&&N(265),new Ao(n,e,n.direction)}function ir(n){const{initial:e,hasNext:t,step:r,map:o}=n;let i=e;return{[Symbol.iterator](){return this},next(){if(!t(i))return{done:!0,value:void 0};const s={done:!1,value:o(i)};return i=r(i),s}}}function yl(n,e){const t=En(n.origin,e.origin);switch(t===null&&N(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",o=e.type==="text";return r&&o?function(i,s){return Math.sign(i-s)}(n.offset,e.offset):n.type===e.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Cl(t)}}function Cl(n){const{a:e,b:t}=n,r=e.__key,o=t.__key;let i=e,s=t;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return i===null?1:-1}function vn(n,e){return e.is(n)}function Di(n){return x(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function En(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,o]=Di(n);r;o=r,r=r.getParent())t.set(r,o);for(let[r,o]=Di(e);r;o=r,r=r.getParent()){const i=t.get(r);if(i!==void 0)return i===null?(vn(n,r)||N(276),{commonAncestor:r,type:"ancestor"}):o===null?(vn(e,r)||N(277),{commonAncestor:r,type:"descendant"}):((x(i)||vn(n,i))&&(x(o)||vn(e,o))&&r.is(i.getParent())&&r.is(o.getParent())||N(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function Ie(n,e){const{type:t,key:r,offset:o}=n,i=cc(n.key);return t==="text"?(O(i)||N(266,i.getType(),r),ft(i,e,o)):(x(i)||N(267,i.getType(),r),bc(i,n.offset,e))}function rn(n,e){const{origin:t,direction:r}=e,o=r==="next";je(e)?n.set(t.getKey(),e.offset,"text"):ut(e)?O(t)?n.set(t.getKey(),Ue(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(o?1:0),"element"):(ye(e)&&x(t)||N(268),n.set(t.getKey(),o?0:t.getChildrenSize(),"element"))}function vc(n){const e=A(),t=E(e)?e:fo();return On(t,n),se(t),t}function On(n,e){rn(n.anchor,e.anchor),rn(n.focus,e.focus)}function Fi(n){const{anchor:e,focus:t}=n,r=Ie(e,"next"),o=Ie(t,"next"),i=yl(r,o)<=0?"next":"previous";return Ye(kt(r,i),kt(o,i))}function sr(n){const{direction:e,origin:t}=n,r=H(t,Pt(e)).getNodeAtCaret();return r?H(r,e):xe(t.getParentOrThrow(),e)}function Pi(n,e="root"){const t=[n];for(let r=ye(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(sr(r));return t}function Nr(n){return!!n&&n.origin.isAttached()}function wc(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let o=e;const i=Sl(n,r),s=Pi(i.anchor,t),l=Pi(i.focus.getFlipped(),t),a=new Set,c=[];for(const h of i.iterNodeCarets(t))if(ye(h))a.add(h.origin.getKey());else if(ut(h)){const{origin:p}=h;x(p)&&!a.has(p.getKey())||c.push(p)}for(const h of c)h.remove();for(const h of i.getTextSlices()){if(!h)continue;const{origin:p}=h.caret,_=p.getTextContentSize(),y=sr(H(p,r)),m=p.getMode();if(Math.abs(h.distance)===_&&o==="removeEmptySlices"||m==="token"&&h.distance!==0)y.remove();else if(h.distance!==0){o="removeEmptySlices";let C=h.removeTextSlice();const w=h.caret.origin;if(m==="segmented"){const k=C.origin,S=Z(k.getTextContent()).setStyle(k.getStyle()).setFormat(k.getFormat());y.replaceOrInsert(S),C=ft(S,r,C.offset)}w.is(s[0].origin)&&(s[0]=C),w.is(l[0].origin)&&(l[0]=C.getFlipped())}}let u,d;for(const h of s)if(Nr(h)){u=Te(h);break}for(const h of l)if(Nr(h)){d=Te(h);break}const f=function(h,p,_){if(!h||!p)return null;const y=h.getParentAtCaret(),m=p.getParentAtCaret();if(!y||!m)return null;const C=y.getParents().reverse();C.push(y);const w=m.getParents().reverse();w.push(m);const k=Math.min(C.length,w.length);let S;for(S=0;S<k&&C[S]===w[S];S++);const T=(D,P)=>{let B;for(let I=S;I<D.length;I++){const L=D[I];if(Ke(L))return;!B&&P(L)&&(B=L)}return B},b=T(C,ge),v=b&&T(w,D=>_.has(D.getKey())&&ge(D));return b&&v?[b,v]:null}(u,d,a);if(f){const[h,p]=f;xe(h,"previous").splice(0,p.getChildren()),p.remove()}const g=[u,d,...s,...l].find(Nr);if(g)return Sc(kt(Te(g),n.direction));N(269,JSON.stringify(s.map(h=>h.origin.__key)))}function Te(n){const e=function(o){let i=o;for(;ye(i);){const s=nn(i);if(!ye(s))break;i=s}return i}(n.getLatest()),{direction:t}=e;if(O(e.origin))return je(e)?e:ft(e.origin,t,t);const r=e.getAdjacentCaret();return ut(r)&&O(r.origin)?ft(r.origin,t,Pt(t)):e}function xl(n){return je(n)&&n.offset!==Ue(n.origin,n.direction)}function kt(n,e){return n.direction===e?n:n.getFlipped()}function Sl(n,e){return n.direction===e?n:Ye(kt(n.focus,e),kt(n.anchor,e))}function bc(n,e,t){let r=xe(n,"next");for(let o=0;o<e;o++){const i=r.getAdjacentCaret();if(i===null)break;r=i}return kt(r,t)}const vl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Nc=vl?R.useLayoutEffect:R.useEffect,wn={tag:qt};function Yu({initialConfig:n,children:e}){const t=R.useMemo(()=>{const{theme:r,namespace:o,nodes:i,onError:s,editorState:l,html:a}=n,c=Jl(null,r),u=Qa({editable:n.editable,html:a,namespace:o,nodes:i,onError:d=>s(d,u),theme:r});return function(d,f){if(f!==null){if(f===void 0)d.update(()=>{const g=j();if(g.isEmpty()){const h=Q();g.append(h);const p=vl?document.activeElement:null;(A()!==null||p!==null&&p===d.getRootElement())&&h.select()}},wn);else if(f!==null)switch(typeof f){case"string":{const g=d.parseEditorState(f);d.setEditorState(g,wn);break}case"object":d.setEditorState(f,wn);break;case"function":d.update(()=>{j().isEmpty()&&f(d)},wn)}}}(u,l),[u,c]},[]);return Nc(()=>{const r=n.editable,[o]=t;o.setEditable(r===void 0||r)},[]),le.jsx(os.Provider,{value:t,children:e})}const Tc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?R.useLayoutEffect:R.useEffect;function Gu({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:t}){const[r]=dt();return Tc(()=>{if(t)return r.registerUpdateListener(({editorState:o,dirtyElements:i,dirtyLeaves:s,prevEditorState:l,tags:a})=>{e&&i.size===0&&s.size===0||n&&a.has(qt)||l.isEmpty()||t(o,r,a)})},[r,n,e,t]),null}const kc=new Map;function Li(n){let e=n;for(;e!=null;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function Ri(n){const e=n.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(n)]}function Xu(n,e,t,r,o){const i=e.getKey(),s=r.getKey(),l=document.createRange();let a=n.getElementByKey(i),c=n.getElementByKey(s),u=t,d=o;if(O(e)&&(a=Li(a)),O(r)&&(c=Li(c)),e===void 0||r===void 0||a===null||c===null)return null;a.nodeName==="BR"&&([a,u]=Ri(a)),c.nodeName==="BR"&&([c,d]=Ri(c));const f=a.firstChild;a===c&&f!=null&&f.nodeName==="BR"&&u===0&&d===0&&(d=1);try{l.setStart(a,u),l.setEnd(c,d)}catch{return null}return!l.collapsed||u===d&&i===s||(l.setStart(c,d),l.setEnd(a,u)),l}function Qu(n,e){const t=n.getRootElement();if(t===null)return[];const r=t.getBoundingClientRect(),o=getComputedStyle(t),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s=Array.from(e.getClientRects());let l,a=s.length;s.sort((c,u)=>{const d=c.top-u.top;return Math.abs(d)<=3?c.left-u.left:d});for(let c=0;c<a;c++){const u=s[c],d=l&&l.top<=u.top&&l.top+l.height>u.top&&l.left+l.width>u.left,f=u.width+i===r.width;d||f?(s.splice(c--,1),a--):l=u}return s}function Ec(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[o,i]=r.split(/:([^]+)/);o&&i&&(e[o.trim()]=i.trim())}return e}function wl(n,e){const t=n.getStartEndPoints();if(e.isSelected(n)&&!Fe(e)&&t!==null){const[r,o]=t,i=n.isBackward(),s=r.getNode(),l=o.getNode(),a=e.is(s),c=e.is(l);if(a||c){const[u,d]=Jr(n),f=s.is(l),g=e.is(i?l:s),h=e.is(i?s:l);let p,_=0;f?(_=u>d?d:u,p=u>d?u:d):g?(_=i?d:u,p=void 0):h&&(_=0,p=i?u:d),e.__text=e.__text.slice(_,p)}}return e}function Oc(n){const e=n.getStyle(),t=Ec(e);kc.set(e,t)}function Mc(n,e){const t=n.getFormatType(),r=n.getIndent();t!==e.getFormatType()&&e.setFormat(t),r!==e.getIndent()&&e.setIndent(r)}function Zu(n,e,t=Mc){if(n===null)return;const r=n.getStartEndPoints(),o=new Map;let i=null;if(r){const[s,l]=r;i=fo(),i.anchor.set(s.key,s.offset,s.type),i.focus.set(l.key,l.offset,l.type);const a=Tr(s.getNode(),ge),c=Tr(l.getNode(),ge);x(a)&&o.set(a.getKey(),a),x(c)&&o.set(c.getKey(),c)}for(const s of n.getNodes())if(x(s)&&ge(s))o.set(s.getKey(),s);else if(r===null){const l=Tr(s,ge);x(l)&&o.set(l.getKey(),l)}for(const[s,l]of o){const a=e();t(l,a),l.replace(a,!0),i&&(s===i.anchor.key&&i.anchor.set(a.getKey(),i.anchor.offset,i.anchor.type),s===i.focus.key&&i.focus.set(a.getKey(),i.focus.offset,i.focus.type))}i&&n.is(A())&&se(i)}function bl(n){const e=n.anchor.getNode(),t=re(e)?e:e.getParentOrThrow(),r=or().getElementByKey(t.getKey());if(r===null)return!1;const o=r.ownerDocument.defaultView;return o===null?!1:o.getComputedStyle(r).writingMode==="vertical-rl"}function Ii(n,e){let t=bl(n)?!e:e;Nl(n)&&(t=!t);const r=Ie(n.focus,t?"previous":"next");if(xl(r))return!1;for(const o of Do(r)){if(ye(o))return!o.origin.isInline();if(!x(o.origin)){if(K(o.origin))return!0;break}}return!1}function Ac(n,e,t,r){n.modify(e?"extend":"move",t,r)}function Nl(n){const e=n.anchor.getNode();return(re(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function $i(n,e,t){const r=Nl(n);let o;o=bl(n)||r?!t:t,Ac(n,e,o,"character")}function Tr(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function Dc(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const dn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Fc=dn&&"documentMode"in document?document.documentMode:null,Pc=dn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Lc=dn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!dn||!("InputEvent"in window)||Fc)&&"getTargetRanges"in new window.InputEvent("input");function Tl(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function lr(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}const Rc=dn,ef=Pc,Ic=Lc;function Ne(n,...e){const t=Tl(...e);t.length>0&&n.classList.add(...t)}function Mn(n,...e){const t=Tl(...e);t.length>0&&n.classList.remove(...t)}function tf(n,e){return Array.from($c(n))}function $c(n,e){return Kc("next",n)}function Kc(n,e,t){const r=j(),o=e||r,i=x(o)?xe(o,n):H(o,n),s=zc(o),l=function(c,u){const d=Ki(H(c,u));return d&&d[0]}(o,n);let a=s;return ir({hasNext:c=>c!==null,initial:i,map:c=>({depth:a,node:c.origin}),step:c=>{if(c.isSameNodeCaret(l))return null;ye(c)&&a++;const u=Ki(c);return!u||u[0].isSameNodeCaret(l)?null:(a+=u[1],u[0])}})}function zc(n){let e=-1;for(let t=n;t!==null;t=t.getParent())e++;return e}function Wc(n){const e=Et(n,t=>x(t)&&!t.isInline());return x(e)||Dc(4,n.__key),e}const Et=(n,e)=>{let t=n;for(;t!==j()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function nf(n,e,t,r){const o=i=>i instanceof e;return n.registerNodeTransform(e,i=>{const s=(l=>{const a=l.getChildren();for(let d=0;d<a.length;d++){const f=a[d];if(o(f))return null}let c=l,u=l;for(;c!==null;)if(u=c,c=c.getParent(),o(c))return{child:u,parent:c};return null})(i);if(s!==null){const{child:l,parent:a}=s;if(l.is(i)){r(a,i);const c=l.getNextSiblings(),u=c.length;if(a.insertAfter(l),u!==0){const d=t(a);l.insertAfter(d);for(let f=0;f<u;f++)d.append(c[f])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})}function Ze(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}let kr=!(Ic||!Rc)&&void 0;function rf(n){let e=1;if(function(){if(kr===void 0){const t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);const r=t.getBoundingClientRect();t.style.setProperty("zoom","2"),kr=t.getBoundingClientRect().width===r.width,document.body.removeChild(t)}return kr}())for(;n;)e*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return e}function kl(n,e){const t=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(e(o))t.push(o);else if(x(o))for(const i of Bc(o))r.push(i);return t}function Bc(n){return Jc(xe(n,"previous"))}function Jc(n){return ir({hasNext:ut,initial:n.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function of(n){sr(H(n,"next")).splice(1,n.getChildren())}function Ki(n,e="root"){let t=0,r=n,o=nn(r);for(;o===null;){if(t--,o=r.getParentCaret(e),!o)return null;r=o,o=nn(r)}return o&&[o,t]}function jc(n,e){const t=e.body?e.body.childNodes:[];let r=[];const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(!Ol.has(s.nodeName)){const l=Ml(s,n,o,!1);l!==null&&(r=r.concat(l))}}return function(i){for(const s of i)s.getNextSibling()instanceof _o&&s.insertAfter(lt());for(const s of i){const l=s.getChildren();for(const a of l)s.insertBefore(a);s.remove()}}(o),r}function Uc(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=j().getChildren();for(let o=0;o<r.length;o++)El(n,r[o],t,e);return t.innerHTML}function El(n,e,t,r=null){let o=r===null||e.isSelected(r);const i=x(e)&&e.excludeFromCopy("html");let s=e;if(r!==null){let g=To(e);g=O(g)&&r!==null?wl(r,g):g,s=g}const l=x(s)?s.getChildren():[],a=yo(n,s.getType());let c;c=a&&a.exportDOM!==void 0?a.exportDOM(n,s):s.exportDOM(n);const{element:u,after:d}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let g=0;g<l.length;g++){const h=l[g],p=El(n,h,f,r);!o&&x(e)&&p&&e.extractWithChild(h,r,"html")&&(o=!0)}if(o&&!i){if((U(u)||Yr(u))&&u.append(f),t.append(u),d){const g=d.call(s,u);g&&(Yr(u)?u.replaceChildren(g):u.replaceWith(g))}}else t.append(f);return o}const Ol=new Set(["STYLE","SCRIPT"]);function Ml(n,e,t,r,o=new Map,i){let s=[];if(Ol.has(n.nodeName))return s;let l=null;const a=function(h,p){const{nodeName:_}=h,y=p._htmlConversions.get(_.toLowerCase());let m=null;if(y!==void 0)for(const C of y){const w=C(h);w!==null&&(m===null||(m.priority||0)<=(w.priority||0))&&(m=w)}return m!==null?m.conversion:null}(n,e),c=a?a(n):null;let u=null;if(c!==null){u=c.after;const h=c.node;if(l=Array.isArray(h)?h[h.length-1]:h,l!==null){for(const[,p]of o)if(l=p(l,i),!l)break;l&&s.push(...Array.isArray(h)?h:[l])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}const d=n.childNodes;let f=[];const g=(l==null||!Ke(l))&&(l!=null&&jr(l)||r);for(let h=0;h<d.length;h++)f.push(...Ml(d[h],e,t,g,new Map(o),l));return u!=null&&(f=u(f)),Vn(n)&&(f=Vc(n,f,g?()=>{const h=new _o;return t.push(h),h}:Q)),l==null?f.length>0?s=s.concat(f):Vn(n)&&function(h){return h.nextSibling==null||h.previousSibling==null?!1:Gr(h.nextSibling)&&Gr(h.previousSibling)}(n)&&(s=s.concat(lt())):x(l)&&l.append(...f),s}function Vc(n,e,t){const r=n.style.textAlign,o=[];let i=[];for(let s=0;s<e.length;s++){const l=e[s];if(jr(l))r&&!l.getFormat()&&l.setFormat(r),o.push(l);else if(i.push(l),s===e.length-1||s<e.length-1&&jr(e[s+1])){const a=t();a.setFormat(r),a.append(...i),o.push(a),i=[]}}return o}function qn(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function qc(n,e=A()){return e==null&&qn(166),E(e)&&e.isCollapsed()||e.getNodes().length===0?"":Uc(n,e)}function Hc(n,e=A()){return e==null&&qn(166),E(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Yc(n,e))}function sf(n,e){const t=n.getData("text/plain")||n.getData("text/uri-list");t!=null&&e.insertRawText(t)}function zi(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const l=JSON.parse(r);if(l.namespace===t._config.namespace&&Array.isArray(l.nodes))return Wi(t,Gc(l.nodes),e)}catch{}const o=n.getData("text/html"),i=n.getData("text/plain");if(o&&i!==o)try{const l=new DOMParser().parseFromString(function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(a):a}(o),"text/html");return Wi(t,jc(t,l),e)}catch{}const s=i||n.getData("text/uri-list");if(s!=null)if(E(e)){const l=s.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){const c=A();if(E(c)){const u=l[a];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([ln()]):c.insertText(u)}}}else e.insertRawText(s)}function Wi(n,e,t){n.dispatchCommand(xa,{nodes:e,selection:t})||(t.insertNodes(e),function(r){if(E(r)&&r.isCollapsed()){const o=r.anchor;let i=null;const s=Ie(o,"previous");if(s)if(je(s))i=s.origin;else{const l=Ye(s,xe(j(),"next").getFlipped());for(const a of l){if(O(a.origin)){i=a.origin;break}if(x(a.origin)&&!a.origin.isInline())break}}if(i&&O(i)){const l=i.getFormat(),a=i.getStyle();r.format===l&&r.style===a||(r.format=l,r.style=a,r.dirty=!0)}}}(t))}function Al(n,e,t,r=[]){let o=e===null||t.isSelected(e);const i=x(t)&&t.excludeFromCopy("html");let s=t;if(e!==null){let c=To(t);c=O(c)&&e!==null?wl(e,c):c,s=c}const l=x(s)?s.getChildren():[],a=function(c){const u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&qn(58,d.name),x(c)){const f=u.children;Array.isArray(f)||qn(59,d.name)}return u}(s);if(O(s)){const c=s.__text;c.length>0?a.text=c:o=!1}for(let c=0;c<l.length;c++){const u=l[c],d=Al(n,e,u,a.children);!o&&x(t)&&d&&t.extractWithChild(u,e,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let c=0;c<a.children.length;c++){const u=a.children[c];r.push(u)}return o}function Yc(n,e){const t=[],r=j().getChildren();for(let o=0;o<r.length;o++)Al(n,e,r[o],t);return{namespace:n._config.namespace,nodes:t}}function Gc(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],o=Ua(r);O(o)&&Oc(o),e.push(o)}return e}let gt=null;async function Bi(n,e,t){if(gt!==null)return!1;if(e!==null)return new Promise((c,u)=>{n.update(()=>{c(Ji(n,e,t))})});const r=n.getRootElement(),o=n._window||window,i=window.document,s=Ce(o);if(r===null||s===null)return!1;const l=i.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(i.createTextNode("#")),r.append(l);const a=new Range;return a.setStart(l,0),a.setEnd(l,1),s.removeAllRanges(),s.addRange(a),new Promise((c,u)=>{const d=n.registerCommand(Gn,f=>(Ze(f,ClipboardEvent)&&(d(),gt!==null&&(window.clearTimeout(gt),gt=null),c(Ji(n,f,t))),!0),Xa);gt=window.setTimeout(()=>{d(),gt=null,c(!1)},50),i.execCommand("copy"),l.remove()})}function Ji(n,e,t){if(t===void 0){const o=Ce(n._window);if(!o)return!1;const i=o.anchorNode,s=o.focusNode;if(i!==null&&s!==null&&!un(n,i,s))return!1;const l=A();if(l===null)return!1;t=Qc(l)}e.preventDefault();const r=e.clipboardData;return r!==null&&(Zc(r,t),!0)}const Xc=[["text/html",qc],["application/x-lexical-editor",Hc]];function Qc(n=A()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=or();for(const[r,o]of Xc){const i=o(t,n);i!==null&&(e[r]=i)}}return e}function Zc(n,e){for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function ji(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const Lt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,eu=Lt&&"documentMode"in document?document.documentMode:null,tu=!(!Lt||!("InputEvent"in window)||eu)&&"getTargetRanges"in new window.InputEvent("input"),nu=Lt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ui=Lt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ru=Lt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ou=Lt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ru,Vi=F("DRAG_DROP_PASTE_FILE");class Fo extends ke{static getType(){return"quote"}static clone(e){return new Fo(e.__key)}createDOM(e){const t=document.createElement("blockquote");return Ne(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:iu,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(U(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Dl().updateFromJSON(e)}insertNewAfter(e,t){const r=Q(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,t),r}collapseAtStart(){const e=Q();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Dl(){return ze(new Fo)}class Po extends ke{static getType(){return"heading"}static clone(e){return new Po(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,r=document.createElement(t),o=e.theme.heading;if(o!==void 0){const i=o[t];Ne(r,i)}return r}updateDOM(e,t,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:pt,priority:0}),h2:e=>({conversion:pt,priority:0}),h3:e=>({conversion:pt,priority:0}),h4:e=>({conversion:pt,priority:0}),h5:e=>({conversion:pt,priority:0}),h6:e=>({conversion:pt,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&qi(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>qi(e)?{conversion:t=>({node:Bt("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(U(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Bt(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const r=e?e.anchor.offset:0,o=this.getLastDescendant(),i=!o||e&&e.anchor.key===o.getKey()&&r===o.getTextContentSize()||!e?Q():Bt(this.getTag()),s=this.getDirection();if(i.setDirection(s),this.insertAfter(i,t),r===0&&!this.isEmpty()&&e){const l=Q();l.select(),this.replace(l,!0)}return i}collapseAtStart(){const e=this.isEmpty()?Q():Bt(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function qi(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function pt(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=Bt(e),n.style!==null&&(ko(n,t),t.setFormat(n.style.textAlign))),{node:t}}function iu(n){const e=Dl();return n.style!==null&&(e.setFormat(n.style.textAlign),ko(n,e)),{node:e}}function Bt(n="h1"){return ze(new Po(n))}function bn(n){let e=null;if(Ze(n,DragEvent)?e=n.dataTransfer:Ze(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),o=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),o]}function Hi(n){const e=A();if(!E(e))return!1;const t=new Set,r=e.getNodes();for(let o=0;o<r.length;o++){const i=r[o],s=i.getKey();if(t.has(s))continue;const l=Et(i,c=>x(c)&&!c.isInline());if(l===null)continue;const a=l.getKey();l.canIndent()&&!t.has(a)&&(t.add(a),n(l))}return t.size>0}function Yi(n){const e=He(n);return K(e)}function Er(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function su(n){return lr(n.registerCommand(ws,e=>{const t=A();return!!ce(t)&&(t.clear(),!0)},$),n.registerCommand(et,e=>{const t=A();return E(t)?(t.deleteCharacter(e),!0):!!ce(t)&&(t.deleteNodes(),!0)},$),n.registerCommand(Zt,e=>{const t=A();return!!E(t)&&(t.deleteWord(e),!0)},$),n.registerCommand(en,e=>{const t=A();return!!E(t)&&(t.deleteLine(e),!0)},$),n.registerCommand(Ct,e=>{const t=A();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)zi(r,t,n);else if(E(t)){const o=e.data;return o&&t.insertText(o),!0}}return!0},$),n.registerCommand(Rr,()=>{const e=A();return!!E(e)&&(e.removeText(),!0)},$),n.registerCommand(Be,e=>{const t=A();return!!E(t)&&(t.formatText(e),!0)},$),n.registerCommand(Ta,e=>{const t=A();if(!E(t)&&!ce(t))return!1;const r=t.getNodes();for(const o of r){const i=Et(o,s=>x(s)&&!s.isInline());i!==null&&i.setFormat(e)}return!0},$),n.registerCommand(yt,e=>{const t=A();return!!E(t)&&(t.insertLineBreak(e),!0)},$),n.registerCommand(Kn,()=>{const e=A();return!!E(e)&&(e.insertParagraph(),!0)},$),n.registerCommand(ba,()=>(Ba([ln()]),!0),$),n.registerCommand(Na,()=>Hi(e=>{const t=e.getIndent();e.setIndent(t+1)}),$),n.registerCommand(Qo,()=>Hi(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),$),n.registerCommand(Es,e=>{const t=A();if(ce(t)){const r=t.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(E(t)){const r=Vr(t.focus,!0);if(!e.shiftKey&&K(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},$),n.registerCommand(Os,e=>{const t=A();if(ce(t)){const r=t.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(E(t)){if(function(o){const i=o.focus;return i.key==="root"&&i.offset===j().getChildrenSize()}(t))return e.preventDefault(),!0;const r=Vr(t.focus,!1);if(!e.shiftKey&&K(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},$),n.registerCommand(ks,e=>{const t=A();if(ce(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!E(t))return!1;if(Ii(t,!0)){const r=e.shiftKey;return e.preventDefault(),$i(t,r,!0),!0}return!1},$),n.registerCommand(Ts,e=>{const t=A();if(ce(t)){const o=t.getNodes();if(o.length>0)return e.preventDefault(),o[0].selectNext(0,0),!0}if(!E(t))return!1;const r=e.shiftKey;return!!Ii(t,!1)&&(e.preventDefault(),$i(t,r,!1),!0)},$),n.registerCommand(As,e=>{if(Yi(e.target))return!1;const t=A();if(E(t)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:o}=r;if(o.offset!==0)return!1;const i=o.getNode();if(re(i))return!1;const s=Wc(i);return s.getIndent()>0&&(s.is(i)||i.is(s.getFirstDescendant()))}(t))return e.preventDefault(),n.dispatchCommand(Qo,void 0);if(Ui&&navigator.language==="ko-KR")return!1}else if(!ce(t))return!1;return e.preventDefault(),n.dispatchCommand(et,!0)},$),n.registerCommand(Fs,e=>{if(Yi(e.target))return!1;const t=A();return!(!E(t)&&!ce(t))&&(e.preventDefault(),n.dispatchCommand(et,!1))},$),n.registerCommand(zn,e=>{const t=A();if(!E(t))return!1;if(Er(t),e!==null){if((Ui||nu||ou)&&tu)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(yt,!1)}return n.dispatchCommand(Kn,void 0)},$),n.registerCommand(Ds,()=>{const e=A();return!!E(e)&&(n.blur(),!0)},$),n.registerCommand(Ls,e=>{const[,t]=bn(e);if(t.length>0){const o=ji(e.clientX,e.clientY);if(o!==null){const{offset:i,node:s}=o,l=He(s);if(l!==null){const a=fo();if(O(l))a.anchor.set(l.getKey(),i,"text"),a.focus.set(l.getKey(),i,"text");else{const u=l.getParentOrThrow().getKey(),d=l.getIndexWithinParent()+1;a.anchor.set(u,d,"element"),a.focus.set(u,d,"element")}const c=Yt(a);se(c)}n.dispatchCommand(Vi,t)}return e.preventDefault(),!0}const r=A();return!!E(r)},$),n.registerCommand(Rs,e=>{const[t]=bn(e),r=A();return!(t&&!E(r))},$),n.registerCommand(Is,e=>{const[t]=bn(e),r=A();if(t&&!E(r))return!1;const o=ji(e.clientX,e.clientY);if(o!==null){const i=He(o.node);K(i)&&e.preventDefault()}return!0},$),n.registerCommand(Ir,()=>(oc(),!0),$),n.registerCommand(Gn,e=>(Bi(n,Ze(e,ClipboardEvent)?e:null),!0),$),n.registerCommand(co,e=>(async function(t,r){await Bi(r,Ze(t,ClipboardEvent)?t:null),r.update(()=>{const o=A();E(o)?o.removeText():ce(o)&&o.getNodes().forEach(i=>i.remove())})}(e,n),!0),$),n.registerCommand(ao,e=>{const[,t,r]=bn(e);return t.length>0&&!r?(n.dispatchCommand(Vi,t),!0):Ft(e.target)&&Co(e.target)?!1:A()!==null&&(function(o,i){o.preventDefault(),i.update(()=>{const s=A(),l=Ze(o,InputEvent)||Ze(o,KeyboardEvent)?null:o.clipboardData;l!=null&&s!==null&&zi(l,s,i)},{tag:Va})}(e,n),!0)},$),n.registerCommand(Ms,e=>{const t=A();return E(t)&&Er(t),!1},$),n.registerCommand(Ps,e=>{const t=A();return E(t)&&Er(t),!1},$))}function Xr(n,e){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Xr(n,e)}var Gi={error:null},lu=function(n){var e,t;function r(){for(var i,s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return(i=n.call.apply(n,[this].concat(l))||this).state=Gi,i.resetErrorBoundary=function(){for(var c,u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];i.props.onReset==null||(c=i.props).onReset.apply(c,d),i.reset()},i}t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,Xr(e,t),r.getDerivedStateFromError=function(i){return{error:i}};var o=r.prototype;return o.reset=function(){this.setState(Gi)},o.componentDidCatch=function(i,s){var l,a;(l=(a=this.props).onError)==null||l.call(a,i,s)},o.componentDidUpdate=function(i,s){var l,a,c,u,d=this.state.error,f=this.props.resetKeys;d!==null&&s.error!==null&&((c=i.resetKeys)===void 0&&(c=[]),(u=f)===void 0&&(u=[]),c.length!==u.length||c.some(function(g,h){return!Object.is(g,u[h])}))&&((l=(a=this.props).onResetKeysChange)==null||l.call(a,i.resetKeys,f),this.reset())},o.render=function(){var i=this.state.error,s=this.props,l=s.fallbackRender,a=s.FallbackComponent,c=s.fallback;if(i!==null){var u={error:i,resetErrorBoundary:this.resetErrorBoundary};if(R.isValidElement(c))return c;if(typeof l=="function")return l(u);if(a)return R.createElement(a,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(R.Component);function lf({children:n,onError:e}){return le.jsx(lu,{fallback:le.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}const au=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?R.useLayoutEffect:R.useEffect;function cu(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function uu(){return function(n){const[e]=dt(),t=R.useMemo(()=>n(e),[e,n]),[r,o]=R.useState(()=>t.initialValueFn()),i=R.useRef(r);return au(()=>{const{initialValueFn:s,subscribe:l}=t,a=s();return i.current!==a&&(i.current=a,o(a)),l(c=>{i.current=c,o(c)})},[t,n]),r}(cu)}function fu(){return j().getTextContent()}function du(n,e=!0){if(n)return!1;let t=fu();return e&&(t=t.trim()),t===""}function hu(n){if(!du(n,!1))return!1;const e=j().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const o=e[r];if(K(o))return!1;if(x(o)){if(!sl(o)||o.__indent!==0)return!1;const i=o.getChildren(),s=i.length;for(let l=0;l<s;l++){const a=i[r];if(!O(a))return!1}}}return!0}function Fl(n){return()=>hu(n)}function gu(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const o=n.getRootElement();if(document.activeElement!==o)return;const i=r.data;if(typeof i=="string"){let s;try{s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const l=s.payload;if(l&&l.functionId==="makeChanges"){const a=l.args;if(a){const[c,u,d,f,g,h]=a;n.update(()=>{const p=A();if(E(p)){const _=p.anchor;let y=_.getNode(),m=0,C=0;if(O(y)&&c>=0&&u>=0&&(m=c,C=c+u,p.setTextNodeRange(y,m,y,C)),m===C&&d===""||(p.insertRawText(d),y=_.getNode()),O(y)){m=f,C=f+g;const w=y.getTextContentSize();m=m>w?w:m,C=C>w?w:C,p.setTextNodeRange(y,m,y,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}const Qr=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?R.useLayoutEffect:R.useEffect;function Xi(n){return n.getEditorState().read(Fl(n.isComposing()))}function af({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=dt(),o=function(i,s){const[l,a]=R.useState(()=>i.getDecorators());return Qr(()=>i.registerDecoratorListener(c=>{Ko.flushSync(()=>{a(c)})}),[i]),R.useEffect(()=>{a(i.getDecorators())},[i]),R.useMemo(()=>{const c=[],u=Object.keys(l);for(let d=0;d<u.length;d++){const f=u[d],g=le.jsx(s,{onError:p=>i._onError(p),children:le.jsx(R.Suspense,{fallback:null,children:l[f]})}),h=i.getElementByKey(f);h!==null&&c.push(Ko.createPortal(g,h,f))}return c},[s,l,i])}(r,t);return function(i){Qr(()=>lr(su(i),gu(i)),[i])}(r),le.jsxs(le.Fragment,{children:[n,le.jsx(pu,{content:e}),o]})}function pu({content:n}){const[e]=dt(),t=function(o){const[i,s]=R.useState(()=>Xi(o));return Qr(()=>{function l(){const a=Xi(o);s(a)}return l(),lr(o.registerUpdateListener(()=>{l()}),o.registerEditableListener(()=>{l()}))},[o]),i}(e),r=uu();return t?typeof n=="function"?n(r):n:null}function cf({defaultSelection:n}){const[e]=dt();return R.useEffect(()=>{e.focus(()=>{const t=document.activeElement,r=e.getRootElement();r===null||t!==null&&r.contains(t)||r.focus({preventScroll:!0})},{defaultSelection:n})},[n,e]),null}const _u=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?R.useLayoutEffect:R.useEffect;function uf({onClear:n}){const[e]=dt();return _u(()=>e.registerCommand(Ea,t=>(e.update(()=>{if(n==null){const r=j(),o=A(),i=Q();r.clear(),r.append(i),o!==null&&i.select(),E(o)&&(o.format=0)}else n()}),!0),$),[e,n]),null}const Pl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?R.useLayoutEffect:R.useEffect;function mu({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:o,ariaErrorMessage:i,ariaExpanded:s,ariaInvalid:l,ariaLabel:a,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:d,ariaRequired:f,autoCapitalize:g,className:h,id:p,role:_="textbox",spellCheck:y=!0,style:m,tabIndex:C,"data-testid":w,...k},S){const[T,b]=R.useState(n.isEditable()),v=R.useCallback(P=>{P&&P.ownerDocument&&P.ownerDocument.defaultView?n.setRootElement(P):n.setRootElement(null)},[n]),D=R.useMemo(()=>function(...P){return B=>{P.forEach(I=>{typeof I=="function"?I(B):I!=null&&(I.current=B)})}}(S,v),[v,S]);return Pl(()=>(b(n.isEditable()),n.registerEditableListener(P=>{b(P)})),[n]),le.jsx("div",{"aria-activedescendant":T?e:void 0,"aria-autocomplete":T?t:"none","aria-controls":T?r:void 0,"aria-describedby":o,...i!=null?{"aria-errormessage":i}:{},"aria-expanded":T&&_==="combobox"?!!s:void 0,...l!=null?{"aria-invalid":l}:{},"aria-label":a,"aria-labelledby":c,"aria-multiline":u,"aria-owns":T?d:void 0,"aria-readonly":!T||void 0,"aria-required":f,autoCapitalize:g,className:h,contentEditable:T,"data-testid":w,id:p,ref:D,role:_,spellCheck:y,style:m,tabIndex:C,...k})}const yu=R.forwardRef(mu);function Qi(n){return n.getEditorState().read(Fl(n.isComposing()))}const ff=R.forwardRef(Cu);function Cu(n,e){const{placeholder:t,...r}=n,[o]=dt();return le.jsxs(le.Fragment,{children:[le.jsx(yu,{editor:o,...r,ref:e}),t!=null&&le.jsx(xu,{editor:o,content:t})]})}function xu({content:n,editor:e}){const t=function(s){const[l,a]=R.useState(()=>Qi(s));return Pl(()=>{function c(){const u=Qi(s);a(u)}return c(),lr(s.registerUpdateListener(()=>{c()}),s.registerEditableListener(()=>{c()}))},[s]),l}(e),[r,o]=R.useState(e.isEditable());if(R.useLayoutEffect(()=>(o(e.isEditable()),e.registerEditableListener(s=>{o(s)})),[e]),!t)return null;let i=null;return typeof n=="function"?i=n(r):n!==null&&(i=n),i===null?null:le.jsx("div",{"aria-hidden":!0,children:i})}const Lo=/^(\d+(?:\.\d+)?)px$/,vt={BOTH:3,NO_STATUS:0,ROW:1};class hn extends ke{static getType(){return"tablecell"}static clone(e){return new hn(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:Zi,priority:0}),th:e=>({conversion:Zi,priority:0})}}static importJSON(e){return Ll().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=vt.NO_STATUS,t=1,r,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=r,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),Zr(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),Ne(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(U(t.element)){const r=t.element;r.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),r.style.border="1px solid black",this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),r.style.width=`${this.getWidth()||75}px`,r.style.verticalAlign=this.getVerticalAlign()||"top",r.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(r.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...Zr(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=vt.BOTH){const r=this.getWritable();return r.__headerState=e&t|r.__headerState&~t,r}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==vt.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function Zr(n){return n==="middle"||n==="bottom"}function Zi(n){const e=n,t=n.nodeName.toLowerCase();let r;Lo.test(e.style.width)&&(r=parseFloat(e.style.width));const o=Ll(t==="th"?vt.ROW:vt.NO_STATUS,e.colSpan,r);o.__rowSpan=e.rowSpan;const i=e.style.backgroundColor;i!==""&&(o.__backgroundColor=i);const s=e.style.verticalAlign;Zr(s)&&(o.__verticalAlign=s);const l=e.style,a=(l&&l.textDecoration||"").split(" "),c=l.fontWeight==="700"||l.fontWeight==="bold",u=a.includes("line-through"),d=l.fontStyle==="italic",f=a.includes("underline");return{after:g=>{const h=[];let p=null;const _=()=>{if(p){const y=p.getFirstChild();tt(y)&&p.getChildrenSize()===1&&y.remove()}};for(const y of g)lc(y)||O(y)||tt(y)?(O(y)&&(c&&y.toggleFormat("bold"),u&&y.toggleFormat("strikethrough"),d&&y.toggleFormat("italic"),f&&y.toggleFormat("underline")),p?p.append(y):(p=Q().append(y),h.push(p))):(h.push(y),_(),p=null);return _(),h.length===0&&h.push(Q()),h},node:o}}function Ll(n=vt.NO_STATUS,e=1,t){return ze(new hn(n,e,t))}function fe(n){return n instanceof hn}function q(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class ar extends ke{static getType(){return"tablerow"}static clone(e){return new ar(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:Su,priority:0})}}static importJSON(e){return Rl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),Ne(t,e.theme.tableRow),t}extractWithChild(e,t,r){return r==="html"}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function Su(n){const e=n;let t;return Lo.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:r=>kl(r,fe),node:Rl(t)}}function Rl(n){return ze(new ar(n))}function gn(n){return n instanceof ar}const Il=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,vu=Il&&"documentMode"in document?document.documentMode:null;Il&&"InputEvent"in window&&!vu&&new window.InputEvent("input");function wu(n,e,t){const[r,o,i]=$l(n,e,t);return o===null&&q(207),i===null&&q(208),[r,o,i]}function $l(n,e,t){const r=[];let o=null,i=null;function s(a){let c=r[a];return c===void 0&&(r[a]=c=[]),c}const l=n.getChildren();for(let a=0;a<l.length;a++){const c=l[a];gn(c)||q(209);const u=s(a);for(let d=c.getFirstChild(),f=0;d!=null;d=d.getNextSibling()){for(fe(d)||q(147);u[f]!==void 0;)f++;const g={cell:d,startColumn:f,startRow:a},{__rowSpan:h,__colSpan:p}=d;for(let _=0;_<h&&!(a+_>=l.length);_++){const y=s(a+_);for(let m=0;m<p;m++)y[f+m]=g}e!==null&&o===null&&e.is(d)&&(o=g),t!==null&&i===null&&t.is(d)&&(i=g)}}return[r,o,i]}function bu(n){let e;if(n instanceof hn)e=n;else if("__type"in n){const o=Et(n,fe);fe(o)||q(148),e=o}else{const o=Et(n.getNode(),fe);fe(o)||q(148),e=o}const t=e.getParent();gn(t)||q(149);const r=t.getParent();return zl(r)||q(210),[e,t,r]}function Nu(n,e,t){let r,o=Math.min(e.startColumn,t.startColumn),i=Math.min(e.startRow,t.startRow),s=Math.max(e.startColumn+e.cell.__colSpan-1,t.startColumn+t.cell.__colSpan-1),l=Math.max(e.startRow+e.cell.__rowSpan-1,t.startRow+t.cell.__rowSpan-1);do{r=!1;for(let a=0;a<n.length;a++)for(let c=0;c<n[0].length;c++){const u=n[a][c];if(!u)continue;const d=u.startColumn+u.cell.__colSpan-1,f=u.startRow+u.cell.__rowSpan-1,g=u.startColumn<=s&&d>=o,h=u.startRow<=l&&f>=i;if(g&&h){const p=Math.min(o,u.startColumn),_=Math.max(s,d),y=Math.min(i,u.startRow),m=Math.max(l,f);p===o&&_===s&&y===i&&m===l||(o=p,s=_,i=y,l=m,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function es(n){const[e,,t]=bu(n),r=t.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let l=0;l<o;l++)s[l]=new Array(i);for(let l=0;l<o;l++){const a=r[l].getChildren();let c=0;for(let u=0;u<a.length;u++){for(;s[l][c];)c++;const d=a[u],f=d.__rowSpan||1,g=d.__colSpan||1;for(let h=0;h<f;h++)for(let p=0;p<g;p++)s[l+h][c+p]=d;if(e===d)return{colSpan:g,columnIndex:c,rowIndex:l,rowSpan:f};c+=g}}return null}function ts(n){const[[e,t,r,o],[i,s,l,a]]=["anchor","focus"].map(c=>{const u=n[c].getNode(),d=Et(u,fe);fe(d)||q(238,c,u.getKey(),u.getType());const f=d.getParent();gn(f)||q(239,c);const g=f.getParent();return zl(g)||q(240,c),[u,d,f,g]});return o.is(a)||q(241),{anchorCell:t,anchorNode:e,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:l,focusTable:a}}class Ro{constructor(e,t,r){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Tu(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,r){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||r!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=r,this._cachedNodes=null}clone(){return new Ro(this.tableKey,pe(this.anchor.key,this.anchor.offset,this.anchor.type),pe(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(fe).forEach(o=>{const i=o.getFirstChild();sl(i)&&(t|=i.getTextFormat())});const r=Ve[e];return!!(t&r)}insertNodes(e){const t=this.focus.getNode();x(t)||q(151),Yt(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=ts(this),r=es(e);r===null&&q(153);const o=es(t);o===null&&q(155);const i=Math.min(r.columnIndex,o.columnIndex),s=Math.max(r.columnIndex+r.colSpan-1,o.columnIndex+o.colSpan-1),l=Math.min(r.rowIndex,o.rowIndex),a=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1);return{fromX:Math.min(i,s),fromY:Math.min(l,a),toX:Math.max(i,s),toY:Math.max(l,a)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:t,anchorCell:r,focusCell:o}=ts(this),i=o.getParents()[1];if(i!==t){if(t.isParentOf(o)){const _=i.getParent();_==null&&q(159),this.set(this.tableKey,o.getKey(),_.getKey())}else{const _=t.getParent();_==null&&q(158),this.set(this.tableKey,_.getKey(),o.getKey())}return this.getNodes()}const[s,l,a]=wu(t,r,o),{minColumn:c,maxColumn:u,minRow:d,maxRow:f}=Nu(s,l,a),g=new Map([[t.getKey(),t]]);let h=null;for(let _=d;_<=f;_++)for(let y=c;y<=u;y++){const{cell:m}=s[_][y],C=m.getParent();gn(C)||q(160),C!==h&&(g.set(C.getKey(),C),h=C),g.has(m.getKey())||ku(m,w=>{g.set(w.getKey(),w)})}const p=Array.from(g.values());return Dt()||(this._cachedNodes=p),p}getTextContent(){const e=this.getNodes().filter(r=>fe(r));let t="";for(let r=0;r<e.length;r++){const o=e[r],i=o.__parent,s=(e[r+1]||{}).__parent;t+=o.getTextContent()+(s!==i?`
`:"	")}return t}}function Tu(n){return n instanceof Ro}function ku(n,e){const t=[[n]];for(let r=t.at(-1);r!==void 0&&t.length>0;r=t.at(-1)){const o=r.pop();o===void 0?t.pop():e(o)!==!1&&x(o)&&t.push(o.getChildren())}}function zt(n){return U(n)&&n.nodeName==="TABLE"}function Eu(n,e){for(let t=e,r=null;t!==null;t=t.getParent()){if(n.is(t))return r;fe(t)&&(r=t)}return null}function Ou(n,e,t){return Eu(n,He(e,t))}function ns(n,e,t){if(!e.theme.tableAlignment)return;const r=[],o=[];for(const i of["center","right"]){const s=e.theme.tableAlignment[i];s&&(i===t?o:r).push(s)}Mn(n,...r),Ne(n,...o)}const Mu=new WeakSet;function rs(n=or()){return Mu.has(n)}class cr extends ke{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new cr(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:Au,priority:1})}}static importJSON(e){return Kl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,r){return r==="html"}getDOMSlot(e){const t=zt(e)?e:e.querySelector("table");return zt(t)||q(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const r=document.createElement("table");this.__style&&(r.style.cssText=this.__style);const o=document.createElement("colgroup");if(r.appendChild(o),dc(o),Ne(r,e.theme.table),this.updateTableElement(null,r,e),rs(t)){const i=document.createElement("div"),s=e.theme.tableScrollableWrapper;return s?Ne(i,s):i.style.cssText="overflow-x: auto;",i.appendChild(r),this.updateTableWrapper(null,i,r,e),i}return r}updateTableWrapper(e,t,r,o){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(i,s,l,a){a>0?(Ne(i,l.theme.tableFrozenColumn),s.setAttribute("data-lexical-frozen-column","true")):(Mn(i,l.theme.tableFrozenColumn),s.removeAttribute("data-lexical-frozen-column"))}(t,r,o,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(i,s,l,a){a>0?(Ne(i,l.theme.tableFrozenRow),s.setAttribute("data-lexical-frozen-row","true")):(Mn(i,l.theme.tableFrozenRow),s.removeAttribute("data-lexical-frozen-row"))}(t,r,o,this.__frozenRowCount)}updateTableElement(e,t,r){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(o,i,s){s?(Ne(o,i.theme.tableRowStriping),o.setAttribute("data-lexical-row-striping","true")):(Mn(o,i.theme.tableRowStriping),o.removeAttribute("data-lexical-row-striping"))}(t,r,this.__rowStriping),function(o,i,s,l){const a=o.querySelector("colgroup");if(!a)return;const c=[];for(let u=0;u<s;u++){const d=document.createElement("col"),f=l&&l[u];f&&(d.style.width=`${f}px`),c.push(d)}a.replaceChildren(...c)}(t,0,this.getColumnCount(),this.getColWidths()),ns(t,r,this.getFormatType())}updateDOM(e,t,r){const o=this.getDOMSlot(t).element;return t===o===rs()||(U(i=t)&&i.nodeName==="DIV"&&this.updateTableWrapper(e,t,o,r),this.updateTableElement(e,o,r),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:r}=t;return{after:o=>{if(t.after&&(o=t.after(o)),!zt(o)&&U(o)&&(o=o.querySelector("table")),!zt(o))return null;ns(o,e._config,this.getFormatType());const[i]=$l(this,null,null),s=new Map;for(const u of i)for(const d of u){const f=d.cell.getKey();s.has(f)||s.set(f,{colSpan:d.cell.getColSpan(),startColumn:d.startColumn})}const l=new Set;for(const u of o.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const d=u.getAttribute("data-temporary-table-cell-lexical-key");if(d){const f=s.get(d);if(u.removeAttribute("data-temporary-table-cell-lexical-key"),f){s.delete(d);for(let g=0;g<f.colSpan;g++)l.add(g+f.startColumn)}}}const a=o.querySelector(":scope > colgroup");if(a){const u=Array.from(o.querySelectorAll(":scope > colgroup > col")).filter((d,f)=>l.has(f));a.replaceChildren(...u)}const c=o.querySelectorAll(":scope > tr");if(c.length>0){const u=document.createElement("tbody");for(const d of c)u.appendChild(d);o.append(u)}return o},element:!zt(r)&&U(r)?r.querySelector("table"):r}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:r,domRows:o}=t;for(let i=0;i<r;i++){const s=o[i];if(s!=null)for(let l=0;l<s.length;l++){const a=s[l];if(a==null)continue;const{elem:c}=a,u=Ou(this,c);if(u!==null&&e.is(u))return{x:l,y:i}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,r){const{domRows:o}=r,i=o[t];if(i==null)return null;const s=i[e<i.length?e:i.length-1];return s??null}getDOMCellFromCordsOrThrow(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(o==null)return null;const i=He(o.elem);return fe(i)?i:null}getCellNodeFromCordsOrThrow(e,t,r){const o=this.getCellNodeFromCords(e,t,r);if(!o)throw new Error("Node at cords not TableCellNode.");return o}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(r=>{fe(r)&&(t+=r.getColSpan())}),t}}function Au(n){const e=Kl();n.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const t=n.querySelector(":scope > colgroup");if(t){let r=[];for(const o of t.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!Lo.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){r=void 0;break}r.push(parseFloat(i))}r&&e.setColWidths(r)}return{after:r=>kl(r,gn),node:e}}function Kl(){return ze(new cr)}function zl(n){return n instanceof cr}export{ju as $,bs as A,qt as B,Tu as C,Fo as D,re as E,rf as F,Ft as G,Qa as H,F as I,$ as J,zn as K,Ds as L,Bu as M,Po as N,Ju as O,A as P,Ku as Q,Ps as R,Es as S,Be as T,Os as U,Xa as V,Ba as W,Ea as X,Rs as Y,zu as Z,E as _,af as a,Ls as a0,ao as a1,Ze as a2,sf as a3,Va as a4,co as a5,Gn as a6,Ir as a7,oc as a8,yt as a9,ef as aA,Z as aB,Uu as aC,Sa as aD,Ke as aE,En as aF,Ua as aG,on as aH,nf as aI,Vu as aJ,qu as aK,ha as aL,of as aM,$u as aN,Iu as aO,Xu as aP,Qu as aQ,fu as aR,du as aS,Fs as aa,et as ab,As as ac,Ts as ad,Ii as ae,$i as af,ks as ag,Kn as ah,Rr as ai,Ct as aj,en as ak,Zt as al,qc as am,gu as an,uu as ao,Fl as ap,Zu as aq,se as ar,ic as as,X as at,tf as au,fo as av,pe as aw,rl as ax,U as ay,Et as az,lf as b,cf as c,uf as d,ke as e,Yu as f,Uc as g,vs as h,ze as i,Mn as j,x as k,sl as l,jc as m,Gu as n,dt as o,lr as p,Mt as q,Ne as r,O as s,Wu as t,Ns as u,Hu as v,j as w,ff as x,ce as y,cn as z};
