var R=Object.defineProperty,I=(t,e,s)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,i=(t,e,s)=>I(t,typeof e!="symbol"?e+"":e,s);const p=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","3ES","EZA","5EZ","6EZ","INT","CNC","GLO","TDX","NDX","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],E=["XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX"],y=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther (Hebrew)","Job","Psalms","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel (Hebrew)","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation","Tobit","Judith","Esther Greek","Wisdom of Solomon","Sirach (Ecclesiasticus)","Baruch","Letter of Jeremiah","Song of 3 Young Men","Susanna","Bel and the Dragon","1 Maccabees","2 Maccabees","3 Maccabees","4 Maccabees","1 Esdras (Greek)","2 Esdras (Latin)","Prayer of Manasseh","Psalm 151","Odes","Psalms of Solomon","Joshua A. *obsolete*","Judges B. *obsolete*","Tobit S. *obsolete*","Susanna Th. *obsolete*","Daniel Th. *obsolete*","Bel Th. *obsolete*","Extra A","Extra B","Extra C","Extra D","Extra E","Extra F","Extra G","Front Matter","Back Matter","Other Matter","3 Ezra *obsolete*","Apocalypse of Ezra","5 Ezra (Latin Prologue)","6 Ezra (Latin Epilogue)","Introduction","Concordance ","Glossary ","Topical Index","Names Index","Daniel Greek","Psalms 152-155","2 Baruch (Apocalypse)","Letter of Baruch","Jubilees","Enoch","1 Meqabyan","2 Meqabyan","3 Meqabyan","Reproof (Proverbs 25-31)","4 Baruch (Rest of Baruch)","Laodiceans"],V=U();function N(t,e=!0){return e&&(t=t.toUpperCase()),t in V?V[t]:0}function k(t){return N(t)>0}function D(t){const e=typeof t=="string"?N(t):t;return e>=40&&e<=66}function J(t){return(typeof t=="string"?N(t):t)<=39}function T(t){return t<=66}function P(t){const e=typeof t=="string"?N(t):t;return M(e)&&!T(e)}function*x(){for(let t=1;t<=p.length;t++)yield t}const _=1,O=p.length;function L(){return["XXA","XXB","XXC","XXD","XXE","XXF","XXG"]}function B(t,e="***"){const s=t-1;return s<0||s>=p.length?e:p[s]}function X(t){return t<=0||t>O?"******":y[t-1]}function G(t){return X(N(t))}function M(t){const e=typeof t=="number"?B(t):t;return k(e)&&!E.includes(e)}function H(t){const e=typeof t=="number"?B(t):t;return k(e)&&E.includes(e)}function q(t){return y[t-1].includes("*obsolete*")}function U(){const t={};for(let e=0;e<p.length;e++)t[p[e]]=e+1;return t}const m={allBookIds:p,nonCanonicalIds:E,bookIdToNumber:N,isBookIdValid:k,isBookNT:D,isBookOT:J,isBookOTNT:T,isBookDC:P,allBookNumbers:x,firstBook:_,lastBook:O,extraBooks:L,bookNumberToId:B,bookNumberToEnglishName:X,bookIdToEnglishName:G,isCanonical:M,isExtraMaterial:H,isObsolete:q};var c=(t=>(t[t.Unknown=0]="Unknown",t[t.Original=1]="Original",t[t.Septuagint=2]="Septuagint",t[t.Vulgate=3]="Vulgate",t[t.English=4]="English",t[t.RussianProtestant=5]="RussianProtestant",t[t.RussianOrthodox=6]="RussianOrthodox",t))(c||{});const l=class{constructor(e){if(i(this,"name"),i(this,"fullPath"),i(this,"isPresent"),i(this,"hasVerseSegments"),i(this,"isCustomized"),i(this,"baseVersification"),i(this,"scriptureBooks"),i(this,"_type"),e==null)throw new Error("Argument undefined");typeof e=="string"?(this.name=e,this._type=c[e]):(this._type=e,this.name=c[e])}get type(){return this._type}equals(e){return!e.type||!this.type?!1:e.type===this.type}};i(l,"Original",new l(c.Original)),i(l,"Septuagint",new l(c.Septuagint)),i(l,"Vulgate",new l(c.Vulgate)),i(l,"English",new l(c.English)),i(l,"RussianProtestant",new l(c.RussianProtestant)),i(l,"RussianOrthodox",new l(c.RussianOrthodox));let v=l;function C(t,e){const s=e[0];for(let r=1;r<e.length;r++)t=t.split(e[r]).join(s);return t.split(s)}var A=(t=>(t[t.Valid=0]="Valid",t[t.UnknownVersification=1]="UnknownVersification",t[t.OutOfRange=2]="OutOfRange",t[t.VerseOutOfOrder=3]="VerseOutOfOrder",t[t.VerseRepeated=4]="VerseRepeated",t))(A||{});const h=class n{constructor(e,s,r,a){if(i(this,"firstChapter"),i(this,"lastChapter"),i(this,"lastVerse"),i(this,"hasSegmentsDefined"),i(this,"text"),i(this,"BBBCCCVVVS"),i(this,"longHashCode"),i(this,"versification"),i(this,"rtlMark","â€"),i(this,"_bookNum",0),i(this,"_chapterNum",0),i(this,"_verseNum",0),i(this,"_verse"),r==null&&a==null)if(e!=null&&typeof e=="string"){const o=e,u=s!=null&&s instanceof v?s:void 0;this.setEmpty(u),this.parse(o)}else if(e!=null&&typeof e=="number"){const o=s!=null&&s instanceof v?s:void 0;this.setEmpty(o),this._verseNum=e%n.chapterDigitShifter,this._chapterNum=Math.floor(e%n.bookDigitShifter/n.chapterDigitShifter),this._bookNum=Math.floor(e/n.bookDigitShifter)}else if(s==null)if(e!=null&&e instanceof n){const o=e;this._bookNum=o.bookNum,this._chapterNum=o.chapterNum,this._verseNum=o.verseNum,this._verse=o.verse,this.versification=o.versification}else{if(e==null)return;const o=e instanceof v?e:n.defaultVersification;this.setEmpty(o)}else throw new Error("VerseRef constructor not supported.");else if(e!=null&&s!=null&&r!=null)if(typeof e=="string"&&typeof s=="string"&&typeof r=="string")this.setEmpty(a),this.updateInternal(e,s,r);else if(typeof e=="number"&&typeof s=="number"&&typeof r=="number")this._bookNum=e,this._chapterNum=s,this._verseNum=r,this.versification=a??n.defaultVersification;else throw new Error("VerseRef constructor not supported.");else throw new Error("VerseRef constructor not supported.")}static isVerseParseable(e){return e.length>0&&"0123456789".includes(e[0])&&!e.endsWith(this.verseRangeSeparator)&&!e.endsWith(this.verseSequenceIndicator)}static tryParse(e){let s;try{return s=new n(e),{success:!0,verseRef:s}}catch(r){if(r instanceof d)return s=new n,{success:!1,verseRef:s};throw r}}static getBBBCCCVVV(e,s,r){return e%n.bcvMaxValue*n.bookDigitShifter+(s>=0?s%n.bcvMaxValue*n.chapterDigitShifter:0)+(r>=0?r%n.bcvMaxValue:0)}static fromJSON(e){const{book:s,chapterNum:r,verseNum:a,verse:o,versificationStr:u}=e,f=o||a.toString();let g;return u&&(g=new v(u)),s?new n(s,r.toString(),f,g):new n}static tryGetVerseNum(e){let s;if(!e)return s=-1,{success:!0,vNum:s};s=0;let r;for(let a=0;a<e.length;a++){if(r=e[a],r<"0"||r>"9")return a===0&&(s=-1),{success:!1,vNum:s};if(s=s*10+ +r-0,s>n.bcvMaxValue)return s=-1,{success:!1,vNum:s}}return{success:!0,vNum:s}}get isDefault(){return this.bookNum===0&&this.chapterNum===0&&this.verseNum===0&&this.versification==null}get hasMultiple(){return this._verse!=null&&(this._verse.includes(n.verseRangeSeparator)||this._verse.includes(n.verseSequenceIndicator))}get book(){return m.bookNumberToId(this.bookNum,"")}set book(e){this.bookNum=m.bookIdToNumber(e)}get chapter(){return this.isDefault||this._chapterNum<0?"":this._chapterNum.toString()}set chapter(e){const s=+e;this._chapterNum=Number.isInteger(s)?s:-1}get verse(){return this._verse!=null?this._verse:this.isDefault||this._verseNum<0?"":this._verseNum.toString()}set verse(e){const{success:s,vNum:r}=n.tryGetVerseNum(e);this._verse=s?void 0:e.replace(this.rtlMark,""),this._verseNum=r,!(this._verseNum>=0)&&({vNum:this._verseNum}=n.tryGetVerseNum(this._verse))}get bookNum(){return this._bookNum}set bookNum(e){if(e<=0||e>m.lastBook)throw new d("BookNum must be greater than zero and less than or equal to last book");this._bookNum=e}get chapterNum(){return this._chapterNum}set chapterNum(e){this.chapterNum=e}get verseNum(){return this._verseNum}set verseNum(e){this._verseNum=e}get versificationStr(){var e;return(e=this.versification)==null?void 0:e.name}set versificationStr(e){this.versification=this.versification!=null?new v(e):void 0}get valid(){return this.validStatus===0}get validStatus(){return this.validateVerse(n.verseRangeSeparators,n.verseSequenceIndicators)}get BBBCCC(){return n.getBBBCCCVVV(this._bookNum,this._chapterNum,0)}get BBBCCCVVV(){return n.getBBBCCCVVV(this._bookNum,this._chapterNum,this._verseNum)}get isExcluded(){return!1}parse(e){if(e=e.replace(this.rtlMark,""),e.includes("/")){const o=e.split("/");if(e=o[0],o.length>1)try{const u=+o[1].trim();this.versification=new v(c[u])}catch{throw new d("Invalid reference : "+e)}}const s=e.trim().split(" ");if(s.length!==2)throw new d("Invalid reference : "+e);const r=s[1].split(":"),a=+r[0];if(r.length!==2||m.bookIdToNumber(s[0])===0||!Number.isInteger(a)||a<0||!n.isVerseParseable(r[1]))throw new d("Invalid reference : "+e);this.updateInternal(s[0],r[0],r[1])}simplify(){this._verse=void 0}clone(){return new n(this)}toString(){const e=this.book;return e===""?"":`${e} ${this.chapter}:${this.verse}`}toJSON(){let e=this.verse;(e===""||e===this.verseNum.toString())&&(e=void 0);const s={book:this.book,chapterNum:this.chapterNum,verseNum:this.verseNum,verse:e,versificationStr:this.versificationStr};return e||delete s.verse,s}equals(e){return e instanceof n?e._bookNum===this._bookNum&&e._chapterNum===this._chapterNum&&e._verseNum===this._verseNum&&e.verse===this.verse&&(e.versification==null&&this.versification==null||e.versification!=null&&this.versification!=null&&e.versification.equals(this.versification)):!1}allVerses(e=!1,s=n.verseRangeSeparators,r=n.verseSequenceIndicators){if(this._verse==null||this.chapterNum<=0)return[this.clone()];const a=[],o=C(this._verse,r);for(const u of o.map(f=>C(f,s))){const f=this.clone();f.verse=u[0];const g=f.verseNum;if(a.push(f),u.length>1){const b=this.clone();if(b.verse=u[1],!e)for(let S=g+1;S<b.verseNum;S++){const w=new n(this._bookNum,this._chapterNum,S,this.versification);this.isExcluded||a.push(w)}a.push(b)}}return a}validateVerse(e,s){if(!this.verse)return this.internalValid;let r=0;for(const a of this.allVerses(!0,e,s)){const o=a.internalValid;if(o!==0)return o;const u=a.BBBCCCVVV;if(r>u)return 3;if(r===u)return 4;r=u}return 0}get internalValid(){return this.versification==null?1:this._bookNum<=0||this._bookNum>m.lastBook?2:(m.isCanonical(this._bookNum),0)}setEmpty(e=n.defaultVersification){this._bookNum=0,this._chapterNum=-1,this._verse=void 0,this.versification=e}updateInternal(e,s,r){this.bookNum=m.bookIdToNumber(e),this.chapter=s,this.verse=r}};i(h,"defaultVersification",v.English),i(h,"verseRangeSeparator","-"),i(h,"verseSequenceIndicator",","),i(h,"verseRangeSeparators",[h.verseRangeSeparator]),i(h,"verseSequenceIndicators",[h.verseSequenceIndicator]),i(h,"chapterDigitShifter",1e3),i(h,"bookDigitShifter",h.chapterDigitShifter*h.chapterDigitShifter),i(h,"bcvMaxValue",h.chapterDigitShifter-1),i(h,"ValidStatusType",A);class d extends Error{}export{m};
