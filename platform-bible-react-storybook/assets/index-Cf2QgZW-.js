import{r as i}from"./iframe-Cr8C4RA7.js";import{b as j,a as _e,e as Ie,d as k}from"./index-D8FhcD3C.js";import{P as S,d as Me}from"./index-CtBSwf-Z.js";import{u as D}from"./index-CkBAhbUZ.js";import{c as Ue,a as L,d as We,o as je,s as Be,f as He,e as ke,g as $e,i as Ke,l as Ye,j as ze}from"./floating-ui.react-dom-DcRlFqZe.js";import{j as P}from"./jsx-runtime-BuBg4_Ps.js";import{R as Xe}from"./index-CWwCuTUQ.js";var qe="DismissableLayer",$="dismissableLayer.update",Ve="dismissableLayer.pointerDownOutside",Ze="dismissableLayer.focusOutside",ne,ce=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ge=i.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:o,...h}=e,d=i.useContext(ce),[l,b]=i.useState(null),E=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=i.useState({}),x=D(n,p=>b(p)),c=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),f=c.indexOf(w),y=l?c.indexOf(l):-1,g=d.layersWithOutsidePointerEventsDisabled.size>0,m=y>=f,N=et(p=>{const O=p.target,_=[...d.branches].some(F=>F.contains(O));!m||_||(s==null||s(p),u==null||u(p),p.defaultPrevented||o==null||o())},E),C=tt(p=>{const O=p.target;[...d.branches].some(F=>F.contains(O))||(a==null||a(p),u==null||u(p),p.defaultPrevented||o==null||o())},E);return Ue(p=>{y===d.layers.size-1&&(r==null||r(p),!p.defaultPrevented&&o&&(p.preventDefault(),o()))},E),i.useEffect(()=>{if(l)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ne=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(l)),d.layers.add(l),re(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=ne)}},[l,E,t,d]),i.useEffect(()=>()=>{l&&(d.layers.delete(l),d.layersWithOutsidePointerEventsDisabled.delete(l),re())},[l,d]),i.useEffect(()=>{const p=()=>v({});return document.addEventListener($,p),()=>document.removeEventListener($,p)},[]),P.jsx(S.div,{...h,ref:x,style:{pointerEvents:g?m?"auto":"none":void 0,...e.style},onFocusCapture:j(e.onFocusCapture,C.onFocusCapture),onBlurCapture:j(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:j(e.onPointerDownCapture,N.onPointerDownCapture)})});Ge.displayName=qe;var Je="DismissableLayerBranch",Qe=i.forwardRef((e,n)=>{const t=i.useContext(ce),r=i.useRef(null),s=D(n,r);return i.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),P.jsx(S.div,{...e,ref:s})});Qe.displayName=Je;function et(e,n=globalThis==null?void 0:globalThis.document){const t=L(e),r=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let h=function(){de(Ve,t,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=h,n.addEventListener("click",s.current,{once:!0})):h()}else n.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",a),n.removeEventListener("click",s.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function tt(e,n=globalThis==null?void 0:globalThis.document){const t=L(e),r=i.useRef(!1);return i.useEffect(()=>{const s=a=>{a.target&&!r.current&&de(Ze,t,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function re(){const e=new CustomEvent($);document.dispatchEvent(e)}function de(e,n,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&s.addEventListener(e,n,{once:!0}),r?Me(s,a):s.dispatchEvent(a)}var B="focusScope.autoFocusOnMount",H="focusScope.autoFocusOnUnmount",oe={bubbles:!1,cancelable:!0},nt="FocusScope",rt=i.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=e,[o,h]=i.useState(null),d=L(s),l=L(a),b=i.useRef(null),E=D(n,c=>h(c)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let c=function(g){if(v.paused||!o)return;const m=g.target;o.contains(m)?b.current=m:A(b.current,{select:!0})},w=function(g){if(v.paused||!o)return;const m=g.relatedTarget;m!==null&&(o.contains(m)||A(b.current,{select:!0}))},f=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&A(o)};document.addEventListener("focusin",c),document.addEventListener("focusout",w);const y=new MutationObserver(f);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",w),y.disconnect()}}},[r,o,v.paused]),i.useEffect(()=>{if(o){ae.add(v);const c=document.activeElement;if(!o.contains(c)){const f=new CustomEvent(B,oe);o.addEventListener(B,d),o.dispatchEvent(f),f.defaultPrevented||(ot(dt(ue(o)),{select:!0}),document.activeElement===c&&A(o))}return()=>{o.removeEventListener(B,d),setTimeout(()=>{const f=new CustomEvent(H,oe);o.addEventListener(H,l),o.dispatchEvent(f),f.defaultPrevented||A(c??document.body,{select:!0}),o.removeEventListener(H,l),ae.remove(v)},0)}}},[o,d,l,v]);const x=i.useCallback(c=>{if(!t&&!r||v.paused)return;const w=c.key==="Tab"&&!c.altKey&&!c.ctrlKey&&!c.metaKey,f=document.activeElement;if(w&&f){const y=c.currentTarget,[g,m]=st(y);g&&m?!c.shiftKey&&f===m?(c.preventDefault(),t&&A(g,{select:!0})):c.shiftKey&&f===g&&(c.preventDefault(),t&&A(m,{select:!0})):f===y&&c.preventDefault()}},[t,r,v.paused]);return P.jsx(S.div,{tabIndex:-1,...u,ref:E,onKeyDown:x})});rt.displayName=nt;function ot(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(A(r,{select:n}),document.activeElement!==t)return}function st(e){const n=ue(e),t=se(n,e),r=se(n.reverse(),e);return[t,r]}function ue(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function se(e,n){for(const t of e)if(!at(t,{upTo:n}))return t}function at(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function it(e){return e instanceof HTMLInputElement&&"select"in e}function A(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&it(e)&&n&&e.select()}}var ae=ct();function ct(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=ie(e,n),e.unshift(n)},remove(n){var t;e=ie(e,n),(t=e[0])==null||t.resume()}}}function ie(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function dt(e){return e.filter(n=>n.tagName!=="A")}var ut="Arrow",le=i.forwardRef((e,n)=>{const{children:t,width:r=10,height:s=5,...a}=e;return P.jsx(S.svg,{...a,ref:n,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});le.displayName=ut;var lt=le,K="Popper",[fe,St]=_e(K),[ft,pe]=fe(K),me=e=>{const{__scopePopper:n,children:t}=e,[r,s]=i.useState(null);return P.jsx(ft,{scope:n,anchor:r,onAnchorChange:s,children:t})};me.displayName=K;var he="PopperAnchor",ve=i.forwardRef((e,n)=>{const{__scopePopper:t,virtualRef:r,...s}=e,a=pe(he,t),u=i.useRef(null),o=D(n,u);return i.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:P.jsx(S.div,{...s,ref:o})});ve.displayName=he;var Y="PopperContent",[pt,mt]=fe(Y),Ee=i.forwardRef((e,n)=>{var V,Z,G,J,Q,ee;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:o=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:l=0,sticky:b="partial",hideWhenDetached:E=!1,updatePositionStrategy:v="optimized",onPlaced:x,...c}=e,w=pe(Y,t),[f,y]=i.useState(null),g=D(n,T=>y(T)),[m,N]=i.useState(null),C=Ie(m),p=(C==null?void 0:C.width)??0,O=(C==null?void 0:C.height)??0,_=r+(a!=="center"?"-"+a:""),F=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},z=Array.isArray(d)?d:[d],be=z.length>0,I={padding:F,boundary:z.filter(vt),altBoundary:be},{refs:we,floatingStyles:X,placement:xe,isPositioned:M,middlewareData:R}=We({strategy:"fixed",placement:_,whileElementsMounted:(...T)=>ze(...T,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[je({mainAxis:s+O,alignmentAxis:u}),h&&Be({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?Ye():void 0,...I}),h&&He({...I}),ke({...I,apply:({elements:T,rects:te,availableWidth:Fe,availableHeight:Te})=>{const{width:Le,height:De}=te.reference,W=T.floating.style;W.setProperty("--radix-popper-available-width",`${Fe}px`),W.setProperty("--radix-popper-available-height",`${Te}px`),W.setProperty("--radix-popper-anchor-width",`${Le}px`),W.setProperty("--radix-popper-anchor-height",`${De}px`)}}),m&&$e({element:m,padding:o}),Et({arrowWidth:p,arrowHeight:O}),E&&Ke({strategy:"referenceHidden",...I})]}),[q,Ce]=Pe(xe),U=L(x);k(()=>{M&&(U==null||U())},[M,U]);const Ae=(V=R.arrow)==null?void 0:V.x,Oe=(Z=R.arrow)==null?void 0:Z.y,Se=((G=R.arrow)==null?void 0:G.centerOffset)!==0,[Ne,Re]=i.useState();return k(()=>{f&&Re(window.getComputedStyle(f).zIndex)},[f]),P.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:M?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(Q=R.transformOrigin)==null?void 0:Q.y].join(" "),...((ee=R.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(pt,{scope:t,placedSide:q,onArrowChange:N,arrowX:Ae,arrowY:Oe,shouldHideArrow:Se,children:P.jsx(S.div,{"data-side":q,"data-align":Ce,...c,ref:g,style:{...c.style,animation:M?void 0:"none"}})})})});Ee.displayName=Y;var ye="PopperArrow",ht={top:"bottom",right:"left",bottom:"top",left:"right"},ge=i.forwardRef(function(n,t){const{__scopePopper:r,...s}=n,a=mt(ye,r),u=ht[a.placedSide];return P.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:P.jsx(lt,{...s,ref:t,style:{...s.style,display:"block"}})})});ge.displayName=ye;function vt(e){return e!==null}var Et=e=>({name:"transformOrigin",options:e,fn(n){var w,f,y;const{placement:t,rects:r,middlewareData:s}=n,u=((w=s.arrow)==null?void 0:w.centerOffset)!==0,o=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[d,l]=Pe(t),b={start:"0%",center:"50%",end:"100%"}[l],E=(((f=s.arrow)==null?void 0:f.x)??0)+o/2,v=(((y=s.arrow)==null?void 0:y.y)??0)+h/2;let x="",c="";return d==="bottom"?(x=u?b:`${E}px`,c=`${-h}px`):d==="top"?(x=u?b:`${E}px`,c=`${r.floating.height+h}px`):d==="right"?(x=`${-h}px`,c=u?b:`${v}px`):d==="left"&&(x=`${r.floating.width+h}px`,c=u?b:`${v}px`),{data:{x,y:c}}}});function Pe(e){const[n,t="center"]=e.split("-");return[n,t]}var Nt=me,Rt=ve,Ft=Ee,Tt=ge,yt="Portal",gt=i.forwardRef((e,n)=>{var o;const{container:t,...r}=e,[s,a]=i.useState(!1);k(()=>a(!0),[]);const u=t||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return u?Xe.createPortal(P.jsx(S.div,{...r,ref:n}),u):null});gt.displayName=yt;export{Rt as A,Ft as C,Ge as D,rt as F,gt as P,Nt as R,Tt as a,St as c};
