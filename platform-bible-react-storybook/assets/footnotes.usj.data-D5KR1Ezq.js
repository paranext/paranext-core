import{j as t}from"./jsx-runtime-Dr4sgJAZ.js";import{c}from"./shadcn-ui.util-DMJ19wEV.js";import{C as d}from"./circle-alert-00oLXD_U.js";import{I as y}from"./index-C3mJiya3.js";const h=c("marker","marker-visible'}");function f(e,l,i=!0,r=!0,n=[]){if(!(!l||l.length===0))return l.map(s=>{let a=n.join("-");if(typeof s=="string"){if(a+=`-${s.slice(0,10)}`,r){const o=c(`usfm_${e}`);return t.jsx("span",{className:o,children:s},a)}return t.jsxs("span",{className:"tw-inline-flex tw-items-center tw-gap-1 tw-underline tw-decoration-destructive",children:[t.jsx(d,{className:"tw-h-4 tw-w-4 tw-fill-destructive"}),t.jsx("span",{children:s}),t.jsx(d,{className:"tw-h-4 tw-w-4 tw-fill-destructive"})]},a)}return a+=`-${s.marker??"unknown"}`,x(s,a,i,[...n,e??"unknown"])})}function x(e,l,i,r=[]){const{marker:n}=e;return t.jsxs("span",{children:[n?i&&t.jsx("span",{className:h,children:`\\${n} `}):t.jsx(d,{className:"tw-text-error tw-mr-1 tw-inline-block tw-h-4 tw-w-4","aria-label":"Missing marker"}),f(n,e.content,i,!0,[...r,n??"unknown"])]},l)}function w({footnote:e,layout:l="horizontal",formatCaller:i,showMarkers:r=!0}){const n=i?i(e.caller):e.caller,s=n!==e.caller;let a,o=e.content;Array.isArray(e.content)&&e.content.length>0&&typeof e.content[0]!="string"&&(e.content[0].marker==="fr"||e.content[0].marker==="xo")&&([a,...o]=e.content);const u=r?t.jsx("span",{className:h,children:`\\${e.marker} `}):void 0,m=r?t.jsx("span",{className:h,children:` \\${e.marker}*`}):void 0,p=t.jsxs(t.Fragment,{children:[n&&t.jsxs("span",{className:c("note-caller",{formatted:s}),children:[n," "]}),a&&t.jsxs(t.Fragment,{children:[f(e.marker,[a],r,!1)," "]})]});return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:c("textual-note-header tw-text-nowrap",l==="horizontal"?"horizontal tw-table-cell tw-pr-1":"vertical",r?"tw-pr-[10px]":"tw-pr-[22px]"),children:[u,p]}),t.jsx("div",{className:c("textual-note-body",l==="horizontal"?"horizontal tw-table-cell":"vertical"),children:o&&o.length>0&&t.jsxs(t.Fragment,{children:[f(e.marker,o,r,!0),m]})})]})}w.__docgenInfo={description:"`FootnoteItem` is a component that provides a read-only display of a single USFM/JSX footnote.",methods:[],displayName:"FootnoteItem",props:{footnote:{required:!0,tsType:{name:"MarkerObject"},description:"The footnote to display (typically from JSX). Note: Although {@link MarkerObject.content} is an\narray of {@link MarkerObject}, in practice, for footnotes that array contains only one\nadditional level of `MarkerObject` objects. The `content` of those nested objects will be plain\nstrings, containing the text of the individual footnote data (reference, quoted text, footnote\ntext, etc.)."},layout:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:`Determines how footnotes are displayed:

- \`'horizontal'\`: caller and reference appear in a leading-aligned column, with the contents in a
  second column (typically used in a wide pane below the text).
- \`'vertical'\`: caller and reference appear on the first line, with the contents displayed
  beneath (typically used side-by-side with the text).

@default 'horizontal'`,defaultValue:{value:"'horizontal'",computed:!1}},showMarkers:{required:!1,tsType:{name:"boolean"},description:"Flag indicating whether to display USFM-style markers",defaultValue:{value:"true",computed:!1}},formatCaller:{required:!1,tsType:{name:"signature",type:"function",raw:"(caller: string | undefined) => string | undefined",signature:{arguments:[{type:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},name:"caller"}],return:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]}}},description:"A function that can interpret the two special footnote caller codes defined by USFM, `+` and\n`-` in order to display (or suppress display of) a meaningful caller in the context where this\nis being used."}}};const g=`<?xml version="1.0" encoding="utf-8"?>
<usx version="3.1">
  <note caller="+" style="f"><char style="fr" closed="false">1.11</char><char style="ft" closed="false">This is a simple footnote</char></note>
  <note caller="+" style="f"><char style="fr" closed="false">1.17</char><char style="fq" closed="false">generations</char><char style="ft" closed="false">Some manuscripts say </char><char style="fqa">epochs</char> or put the word in <char style="fv">18</char> for emphasis </note>
  <note caller="-" style="x"><char style="xo" closed="false">1:21 </char><char style="xt" closed="false">Sal. 130.8.</char></note>
  <note caller="+" style="f"><char style="fr" closed="false">1.34</char><char style="ft" closed="false">The auto-incremented caller for this note should be the third letter or symbol, not the fourth</char></note>
  <note caller="+" style="f"><char style="fr" closed="false">1.5 </char><char style="ft" closed="false">Or </char><char style="fqa" closed="false">before him in love, </char><char style="fv" closed="false">5</char><char style="fqa" closed="false">having predestined us</char></note>
  <note caller="+" style="f">No target reference and the text is not marked with ft.</note>
</usx>
`,F=y(g).content.filter(e=>typeof e!="string");export{w as F,F as u};
