import{j as E}from"./jsx-runtime-IhsRMfz-.js";import{r as a,e as P,a as De}from"./iframe-BEkIYDFd.js";import{R as Pe,P as _e,O as qe,C as Fe}from"./index-CVLiV-0S.js";import{P as R}from"./index-CBWjV_pj.js";import{u as F}from"./index-DPxc3de3.js";import{s as Ke}from"./index-527Jm9Pv.js";import{c as _}from"./shadcn-ui.util-DMJ19wEV.js";import"./dialog-C1cIpGkJ.js";import{S as Le}from"./search-CWhFy9LD.js";var ve=1,Ve=.9,Oe=.8,Ue=.17,Z=.1,ee=.999,Ge=.9999,Be=.99,He=/[\\\/_+.#"@\[\(\{&]/,Te=/[\\\/_+.#"@\[\(\{&]/g,ze=/[\s-]/,ge=/[\s-]/g;function re(e,n,t,s,o,u,c){if(u===n.length)return o===e.length?ve:Be;var p=`${o},${u}`;if(c[p]!==void 0)return c[p];for(var w=s.charAt(u),f=t.indexOf(w,o),d=0,v,C,S,I;f>=0;)v=re(e,n,t,s,f+1,u+1,c),v>d&&(f===o?v*=ve:He.test(e.charAt(f-1))?(v*=Oe,S=e.slice(o,f-1).match(Te),S&&o>0&&(v*=Math.pow(ee,S.length))):ze.test(e.charAt(f-1))?(v*=Ve,I=e.slice(o,f-1).match(ge),I&&o>0&&(v*=Math.pow(ee,I.length))):(v*=Ue,o>0&&(v*=Math.pow(ee,f-o))),e.charAt(f)!==n.charAt(u)&&(v*=Ge)),(v<Z&&t.charAt(f-1)===s.charAt(u+1)||s.charAt(u+1)===s.charAt(u)&&t.charAt(f-1)!==s.charAt(u))&&(C=re(e,n,t,s,f+1,u+2,c),C*Z>v&&(v=C*Z)),v>d&&(d=v),f=t.indexOf(w,f+1);return c[p]=d,d}function he(e){return e.toLowerCase().replace(ge," ")}function We(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,re(e,n,he(e),he(n),0,0,{})}var V='[cmdk-group=""]',te='[cmdk-group-items=""]',Je='[cmdk-group-heading=""]',ae='[cmdk-item=""]',we=`${ae}:not([aria-disabled="true"])`,ne="cmdk-item-select",A="data-value",Xe=(e,n,t)=>We(e,n,t),be=a.createContext(void 0),U=()=>a.useContext(be),ye=a.createContext(void 0),le=()=>a.useContext(ye),xe=a.createContext(void 0),Se=a.forwardRef((e,n)=>{let t=q(()=>{var r,i;return{search:"",value:(i=(r=e.value)!=null?r:e.defaultValue)!=null?i:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=q(()=>new Set),o=q(()=>new Map),u=q(()=>new Map),c=q(()=>new Set),p=ke(e),{label:w,children:f,value:d,onValueChange:v,filter:C,shouldFilter:S,loop:I,disablePointerSelection:T=!1,vimBindings:N=!0,...G}=e,oe=F(),ie=F(),ue=F(),$=a.useRef(null),b=it();M(()=>{if(d!==void 0){let r=d.trim();t.current.value=r,x.emit()}},[d]),M(()=>{b(6,ce)},[]);let x=a.useMemo(()=>({subscribe:r=>(c.current.add(r),()=>c.current.delete(r)),snapshot:()=>t.current,setState:(r,i,m)=>{var l,h,g;if(!Object.is(t.current[r],i)){if(t.current[r]=i,r==="search")X(),W(),b(1,J);else if(r==="value"&&(m||b(5,ce),((l=p.current)==null?void 0:l.value)!==void 0)){let k=i??"";(g=(h=p.current).onValueChange)==null||g.call(h,k);return}x.emit()}},emit:()=>{c.current.forEach(r=>r())}}),[]),z=a.useMemo(()=>({value:(r,i,m)=>{var l;i!==((l=u.current.get(r))==null?void 0:l.value)&&(u.current.set(r,{value:i,keywords:m}),t.current.filtered.items.set(r,de(i,m)),b(2,()=>{W(),x.emit()}))},item:(r,i)=>(s.current.add(r),i&&(o.current.has(i)?o.current.get(i).add(r):o.current.set(i,new Set([r]))),b(3,()=>{X(),W(),t.current.value||J(),x.emit()}),()=>{u.current.delete(r),s.current.delete(r),t.current.filtered.items.delete(r);let m=K();b(4,()=>{X(),(m==null?void 0:m.getAttribute("id"))===r&&J(),x.emit()})}),group:r=>(o.current.has(r)||o.current.set(r,new Set),()=>{u.current.delete(r),o.current.delete(r)}),filter:()=>p.current.shouldFilter,label:w||e["aria-label"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:oe,inputId:ue,labelId:ie,listInnerRef:$}),[]);function de(r,i){var m,l;let h=(l=(m=p.current)==null?void 0:m.filter)!=null?l:Xe;return r?h(r,t.current.search,i):0}function W(){if(!t.current.search||p.current.shouldFilter===!1)return;let r=t.current.filtered.items,i=[];t.current.filtered.groups.forEach(l=>{let h=o.current.get(l),g=0;h.forEach(k=>{let j=r.get(k);g=Math.max(j,g)}),i.push([l,g])});let m=$.current;L().sort((l,h)=>{var g,k;let j=l.getAttribute("id"),B=h.getAttribute("id");return((g=r.get(B))!=null?g:0)-((k=r.get(j))!=null?k:0)}).forEach(l=>{let h=l.closest(te);h?h.appendChild(l.parentElement===h?l:l.closest(`${te} > *`)):m.appendChild(l.parentElement===m?l:l.closest(`${te} > *`))}),i.sort((l,h)=>h[1]-l[1]).forEach(l=>{var h;let g=(h=$.current)==null?void 0:h.querySelector(`${V}[${A}="${encodeURIComponent(l[0])}"]`);g==null||g.parentElement.appendChild(g)})}function J(){let r=L().find(m=>m.getAttribute("aria-disabled")!=="true"),i=r==null?void 0:r.getAttribute(A);x.setState("value",i||void 0)}function X(){var r,i,m,l;if(!t.current.search||p.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let h=0;for(let g of s.current){let k=(i=(r=u.current.get(g))==null?void 0:r.value)!=null?i:"",j=(l=(m=u.current.get(g))==null?void 0:m.keywords)!=null?l:[],B=de(k,j);t.current.filtered.items.set(g,B),B>0&&h++}for(let[g,k]of o.current)for(let j of k)if(t.current.filtered.items.get(j)>0){t.current.filtered.groups.add(g);break}t.current.filtered.count=h}function ce(){var r,i,m;let l=K();l&&(((r=l.parentElement)==null?void 0:r.firstChild)===l&&((m=(i=l.closest(V))==null?void 0:i.querySelector(Je))==null||m.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function K(){var r;return(r=$.current)==null?void 0:r.querySelector(`${ae}[aria-selected="true"]`)}function L(){var r;return Array.from(((r=$.current)==null?void 0:r.querySelectorAll(we))||[])}function Y(r){let i=L()[r];i&&x.setState("value",i.getAttribute(A))}function Q(r){var i;let m=K(),l=L(),h=l.findIndex(k=>k===m),g=l[h+r];(i=p.current)!=null&&i.loop&&(g=h+r<0?l[l.length-1]:h+r===l.length?l[0]:l[h+r]),g&&x.setState("value",g.getAttribute(A))}function se(r){let i=K(),m=i==null?void 0:i.closest(V),l;for(;m&&!l;)m=r>0?lt(m,V):ot(m,V),l=m==null?void 0:m.querySelector(we);l?x.setState("value",l.getAttribute(A)):Q(r)}let me=()=>Y(L().length-1),fe=r=>{r.preventDefault(),r.metaKey?me():r.altKey?se(1):Q(1)},pe=r=>{r.preventDefault(),r.metaKey?Y(0):r.altKey?se(-1):Q(-1)};return a.createElement(R.div,{ref:n,tabIndex:-1,...G,"cmdk-root":"",onKeyDown:r=>{var i;if((i=G.onKeyDown)==null||i.call(G,r),!r.defaultPrevented)switch(r.key){case"n":case"j":{N&&r.ctrlKey&&fe(r);break}case"ArrowDown":{fe(r);break}case"p":case"k":{N&&r.ctrlKey&&pe(r);break}case"ArrowUp":{pe(r);break}case"Home":{r.preventDefault(),Y(0);break}case"End":{r.preventDefault(),me();break}case"Enter":if(!r.nativeEvent.isComposing&&r.keyCode!==229){r.preventDefault();let m=K();if(m){let l=new Event(ne);m.dispatchEvent(l)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:dt},w),H(e,r=>a.createElement(ye.Provider,{value:x},a.createElement(be.Provider,{value:z},r))))}),Ye=a.forwardRef((e,n)=>{var t,s;let o=F(),u=a.useRef(null),c=a.useContext(xe),p=U(),w=ke(e),f=(s=(t=w.current)==null?void 0:t.forceMount)!=null?s:c==null?void 0:c.forceMount;M(()=>{if(!f)return p.item(o,c==null?void 0:c.id)},[f]);let d=Ce(o,u,[e.value,e.children,u],e.keywords),v=le(),C=D(b=>b.value&&b.value===d.current),S=D(b=>f||p.filter()===!1?!0:b.search?b.filtered.items.get(o)>0:!0);a.useEffect(()=>{let b=u.current;if(!(!b||e.disabled))return b.addEventListener(ne,I),()=>b.removeEventListener(ne,I)},[S,e.onSelect,e.disabled]);function I(){var b,x;T(),(x=(b=w.current).onSelect)==null||x.call(b,d.current)}function T(){v.setState("value",d.current,!0)}if(!S)return null;let{disabled:N,value:G,onSelect:oe,forceMount:ie,keywords:ue,...$}=e;return a.createElement(R.div,{ref:O([u,n]),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!C,"data-disabled":!!N,"data-selected":!!C,onPointerMove:N||p.getDisablePointerSelection()?void 0:T,onClick:N?void 0:I},e.children)}),Qe=a.forwardRef((e,n)=>{let{heading:t,children:s,forceMount:o,...u}=e,c=F(),p=a.useRef(null),w=a.useRef(null),f=F(),d=U(),v=D(S=>o||d.filter()===!1?!0:S.search?S.filtered.groups.has(c):!0);M(()=>d.group(c),[]),Ce(c,p,[e.value,e.heading,w]);let C=a.useMemo(()=>({id:c,forceMount:o}),[o]);return a.createElement(R.div,{ref:O([p,n]),...u,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},t&&a.createElement("div",{ref:w,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),H(e,S=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},a.createElement(xe.Provider,{value:C},S))))}),Ze=a.forwardRef((e,n)=>{let{alwaysRender:t,...s}=e,o=a.useRef(null),u=D(c=>!c.search);return!t&&!u?null:a.createElement(R.div,{ref:O([o,n]),...s,"cmdk-separator":"",role:"separator"})}),et=a.forwardRef((e,n)=>{let{onValueChange:t,...s}=e,o=e.value!=null,u=le(),c=D(d=>d.search),p=D(d=>d.value),w=U(),f=a.useMemo(()=>{var d;let v=(d=w.listInnerRef.current)==null?void 0:d.querySelector(`${ae}[${A}="${encodeURIComponent(p)}"]`);return v==null?void 0:v.getAttribute("id")},[]);return a.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),a.createElement(R.input,{ref:n,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":w.listId,"aria-labelledby":w.labelId,"aria-activedescendant":f,id:w.inputId,type:"text",value:o?e.value:c,onChange:d=>{o||u.setState("search",d.target.value),t==null||t(d.target.value)}})}),tt=a.forwardRef((e,n)=>{let{children:t,label:s="Suggestions",...o}=e,u=a.useRef(null),c=a.useRef(null),p=U();return a.useEffect(()=>{if(c.current&&u.current){let w=c.current,f=u.current,d,v=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let C=w.offsetHeight;f.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return v.observe(w),()=>{cancelAnimationFrame(d),v.unobserve(w)}}},[]),a.createElement(R.div,{ref:O([u,n]),...o,"cmdk-list":"",role:"listbox","aria-label":s,id:p.listId},H(e,w=>a.createElement("div",{ref:O([c,p.listInnerRef]),"cmdk-list-sizer":""},w)))}),rt=a.forwardRef((e,n)=>{let{open:t,onOpenChange:s,overlayClassName:o,contentClassName:u,container:c,...p}=e;return a.createElement(Pe,{open:t,onOpenChange:s},a.createElement(_e,{container:c},a.createElement(qe,{"cmdk-overlay":"",className:o}),a.createElement(Fe,{"aria-label":e.label,"cmdk-dialog":"",className:u},a.createElement(Se,{ref:n,...p}))))}),nt=a.forwardRef((e,n)=>D(t=>t.filtered.count===0)?a.createElement(R.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),at=a.forwardRef((e,n)=>{let{progress:t,children:s,label:o="Loading...",...u}=e;return a.createElement(R.div,{ref:n,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},H(e,c=>a.createElement("div",{"aria-hidden":!0},c)))}),y=Object.assign(Se,{List:tt,Item:Ye,Input:et,Group:Qe,Separator:Ze,Dialog:rt,Empty:nt,Loading:at});function lt(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function ot(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function ke(e){let n=a.useRef(e);return M(()=>{n.current=e}),n}var M=typeof window>"u"?a.useEffect:a.useLayoutEffect;function q(e){let n=a.useRef();return n.current===void 0&&(n.current=e()),n}function O(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function D(e){let n=le(),t=()=>e(n.snapshot());return Ke.useSyncExternalStore(n.subscribe,t,t)}function Ce(e,n,t,s=[]){let o=a.useRef(),u=U();return M(()=>{var c;let p=(()=>{var f;for(let d of t){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(f=d.current.textContent)==null?void 0:f.trim():o.current}})(),w=s.map(f=>f.trim());u.value(e,p,w),(c=n.current)==null||c.setAttribute(A,p),o.current=p}),o}var it=()=>{let[e,n]=a.useState(),t=q(()=>new Map);return M(()=>{t.current.forEach(s=>s()),t.current=new Map},[e]),(s,o)=>{t.current.set(s,o),n({})}};function ut(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function H({asChild:e,children:n},t){return e&&a.isValidElement(n)?a.cloneElement(ut(n),{ref:n.ref},t(n.props.children)):t(n)}var dt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ee=P.forwardRef(({className:e,...n},t)=>E.jsx(y,{ref:t,className:_("tw-flex tw-h-full tw-w-full tw-flex-col tw-overflow-hidden tw-rounded-md tw-bg-popover tw-text-popover-foreground",e),...n}));Ee.displayName=y.displayName;const Ie=P.forwardRef(({className:e,...n},t)=>{const s=De();return E.jsxs("div",{className:"tw-flex tw-items-center tw-border-b tw-px-3",dir:s,children:[E.jsx(Le,{className:"tw-me-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50"}),E.jsx(y.Input,{ref:t,className:_("tw-flex tw-h-11 tw-w-full tw-rounded-md tw-bg-transparent tw-py-3 tw-text-sm tw-outline-none placeholder:tw-text-muted-foreground disabled:tw-cursor-not-allowed disabled:tw-opacity-50",e),...n})]})});Ie.displayName=y.Input.displayName;const Re=P.forwardRef(({className:e,...n},t)=>E.jsx(y.List,{ref:t,className:_("tw-max-h-[300px] tw-overflow-y-auto tw-overflow-x-hidden",e),...n}));Re.displayName=y.List.displayName;const Ne=P.forwardRef((e,n)=>E.jsx(y.Empty,{ref:n,className:"tw-py-6 tw-text-center tw-text-sm",...e}));Ne.displayName=y.Empty.displayName;const $e=P.forwardRef(({className:e,...n},t)=>E.jsx(y.Group,{ref:t,className:_("tw-overflow-hidden tw-p-1 tw-text-foreground [&_[cmdk-group-heading]]:tw-px-2 [&_[cmdk-group-heading]]:tw-py-1.5 [&_[cmdk-group-heading]]:tw-text-xs [&_[cmdk-group-heading]]:tw-font-medium [&_[cmdk-group-heading]]:tw-text-muted-foreground",e),...n}));$e.displayName=y.Group.displayName;const je=P.forwardRef(({className:e,...n},t)=>E.jsx(y.Separator,{ref:t,className:_("tw--mx-1 tw-h-px tw-bg-border",e),...n}));je.displayName=y.Separator.displayName;const Ae=P.forwardRef(({className:e,...n},t)=>E.jsx(y.Item,{ref:t,className:_("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none data-[disabled=true]:tw-pointer-events-none data-[selected=true]:tw-bg-accent data-[selected=true]:tw-text-accent-foreground data-[disabled=true]:tw-opacity-50",e),...n}));Ae.displayName=y.Item.displayName;function Me({className:e,...n}){return E.jsx("span",{className:_("tw-ms-auto tw-text-xs tw-tracking-widest tw-text-muted-foreground",e),...n})}Me.displayName="CommandShortcut";Ee.__docgenInfo={description:`Command menu for React. These components are built on cmdk and styled with Shadcn UI. See Shadcn
UI documentation: https://ui.shadcn.com/docs/components/command See cmdk documentation:
https://cmdk.paco.me/`,methods:[]};Ie.__docgenInfo={description:"@inheritdoc Command",methods:[]};Re.__docgenInfo={description:"@inheritdoc Command",methods:[]};Ne.__docgenInfo={description:"@inheritdoc Command",methods:[]};$e.__docgenInfo={description:"@inheritdoc Command",methods:[]};Ae.__docgenInfo={description:"@inheritdoc Command",methods:[]};Me.__docgenInfo={description:"@inheritdoc Command",methods:[],displayName:"CommandShortcut"};je.__docgenInfo={description:"@inheritdoc Command",methods:[]};export{Ee as C,Ie as a,Ne as b,Re as c,$e as d,Ae as e,Me as f,je as g};
