import{l as h}from"./index-Bl2C2VvJ.js";const m=new Set(["__proto__","prototype","constructor"]);function T(t){if(m.has(t))throw new Error(`The key "${t}" is not allowed to avoid prototype pollution.`)}const u="USJ",f="3.1",M=Object.freeze({type:u,version:f,content:[]}),X=["type","marker","content","sid","eid","number","code","altnumber","pubnumber","caller","align","category"];function b(t){return O.includes(t)}const O=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX","XXA","XXB","XXC","XXD","XXE","XXF","XXG"],y="usx";function J(t){const e=new h.DOMParser().parseFromString(t,"text/xml");return C(e.documentElement)}function C(t){const[e]=t?E(t):[{content:[]}];return e.type=u,e.version=f,e}function E(t){const e={};let r=t.tagName,i,c,s="append";if(["row","cell"].includes(r)&&(r="table:"+r),t.attributes)for(const o of Array.from(t.attributes))T(o.name),e[o.name]=o.value;e.style&&(i=e.style,delete e.style),e.vid&&delete e.vid,e.status&&delete e.status;let n={type:r};i&&(n.marker=i),n={...n,...e},t.firstChild&&t.firstChild.nodeType===t.firstChild.TEXT_NODE&&t.firstChild.nodeValue&&a(t.firstChild.nodeValue)!==""&&(c=t.firstChild.nodeValue);const S=Array.from(t.childNodes);n.content=[],c&&n.content.push(c);for(const o of S){if(o.tagName===void 0)continue;const[d,A]=E(o);switch(A){case"append":n.content.push(d);break;case"merge":n.content=n.content.concat(d);break}o.nextSibling&&o.nextSibling.nodeType===o.nextSibling.TEXT_NODE&&o.nextSibling.nodeValue&&(a(o.nextSibling.nodeValue)!==""||o.nextSibling.nodeValue===" ")&&n.content.push(o.nextSibling.nodeValue)}return n.content.length===0&&n.type!==y&&delete n.content,"eid"in n&&["verse","chapter"].includes(r)&&(s="ignore"),[n,s]}function a(t){return t.replace(/(^[ \t\n\r\f\v]+)|([ \t\n\r\f\v]+$)/g,"")}const l="$",p=".content[";function P(t){const e=t.split(p);if(e.shift()!==l)throw new Error(`indexesFromJsonPath: jsonPath didn't start with '${l}'`);return e.map(r=>parseInt(r,10))}function g(t){return t.reduce((e,r)=>`${e}${p}${r}]`,l)}export{J as D,M as H,X as I,g as L,f as O,u as T,b as V,T as m,P as w};
