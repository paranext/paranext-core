import{c as q,a as H,P as N,b as p,d as V}from"./index-BgWA9gC9.js";import{r as s}from"./iframe-CAlnYpdy.js";import{c as z,u as J}from"./index-DQMtMrQI.js";import{u as Q}from"./index-NuFZa7Mc.js";import{u as W,a as X}from"./index-C0ow9rcW.js";import{j as d}from"./jsx-runtime-DE4KxWyF.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ie=q("Circle",Z);var _="rovingFocusGroup.onEntryFocus",$={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[A,G,ee]=z(I),[te,be]=H(I,[ee]),[oe,re]=te(I),O=s.forwardRef((e,r)=>d.jsx(A.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(A.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(ne,{...e,ref:r})})}));O.displayName=I;var ne=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,orientation:t,loop:E=!1,dir:S,currentTabStopId:v,defaultCurrentTabStopId:T,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:a=!1,...b}=e,F=s.useRef(null),g=Q(r,F),R=J(S),[C,o]=V({prop:v,defaultProp:T??null,onChange:h,caller:I}),[i,w]=s.useState(!1),u=X(m),l=G(c),y=s.useRef(!1),[L,P]=s.useState(0);return s.useEffect(()=>{const n=F.current;if(n)return n.addEventListener(_,u),()=>n.removeEventListener(_,u)},[u]),d.jsx(oe,{scope:c,orientation:t,dir:R,loop:E,currentTabStopId:C,onItemFocus:s.useCallback(n=>o(n),[o]),onItemShiftTab:s.useCallback(()=>w(!0),[]),onFocusableItemAdd:s.useCallback(()=>P(n=>n+1),[]),onFocusableItemRemove:s.useCallback(()=>P(n=>n-1),[]),children:d.jsx(N.div,{tabIndex:i||L===0?-1:0,"data-orientation":t,...b,ref:g,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{y.current=!0}),onFocus:p(e.onFocus,n=>{const M=!y.current;if(n.target===n.currentTarget&&M&&!i){const D=new CustomEvent(_,$);if(n.currentTarget.dispatchEvent(D),!D.defaultPrevented){const x=l().filter(f=>f.focusable),U=x.find(f=>f.active),B=x.find(f=>f.id===C),Y=[U,B,...x].filter(Boolean).map(f=>f.ref.current);k(Y,a)}}y.current=!1}),onBlur:p(e.onBlur,()=>w(!1))})})}),j="RovingFocusGroupItem",K=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,focusable:t=!0,active:E=!1,tabStopId:S,children:v,...T}=e,h=W(),m=S||h,a=re(j,c),b=a.currentTabStopId===m,F=G(c),{onFocusableItemAdd:g,onFocusableItemRemove:R,currentTabStopId:C}=a;return s.useEffect(()=>{if(t)return g(),()=>R()},[t,g,R]),d.jsx(A.ItemSlot,{scope:c,id:m,focusable:t,active:E,children:d.jsx(N.span,{tabIndex:b?0:-1,"data-orientation":a.orientation,...T,ref:r,onMouseDown:p(e.onMouseDown,o=>{t?a.onItemFocus(m):o.preventDefault()}),onFocus:p(e.onFocus,()=>a.onItemFocus(m)),onKeyDown:p(e.onKeyDown,o=>{if(o.key==="Tab"&&o.shiftKey){a.onItemShiftTab();return}if(o.target!==o.currentTarget)return;const i=ae(o,a.orientation,a.dir);if(i!==void 0){if(o.metaKey||o.ctrlKey||o.altKey||o.shiftKey)return;o.preventDefault();let u=F().filter(l=>l.focusable).map(l=>l.ref.current);if(i==="last")u.reverse();else if(i==="prev"||i==="next"){i==="prev"&&u.reverse();const l=u.indexOf(o.currentTarget);u=a.loop?ue(u,l+1):u.slice(l+1)}setTimeout(()=>k(u))}}),children:typeof v=="function"?v({isCurrentTabStop:b,hasTabStop:C!=null}):v})})});K.displayName=j;var se={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ce(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ae(e,r,c){const t=ce(e.key,c);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return se[t]}function k(e,r=!1){const c=document.activeElement;for(const t of e)if(t===c||(t.focus({preventScroll:r}),document.activeElement!==c))return}function ue(e,r){return e.map((c,t)=>e[(r+t)%e.length])}var Fe=O,ge=K;export{Ie as C,ge as I,Fe as R,be as c};
