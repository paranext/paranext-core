import{c as G,o as H,s as I,f as J,a as K,h as Q,l as U,b as q}from"./floating-ui.dom-DCpBEVSC.js";import{r as o}from"./iframe-bGuH-Abg.js";import{r as X}from"./index-BkoBbs9Y.js";var Y=typeof document<"u",Z=function(){},w=Y?o.useLayoutEffect:Z;function R(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,f;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!R(e[r],t[r]))return!1;return!0}if(f=Object.keys(e),n=f.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,f[r]))return!1;for(r=n;r--!==0;){const p=f[r];if(!(p==="_owner"&&e.$$typeof)&&!R(e[p],t[p]))return!1}return!0}return e!==e&&t!==t}function z(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L(e,t){const n=z(e);return Math.round(t*n)/n}function $(e){const t=o.useRef(e);return w(()=>{t.current=e}),t}function oe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:f,elements:{reference:p,floating:A}={},transform:C=!0,whileElementsMounted:k,open:x}=e,[i,D]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,B]=o.useState(r);R(S,r)||B(r);const[N,T]=o.useState(null),[V,W]=o.useState(null),_=o.useCallback(s=>{s!==a.current&&(a.current=s,T(s))},[]),j=o.useCallback(s=>{s!==d.current&&(d.current=s,W(s))},[]),u=p||N,c=A||V,a=o.useRef(null),d=o.useRef(null),h=o.useRef(i),b=k!=null,M=$(k),P=$(f),v=$(x),y=o.useCallback(()=>{if(!a.current||!d.current)return;const s={placement:t,strategy:n,middleware:S};P.current&&(s.platform=P.current),G(a.current,d.current,s).then(g=>{const m={...g,isPositioned:v.current!==!1};E.current&&!R(h.current,m)&&(h.current=m,X.flushSync(()=>{D(m)}))})},[S,t,n,P,v]);w(()=>{x===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,D(s=>({...s,isPositioned:!1})))},[x]);const E=o.useRef(!1);w(()=>(E.current=!0,()=>{E.current=!1}),[]),w(()=>{if(u&&(a.current=u),c&&(d.current=c),u&&c){if(M.current)return M.current(u,c,y);y()}},[u,c,y,M,b]);const F=o.useMemo(()=>({reference:a,floating:d,setReference:_,setFloating:j}),[_,j]),l=o.useMemo(()=>({reference:u,floating:c}),[u,c]),O=o.useMemo(()=>{const s={position:n,left:0,top:0};if(!l.floating)return s;const g=L(l.floating,i.x),m=L(l.floating,i.y);return C?{...s,transform:"translate("+g+"px, "+m+"px)",...z(l.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:g,top:m}},[n,C,l.floating,i.x,i.y]);return o.useMemo(()=>({...i,update:y,refs:F,elements:l,floatingStyles:O}),[i,y,F,l,O])}const ee=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:f}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?q({element:r.current,padding:f}).fn(n):{}:r?q({element:r,padding:f}).fn(n):{}}}},se=(e,t)=>({...H(e),options:[e,t]}),fe=(e,t)=>({...I(e),options:[e,t]}),ie=(e,t)=>({...U(e),options:[e,t]}),ue=(e,t)=>({...J(e),options:[e,t]}),ce=(e,t)=>({...K(e),options:[e,t]}),le=(e,t)=>({...Q(e),options:[e,t]}),ae=(e,t)=>({...ee(e),options:[e,t]});export{ce as a,ae as b,ue as f,le as h,ie as l,se as o,fe as s,oe as u};
