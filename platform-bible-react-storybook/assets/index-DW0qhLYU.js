import{e as r}from"./iframe-Cr8C4RA7.js";import{a as _}from"./index-D8FhcD3C.js";import{u as I}from"./index-CkBAhbUZ.js";import{c as M}from"./index-Ctn_8C6m.js";import{j as u}from"./jsx-runtime-BuBg4_Ps.js";function q(s){const d=s+"CollectionProvider",[y,h]=_(d),[E,m]=y(d,{collectionRef:{current:null},itemMap:new Map}),p=c=>{const{scope:e,children:l}=c,t=r.useRef(null),o=r.useRef(new Map).current;return u.jsx(E,{scope:e,itemMap:o,collectionRef:t,children:l})};p.displayName=d;const f=s+"CollectionSlot",N=M(f),C=r.forwardRef((c,e)=>{const{scope:l,children:t}=c,o=m(f,l),n=I(e,o.collectionRef);return u.jsx(N,{ref:n,children:t})});C.displayName=f;const a=s+"CollectionItemSlot",R="data-radix-collection-item",A=M(a),S=r.forwardRef((c,e)=>{const{scope:l,children:t,...o}=c,n=r.useRef(null),x=I(e,n),i=m(a,l);return r.useEffect(()=>(i.itemMap.set(n,{ref:n,...o}),()=>void i.itemMap.delete(n))),u.jsx(A,{[R]:"",ref:x,children:t})});S.displayName=a;function T(c){const e=m(s+"CollectionConsumer",c);return r.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((i,O)=>o.indexOf(i.ref.current)-o.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:p,Slot:C,ItemSlot:S},T,h]}export{q as c};
