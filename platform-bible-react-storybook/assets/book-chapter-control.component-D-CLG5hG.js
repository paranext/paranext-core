import{j as a}from"./jsx-runtime-h-_TfLDV.js";import{r,e as z,b as Fe}from"./iframe-CqxptN2K.js";import{I as Cn}from"./input-BfjPklqG.js";import{c as k}from"./shadcn-ui.util-DMJ19wEV.js";import{e as ot,C as rt,c as at,P as ce,b,f as xn,a as st}from"./index-D4XgvVkC.js";import{c as bn}from"./index-BPbCuWFR.js";import{u as we,b as it,c as Mn}from"./index-Cz70NSUs.js";import{c as yn,d as ct,A as _n,b as Be,a as En,R as ut,P as Nn,u as Ee,h as Tn,e as Dn,f as Rn,F as In,D as Sn,C as kn,g as Pn}from"./Combination-hXwGJkh_.js";import{P as Re}from"./index-BnEcJPi9.js";import{c as dt,I as On,R as An,C as jn,m as G}from"./index.es-BpvqiZm3.js";import{w as _e,P as Qe,q as Ln}from"./index-4W15H_p_.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bn=ot("ChevronRight",Fn);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]],Gn=ot("CircleSlash",Kn),lt=r.forwardRef(({handleSearch:e,handleKeyDown:n,handleOnClick:t,handleSubmit:o,className:s,hasTopMatch:c,hasNoMatches:f,hasInputChanged:l,...d},m)=>{const[h,u]=r.useState(!1);return a.jsxs("div",{className:"tw-relative tw-max-w-48",children:[a.jsx(Cn,{...d,type:"text",className:k("tw-relative tw-w-full tw-min-w-0 tw-flex-shrink tw-grow tw-basis-32 tw-gap-2.5 tw-text-ellipsis tw-rounded-lg tw-border tw-border-solid tw-bg-background tw-py-2 !tw-pe-10 tw-ps-4 tw-font-medium tw-text-foreground tw-shadow-none tw-outline-none",l&&(c?"focus-visible:tw-ring-green-600":f&&"focus-visible:tw-ring-destructive"),s),onChange:p=>e(p.target.value),onKeyDown:p=>{p.key==="Enter"?(o(),p.preventDefault()):n(p)},onClick:t,onFocus:p=>{var v;u(!0),(v=d.onFocus)==null||v.call(d,p)},onBlur:p=>{var v;u(!1),(v=d.onBlur)==null||v.call(d,p)},ref:m}),h&&l&&(c?a.jsx(rt,{className:"tw-absolute tw-right-2 tw-top-1/2 tw-h-4 tw-w-4 tw--translate-y-1/2 tw-text-green-600"}):f&&a.jsx(Gn,{className:"tw-absolute tw-right-2 tw-top-1/2 tw-h-4 tw-w-4 tw--translate-y-1/2 tw-text-destructive"}))]})});lt.__docgenInfo={description:"",methods:[],displayName:"BookChapterInput",props:{handleSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(searchString: string) => void",signature:{arguments:[{type:{name:"string"},name:"searchString"}],return:{name:"void"}}},description:""},handleKeyDown:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: KeyboardEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"KeyboardEvent",elements:[{name:"HTMLInputElement"}],raw:"KeyboardEvent<HTMLInputElement>"},name:"event"}],return:{name:"void"}}},description:""},handleOnClick:{required:!0,tsType:{name:"MouseEventHandler",elements:[{name:"HTMLInputElement"}],raw:"MouseEventHandler<HTMLInputElement>"},description:""},handleSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFocus:{required:!1,tsType:{name:"FocusEventHandler",elements:[{name:"HTMLInputElement"}],raw:"FocusEventHandler<HTMLInputElement>"},description:""},onBlur:{required:!1,tsType:{name:"FocusEventHandler",elements:[{name:"HTMLInputElement"}],raw:"FocusEventHandler<HTMLInputElement>"},description:""},value:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},hasTopMatch:{required:!1,tsType:{name:"boolean"},description:""},hasNoMatches:{required:!1,tsType:{name:"boolean"},description:""},hasInputChanged:{required:!1,tsType:{name:"boolean"},description:""}}};const pt=r.createContext(void 0);function Ie(){const e=r.useContext(pt);if(!e)throw new Error("useMenuContext must be used within a MenuContext.Provider.");return e}const Se=bn("",{variants:{variant:{default:"",muted:"hover:tw-bg-muted hover:tw-text-foreground focus:tw-bg-muted focus:tw-text-foreground data-[state=open]:tw-bg-muted data-[state=open]:tw-text-foreground"}},defaultVariants:{variant:"default"}});var Le=["Enter"," "],qn=["ArrowDown","PageUp","Home"],ft=["ArrowUp","PageDown","End"],$n=[...qn,...ft],Hn={ltr:[...Le,"ArrowRight"],rtl:[...Le,"ArrowLeft"]},Vn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},he="Menu",[fe,Un,zn]=yn(he),[oe,mt]=at(he,[zn,ct,dt]),ge=ct(),wt=dt(),[ht,J]=oe(he),[Yn,ve]=oe(he),gt=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:s,onOpenChange:c,modal:f=!0}=e,l=ge(n),[d,m]=r.useState(null),h=r.useRef(!1),u=Be(c),p=En(s);return r.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",M,{capture:!0,once:!0}),document.addEventListener("pointermove",M,{capture:!0,once:!0})},M=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",M,{capture:!0}),document.removeEventListener("pointermove",M,{capture:!0})}},[]),a.jsx(ut,{...l,children:a.jsx(ht,{scope:n,open:t,onOpenChange:u,content:d,onContentChange:m,children:a.jsx(Yn,{scope:n,onClose:r.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:p,modal:f,children:o})})})};gt.displayName=he;var Xn="MenuAnchor",Ke=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,s=ge(t);return a.jsx(_n,{...s,...o,ref:n})});Ke.displayName=Xn;var Ge="MenuPortal",[Wn,vt]=oe(Ge,{forceMount:void 0}),Ct=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:s}=e,c=J(Ge,n);return a.jsx(Wn,{scope:n,forceMount:t,children:a.jsx(Re,{present:t||c.open,children:a.jsx(Nn,{asChild:!0,container:s,children:o})})})};Ct.displayName=Ge;var L="MenuContent",[Qn,qe]=oe(L),xt=r.forwardRef((e,n)=>{const t=vt(L,e.__scopeMenu),{forceMount:o=t.forceMount,...s}=e,c=J(L,e.__scopeMenu),f=ve(L,e.__scopeMenu);return a.jsx(fe.Provider,{scope:e.__scopeMenu,children:a.jsx(Re,{present:o||c.open,children:a.jsx(fe.Slot,{scope:e.__scopeMenu,children:f.modal?a.jsx(Zn,{...s,ref:n}):a.jsx(Jn,{...s,ref:n})})})})}),Zn=r.forwardRef((e,n)=>{const t=J(L,e.__scopeMenu),o=r.useRef(null),s=we(n,o);return r.useEffect(()=>{const c=o.current;if(c)return Tn(c)},[]),a.jsx($e,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:b(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Jn=r.forwardRef((e,n)=>{const t=J(L,e.__scopeMenu);return a.jsx($e,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),eo=Mn("MenuContent.ScrollLock"),$e=r.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:f,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:p,onDismiss:v,disableOutsideScroll:M,...D}=e,P=J(L,t),V=ve(L,t),re=ge(t),Y=wt(t),X=Un(t),[y,ue]=r.useState(null),N=r.useRef(null),U=we(n,N,P.onContentChange),O=r.useRef(0),q=r.useRef(""),ee=r.useRef(0),F=r.useRef(null),$=r.useRef("right"),W=r.useRef(0),Ce=M?Rn:r.Fragment,ae=M?{as:eo,allowPinchZoom:!0}:void 0,R=g=>{var Q,be;const _=q.current+g,A=X().filter(B=>!B.disabled),I=document.activeElement,de=(Q=A.find(B=>B.ref.current===I))==null?void 0:Q.textValue,se=A.map(B=>B.textValue),xe=fo(se,_,de),H=(be=A.find(B=>B.textValue===xe))==null?void 0:be.ref.current;(function B(i){q.current=i,window.clearTimeout(O.current),i!==""&&(O.current=window.setTimeout(()=>B(""),1e3))})(_),H&&setTimeout(()=>H.focus())};r.useEffect(()=>()=>window.clearTimeout(O.current),[]),Dn();const S=r.useCallback(g=>{var A,I;return $.current===((A=F.current)==null?void 0:A.side)&&wo(g,(I=F.current)==null?void 0:I.area)},[]);return a.jsx(Qn,{scope:t,searchRef:q,onItemEnter:r.useCallback(g=>{S(g)&&g.preventDefault()},[S]),onItemLeave:r.useCallback(g=>{var _;S(g)||((_=N.current)==null||_.focus(),ue(null))},[S]),onTriggerLeave:r.useCallback(g=>{S(g)&&g.preventDefault()},[S]),pointerGraceTimerRef:ee,onPointerGraceIntentChange:r.useCallback(g=>{F.current=g},[]),children:a.jsx(Ce,{...ae,children:a.jsx(In,{asChild:!0,trapped:s,onMountAutoFocus:b(c,g=>{var _;g.preventDefault(),(_=N.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:a.jsx(Sn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:p,onDismiss:v,children:a.jsx(An,{asChild:!0,...Y,dir:V.dir,orientation:"vertical",loop:o,currentTabStopId:y,onCurrentTabStopIdChange:ue,onEntryFocus:b(d,g=>{V.isUsingKeyboardRef.current||g.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(kn,{role:"menu","aria-orientation":"vertical","data-state":Lt(P.open),"data-radix-menu-content":"",dir:V.dir,...re,...D,ref:U,style:{outline:"none",...D.style},onKeyDown:b(D.onKeyDown,g=>{const A=g.target.closest("[data-radix-menu-content]")===g.currentTarget,I=g.ctrlKey||g.altKey||g.metaKey,de=g.key.length===1;A&&(g.key==="Tab"&&g.preventDefault(),!I&&de&&R(g.key));const se=N.current;if(g.target!==se||!$n.includes(g.key))return;g.preventDefault();const H=X().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);ft.includes(g.key)&&H.reverse(),lo(H)}),onBlur:b(e.onBlur,g=>{g.currentTarget.contains(g.target)||(window.clearTimeout(O.current),q.current="")}),onPointerMove:b(e.onPointerMove,me(g=>{const _=g.target,A=W.current!==g.clientX;if(g.currentTarget.contains(_)&&A){const I=g.clientX>W.current?"right":"left";$.current=I,W.current=g.clientX}}))})})})})})})});xt.displayName=L;var to="MenuGroup",He=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return a.jsx(ce.div,{role:"group",...o,ref:n})});He.displayName=to;var no="MenuLabel",bt=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return a.jsx(ce.div,{...o,ref:n})});bt.displayName=no;var Ne="MenuItem",Ze="menu.itemSelect",ke=r.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...s}=e,c=r.useRef(null),f=ve(Ne,e.__scopeMenu),l=qe(Ne,e.__scopeMenu),d=we(n,c),m=r.useRef(!1),h=()=>{const u=c.current;if(!t&&u){const p=new CustomEvent(Ze,{bubbles:!0,cancelable:!0});u.addEventListener(Ze,v=>o==null?void 0:o(v),{once:!0}),xn(u,p),p.defaultPrevented?m.current=!1:f.onClose()}};return a.jsx(Mt,{...s,ref:d,disabled:t,onClick:b(e.onClick,h),onPointerDown:u=>{var p;(p=e.onPointerDown)==null||p.call(e,u),m.current=!0},onPointerUp:b(e.onPointerUp,u=>{var p;m.current||(p=u.currentTarget)==null||p.click()}),onKeyDown:b(e.onKeyDown,u=>{const p=l.searchRef.current!=="";t||p&&u.key===" "||Le.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});ke.displayName=Ne;var Mt=r.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:s,...c}=e,f=qe(Ne,t),l=wt(t),d=r.useRef(null),m=we(n,d),[h,u]=r.useState(!1),[p,v]=r.useState("");return r.useEffect(()=>{const M=d.current;M&&v((M.textContent??"").trim())},[c.children]),a.jsx(fe.ItemSlot,{scope:t,disabled:o,textValue:s??p,children:a.jsx(On,{asChild:!0,...l,focusable:!o,children:a.jsx(ce.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...c,ref:m,onPointerMove:b(e.onPointerMove,me(M=>{o?f.onItemLeave(M):(f.onItemEnter(M),M.defaultPrevented||M.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(e.onPointerLeave,me(M=>f.onItemLeave(M))),onFocus:b(e.onFocus,()=>u(!0)),onBlur:b(e.onBlur,()=>u(!1))})})})}),oo="MenuCheckboxItem",yt=r.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...s}=e;return a.jsx(Dt,{scope:e.__scopeMenu,checked:t,children:a.jsx(ke,{role:"menuitemcheckbox","aria-checked":Te(t)?"mixed":t,...s,ref:n,"data-state":ze(t),onSelect:b(s.onSelect,()=>o==null?void 0:o(Te(t)?!0:!t),{checkForDefaultPrevented:!1})})})});yt.displayName=oo;var _t="MenuRadioGroup",[ro,ao]=oe(_t,{value:void 0,onValueChange:()=>{}}),Et=r.forwardRef((e,n)=>{const{value:t,onValueChange:o,...s}=e,c=Be(o);return a.jsx(ro,{scope:e.__scopeMenu,value:t,onValueChange:c,children:a.jsx(He,{...s,ref:n})})});Et.displayName=_t;var Nt="MenuRadioItem",Tt=r.forwardRef((e,n)=>{const{value:t,...o}=e,s=ao(Nt,e.__scopeMenu),c=t===s.value;return a.jsx(Dt,{scope:e.__scopeMenu,checked:c,children:a.jsx(ke,{role:"menuitemradio","aria-checked":c,...o,ref:n,"data-state":ze(c),onSelect:b(o.onSelect,()=>{var f;return(f=s.onValueChange)==null?void 0:f.call(s,t)},{checkForDefaultPrevented:!1})})})});Tt.displayName=Nt;var Ve="MenuItemIndicator",[Dt,so]=oe(Ve,{checked:!1}),Rt=r.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...s}=e,c=so(Ve,t);return a.jsx(Re,{present:o||Te(c.checked)||c.checked===!0,children:a.jsx(ce.span,{...s,ref:n,"data-state":ze(c.checked)})})});Rt.displayName=Ve;var io="MenuSeparator",It=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return a.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});It.displayName=io;var co="MenuArrow",St=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,s=ge(t);return a.jsx(Pn,{...s,...o,ref:n})});St.displayName=co;var Ue="MenuSub",[uo,kt]=oe(Ue),Pt=e=>{const{__scopeMenu:n,children:t,open:o=!1,onOpenChange:s}=e,c=J(Ue,n),f=ge(n),[l,d]=r.useState(null),[m,h]=r.useState(null),u=Be(s);return r.useEffect(()=>(c.open===!1&&u(!1),()=>u(!1)),[c.open,u]),a.jsx(ut,{...f,children:a.jsx(ht,{scope:n,open:o,onOpenChange:u,content:m,onContentChange:h,children:a.jsx(uo,{scope:n,contentId:Ee(),triggerId:Ee(),trigger:l,onTriggerChange:d,children:t})})})};Pt.displayName=Ue;var le="MenuSubTrigger",Ot=r.forwardRef((e,n)=>{const t=J(le,e.__scopeMenu),o=ve(le,e.__scopeMenu),s=kt(le,e.__scopeMenu),c=qe(le,e.__scopeMenu),f=r.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=c,m={__scopeMenu:e.__scopeMenu},h=r.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return r.useEffect(()=>h,[h]),r.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),d(null)}},[l,d]),a.jsx(Ke,{asChild:!0,...m,children:a.jsx(Mt,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Lt(t.open),...e,ref:it(n,s.onTriggerChange),onClick:u=>{var p;(p=e.onClick)==null||p.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:b(e.onPointerMove,me(u=>{c.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!t.open&&!f.current&&(c.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:b(e.onPointerLeave,me(u=>{var v,M;h();const p=(v=t.content)==null?void 0:v.getBoundingClientRect();if(p){const D=(M=t.content)==null?void 0:M.dataset.side,P=D==="right",V=P?-5:5,re=p[P?"left":"right"],Y=p[P?"right":"left"];c.onPointerGraceIntentChange({area:[{x:u.clientX+V,y:u.clientY},{x:re,y:p.top},{x:Y,y:p.top},{x:Y,y:p.bottom},{x:re,y:p.bottom}],side:D}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(u),u.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:b(e.onKeyDown,u=>{var v;const p=c.searchRef.current!=="";e.disabled||p&&u.key===" "||Hn[o.dir].includes(u.key)&&(t.onOpenChange(!0),(v=t.content)==null||v.focus(),u.preventDefault())})})})});Ot.displayName=le;var At="MenuSubContent",jt=r.forwardRef((e,n)=>{const t=vt(L,e.__scopeMenu),{forceMount:o=t.forceMount,...s}=e,c=J(L,e.__scopeMenu),f=ve(L,e.__scopeMenu),l=kt(At,e.__scopeMenu),d=r.useRef(null),m=we(n,d);return a.jsx(fe.Provider,{scope:e.__scopeMenu,children:a.jsx(Re,{present:o||c.open,children:a.jsx(fe.Slot,{scope:e.__scopeMenu,children:a.jsx($e,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:m,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;f.isUsingKeyboardRef.current&&((u=d.current)==null||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:b(e.onFocusOutside,h=>{h.target!==l.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:b(e.onEscapeKeyDown,h=>{f.onClose(),h.preventDefault()}),onKeyDown:b(e.onKeyDown,h=>{var v;const u=h.currentTarget.contains(h.target),p=Vn[f.dir].includes(h.key);u&&p&&(c.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});jt.displayName=At;function Lt(e){return e?"open":"closed"}function Te(e){return e==="indeterminate"}function ze(e){return Te(e)?"indeterminate":e?"checked":"unchecked"}function lo(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function po(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function fo(e,n,t){const s=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let f=po(e,Math.max(c,0));s.length===1&&(f=f.filter(m=>m!==t));const d=f.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function mo(e,n){const{x:t,y:o}=e;let s=!1;for(let c=0,f=n.length-1;c<n.length;f=c++){const l=n[c],d=n[f],m=l.x,h=l.y,u=d.x,p=d.y;h>o!=p>o&&t<(u-m)*(o-h)/(p-h)+m&&(s=!s)}return s}function wo(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return mo(t,n)}function me(e){return n=>n.pointerType==="mouse"?e(n):void 0}var ho=gt,go=Ke,vo=Ct,Co=xt,xo=He,bo=bt,Mo=ke,yo=yt,_o=Et,Eo=Tt,No=Rt,To=It,Do=St,Ro=Pt,Io=Ot,So=jt,Pe="DropdownMenu",[ko,wr]=at(Pe,[mt]),T=mt(),[Po,Ft]=ko(Pe),Bt=e=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:s,defaultOpen:c,onOpenChange:f,modal:l=!0}=e,d=T(n),m=r.useRef(null),[h,u]=st({prop:s,defaultProp:c??!1,onChange:f,caller:Pe});return a.jsx(Po,{scope:n,triggerId:Ee(),triggerRef:m,contentId:Ee(),open:h,onOpenChange:u,onOpenToggle:r.useCallback(()=>u(p=>!p),[u]),modal:l,children:a.jsx(ho,{...d,open:h,onOpenChange:u,dir:o,modal:l,children:t})})};Bt.displayName=Pe;var Kt="DropdownMenuTrigger",Gt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...s}=e,c=Ft(Kt,t),f=T(t);return a.jsx(go,{asChild:!0,...f,children:a.jsx(ce.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:it(n,c.triggerRef),onPointerDown:b(e.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(c.onOpenToggle(),c.open||l.preventDefault())}),onKeyDown:b(e.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&c.onOpenToggle(),l.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Gt.displayName=Kt;var Oo="DropdownMenuPortal",qt=e=>{const{__scopeDropdownMenu:n,...t}=e,o=T(n);return a.jsx(vo,{...o,...t})};qt.displayName=Oo;var $t="DropdownMenuContent",Ht=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=Ft($t,t),c=T(t),f=r.useRef(!1);return a.jsx(Co,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...o,ref:n,onCloseAutoFocus:b(e.onCloseAutoFocus,l=>{var d;f.current||(d=s.triggerRef.current)==null||d.focus(),f.current=!1,l.preventDefault()}),onInteractOutside:b(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!s.modal||h)&&(f.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ht.displayName=$t;var Ao="DropdownMenuGroup",Vt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(xo,{...s,...o,ref:n})});Vt.displayName=Ao;var jo="DropdownMenuLabel",Ut=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(bo,{...s,...o,ref:n})});Ut.displayName=jo;var Lo="DropdownMenuItem",zt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(Mo,{...s,...o,ref:n})});zt.displayName=Lo;var Fo="DropdownMenuCheckboxItem",Yt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(yo,{...s,...o,ref:n})});Yt.displayName=Fo;var Bo="DropdownMenuRadioGroup",Ko=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(_o,{...s,...o,ref:n})});Ko.displayName=Bo;var Go="DropdownMenuRadioItem",Xt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(Eo,{...s,...o,ref:n})});Xt.displayName=Go;var qo="DropdownMenuItemIndicator",Wt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(No,{...s,...o,ref:n})});Wt.displayName=qo;var $o="DropdownMenuSeparator",Qt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(To,{...s,...o,ref:n})});Qt.displayName=$o;var Ho="DropdownMenuArrow",Vo=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(Do,{...s,...o,ref:n})});Vo.displayName=Ho;var Uo=e=>{const{__scopeDropdownMenu:n,children:t,open:o,onOpenChange:s,defaultOpen:c}=e,f=T(n),[l,d]=st({prop:o,defaultProp:c??!1,onChange:s,caller:"DropdownMenuSub"});return a.jsx(Ro,{...f,open:l,onOpenChange:d,children:t})},zo="DropdownMenuSubTrigger",Zt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(Io,{...s,...o,ref:n})});Zt.displayName=zo;var Yo="DropdownMenuSubContent",Jt=r.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...o}=e,s=T(t);return a.jsx(So,{...s,...o,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jt.displayName=Yo;var Xo=Bt,Wo=Gt,en=qt,tn=Ht,Qo=Vt,nn=Ut,on=zt,rn=Yt,an=Xt,sn=Wt,cn=Qt,Zo=Uo,un=Zt,dn=Jt;const Jo=Wo,hr=Qo,gr=en,vr=Zo;function ln({variant:e="default",...n}){const t=z.useMemo(()=>({variant:e}),[e]);return a.jsx(pt.Provider,{value:t,children:a.jsx(Xo,{...n})})}const pn=z.forwardRef(({className:e,inset:n,children:t,...o},s)=>{const c=Ie();return a.jsxs(un,{ref:s,className:k("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent data-[state=open]:tw-bg-accent",n&&"tw-pl-8",e,Se({variant:c.variant})),...o,children:[t,a.jsx(Bn,{className:"tw-ml-auto tw-h-4 tw-w-4"})]})});pn.displayName=un.displayName;const fn=z.forwardRef(({className:e,...n},t)=>a.jsx(dn,{ref:t,className:k("pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-lg data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",e),...n}));fn.displayName=dn.displayName;const Ye=z.forwardRef(({className:e,sideOffset:n=4,children:t,...o},s)=>{const c=Fe();return a.jsx(en,{children:a.jsx(tn,{ref:s,sideOffset:n,className:k("pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",e),...o,children:a.jsx("div",{dir:c,children:t})})})});Ye.displayName=tn.displayName;const Oe=z.forwardRef(({className:e,inset:n,...t},o)=>{const s=Fe(),c=Ie();return a.jsx(on,{ref:o,className:k("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",n&&"tw-pl-8",e,Se({variant:c.variant})),...t,dir:s})});Oe.displayName=on.displayName;const mn=z.forwardRef(({className:e,children:n,checked:t,...o},s)=>{const c=Ie();return a.jsxs(rn,{ref:s,className:k("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",e,Se({variant:c.variant})),checked:t,...o,children:[a.jsx("span",{className:"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2",children:a.jsx(sn,{children:a.jsx(rt,{className:"tw-h-4 tw-w-4"})})}),n]})});mn.displayName=rn.displayName;const wn=z.forwardRef(({className:e,children:n,...t},o)=>{const s=Ie();return a.jsxs(an,{ref:o,className:k("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",e,Se({variant:s.variant})),...t,children:[a.jsx("span",{className:"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2",children:a.jsx(sn,{children:a.jsx(jn,{className:"tw-h-2 tw-w-2 tw-fill-current"})})}),n]})});wn.displayName=an.displayName;const Xe=z.forwardRef(({className:e,inset:n,...t},o)=>a.jsx(nn,{ref:o,className:k("tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold",n&&"tw-pl-8",e),...t}));Xe.displayName=nn.displayName;const De=z.forwardRef(({className:e,...n},t)=>a.jsx(cn,{ref:t,className:k("tw--mx-1 tw-my-1 tw-h-px tw-bg-muted",e),...n}));De.displayName=cn.displayName;ln.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],displayName:"DropdownMenu",props:{variant:{required:!1,tsType:{name:"union",raw:"MenuContextProps['variant']"},description:"",defaultValue:{value:"'default'",computed:!1}}}};pn.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""},inset:{required:!1,tsType:{name:"boolean"},description:""}}};fn.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""}}};Ye.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""},sideOffset:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}}}};Oe.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""},inset:{required:!1,tsType:{name:"boolean"},description:""}}};mn.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""},checked:{required:!1,tsType:{name:"boolean"},description:""}}};wn.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""}}};Xe.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""},inset:{required:!1,tsType:{name:"boolean"},description:""}}};De.__docgenInfo={description:"@inheritdoc DropdownMenuProps",methods:[],props:{className:{required:!1,tsType:{name:"string"},description:""}}};const hn=r.forwardRef(({bookId:e,handleSelectBook:n,shouldExpandChildren:t,handleHighlightBook:o,handleKeyDown:s,bookType:c,children:f},l)=>a.jsxs(Oe,{ref:l,textValue:e,className:k("tw-mx-1 tw-flex-col tw-items-start tw-px-1 tw-font-normal tw-text-foreground/80",{"tw-bg-amber-50 tw-text-yellow-900 data-[highlighted]:tw-bg-amber-100":t}),onSelect:d=>{d.preventDefault(),n()},onKeyDown:d=>{s(d)},onFocus:o,onMouseMove:o,children:[a.jsx("span",{className:k("tw-border-b-0 tw-border-e-0 tw-border-s-2 tw-border-t-0 tw-border-solid tw-px-2",{"tw-font-bold":t,"tw-border-s-red-200":c.toLowerCase()==="ot","tw-border-s-purple-200":c.toLowerCase()==="nt","tw-border-s-indigo-200":c.toLowerCase()==="dc"}),children:G.bookIdToEnglishName(e)}),t&&a.jsx("div",{children:f})]},e));hn.__docgenInfo={description:"",methods:[],displayName:"BookMenuItem"};function gn({handleSelectChapter:e,endChapter:n,selectedChapter:t,highlightedChapter:o,handleHighlightedChapter:s,matchingChapters:c}){const f=Array.from({length:n},(d,m)=>m+1),l=r.useCallback(d=>{s(d)},[s]);return a.jsx("div",{className:k("tw-flex tw-flex-wrap tw-items-start tw-justify-start tw-self-stretch"),children:f.map(d=>a.jsx("div",{className:k("tw-box-content tw-flex tw-h-4 tw-w-4 tw-cursor-pointer tw-items-center tw-justify-end tw-rounded-md tw-p-2 tw-text-amber-800",{"tw-font-semibold tw-text-amber-900":d===t,"tw-bg-amber-200":d===o,"tw-pointer-events-none tw-bg-accent tw-opacity-50":c&&!c.includes(d)}),onClick:m=>{m.preventDefault(),m.stopPropagation(),e(d)},role:"button",onKeyDown:m=>{m.key==="Enter"&&e(d)},tabIndex:0,onMouseMove:()=>l(d),children:d},d))})}gn.__docgenInfo={description:"",methods:[],displayName:"ChapterSelect",props:{handleSelectChapter:{required:!0,tsType:{name:"signature",type:"function",raw:"(chapterNumber: number) => void",signature:{arguments:[{type:{name:"number"},name:"chapterNumber"}],return:{name:"void"}}},description:`Callback to run when a chapter div is selected

@param chapterNumber Number of the chapter that has been selected`},endChapter:{required:!0,tsType:{name:"number"},description:"The highest chapter number in the book (of course equal to number of chapters in the book)"},selectedChapter:{required:!0,tsType:{name:"number"},description:"The chapter number that is currently selected"},highlightedChapter:{required:!0,tsType:{name:"number"},description:"The chapter number that is currently highlighted using keyboard or mouse navigation"},handleHighlightedChapter:{required:!0,tsType:{name:"signature",type:"function",raw:"(chapterNumber: number) => void",signature:{arguments:[{type:{name:"number"},name:"chapterNumber"}],return:{name:"void"}}},description:`Callback to run when a chapter is highlighted by the user

@param chapterNumber The chapter that is highlighted`},matchingChapters:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"Optional chapter query number used to style non-matching chapter numbers accordingly"}}};const Je=6,We=G.allBookIds.filter(e=>!G.isObsolete(G.bookIdToNumber(e))),vn=Object.fromEntries(We.map(e=>[e,G.bookIdToEnglishName(e)])),er={OT:"Old Testament",NT:"New Testament",DC:"Deuterocanon"},tr=["OT","NT","DC"],nr=96,pe={BOOK_ONLY:/^([^:\s]+(?:\s+[^:\s]+)*)$/i,BOOK_CHAPTER:/^([^:\s]+(?:\s+[^:\s]+)*)\s+(\d+)$/i,BOOK_CHAPTER_VERSE:/^([^:\s]+(?:\s+[^:\s]+)*)\s+(\d+):(\d*)$/i,EXTRACT_BOOK_FROM_REFERENCE:/^([^:\s]+(?:\s+[^:\s]+)*)\s+\d+:\d+$/,EXTRACT_BOOK_CHAPTER_FROM_REFERENCE:/^([^:\s]+(?:\s+[^:\s]+)*\s+\d+):\d+$/},et=[pe.BOOK_ONLY,pe.BOOK_CHAPTER,pe.BOOK_CHAPTER_VERSE],tt=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"]),ie=e=>Ln(G.bookIdToNumber(e));function nt(e){const n=We.find(t=>vn[t].toLowerCase()===e.toLowerCase());if(n)return n}function or({scrRef:e,handleSubmit:n,className:t,getActiveBookIds:o}){const s=Fe(),[c,f]=r.useState(()=>_e(e,"English")),[l,d]=r.useState(""),[m,h]=r.useState(e.book),[u,p]=r.useState(e.chapterNum??0),[v,M]=r.useState(e.book),[D,P]=r.useState(!1),[V,re]=r.useState(D),[Y,X]=r.useState(!1),[y,ue]=r.useState(),N=r.useRef(void 0),U=r.useRef(void 0),O=r.useRef(void 0),q=r.useRef(void 0),ee=r.useCallback(i=>{if(i.trim())return et.reduce((C,w)=>{if(C)return C;const E=w.exec(i);if(E){const[x,te=void 0,Me=void 0]=E.slice(1),j=nt(x)??(G.isBookIdValid(x)?x.toLocaleUpperCase():void 0);if(j){const K=te?parseInt(te,10):void 0;if(K&&K>ie(j))return;const Z=Me?parseInt(Me,10):void 0;return{book:j,chapterNum:K,verseNum:Z}}}},void 0)},[]),F=r.useMemo(()=>{if(!(!y||!y.chapterNum))return y.verseNum?[y.chapterNum]:Array.from({length:ie(v)},(i,C)=>C+1).filter(i=>{var C;return(y==null?void 0:y.chapterNum)&&i.toString().includes((C=y==null?void 0:y.chapterNum)==null?void 0:C.toString())})},[v,y]),$=r.useMemo(()=>{const i=ee(c.trim());return i?i.book!==e.book||(i.chapterNum??0)!==e.chapterNum||(i.verseNum??0)!==e.verseNum:!0},[c,e,ee]),W=r.useMemo(()=>!!y&&$,[y,$]),Ce=r.useCallback(i=>{const C=o?o():We;return{OT:C.filter(w=>G.isBookOT(w)),NT:C.filter(w=>G.isBookNT(w)),DC:C.filter(w=>G.isBookDC(w))}[i].filter(w=>{const E=vn[w].toLowerCase(),x=l.length>0&&/^\d/.test(l)?l.charAt(0)+l.slice(1).replace(/[^a-zA-Z]/g,"").toLowerCase():l.replace(/[^a-zA-Z]/g,"").toLowerCase();return W?E===x||w.toLowerCase()===x:E.includes(x)||w.toLowerCase().includes(x)})},[o,W,l]),ae=r.useMemo(()=>tr.map(i=>({bookType:i,books:Ce(i)})).filter(i=>i.books.length>0),[Ce]),R=r.useMemo(()=>ae.reduce((i,C)=>i+C.books.length,0),[ae]),S=r.useCallback(i=>{f(i),d(i),ue(ee(i.trim()))},[ee]),g=r.useRef(!1),_=r.useCallback(()=>{f(_e(e,"English")),d(""),h(e.book),M(e.book)},[e]),A=r.useCallback(i=>{if(g.current){g.current=!1;return}P(i)},[]),I=r.useCallback((i,C,w,E)=>{if(p(e.book!==i?1:e.chapterNum),C||ie(i)===-1){n({book:i,chapterNum:w??1,verseNum:E??1}),P(!1),d("");return}h(m!==i?i:""),P(!C)},[n,e.book,e.chapterNum,m]),de=i=>{i<=0||i>ie(m)||I(m,!0,i)},se=r.useCallback(()=>{et.forEach(i=>{const C=i.exec(l);if(C){const[w,E=void 0,x=void 0]=C.slice(1),te=nt(w);(G.isBookIdValid(w)||te)&&I(te??w,!0,E?parseInt(E,10):1,x?parseInt(x,10):1)}})},[I,l]),xe=r.useCallback(i=>{if(!D)i.key!=="Tab"&&i.key!=="Escape"&&P(!0);else if(i.key==="Tab"){i.preventDefault(),i.stopPropagation();return}else i.key==="ArrowDown"?(q!=null&&q.current?q.current.focus():O!=null&&O.current?O.current.focus():U.current&&U.current.focus(),i.preventDefault()):i.key==="Escape"&&document.activeElement===N.current&&(P(!1),i.preventDefault(),i.stopPropagation());if(document.activeElement===N.current){if(/^[a-zA-Z]$/.test(i.key)&&(S($?l+i.key:i.key),X(!0),i.preventDefault()),/^\d$/.test(i.key)){const C=c;if(Y)S(l+i.key);else{const w=C.match(pe.EXTRACT_BOOK_FROM_REFERENCE);if(w){const x=`${w[1]} ${i.key}`;S(x),X(!0)}}i.preventDefault()}if(!Y&&i.key===":"){const w=c.match(pe.EXTRACT_BOOK_CHAPTER_FROM_REFERENCE);if(w){const E=w[1],x=E.endsWith(":")?`${E}`:`${E}:`;S(x),X(!0),i.preventDefault()}}Qe.has(i.key)||X(!0)}},[D,Y,S,$,l,c]),H=r.useCallback(i=>{Qe.has(i.key)||(i.key==="Tab"&&i.shiftKey&&(N.current.focus(),i.preventDefault()),i.stopPropagation(),N.current.focus(),N.current.dispatchEvent(new KeyboardEvent("keydown",{...i,view:void 0})))},[]),Q=r.useCallback(i=>{const{key:C}=i;tt.has(C)||(H(i),i.preventDefault())},[H]),be=r.useCallback(i=>{const{key:C}=i;C==="ArrowUp"&&(i.preventDefault(),N.current.focus())},[]),B=r.useCallback((i,C)=>{const{key:w}=i;if(tt.has(w)){if(v===m||R===1){const x=R===1?v:m;if(w==="Enter"){i.preventDefault(),I(x,!0,u);return}const te=w==="ArrowRight"&&!s||w==="ArrowRight"&&s==="ltr"||w==="ArrowLeft"&&s==="rtl",Me=w==="ArrowLeft"&&!s||w==="ArrowLeft"&&s==="ltr"||w==="ArrowRight"&&s==="rtl",Ae=Array.from({length:ie(v)},(ye,ne)=>ne+1),j=m!==v||R===1?F??Ae:Ae,K=j.indexOf(u);let Z=u;if(te)if(K>=0&&K<j.length-1)Z=j[K+1];else{i.preventDefault();return}else if(Me)if(K>0)Z=j[K-1];else{i.preventDefault();return}else if(w==="ArrowDown"){const ye=j[K]+Je,ne=j.find(je=>je>=ye);ne!==void 0&&(Z=ne)}else if(w==="ArrowUp"){const ye=j[K]-Je,ne=j.slice().reverse().find(je=>je<=ye);ne!==void 0&&(Z=ne)}if(Z!==u){p(Z),i.preventDefault();return}}if(C===0&&w==="ArrowUp"&&!W){i.preventDefault(),N.current.focus();return}return}H(i),i.preventDefault(),i.stopPropagation()},[s,v,u,W,H,m,F,R,I]);return r.useEffect(()=>{R===1?p(1):m===v?m===e.book?p(e.chapterNum):p(1):p(0)},[v,e.book,e.chapterNum,m,R]),r.useEffect(()=>{if(!F||R>1)return;F.indexOf(u)===-1&&p(F[0])},[v,u,m,F,R]),r.useEffect(()=>{_()},[_]),r.useEffect(()=>{},[D,_]),r.useLayoutEffect(()=>{re(D)},[D]),r.useLayoutEffect(()=>{const i=setTimeout(()=>{var C,w;if(V&&U.current&&O.current){const x=O.current.offsetTop-nr;U.current.scrollTo({top:x,behavior:"instant"}),N.current.focus()}!V&&document.activeElement!==N.current&&!((C=N.current)!=null&&C.contains(document.activeElement))&&document.activeElement!==U.current&&!((w=U.current)!=null&&w.contains(document.activeElement))&&_()},10);return()=>{clearTimeout(i)}},[V,_]),a.jsxs(ln,{modal:!1,open:D,onOpenChange:A,children:[a.jsx(Jo,{asChild:!0,children:a.jsx(lt,{ref:N,value:c,handleSearch:S,handleKeyDown:xe,handleOnClick:()=>{h(e.book),M(e.book),p(e.chapterNum>0?e.chapterNum:0),N.current.focus()},onFocus:()=>{g.current=!0,X(!1),ue(ee(c))},onBlur:()=>{R===0&&_()},handleSubmit:se,placeholder:_e(e,"English"),className:t,hasTopMatch:!!y,hasNoMatches:R===0,hasInputChanged:$})}),R>0&&a.jsx(Ye,{className:"tw-m-1 tw-overflow-y-auto tw-p-0 tw-font-normal tw-text-foreground/80",style:{width:"233px",maxHeight:"500px",zIndex:"250"},align:s==="ltr"?"start":"end",ref:U,onKeyDown:Q,children:a.jsxs("div",{className:"rtl:tw-ps-2",children:[!!y&&$&&a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"tw-cursor-pointer tw-p-4 tw-font-semibold tw-text-foreground",onClick:se,onKeyDown:i=>be(i),"data-top-match":"true",ref:q,children:_e({book:y.book,chapterNum:y.chapterNum??1,verseNum:y.verseNum??1})}),a.jsx(De,{})]}),ae.map((i,C)=>a.jsxs("div",{children:[a.jsx(Xe,{className:"tw-font-semibold tw-text-foreground/80",children:er[i.bookType]}),i.books.map((w,E)=>a.jsx("div",{children:a.jsx(hn,{bookId:w,handleSelectBook:()=>I(w,!1),shouldExpandChildren:m.toLowerCase()===w.toLowerCase()||R===1,handleHighlightBook:()=>M(w),handleKeyDown:x=>B(x,E),bookType:i.bookType,ref:x=>{m===w&&(O.current=x)},children:a.jsx(gn,{handleSelectChapter:de,endChapter:ie(w),selectedChapter:m===e.book?e.chapterNum:0,highlightedChapter:m===v||R===1?u:0,handleHighlightedChapter:x=>{p(x)},matchingChapters:$?F:void 0})})},w)),C<ae.length-1&&a.jsx(De,{})]},i.bookType))]})})]})}or.__docgenInfo={description:`\`BookChapterControl\` is a component that provides an interactive UI for selecting book chapters.
It allows users to input a search query to find specific books and chapters, navigate through
options with keyboard interactions, and submit selections. The component handles various
interactions such as opening and closing the dropdown menu, filtering book lists based on search
input, and managing highlighted selections. It also integrates with external handlers for
submitting selected references and retrieving active book IDs.

@param {BookChapterControlProps} props
@param {SerializedVerseRef} props.scrRef - The current scripture reference.
@param {function} props.handleSubmit - Function to handle the submission of selected references.
@param {string} [props.className] - Optional additional class name for styling.
@param {function} [props.getActiveBookIds] - Function to retrieve active book IDs.`,methods:[],displayName:"BookChapterControl",props:{scrRef:{required:!0,tsType:{name:"SerializedVerseRef"},description:"The current scripture reference"},handleSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(scrRef: SerializedVerseRef) => void",signature:{arguments:[{type:{name:"SerializedVerseRef"},name:"scrRef"}],return:{name:"void"}}},description:"Function to handle the submission of selected references"},className:{required:!1,tsType:{name:"string"},description:"Optional additional class name for styling"},getActiveBookIds:{required:!1,tsType:{name:"signature",type:"function",raw:"() => string[]",signature:{arguments:[],return:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}},description:"Function to retrieve active book IDs"}}};export{or as B,ln as D,Jo as a,Ye as b,hr as c,De as d,Oe as e,vr as f,pn as g,gr as h,fn as i};
