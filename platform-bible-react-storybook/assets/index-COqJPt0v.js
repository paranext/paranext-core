import{c as $e}from"./index-BPbCuWFR.js";import{r}from"./iframe-BUsi1KwF.js";import{c as v}from"./index-D9Nv1mG6.js";import{c as Ze}from"./index-C1JwEeif.js";import{u as N,c as Je}from"./index-9j4y-7FC.js";import{c as Qe}from"./index-CRtVnKyy.js";import{u as et}from"./index-BroMBb6Y.js";import{c as Ce,A as tt,R as Me,D as nt,C as ot,a as rt}from"./index-DbfVCbOQ.js";import{h as st,u as at,R as ct}from"./index-BmTuY8ih.js";import{P as ut,F as it}from"./index-DRlnufob.js";import{u as he}from"./index-DAtgGbr2.js";import{P as W}from"./index-Chmixk34.js";import{P as k,d as lt}from"./index-Dx81to0n.js";import{c as xe,I as dt,R as ft}from"./index-DbMozej-.js";import{c as mt}from"./index-DmDOWPFe.js";import{u as ee}from"./index-BYLczBpb.js";import{j as u}from"./jsx-runtime-CypqbpAN.js";const pt=r.createContext(void 0);function sn(){const e=r.useContext(pt);if(!e)throw new Error("useMenuContext must be used within a MenuContext.Provider.");return e}const an=$e("",{variants:{variant:{default:"",muted:"hover:tw-bg-muted hover:tw-text-foreground focus:tw-bg-muted focus:tw-text-foreground data-[state=open]:tw-bg-muted data-[state=open]:tw-text-foreground"}},defaultVariants:{variant:"default"}});var Q=["Enter"," "],ht=["ArrowDown","PageUp","Home"],ge=["ArrowUp","PageDown","End"],vt=[...ht,...ge],Ct={ltr:[...Q,"ArrowRight"],rtl:[...Q,"ArrowLeft"]},Mt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},F="Menu",[O,xt,gt]=Ze(F),[E,cn]=Qe(F,[gt,Ce,xe]),L=Ce(),_e=xe(),[Re,w]=E(F),[_t,K]=E(F),Se=e=>{const{__scopeMenu:n,open:t=!1,children:o,dir:c,onOpenChange:a,modal:l=!0}=e,p=L(n),[h,m]=r.useState(null),f=r.useRef(!1),s=ee(a),d=et(c);return r.useEffect(()=>{const M=()=>{f.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>f.current=!1;return document.addEventListener("keydown",M,{capture:!0}),()=>{document.removeEventListener("keydown",M,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),u.jsx(Me,{...p,children:u.jsx(Re,{scope:n,open:t,onOpenChange:s,content:h,onContentChange:m,children:u.jsx(_t,{scope:n,onClose:r.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:f,dir:d,modal:l,children:o})})})};Se.displayName=F;var Rt="MenuAnchor",te=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,c=L(t);return u.jsx(tt,{...c,...o,ref:n})});te.displayName=Rt;var ne="MenuPortal",[St,we]=E(ne,{forceMount:void 0}),Pe=e=>{const{__scopeMenu:n,forceMount:t,children:o,container:c}=e,a=w(ne,n);return u.jsx(St,{scope:n,forceMount:t,children:u.jsx(W,{present:t||a.open,children:u.jsx(ut,{asChild:!0,container:c,children:o})})})};Pe.displayName=ne;var g="MenuContent",[wt,oe]=E(g),Ee=r.forwardRef((e,n)=>{const t=we(g,e.__scopeMenu),{forceMount:o=t.forceMount,...c}=e,a=w(g,e.__scopeMenu),l=K(g,e.__scopeMenu);return u.jsx(O.Provider,{scope:e.__scopeMenu,children:u.jsx(W,{present:o||a.open,children:u.jsx(O.Slot,{scope:e.__scopeMenu,children:l.modal?u.jsx(Pt,{...c,ref:n}):u.jsx(Et,{...c,ref:n})})})})}),Pt=r.forwardRef((e,n)=>{const t=w(g,e.__scopeMenu),o=r.useRef(null),c=N(n,o);return r.useEffect(()=>{const a=o.current;if(a)return st(a)},[]),u.jsx(re,{...e,ref:c,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Et=r.forwardRef((e,n)=>{const t=w(g,e.__scopeMenu);return u.jsx(re,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),It=mt("MenuContent.ScrollLock"),re=r.forwardRef((e,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:c,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:p,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:d,onDismiss:M,disableOutsideScroll:C,...P}=e,I=w(g,t),T=K(g,t),G=L(t),U=_e(t),ie=xt(t),[Ye,le]=r.useState(null),V=r.useRef(null),Xe=N(n,V,I.onContentChange),B=r.useRef(0),Y=r.useRef(""),He=r.useRef(0),z=r.useRef(null),de=r.useRef("right"),$=r.useRef(0),We=C?ct:r.Fragment,qe=C?{as:It,allowPinchZoom:!0}:void 0,ze=i=>{var b,me;const x=Y.current+i,_=ie().filter(R=>!R.disabled),S=document.activeElement,Z=(b=_.find(R=>R.ref.current===S))==null?void 0:b.textValue,J=_.map(R=>R.textValue),fe=Kt(J,x,Z),A=(me=_.find(R=>R.textValue===fe))==null?void 0:me.ref.current;(function R(pe){Y.current=pe,window.clearTimeout(B.current),pe!==""&&(B.current=window.setTimeout(()=>R(""),1e3))})(x),A&&setTimeout(()=>A.focus())};r.useEffect(()=>()=>window.clearTimeout(B.current),[]),at();const y=r.useCallback(i=>{var _,S;return de.current===((_=z.current)==null?void 0:_.side)&&Ut(i,(S=z.current)==null?void 0:S.area)},[]);return u.jsx(wt,{scope:t,searchRef:Y,onItemEnter:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),onItemLeave:r.useCallback(i=>{var x;y(i)||((x=V.current)==null||x.focus(),le(null))},[y]),onTriggerLeave:r.useCallback(i=>{y(i)&&i.preventDefault()},[y]),pointerGraceTimerRef:He,onPointerGraceIntentChange:r.useCallback(i=>{z.current=i},[]),children:u.jsx(We,{...qe,children:u.jsx(it,{asChild:!0,trapped:c,onMountAutoFocus:v(a,i=>{var x;i.preventDefault(),(x=V.current)==null||x.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(nt,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:s,onInteractOutside:d,onDismiss:M,children:u.jsx(ft,{asChild:!0,...U,dir:T.dir,orientation:"vertical",loop:o,currentTabStopId:Ye,onCurrentTabStopIdChange:le,onEntryFocus:v(h,i=>{T.isUsingKeyboardRef.current||i.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(ot,{role:"menu","aria-orientation":"vertical","data-state":Be(I.open),"data-radix-menu-content":"",dir:T.dir,...G,...P,ref:Xe,style:{outline:"none",...P.style},onKeyDown:v(P.onKeyDown,i=>{const _=i.target.closest("[data-radix-menu-content]")===i.currentTarget,S=i.ctrlKey||i.altKey||i.metaKey,Z=i.key.length===1;_&&(i.key==="Tab"&&i.preventDefault(),!S&&Z&&ze(i.key));const J=V.current;if(i.target!==J||!vt.includes(i.key))return;i.preventDefault();const A=ie().filter(b=>!b.disabled).map(b=>b.ref.current);ge.includes(i.key)&&A.reverse(),Ft(A)}),onBlur:v(e.onBlur,i=>{i.currentTarget.contains(i.target)||(window.clearTimeout(B.current),Y.current="")}),onPointerMove:v(e.onPointerMove,D(i=>{const x=i.target,_=$.current!==i.clientX;if(i.currentTarget.contains(x)&&_){const S=i.clientX>$.current?"right":"left";de.current=S,$.current=i.clientX}}))})})})})})})});Ee.displayName=g;var yt="MenuGroup",se=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"group",...o,ref:n})});se.displayName=yt;var bt="MenuLabel",Ie=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{...o,ref:n})});Ie.displayName=bt;var X="MenuItem",ve="menu.itemSelect",q=r.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:o,...c}=e,a=r.useRef(null),l=K(X,e.__scopeMenu),p=oe(X,e.__scopeMenu),h=N(n,a),m=r.useRef(!1),f=()=>{const s=a.current;if(!t&&s){const d=new CustomEvent(ve,{bubbles:!0,cancelable:!0});s.addEventListener(ve,M=>o==null?void 0:o(M),{once:!0}),lt(s,d),d.defaultPrevented?m.current=!1:l.onClose()}};return u.jsx(ye,{...c,ref:h,disabled:t,onClick:v(e.onClick,f),onPointerDown:s=>{var d;(d=e.onPointerDown)==null||d.call(e,s),m.current=!0},onPointerUp:v(e.onPointerUp,s=>{var d;m.current||(d=s.currentTarget)==null||d.click()}),onKeyDown:v(e.onKeyDown,s=>{const d=p.searchRef.current!=="";t||d&&s.key===" "||Q.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})})});q.displayName=X;var ye=r.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:c,...a}=e,l=oe(X,t),p=_e(t),h=r.useRef(null),m=N(n,h),[f,s]=r.useState(!1),[d,M]=r.useState("");return r.useEffect(()=>{const C=h.current;C&&M((C.textContent??"").trim())},[a.children]),u.jsx(O.ItemSlot,{scope:t,disabled:o,textValue:c??d,children:u.jsx(dt,{asChild:!0,...p,focusable:!o,children:u.jsx(k.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:m,onPointerMove:v(e.onPointerMove,D(C=>{o?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:v(e.onPointerLeave,D(C=>l.onItemLeave(C))),onFocus:v(e.onFocus,()=>s(!0)),onBlur:v(e.onBlur,()=>s(!1))})})})}),Tt="MenuCheckboxItem",be=r.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:o,...c}=e;return u.jsx(De,{scope:e.__scopeMenu,checked:t,children:u.jsx(q,{role:"menuitemcheckbox","aria-checked":H(t)?"mixed":t,...c,ref:n,"data-state":ue(t),onSelect:v(c.onSelect,()=>o==null?void 0:o(H(t)?!0:!t),{checkForDefaultPrevented:!1})})})});be.displayName=Tt;var Te="MenuRadioGroup",[At,jt]=E(Te,{value:void 0,onValueChange:()=>{}}),Ae=r.forwardRef((e,n)=>{const{value:t,onValueChange:o,...c}=e,a=ee(o);return u.jsx(At,{scope:e.__scopeMenu,value:t,onValueChange:a,children:u.jsx(se,{...c,ref:n})})});Ae.displayName=Te;var je="MenuRadioItem",Oe=r.forwardRef((e,n)=>{const{value:t,...o}=e,c=jt(je,e.__scopeMenu),a=t===c.value;return u.jsx(De,{scope:e.__scopeMenu,checked:a,children:u.jsx(q,{role:"menuitemradio","aria-checked":a,...o,ref:n,"data-state":ue(a),onSelect:v(o.onSelect,()=>{var l;return(l=c.onValueChange)==null?void 0:l.call(c,t)},{checkForDefaultPrevented:!1})})})});Oe.displayName=je;var ae="MenuItemIndicator",[De,Ot]=E(ae,{checked:!1}),Ne=r.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:o,...c}=e,a=Ot(ae,t);return u.jsx(W,{present:o||H(a.checked)||a.checked===!0,children:u.jsx(k.span,{...c,ref:n,"data-state":ue(a.checked)})})});Ne.displayName=ae;var Dt="MenuSeparator",ke=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e;return u.jsx(k.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});ke.displayName=Dt;var Nt="MenuArrow",Fe=r.forwardRef((e,n)=>{const{__scopeMenu:t,...o}=e,c=L(t);return u.jsx(rt,{...c,...o,ref:n})});Fe.displayName=Nt;var ce="MenuSub",[kt,Le]=E(ce),Ke=e=>{const{__scopeMenu:n,children:t,open:o=!1,onOpenChange:c}=e,a=w(ce,n),l=L(n),[p,h]=r.useState(null),[m,f]=r.useState(null),s=ee(c);return r.useEffect(()=>(a.open===!1&&s(!1),()=>s(!1)),[a.open,s]),u.jsx(Me,{...l,children:u.jsx(Re,{scope:n,open:o,onOpenChange:s,content:m,onContentChange:f,children:u.jsx(kt,{scope:n,contentId:he(),triggerId:he(),trigger:p,onTriggerChange:h,children:t})})})};Ke.displayName=ce;var j="MenuSubTrigger",Ge=r.forwardRef((e,n)=>{const t=w(j,e.__scopeMenu),o=K(j,e.__scopeMenu),c=Le(j,e.__scopeMenu),a=oe(j,e.__scopeMenu),l=r.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:h}=a,m={__scopeMenu:e.__scopeMenu},f=r.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return r.useEffect(()=>f,[f]),r.useEffect(()=>{const s=p.current;return()=>{window.clearTimeout(s),h(null)}},[p,h]),u.jsx(te,{asChild:!0,...m,children:u.jsx(ye,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":c.contentId,"data-state":Be(t.open),...e,ref:Je(n,c.onTriggerChange),onClick:s=>{var d;(d=e.onClick)==null||d.call(e,s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,D(s=>{a.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:v(e.onPointerLeave,D(s=>{var M,C;f();const d=(M=t.content)==null?void 0:M.getBoundingClientRect();if(d){const P=(C=t.content)==null?void 0:C.dataset.side,I=P==="right",T=I?-5:5,G=d[I?"left":"right"],U=d[I?"right":"left"];a.onPointerGraceIntentChange({area:[{x:s.clientX+T,y:s.clientY},{x:G,y:d.top},{x:U,y:d.top},{x:U,y:d.bottom},{x:G,y:d.bottom}],side:P}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(s),s.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,s=>{var M;const d=a.searchRef.current!=="";e.disabled||d&&s.key===" "||Ct[o.dir].includes(s.key)&&(t.onOpenChange(!0),(M=t.content)==null||M.focus(),s.preventDefault())})})})});Ge.displayName=j;var Ue="MenuSubContent",Ve=r.forwardRef((e,n)=>{const t=we(g,e.__scopeMenu),{forceMount:o=t.forceMount,...c}=e,a=w(g,e.__scopeMenu),l=K(g,e.__scopeMenu),p=Le(Ue,e.__scopeMenu),h=r.useRef(null),m=N(n,h);return u.jsx(O.Provider,{scope:e.__scopeMenu,children:u.jsx(W,{present:o||a.open,children:u.jsx(O.Slot,{scope:e.__scopeMenu,children:u.jsx(re,{id:p.contentId,"aria-labelledby":p.triggerId,...c,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var s;l.isUsingKeyboardRef.current&&((s=h.current)==null||s.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:v(e.onFocusOutside,f=>{f.target!==p.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:v(e.onKeyDown,f=>{var M;const s=f.currentTarget.contains(f.target),d=Mt[l.dir].includes(f.key);s&&d&&(a.onOpenChange(!1),(M=p.trigger)==null||M.focus(),f.preventDefault())})})})})})});Ve.displayName=Ue;function Be(e){return e?"open":"closed"}function H(e){return e==="indeterminate"}function ue(e){return H(e)?"indeterminate":e?"checked":"unchecked"}function Ft(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Lt(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function Kt(e,n,t){const c=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,a=t?e.indexOf(t):-1;let l=Lt(e,Math.max(a,0));c.length===1&&(l=l.filter(m=>m!==t));const h=l.find(m=>m.toLowerCase().startsWith(c.toLowerCase()));return h!==t?h:void 0}function Gt(e,n){const{x:t,y:o}=e;let c=!1;for(let a=0,l=n.length-1;a<n.length;l=a++){const p=n[a],h=n[l],m=p.x,f=p.y,s=h.x,d=h.y;f>o!=d>o&&t<(s-m)*(o-f)/(d-f)+m&&(c=!c)}return c}function Ut(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Gt(t,n)}function D(e){return n=>n.pointerType==="mouse"?e(n):void 0}var un=Se,ln=te,dn=Pe,fn=Ee,mn=se,pn=Ie,hn=q,vn=be,Cn=Ae,Mn=Oe,xn=Ne,gn=ke,_n=Fe,Rn=Ke,Sn=Ge,wn=Ve;export{ln as A,fn as C,mn as G,hn as I,pn as L,pt as M,dn as P,un as R,Rn as S,Cn as a,gn as b,cn as c,vn as d,xn as e,Mn as f,Sn as g,wn as h,_n as i,an as m,sn as u};
