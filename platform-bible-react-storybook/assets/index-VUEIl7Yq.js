import{r as i}from"./iframe-ChjBVkNN.js";import{c as F}from"./index-ikrtYkS6.js";import{P as D,d as Oe}from"./index-DF789n87.js";import{u as T}from"./index-CtW3L1xI.js";import{u as I}from"./index-Dbj3Uwir.js";import{u as Re}from"./index-CDUyRbSN.js";import{j as m}from"./jsx-runtime-CoJcBlqr.js";import{u as De,o as Se,s as Le,f as Ne,a as _e,b as Be,h as Te,l as We,c as je}from"./floating-ui.react-dom-Dob2_vp1.js";import{c as Fe}from"./index-uX5GIGLq.js";import{u as Q}from"./index-DRtzzKqe.js";import{u as He}from"./index-CJGEWkUs.js";var Ie="DismissableLayer",H="dismissableLayer.update",$e="dismissableLayer.pointerDownOutside",Me="dismissableLayer.focusOutside",V,te=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ke=i.forwardRef((e,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:t,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...p}=e,a=i.useContext(te),[l,g]=i.useState(null),f=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=i.useState({}),v=T(r,d=>g(d)),h=Array.from(a.layers),[C]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),w=h.indexOf(C),E=l?h.indexOf(l):-1,W=a.layersWithOutsidePointerEventsDisabled.size>0,b=E>=w,j=ze(d=>{const P=d.target,S=[...a.branches].some(O=>O.contains(P));!b||S||(t==null||t(d),c==null||c(d),d.defaultPrevented||u==null||u())},f),y=Xe(d=>{const P=d.target;[...a.branches].some(O=>O.contains(P))||(o==null||o(d),c==null||c(d),d.defaultPrevented||u==null||u())},f);return Re(d=>{E===a.layers.size-1&&(n==null||n(d),!d.defaultPrevented&&u&&(d.preventDefault(),u()))},f),i.useEffect(()=>{if(l)return s&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(V=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(l)),a.layers.add(l),ee(),()=>{s&&a.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=V)}},[l,f,s,a]),i.useEffect(()=>()=>{l&&(a.layers.delete(l),a.layersWithOutsidePointerEventsDisabled.delete(l),ee())},[l,a]),i.useEffect(()=>{const d=()=>x({});return document.addEventListener(H,d),()=>document.removeEventListener(H,d)},[]),m.jsx(D.div,{...p,ref:v,style:{pointerEvents:W?b?"auto":"none":void 0,...e.style},onFocusCapture:F(e.onFocusCapture,y.onFocusCapture),onBlurCapture:F(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:F(e.onPointerDownCapture,j.onPointerDownCapture)})});ke.displayName=Ie;var Ue="DismissableLayerBranch",Ye=i.forwardRef((e,r)=>{const s=i.useContext(te),n=i.useRef(null),t=T(r,n);return i.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),m.jsx(D.div,{...e,ref:t})});Ye.displayName=Ue;function ze(e,r=globalThis==null?void 0:globalThis.document){const s=I(e),n=i.useRef(!1),t=i.useRef(()=>{});return i.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let p=function(){re($e,s,a,{discrete:!0})};const a={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",t.current),t.current=p,r.addEventListener("click",t.current,{once:!0})):p()}else r.removeEventListener("click",t.current);n.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",o),r.removeEventListener("click",t.current)}},[r,s]),{onPointerDownCapture:()=>n.current=!0}}function Xe(e,r=globalThis==null?void 0:globalThis.document){const s=I(e),n=i.useRef(!1);return i.useEffect(()=>{const t=o=>{o.target&&!n.current&&re(Me,s,{originalEvent:o},{discrete:!1})};return r.addEventListener("focusin",t),()=>r.removeEventListener("focusin",t)},[r,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ee(){const e=new CustomEvent(H);document.dispatchEvent(e)}function re(e,r,s,{discrete:n}){const t=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});r&&t.addEventListener(e,r,{once:!0}),n?Oe(t,o):t.dispatchEvent(o)}var qe="Arrow",ne=i.forwardRef((e,r)=>{const{children:s,width:n=10,height:t=5,...o}=e;return m.jsx(D.svg,{...o,ref:r,width:n,height:t,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});ne.displayName=qe;var Ze=ne,$="Popper",[oe,pt]=Fe($),[Ge,se]=oe($),ie=e=>{const{__scopePopper:r,children:s}=e,[n,t]=i.useState(null);return m.jsx(Ge,{scope:r,anchor:n,onAnchorChange:t,children:s})};ie.displayName=$;var ae="PopperAnchor",ce=i.forwardRef((e,r)=>{const{__scopePopper:s,virtualRef:n,...t}=e,o=se(ae,s),c=i.useRef(null),u=T(r,c);return i.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:m.jsx(D.div,{...t,ref:u})});ce.displayName=ae;var M="PopperContent",[Je,Ke]=oe(M),de=i.forwardRef((e,r)=>{var z,X,q,Z,G,J;const{__scopePopper:s,side:n="bottom",sideOffset:t=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:a=[],collisionPadding:l=0,sticky:g="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:v,...h}=e,C=se(M,s),[w,E]=i.useState(null),W=T(r,R=>E(R)),[b,j]=i.useState(null),y=He(b),d=(y==null?void 0:y.width)??0,P=(y==null?void 0:y.height)??0,S=n+(o!=="center"?"-"+o:""),O=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},k=Array.isArray(a)?a:[a],fe=k.length>0,L={padding:O,boundary:k.filter(Ve),altBoundary:fe},{refs:he,floatingStyles:U,placement:me,isPositioned:N,middlewareData:A}=De({strategy:"fixed",placement:S,whileElementsMounted:(...R)=>je(...R,{animationFrame:x==="always"}),elements:{reference:C.anchor},middleware:[Se({mainAxis:t+P,alignmentAxis:c}),p&&Le({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?We():void 0,...L}),p&&Ne({...L}),_e({...L,apply:({elements:R,rects:K,availableWidth:xe,availableHeight:Ce})=>{const{width:be,height:Ae}=K.reference,B=R.floating.style;B.setProperty("--radix-popper-available-width",`${xe}px`),B.setProperty("--radix-popper-available-height",`${Ce}px`),B.setProperty("--radix-popper-anchor-width",`${be}px`),B.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&Be({element:b,padding:u}),et({arrowWidth:d,arrowHeight:P}),f&&Te({strategy:"referenceHidden",...L})]}),[Y,ve]=pe(me),_=I(v);Q(()=>{N&&(_==null||_())},[N,_]);const ye=(z=A.arrow)==null?void 0:z.x,ge=(X=A.arrow)==null?void 0:X.y,we=((q=A.arrow)==null?void 0:q.centerOffset)!==0,[Ee,Pe]=i.useState();return Q(()=>{w&&Pe(window.getComputedStyle(w).zIndex)},[w]),m.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:N?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Z=A.transformOrigin)==null?void 0:Z.x,(G=A.transformOrigin)==null?void 0:G.y].join(" "),...((J=A.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(Je,{scope:s,placedSide:Y,onArrowChange:j,arrowX:ye,arrowY:ge,shouldHideArrow:we,children:m.jsx(D.div,{"data-side":Y,"data-align":ve,...h,ref:W,style:{...h.style,animation:N?void 0:"none"}})})})});de.displayName=M;var le="PopperArrow",Qe={top:"bottom",right:"left",bottom:"top",left:"right"},ue=i.forwardRef(function(r,s){const{__scopePopper:n,...t}=r,o=Ke(le,n),c=Qe[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(Ze,{...t,ref:s,style:{...t.style,display:"block"}})})});ue.displayName=le;function Ve(e){return e!==null}var et=e=>({name:"transformOrigin",options:e,fn(r){var C,w,E;const{placement:s,rects:n,middlewareData:t}=r,c=((C=t.arrow)==null?void 0:C.centerOffset)!==0,u=c?0:e.arrowWidth,p=c?0:e.arrowHeight,[a,l]=pe(s),g={start:"0%",center:"50%",end:"100%"}[l],f=(((w=t.arrow)==null?void 0:w.x)??0)+u/2,x=(((E=t.arrow)==null?void 0:E.y)??0)+p/2;let v="",h="";return a==="bottom"?(v=c?g:`${f}px`,h=`${-p}px`):a==="top"?(v=c?g:`${f}px`,h=`${n.floating.height+p}px`):a==="right"?(v=`${-p}px`,h=c?g:`${x}px`):a==="left"&&(v=`${n.floating.width+p}px`,h=c?g:`${x}px`),{data:{x:v,y:h}}}});function pe(e){const[r,s="center"]=e.split("-");return[r,s]}var ft=ie,ht=ce,mt=de,vt=ue;export{ht as A,mt as C,ke as D,ft as R,vt as a,pt as c};
