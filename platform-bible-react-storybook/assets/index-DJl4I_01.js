import{l as h}from"./index-Bl2C2VvJ.js";const S=new Set(["__proto__","prototype","constructor"]);function O(n){if(S.has(n))throw new Error(`The key "${n}" is not allowed to avoid prototype pollution.`)}const l="$",f=".content[";function j(n){const t=n.split(f);if(t.shift()!==l)throw new Error(`indexesFromJsonPath: jsonPath didn't start with '${l}'`);return t.map(r=>parseInt(r,10))}function J(n){return n.reduce((t,r)=>`${t}${f}${r}]`,l)}function m(n){return n!=null&&"jsonPath"in n&&!("offset"in n)&&!("closingMarkerOffset"in n)&&!("propertyOffset"in n)&&!("keyName"in n)}function C(n){return n!=null&&"jsonPath"in n&&"closingMarkerOffset"in n}function N(n){return n!=null&&"jsonPath"in n&&"offset"in n&&!("propertyOffset"in n)&&!("keyName"in n)}function M(n){return n!=null&&"jsonPath"in n&&"propertyOffset"in n}function P(n){return n!=null&&"jsonPath"in n&&"keyName"in n&&"keyOffset"in n}function T(n){return n!=null&&"jsonPath"in n&&"keyName"in n&&!("keyOffset"in n)&&!("keyClosingMarkerOffset"in n)}function k(n){return n!=null&&"jsonPath"in n&&"keyName"in n&&"keyClosingMarkerOffset"in n}function U(n){return n===void 0?"undefined":n===null?"null":k(n)?"UsjClosingAttributeMarkerLocation":P(n)?"UsjAttributeKeyLocation":T(n)?"UsjAttributeMarkerLocation":M(n)?"UsjPropertyValueLocation":C(n)?"UsjClosingMarkerLocation":N(n)?"UsjTextContentLocation":m(n)?"UsjMarkerLocation":"Unknown"}const b="usx",d="USJ",p="3.1",x=Object.freeze({type:d,version:p,content:[]}),B=["type","marker","content","sid","eid","number","code","altnumber","pubnumber","caller","align","category"];function D(n){return g.includes(n)}const g=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX","XXA","XXB","XXC","XXD","XXE","XXF","XXG"];function H(n){const t=new h.DOMParser().parseFromString(n,"text/xml");return L(t.documentElement)}function L(n){const[t]=n?E(n):[{content:[]}];return t.type=d,t.version=p,t}function E(n){const t={};let r=n.tagName,i,s,c="append";if(["row","cell"].includes(r)&&(r="table:"+r),n.attributes)for(const o of Array.from(n.attributes))O(o.name),t[o.name]=o.value;t.style&&(i=t.style,delete t.style),t.vid&&delete t.vid,t.status&&delete t.status;let e={type:r};i&&(e.marker=i),e={...e,...t},n.firstChild&&n.firstChild.nodeType===n.firstChild.TEXT_NODE&&n.firstChild.nodeValue&&u(n.firstChild.nodeValue)!==""&&(s=n.firstChild.nodeValue);const A=Array.from(n.childNodes);e.content=[],s&&e.content.push(s);for(const o of A){if(o.tagName===void 0)continue;const[a,y]=E(o);switch(y){case"append":e.content.push(a);break;case"merge":e.content=e.content.concat(a);break}o.nextSibling&&o.nextSibling.nodeType===o.nextSibling.TEXT_NODE&&o.nextSibling.nodeValue&&(u(o.nextSibling.nodeValue)!==""||o.nextSibling.nodeValue===" ")&&e.content.push(o.nextSibling.nodeValue)}return e.content.length===0&&e.type!==b&&delete e.content,"eid"in e&&["verse","chapter"].includes(r)&&(c="ignore"),[e,c]}function u(n){return n.replace(/(^[ \t\n\r\f\v]+)|([ \t\n\r\f\v]+$)/g,"")}export{B as $,P as C,J as D,D as F,x as G,j as I,N as J,M as L,d as N,p as P,C as U,T as X,H as Z,k as _,O as m,m as v,U as w};
