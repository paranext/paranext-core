import{j as c}from"./jsx-runtime-B57USwOM.js";import{r as d,e as m}from"./iframe-BIgrU_gL.js";import{c as k}from"./index-QE61htb2.js";import{u as T}from"./index-Cfepox31.js";import{u as f}from"./index-DPhNMXhP.js";import{P as p}from"./index-qxytAG8i.js";import{s as F}from"./index-DTTwKhzd.js";import{c as v}from"./shadcn-ui.util-DMJ19wEV.js";function M(){return F.useSyncExternalStore(P,()=>!0,()=>!1)}function P(){return()=>{}}var w="Avatar",[q,J]=k(w),[$,A]=q(w),S=d.forwardRef((e,t)=>{const{__scopeAvatar:r,...o}=e,[n,a]=d.useState("idle");return c.jsx($,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:a,children:c.jsx(p.span,{...o,ref:t})})});S.displayName=w;var y="AvatarImage",x=d.forwardRef((e,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:n=()=>{},...a}=e,l=A(y,r),s=B(o,a),i=T(u=>{n(u),l.onImageLoadingStatusChange(u)});return f(()=>{s!=="idle"&&i(s)},[s,i]),s==="loaded"?c.jsx(p.img,{...a,ref:t,src:o}):null});x.displayName=y;var L="AvatarFallback",I=d.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:o,...n}=e,a=A(L,r),[l,s]=d.useState(o===void 0);return d.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>s(!0),o);return()=>window.clearTimeout(i)}},[o]),l&&a.imageLoadingStatus!=="loaded"?c.jsx(p.span,{...n,ref:t}):null});I.displayName=L;function h(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(e,{referrerPolicy:t,crossOrigin:r}){const o=M(),n=d.useRef(null),a=o?(n.current||(n.current=new window.Image),n.current):null,[l,s]=d.useState(()=>h(a,e));return f(()=>{s(h(a,e))},[a,e]),f(()=>{const i=j=>()=>{s(j)};if(!a)return;const u=i("loaded"),g=i("error");return a.addEventListener("load",u),a.addEventListener("error",g),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",g)}},[a,r,t]),l}var E=S,N=x,_=I;const R=m.forwardRef(({className:e,...t},r)=>c.jsx(E,{ref:r,className:v("pr-twp tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-overflow-hidden tw-rounded-full",e),...t}));R.displayName=E.displayName;const C=m.forwardRef(({className:e,...t},r)=>c.jsx(N,{ref:r,className:v("pr-twp tw-aspect-square tw-h-full tw-w-full",e),...t}));C.displayName=N.displayName;const b=m.forwardRef(({className:e,...t},r)=>c.jsx(_,{ref:r,className:v("pr-twp tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center tw-rounded-full tw-bg-muted",e),...t}));b.displayName=_.displayName;R.__docgenInfo={description:`The Avatar component displays a user's profile picture or initials. The component is built and
styled by Shadcn UI. See Shadcn UI Documentation https://ui.shadcn.com/docs/components/avatar`,methods:[]};C.__docgenInfo={description:"@inheritdoc Avatar",methods:[]};b.__docgenInfo={description:"@inheritdoc Avatar",methods:[]};export{R as A,C as a,b};
