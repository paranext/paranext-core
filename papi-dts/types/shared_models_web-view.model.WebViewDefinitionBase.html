<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>WebViewDefinitionBase | papi-dts</title><meta name="description" content="Documentation for papi-dts"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">papi-dts</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">papi-dts</a></li><li><a href="../modules/shared_models_web-view.model.html">shared/models/web-view.model</a></li><li><a href="shared_models_web-view.model.WebViewDefinitionBase.html">WebViewDefinitionBase</a></li></ul><h1>Type Alias WebViewDefinitionBase</h1></div><div class="tsd-signature"><span class="tsd-kind-type-alias">WebViewDefinitionBase</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span><br/>    <span class="tsd-kind-property">allowedFrameSources</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">allowPopups</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">allowSameOrigin</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">allowScripts</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">content</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">iconUrl</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">id</span><span class="tsd-signature-symbol">:</span> <a href="shared_models_web-view.model.WebViewId.html" class="tsd-signature-type tsd-kind-type-alias">WebViewId</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">projectId</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">scrollGroupScrRef</span><span class="tsd-signature-symbol">?:</span> <a href="shared_services_scroll-group.service-model.ScrollGroupScrRef.html" class="tsd-signature-type tsd-kind-type-alias">ScrollGroupScrRef</a><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">state</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">LocalizeKey</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">tooltip</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <span class="tsd-kind-property">webViewType</span><span class="tsd-signature-symbol">:</span> <a href="shared_models_web-view.model.WebViewType.html" class="tsd-signature-type tsd-kind-type-alias">WebViewType</a><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-comment tsd-typography"><p>Base WebView properties that all WebViews share</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">allowedFrameSources</span><a id="__typeallowedframesources" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><p><strong>For HTML and React WebViews:</strong> List of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy#hosts_values">Host or scheme
values</a>
to include in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src"><code>frame-src</code>
directive</a>
for this WebView's iframe content-security-policy. This allows iframes with <code>src</code> attributes
matching these host values to be loaded in your WebView. You can only specify values starting
with <code>papi-extension:</code> and <code>https:</code>; any others are ignored. Specifying urls in this array
whitelists those urls so you can embed iframes with those urls as the <code>src</code> attribute. By
default, no urls are available to be iframes. If you want to embed iframes with the <code>src</code>
attribute in your webview, you must include them in this property.</p>
<p>For example, if you specify <code>allowFrameSources: ['https://example.com/']</code>, you will be able to
embed iframes with urls starting with <code>papi-extension:</code> and on the same host as
<code>https://example.com/</code></p>
<p>If you plan on embedding any iframes in your WebView, it is best practice to list only the host
values you need to function. The more you list, the higher the theoretical security risks.</p>
<pre><code>---
</code></pre>
<p><strong>For URL WebViews:</strong> List of strings representing RegExp patterns (passed into <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/RegExp">the RegExp
constructor</a>)
to match against the <code>content</code> url specified (using the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test"><code>test</code></a>
function) to determine whether this iframe will be allowed to load. Specifying urls in this
array is essentially a security check to make sure the url you pass is one of the urls you
intend it to be. By default, the url you specify in <code>content</code> will be accepted (you do not have
to specify this unless you want to, but it is recommended in some scenarios).</p>
<p>Note: URL WebViews must have <code>papi-extension:</code> or <code>https:</code> urls. This property does not
override that requirement.</p>
<p>For example, if you specify <code>allowFrameSources: ['^papi-extension:', '^https://example\\.com.*']</code>, only <code>papi-extension:</code> and <code>https://example.com</code> urls will be
accepted.</p>
<p>If your WebView url is a <code>const</code> string and cannot change for any reason, you do not need to
specify this property. However, if your WebView url is dynamic and can change in any way, it is
best practice to specify this property and to list only the urls you need for your URL WebView
to function. The more you list, the higher the theoretical security risks.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">allowPopups</span><a id="__typeallowpopups" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Whether to allow this iframe to open separate windows with window.open and anchor tags with
<code>target=&quot;_blank&quot;</code>. Setting this to true adds <code>allow-popups</code> to the WebView iframe's <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#sandbox">sandbox
attribute</a>. Defaults
to <code>false</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">allowSameOrigin</span><a id="__typeallowsameorigin" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Whether to allow the WebView iframe to interact with its parent as a same-origin website.
Setting this to true adds <code>allow-same-origin</code> to the WebView iframe's [sandbox attribute]
(<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#sandbox">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#sandbox</a>). Defaults to
<code>true</code>.</p>
<p>Setting this to false on an HTML or React WebView prevents the iframe from importing the <code>papi</code>
and such and also prevents others from accessing its document. This could be useful when you
need secure input from the user because other WebViews may be able to attach event listeners to
your inputs if you are on the same origin. Setting this to <code>false</code> on HTML or React WebViews is
a big security win, but it makes interacting with the platform more challenging in some ways.</p>
<p>Setting this to false on a URL WebView prevents the iframe from accessing same-origin features
on its host website like storage APIs (localstorage, cookies, etc) and such. This will likely
break many websites.</p>
<p>It is best practice to set this to <code>false</code> where possible.</p>
<p>Note: Until we have a message-passing API for WebViews, there is currently no way to interact
with the platform via a WebView with <code>allowSameOrigin: false</code>.</p>
<p>WARNING: If your WebView accepts secure user input like passwords on HTML or React WebViews,
you MUST set this to <code>false</code> or you will risk exposing that secure input to other extensions
who could be phishing for it.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">allowScripts</span><a id="__typeallowscripts" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><p>Whether to allow scripts to run in this iframe. Setting this to true adds <code>allow-scripts</code> to
the WebView iframe's [sandbox attribute]
(<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#sandbox">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#sandbox</a>). Defaults to <code>true</code>
for HTML and React WebViews and <code>false</code> for URL WebViews</p>
<p>WARNING: Setting this to <code>true</code> increases the possibility of a security threat occurring. If it
is not necessary to run scripts in your WebView, you should set this to <code>false</code> to reduce
risk.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">content</span><a id="__typecontent" class="tsd-anchor"></a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The content for the WebView that papi puts into an iframe. This field differs significantly
depending on which <code>contentType</code> you use in your <code>WebViewDefinition</code> as described below. If you
are using a React or HTML WebView, you will probably want to use a bundler to bundle your code
together and provide it here.
<a href="https://github.com/paranext/paranext-extension-template"><code>paranext-extension-template</code></a> is set
up for this use case. Feel free to use it for your extension!</p>
<pre><code>---
</code></pre>
<p><strong>For React WebViews (default):</strong> string containing all the code you want to run in the iframe
on the frontend. You should set a function component to <code>globalThis.webViewComponent</code> in this
code.</p>
<p>For example, you could pass the bundled output of the following code to as your React Web View
<code>content</code>:</p>
<pre><code class="tsx"><span class="hl-5">globalThis</span><span class="hl-1">.</span><span class="hl-2">webViewComponent</span><span class="hl-1"> = </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-2">MyWebView</span><span class="hl-1">() {</span><br/><span class="hl-1"> </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-11">&lt;</span><span class="hl-12">div</span><span class="hl-11">&gt;</span><span class="hl-1">Hello World!! This is my React WebView!</span><span class="hl-11">&lt;/</span><span class="hl-12">div</span><span class="hl-11">&gt;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>For HTML WebViews:</strong> string containing all the code you want to run in the iframe on the
frontend. This should be a complete HTML document. Usually,</p>
<p>For example, you could pass the following string as your HTML Web View <code>content</code>:</p>
<pre><code class="html"><span class="hl-11">&lt;</span><span class="hl-12">html</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;</span><span class="hl-12">head</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">style</span><span class="hl-11">&gt;</span><br/><span class="hl-13">      </span><span class="hl-14">.title</span><span class="hl-13"> {</span><br/><span class="hl-13">        </span><span class="hl-15">color</span><span class="hl-13">: </span><span class="hl-16">darkgreen</span><span class="hl-13">;</span><br/><span class="hl-13">      }</span><br/><span class="hl-13">    </span><span class="hl-11">&lt;/</span><span class="hl-12">style</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;/</span><span class="hl-12">head</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;</span><span class="hl-12">body</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">div</span><span class="hl-1"> </span><span class="hl-15">class</span><span class="hl-1">=</span><span class="hl-17">&quot;title&quot;</span><span class="hl-11">&gt;</span><span class="hl-1">Hello World!! This is my HTML Web View!</span><span class="hl-11">&lt;/</span><span class="hl-12">div</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;/</span><span class="hl-12">body</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">html</span><span class="hl-11">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code>---
</code></pre>
<p><strong>For URL WebViews:</strong> the url you want to load into the iframe on the frontend.</p>
<p>Note: URL WebViews must have <code>papi-extension:</code> or <code>https:</code> urls.</p>
<p>For example, you could pass the following string as your URL Web View <code>content</code>:</p>
<pre><code class="plain">https://example.com/
</code><button type="button">Copy</button></pre>

</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">iconUrl</span><a id="__typeiconurl" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>Url of image to show on the title bar of the tab</p>
<p>Defaults to the software's standard logo.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">id</span><a id="__typeid" class="tsd-anchor"></a><span class="tsd-signature-symbol">: </span><a href="shared_models_web-view.model.WebViewId.html" class="tsd-signature-type tsd-kind-type-alias">WebViewId</a></h5><div class="tsd-comment tsd-typography"><p>Unique ID among webviews specific to this webview instance.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">projectId</span><a id="__typeprojectid" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>Project id associated with this web view.</p>
<p>Note: This field may be used in other contexts (like menu commands) for project-specific
operations related to this web view.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">scrollGroupScrRef</span><a id="__typescrollgroupscrref" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><a href="shared_services_scroll-group.service-model.ScrollGroupScrRef.html" class="tsd-signature-type tsd-kind-type-alias">ScrollGroupScrRef</a></h5><div class="tsd-comment tsd-typography"><p>With which scroll group this web view is synced or the SerializedVerseRef this web view is
focusing independently of a scroll group</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">state</span><a id="__typestate" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><p>General object to store unique state for this webview.</p>
<p>WARNING: This storage is not private; other extensions can access this data. Do not store
secrets in here</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">title</span><a id="__typetitle" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">LocalizeKey</span></h5><div class="tsd-comment tsd-typography"><p>Name of the tab (or a localizeKey for the name that will automatically be localized) for the
WebView</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">tooltip</span><a id="__typetooltip" class="tsd-anchor"></a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>Tooltip that is shown when hovering over the webview title</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">webViewType</span><a id="__typewebviewtype" class="tsd-anchor"></a><span class="tsd-signature-symbol">: </span><a href="shared_models_web-view.model.WebViewType.html" class="tsd-signature-type tsd-kind-type-alias">WebViewType</a></h5><div class="tsd-comment tsd-typography"><p>What type of WebView this is. Unique to all other WebView definitions</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/paranext/paranext-core/blob/017ddc593f7a1e5f91765a8d0255f40169d0ba1c/lib/papi-dts/papi.d.ts#L147">lib/papi-dts/papi.d.ts:147</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">papi-dts</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
