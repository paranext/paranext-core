"use strict";var E1=Object.defineProperty;var S1=(t,e,n)=>e in t?E1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wn=(t,e,n)=>S1(t,typeof e!="symbol"?e+"":e,n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=require("react/jsx-runtime"),b=require("react"),Tn=require("cmdk"),fe=require("lucide-react"),N1=require("clsx"),T1=require("tailwind-merge"),A1=require("@radix-ui/react-dialog"),oe=require("platform-bible-utils"),Ji=require("@radix-ui/react-slot"),Ks=require("class-variance-authority"),D1=require("@radix-ui/react-popover"),M1=require("@radix-ui/react-label"),O1=require("@radix-ui/react-radio-group"),R1=require("@radix-ui/react-separator"),j1=require("markdown-to-jsx"),I1=require("@radix-ui/react-avatar"),pn=require("@tanstack/react-table"),ly=require("@radix-ui/react-dropdown-menu"),L1=require("@radix-ui/react-select"),Xn=require("react-dom"),P1=require("@radix-ui/react-checkbox"),$1=require("@radix-ui/react-toggle-group"),F1=require("@radix-ui/react-toggle"),B1=require("@radix-ui/react-tooltip"),q1=require("@radix-ui/react-tabs"),U1=require("@radix-ui/react-menubar"),z1=require("react-hotkeys-hook"),V1=require("@radix-ui/react-context-menu"),vr=require("vaul"),H1=require("@radix-ui/react-progress"),K1=require("react-resizable-panels"),cy=require("sonner"),W1=require("@radix-ui/react-slider"),G1=require("@radix-ui/react-switch");function vt(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const mi=vt(b),Hr=vt(A1),Si=vt(D1),uy=vt(M1),Ha=vt(O1),dy=vt(R1),Xi=vt(I1),it=vt(ly),bt=vt(L1),J1=vt(Xn),vf=vt(P1),Tu=vt($1),fy=vt(F1),wl=vt(B1),An=vt(q1),at=vt(U1),lt=vt(V1),xf=vt(H1),Ah=vt(K1),Ma=vt(W1),_f=vt(G1),X1=T1.extendTailwindMerge({prefix:"tw-"});function W(...t){return X1(N1.clsx(t))}const Y1="layoutDirection";function zt(){const t=localStorage.getItem(Y1);return t==="rtl"?t:"ltr"}const Q1=Hr.Portal,hy=b.forwardRef(({className:t,...e},n)=>d.jsx(Hr.Overlay,{ref:n,className:W("tw-fixed tw-inset-0 tw-z-50 tw-bg-black/80 data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0",t),...e}));hy.displayName=Hr.Overlay.displayName;const Z1=b.forwardRef(({className:t,children:e,...n},r)=>{const s=zt();return d.jsxs(Q1,{children:[d.jsx(hy,{}),d.jsxs(Hr.Content,{ref:r,className:W("pr-twp tw-fixed tw-left-[50%] tw-top-[50%] tw-z-50 tw-grid tw-w-full tw-max-w-lg tw-translate-x-[-50%] tw-translate-y-[-50%] tw-gap-4 tw-border tw-bg-background tw-p-6 tw-shadow-lg tw-duration-200 data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[state=closed]:tw-slide-out-to-left-1/2 data-[state=closed]:tw-slide-out-to-top-[48%] data-[state=open]:tw-slide-in-from-left-1/2 data-[state=open]:tw-slide-in-from-top-[48%] sm:tw-rounded-lg",t),...n,dir:s,children:[e,d.jsxs(Hr.Close,{className:W("tw-absolute tw-top-4 tw-rounded-sm tw-opacity-70 tw-ring-offset-background tw-transition-opacity hover:tw-opacity-100 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2 disabled:tw-pointer-events-none data-[state=open]:tw-bg-accent data-[state=open]:tw-text-muted-foreground",{"tw-right-4":s==="ltr"},{"tw-left-4":s==="rtl"}),children:[d.jsx(fe.X,{className:"tw-h-4 tw-w-4"}),d.jsx("span",{className:"tw-sr-only",children:"Close"})]})]})]})});Z1.displayName=Hr.Content.displayName;const eC=b.forwardRef(({className:t,...e},n)=>d.jsx(Hr.Title,{ref:n,className:W("tw-text-lg tw-font-semibold tw-leading-none tw-tracking-tight",t),...e}));eC.displayName=Hr.Title.displayName;const tC=b.forwardRef(({className:t,...e},n)=>d.jsx(Hr.Description,{ref:n,className:W("tw-text-sm tw-text-muted-foreground",t),...e}));tC.displayName=Hr.Description.displayName;const Ko=b.forwardRef(({className:t,...e},n)=>d.jsx(Tn.Command,{ref:n,className:W("tw-flex tw-h-full tw-w-full tw-flex-col tw-overflow-hidden tw-rounded-md tw-bg-popover tw-text-popover-foreground",t),...e}));Ko.displayName=Tn.Command.displayName;const Yi=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsxs("div",{className:"tw-flex tw-items-center tw-border-b tw-px-3",dir:r,children:[d.jsx(fe.Search,{className:"tw-me-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50"}),d.jsx(Tn.Command.Input,{ref:n,className:W("tw-flex tw-h-11 tw-w-full tw-rounded-md tw-bg-transparent tw-py-3 tw-text-sm tw-outline-none placeholder:tw-text-muted-foreground disabled:tw-cursor-not-allowed disabled:tw-opacity-50",t),...e})]})});Yi.displayName=Tn.Command.Input.displayName;const Wo=b.forwardRef(({className:t,...e},n)=>d.jsx(Tn.Command.List,{ref:n,className:W("tw-max-h-[300px] tw-overflow-y-auto tw-overflow-x-hidden",t),...e}));Wo.displayName=Tn.Command.List.displayName;const ml=b.forwardRef((t,e)=>d.jsx(Tn.Command.Empty,{ref:e,className:"tw-py-6 tw-text-center tw-text-sm",...t}));ml.displayName=Tn.Command.Empty.displayName;const js=b.forwardRef(({className:t,...e},n)=>d.jsx(Tn.Command.Group,{ref:n,className:W("tw-overflow-hidden tw-p-1 tw-text-foreground [&_[cmdk-group-heading]]:tw-px-2 [&_[cmdk-group-heading]]:tw-py-1.5 [&_[cmdk-group-heading]]:tw-text-xs [&_[cmdk-group-heading]]:tw-font-medium [&_[cmdk-group-heading]]:tw-text-muted-foreground",t),...e}));js.displayName=Tn.Command.Group.displayName;const py=b.forwardRef(({className:t,...e},n)=>d.jsx(Tn.Command.Separator,{ref:n,className:W("tw--mx-1 tw-h-px tw-bg-border",t),...e}));py.displayName=Tn.Command.Separator.displayName;const Ws=b.forwardRef(({className:t,...e},n)=>d.jsx(Tn.Command.Item,{ref:n,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none data-[disabled=true]:tw-pointer-events-none data-[selected=true]:tw-bg-accent data-[selected=true]:tw-text-accent-foreground data-[disabled=true]:tw-opacity-50",t),...e}));Ws.displayName=Tn.Command.Item.displayName;var nC=Object.defineProperty,rC=(t,e,n)=>e in t?nC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Le=(t,e,n)=>rC(t,typeof e!="symbol"?e+"":e,n);const No=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","3ES","EZA","5EZ","6EZ","INT","CNC","GLO","TDX","NDX","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],Dh=["XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX"],gy=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther (Hebrew)","Job","Psalms","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel (Hebrew)","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation","Tobit","Judith","Esther Greek","Wisdom of Solomon","Sirach (Ecclesiasticus)","Baruch","Letter of Jeremiah","Song of 3 Young Men","Susanna","Bel and the Dragon","1 Maccabees","2 Maccabees","3 Maccabees","4 Maccabees","1 Esdras (Greek)","2 Esdras (Latin)","Prayer of Manasseh","Psalm 151","Odes","Psalms of Solomon","Joshua A. *obsolete*","Judges B. *obsolete*","Tobit S. *obsolete*","Susanna Th. *obsolete*","Daniel Th. *obsolete*","Bel Th. *obsolete*","Extra A","Extra B","Extra C","Extra D","Extra E","Extra F","Extra G","Front Matter","Back Matter","Other Matter","3 Ezra *obsolete*","Apocalypse of Ezra","5 Ezra (Latin Prologue)","6 Ezra (Latin Epilogue)","Introduction","Concordance ","Glossary ","Topical Index","Names Index","Daniel Greek","Psalms 152-155","2 Baruch (Apocalypse)","Letter of Baruch","Jubilees","Enoch","1 Meqabyan","2 Meqabyan","3 Meqabyan","Reproof (Proverbs 25-31)","4 Baruch (Rest of Baruch)","Laodiceans"],Pg=hC();function Qi(t,e=!0){return e&&(t=t.toUpperCase()),t in Pg?Pg[t]:0}function Mh(t){return Qi(t)>0}function sC(t){const e=typeof t=="string"?Qi(t):t;return e>=40&&e<=66}function oC(t){return(typeof t=="string"?Qi(t):t)<=39}function wy(t){return t<=66}function iC(t){const e=typeof t=="string"?Qi(t):t;return yy(e)&&!wy(e)}function*aC(){for(let t=1;t<=No.length;t++)yield t}const lC=1,my=No.length;function cC(){return["XXA","XXB","XXC","XXD","XXE","XXF","XXG"]}function Oh(t,e="***"){const n=t-1;return n<0||n>=No.length?e:No[n]}function by(t){return t<=0||t>my?"******":gy[t-1]}function uC(t){return by(Qi(t))}function yy(t){const e=typeof t=="number"?Oh(t):t;return Mh(e)&&!Dh.includes(e)}function dC(t){const e=typeof t=="number"?Oh(t):t;return Mh(e)&&Dh.includes(e)}function fC(t){return gy[t-1].includes("*obsolete*")}function hC(){const t={};for(let e=0;e<No.length;e++)t[No[e]]=e+1;return t}const Ye={allBookIds:No,nonCanonicalIds:Dh,bookIdToNumber:Qi,isBookIdValid:Mh,isBookNT:sC,isBookOT:oC,isBookOTNT:wy,isBookDC:iC,allBookNumbers:aC,firstBook:lC,lastBook:my,extraBooks:cC,bookNumberToId:Oh,bookNumberToEnglishName:by,bookIdToEnglishName:uC,isCanonical:yy,isExtraMaterial:dC,isObsolete:fC};var Rr=(t=>(t[t.Unknown=0]="Unknown",t[t.Original=1]="Original",t[t.Septuagint=2]="Septuagint",t[t.Vulgate=3]="Vulgate",t[t.English=4]="English",t[t.RussianProtestant=5]="RussianProtestant",t[t.RussianOrthodox=6]="RussianOrthodox",t))(Rr||{});const Fn=class{constructor(e){if(Le(this,"name"),Le(this,"fullPath"),Le(this,"isPresent"),Le(this,"hasVerseSegments"),Le(this,"isCustomized"),Le(this,"baseVersification"),Le(this,"scriptureBooks"),Le(this,"_type"),e==null)throw new Error("Argument undefined");typeof e=="string"?(this.name=e,this._type=Rr[e]):(this._type=e,this.name=Rr[e])}get type(){return this._type}equals(e){return!e.type||!this.type?!1:e.type===this.type}};Le(Fn,"Original",new Fn(Rr.Original)),Le(Fn,"Septuagint",new Fn(Rr.Septuagint)),Le(Fn,"Vulgate",new Fn(Rr.Vulgate)),Le(Fn,"English",new Fn(Rr.English)),Le(Fn,"RussianProtestant",new Fn(Rr.RussianProtestant)),Le(Fn,"RussianOrthodox",new Fn(Rr.RussianOrthodox));let po=Fn;function $g(t,e){const n=e[0];for(let r=1;r<e.length;r++)t=t.split(e[r]).join(n);return t.split(n)}var vy=(t=>(t[t.Valid=0]="Valid",t[t.UnknownVersification=1]="UnknownVersification",t[t.OutOfRange=2]="OutOfRange",t[t.VerseOutOfOrder=3]="VerseOutOfOrder",t[t.VerseRepeated=4]="VerseRepeated",t))(vy||{});const Cn=class ze{constructor(e,n,r,s){if(Le(this,"firstChapter"),Le(this,"lastChapter"),Le(this,"lastVerse"),Le(this,"hasSegmentsDefined"),Le(this,"text"),Le(this,"BBBCCCVVVS"),Le(this,"longHashCode"),Le(this,"versification"),Le(this,"rtlMark","â€"),Le(this,"_bookNum",0),Le(this,"_chapterNum",0),Le(this,"_verseNum",0),Le(this,"_verse"),r==null&&s==null)if(e!=null&&typeof e=="string"){const o=e,i=n!=null&&n instanceof po?n:void 0;this.setEmpty(i),this.parse(o)}else if(e!=null&&typeof e=="number"){const o=n!=null&&n instanceof po?n:void 0;this.setEmpty(o),this._verseNum=e%ze.chapterDigitShifter,this._chapterNum=Math.floor(e%ze.bookDigitShifter/ze.chapterDigitShifter),this._bookNum=Math.floor(e/ze.bookDigitShifter)}else if(n==null)if(e!=null&&e instanceof ze){const o=e;this._bookNum=o.bookNum,this._chapterNum=o.chapterNum,this._verseNum=o.verseNum,this._verse=o.verse,this.versification=o.versification}else{if(e==null)return;const o=e instanceof po?e:ze.defaultVersification;this.setEmpty(o)}else throw new Error("VerseRef constructor not supported.");else if(e!=null&&n!=null&&r!=null)if(typeof e=="string"&&typeof n=="string"&&typeof r=="string")this.setEmpty(s),this.updateInternal(e,n,r);else if(typeof e=="number"&&typeof n=="number"&&typeof r=="number")this._bookNum=e,this._chapterNum=n,this._verseNum=r,this.versification=s??ze.defaultVersification;else throw new Error("VerseRef constructor not supported.");else throw new Error("VerseRef constructor not supported.")}static isVerseParseable(e){return e.length>0&&"0123456789".includes(e[0])&&!e.endsWith(this.verseRangeSeparator)&&!e.endsWith(this.verseSequenceIndicator)}static tryParse(e){let n;try{return n=new ze(e),{success:!0,verseRef:n}}catch(r){if(r instanceof _a)return n=new ze,{success:!1,verseRef:n};throw r}}static getBBBCCCVVV(e,n,r){return e%ze.bcvMaxValue*ze.bookDigitShifter+(n>=0?n%ze.bcvMaxValue*ze.chapterDigitShifter:0)+(r>=0?r%ze.bcvMaxValue:0)}static fromJSON(e){const{book:n,chapterNum:r,verseNum:s,verse:o,versificationStr:i}=e,a=o||s.toString();let l;return i&&(l=new po(i)),n?new ze(n,r.toString(),a,l):new ze}static tryGetVerseNum(e){let n;if(!e)return n=-1,{success:!0,vNum:n};n=0;let r;for(let s=0;s<e.length;s++){if(r=e[s],r<"0"||r>"9")return s===0&&(n=-1),{success:!1,vNum:n};if(n=n*10+ +r-0,n>ze.bcvMaxValue)return n=-1,{success:!1,vNum:n}}return{success:!0,vNum:n}}get isDefault(){return this.bookNum===0&&this.chapterNum===0&&this.verseNum===0&&this.versification==null}get hasMultiple(){return this._verse!=null&&(this._verse.includes(ze.verseRangeSeparator)||this._verse.includes(ze.verseSequenceIndicator))}get book(){return Ye.bookNumberToId(this.bookNum,"")}set book(e){this.bookNum=Ye.bookIdToNumber(e)}get chapter(){return this.isDefault||this._chapterNum<0?"":this._chapterNum.toString()}set chapter(e){const n=+e;this._chapterNum=Number.isInteger(n)?n:-1}get verse(){return this._verse!=null?this._verse:this.isDefault||this._verseNum<0?"":this._verseNum.toString()}set verse(e){const{success:n,vNum:r}=ze.tryGetVerseNum(e);this._verse=n?void 0:e.replace(this.rtlMark,""),this._verseNum=r,!(this._verseNum>=0)&&({vNum:this._verseNum}=ze.tryGetVerseNum(this._verse))}get bookNum(){return this._bookNum}set bookNum(e){if(e<=0||e>Ye.lastBook)throw new _a("BookNum must be greater than zero and less than or equal to last book");this._bookNum=e}get chapterNum(){return this._chapterNum}set chapterNum(e){this.chapterNum=e}get verseNum(){return this._verseNum}set verseNum(e){this._verseNum=e}get versificationStr(){var e;return(e=this.versification)==null?void 0:e.name}set versificationStr(e){this.versification=this.versification!=null?new po(e):void 0}get valid(){return this.validStatus===0}get validStatus(){return this.validateVerse(ze.verseRangeSeparators,ze.verseSequenceIndicators)}get BBBCCC(){return ze.getBBBCCCVVV(this._bookNum,this._chapterNum,0)}get BBBCCCVVV(){return ze.getBBBCCCVVV(this._bookNum,this._chapterNum,this._verseNum)}get isExcluded(){return!1}parse(e){if(e=e.replace(this.rtlMark,""),e.includes("/")){const o=e.split("/");if(e=o[0],o.length>1)try{const i=+o[1].trim();this.versification=new po(Rr[i])}catch{throw new _a("Invalid reference : "+e)}}const n=e.trim().split(" ");if(n.length!==2)throw new _a("Invalid reference : "+e);const r=n[1].split(":"),s=+r[0];if(r.length!==2||Ye.bookIdToNumber(n[0])===0||!Number.isInteger(s)||s<0||!ze.isVerseParseable(r[1]))throw new _a("Invalid reference : "+e);this.updateInternal(n[0],r[0],r[1])}simplify(){this._verse=void 0}clone(){return new ze(this)}toString(){const e=this.book;return e===""?"":`${e} ${this.chapter}:${this.verse}`}toJSON(){let e=this.verse;(e===""||e===this.verseNum.toString())&&(e=void 0);const n={book:this.book,chapterNum:this.chapterNum,verseNum:this.verseNum,verse:e,versificationStr:this.versificationStr};return e||delete n.verse,n}equals(e){return e instanceof ze?e._bookNum===this._bookNum&&e._chapterNum===this._chapterNum&&e._verseNum===this._verseNum&&e.verse===this.verse&&(e.versification==null&&this.versification==null||e.versification!=null&&this.versification!=null&&e.versification.equals(this.versification)):!1}allVerses(e=!1,n=ze.verseRangeSeparators,r=ze.verseSequenceIndicators){if(this._verse==null||this.chapterNum<=0)return[this.clone()];const s=[],o=$g(this._verse,r);for(const i of o.map(a=>$g(a,n))){const a=this.clone();a.verse=i[0];const l=a.verseNum;if(s.push(a),i.length>1){const c=this.clone();if(c.verse=i[1],!e)for(let u=l+1;u<c.verseNum;u++){const f=new ze(this._bookNum,this._chapterNum,u,this.versification);this.isExcluded||s.push(f)}s.push(c)}}return s}validateVerse(e,n){if(!this.verse)return this.internalValid;let r=0;for(const s of this.allVerses(!0,e,n)){const o=s.internalValid;if(o!==0)return o;const i=s.BBBCCCVVV;if(r>i)return 3;if(r===i)return 4;r=i}return 0}get internalValid(){return this.versification==null?1:this._bookNum<=0||this._bookNum>Ye.lastBook?2:(Ye.isCanonical(this._bookNum),0)}setEmpty(e=ze.defaultVersification){this._bookNum=0,this._chapterNum=-1,this._verse=void 0,this.versification=e}updateInternal(e,n,r){this.bookNum=Ye.bookIdToNumber(e),this.chapter=n,this.verse=r}};Le(Cn,"defaultVersification",po.English),Le(Cn,"verseRangeSeparator","-"),Le(Cn,"verseSequenceIndicator",","),Le(Cn,"verseRangeSeparators",[Cn.verseRangeSeparator]),Le(Cn,"verseSequenceIndicators",[Cn.verseSequenceIndicator]),Le(Cn,"chapterDigitShifter",1e3),Le(Cn,"bookDigitShifter",Cn.chapterDigitShifter*Cn.chapterDigitShifter),Le(Cn,"bcvMaxValue",Cn.chapterDigitShifter-1),Le(Cn,"ValidStatusType",vy);let _a=class extends Error{};const xy=(t,e,n,r,s)=>{switch(t){case oe.Section.OT:return e??"Old Testament";case oe.Section.NT:return n??"New Testament";case oe.Section.DC:return r??"Deuterocanon";case oe.Section.Extra:return s??"Extra Materials";default:throw new Error(`Unknown section: ${t}`)}},pC=(t,e,n,r,s)=>{switch(t){case oe.Section.OT:return e??"OT";case oe.Section.NT:return n??"NT";case oe.Section.DC:return r??"DC";case oe.Section.Extra:return s??"Extra";default:throw new Error(`Unknown section: ${t}`)}};function bi(t,e){var r;return((r=e==null?void 0:e.get(t))==null?void 0:r.localizedName)??Ye.bookIdToEnglishName(t)}function Rh(t,e){var r;return((r=e==null?void 0:e.get(t))==null?void 0:r.localizedId)??t.toUpperCase()}const _y=Ye.allBookIds.filter(t=>!Ye.isObsolete(Ye.bookIdToNumber(t))),bo=Object.fromEntries(_y.map(t=>[t,Ye.bookIdToEnglishName(t)]));function jh(t,e,n){const r=e.trim().toLowerCase();if(!r)return!1;const s=Ye.bookIdToEnglishName(t),o=n==null?void 0:n.get(t);return!!(oe.includes(s.toLowerCase(),r)||oe.includes(t.toLowerCase(),r)||(o?oe.includes(o.localizedName.toLowerCase(),r)||oe.includes(o.localizedId.toLowerCase(),r):!1))}const Cy=b.forwardRef(({bookId:t,isSelected:e,onSelect:n,onMouseDown:r,section:s,className:o,showCheck:i=!1,localizedBookNames:a,commandValue:l},c)=>{const u=b.useRef(!1),f=()=>{u.current||n==null||n(t),setTimeout(()=>{u.current=!1},100)},h=w=>{u.current=!0,r?r(w):n==null||n(t)},p=b.useMemo(()=>bi(t,a),[t,a]),g=b.useMemo(()=>Rh(t,a),[t,a]);return d.jsx("div",{className:W("tw-mx-1 tw-my-1 tw-border-b-0 tw-border-e-0 tw-border-s-2 tw-border-t-0 tw-border-solid",{"tw-border-s-red-200":s===oe.Section.OT,"tw-border-s-purple-200":s===oe.Section.NT,"tw-border-s-indigo-200":s===oe.Section.DC,"tw-border-s-amber-200":s===oe.Section.Extra}),children:d.jsxs(Ws,{ref:c,value:l||`${t} ${Ye.bookIdToEnglishName(t)}`,onSelect:f,onMouseDown:h,role:"option","aria-selected":e,"aria-label":`${Ye.bookIdToEnglishName(t)} (${t.toLocaleUpperCase()})`,className:o,children:[i&&d.jsx(fe.Check,{className:W("tw-me-2 tw-h-4 tw-w-4 tw-flex-shrink-0",e?"tw-opacity-100":"tw-opacity-0")}),d.jsx("span",{className:"tw-min-w-0 tw-flex-1",children:p}),d.jsx("span",{className:"tw-ms-2 tw-flex-shrink-0 tw-text-xs tw-text-muted-foreground",children:g})]})})}),ky=Ks.cva("pr-twp tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-whitespace-nowrap tw-rounded-md tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 [&_svg]:tw-pointer-events-none [&_svg]:tw-size-4 [&_svg]:tw-shrink-0",{variants:{variant:{default:"tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/90",destructive:"tw-bg-destructive tw-text-destructive-foreground hover:tw-bg-destructive/90",outline:"tw-border tw-border-input tw-bg-background hover:tw-bg-accent hover:tw-text-accent-foreground",secondary:"tw-bg-secondary tw-text-secondary-foreground hover:tw-bg-secondary/80",ghost:"hover:tw-bg-accent hover:tw-text-accent-foreground",link:"tw-text-primary tw-underline-offset-4 hover:tw-underline"},size:{default:"tw-h-10 tw-px-4 tw-py-2",sm:"tw-h-9 tw-rounded-md tw-px-3",lg:"tw-h-11 tw-rounded-md tw-px-8",icon:"tw-h-10 tw-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Ji.Slot:"button";return d.jsx(i,{className:W(ky({variant:e,size:n,className:t})),ref:o,...s})});Se.displayName="Button";const Go=Si.Root,Jo=Si.Trigger,gC=Si.Anchor,Gs=b.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>{const o=zt();return d.jsx(Si.Portal,{children:d.jsx(Si.Content,{ref:s,align:e,sideOffset:n,className:W("tw-z-[250]","pr-twp tw-w-72 tw-rounded-md tw-border tw-bg-popover tw-p-4 tw-text-popover-foreground tw-shadow-md tw-outline-none data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...r,dir:o})})});Gs.displayName=Si.Content.displayName;function Cf(t,e,n){return`${t} ${bo[t]}${e?` ${Rh(t,e)} ${bi(t,e)}`:""}${n?` ${n}`:""}`}function Ey({recentSearches:t,onSearchItemSelect:e,renderItem:n=a=>String(a),getItemKey:r=a=>String(a),ariaLabel:s="Show recent searches",groupHeading:o="Recent",id:i}){const[a,l]=b.useState(!1);if(t.length===0)return;const c=u=>{e(u),l(!1)};return d.jsxs(Go,{open:a,onOpenChange:l,children:[d.jsx(Jo,{asChild:!0,children:d.jsx(Se,{variant:"ghost",size:"icon",className:"tw-absolute tw-right-0 tw-top-0 tw-h-full tw-px-3 tw-py-2","aria-label":s,children:d.jsx(fe.Clock,{className:"tw-h-4 tw-w-4"})})}),d.jsx(Gs,{id:i,className:"tw-w-[300px] tw-p-0",align:"start",children:d.jsx(Ko,{children:d.jsx(Wo,{children:d.jsx(js,{heading:o,children:t.map(u=>d.jsxs(Ws,{onSelect:()=>c(u),className:"tw-flex tw-items-center",children:[d.jsx(fe.Clock,{className:"tw-mr-2 tw-h-4 tw-w-4 tw-opacity-50"}),d.jsx("span",{children:n(u)})]},r(u)))})})})})]})}function wC(t,e,n=(s,o)=>s===o,r=15){return s=>{const o=t.filter(a=>!n(a,s)),i=[s,...o.slice(0,r-1)];e(i)}}const Od={BOOK_ONLY:/^([^:\s]+(?:\s+[^:\s]+)*)$/i,BOOK_CHAPTER:/^([^:\s]+(?:\s+[^:\s]+)*)\s+(\d+)$/i,BOOK_CHAPTER_VERSE:/^([^:\s]+(?:\s+[^:\s]+)*)\s+(\d+):(\d*)$/i},mC=[Od.BOOK_ONLY,Od.BOOK_CHAPTER,Od.BOOK_CHAPTER_VERSE];function Fg(t){const e=/^[a-zA-Z]$/.test(t),n=/^[0-9]$/.test(t);return{isLetter:e,isDigit:n}}function Pr(t){return oe.getChaptersForBook(Ye.bookIdToNumber(t))}function bC(t,e,n){if(!t.trim()||e.length===0)return;const r=mC.reduce((s,o)=>{if(s)return s;const i=o.exec(t.trim());if(i){const[a,l=void 0,c=void 0]=i.slice(1);let u;const f=e.filter(h=>jh(h,a,n));if(f.length===1&&([u]=f),!u&&l){if(Ye.isBookIdValid(a)){const h=a.toUpperCase();e.includes(h)&&(u=h)}if(!u&&n){const h=Array.from(n.entries()).find(([,p])=>p.localizedId.toLowerCase()===a.toLowerCase());h&&e.includes(h[0])&&([u]=h)}}if(!u&&l){const p=(g=>Object.keys(bo).find(w=>bo[w].toLowerCase()===g.toLowerCase()))(a);if(p&&e.includes(p)&&(u=p),!u&&n){const g=Array.from(n.entries()).find(([,w])=>w.localizedName.toLowerCase()===a.toLowerCase());g&&e.includes(g[0])&&([u]=g)}}if(u){let h=l?parseInt(l,10):void 0;h&&h>Pr(u)&&(h=Math.max(Pr(u),1));const p=c?parseInt(c,10):void 0;return{book:u,chapterNum:h,verseNum:p}}}},void 0);if(r)return r}function yC(t,e,n,r){const s=b.useCallback(()=>{if(t.chapterNum>1)r({book:t.book,chapterNum:t.chapterNum-1,verseNum:1});else{const l=e.indexOf(t.book);if(l>0){const c=e[l-1],u=Math.max(Pr(c),1);r({book:c,chapterNum:u,verseNum:1})}}},[t,e,r]),o=b.useCallback(()=>{const l=Pr(t.book);if(t.chapterNum<l)r({book:t.book,chapterNum:t.chapterNum+1,verseNum:1});else{const c=e.indexOf(t.book);if(c<e.length-1){const u=e[c+1];r({book:u,chapterNum:1,verseNum:1})}}},[t,e,r]),i=b.useCallback(()=>{r({book:t.book,chapterNum:t.chapterNum,verseNum:t.verseNum>1?t.verseNum-1:0})},[t,r]),a=b.useCallback(()=>{r({book:t.book,chapterNum:t.chapterNum,verseNum:t.verseNum+1})},[t,r]);return b.useMemo(()=>[{onClick:s,disabled:e.length===0||t.chapterNum===1&&e.indexOf(t.book)===0,title:"Previous chapter",icon:n==="ltr"?fe.ChevronsLeft:fe.ChevronsRight},{onClick:i,disabled:e.length===0||t.verseNum===0,title:"Previous verse",icon:n==="ltr"?fe.ChevronLeft:fe.ChevronRight},{onClick:a,disabled:e.length===0,title:"Next verse",icon:n==="ltr"?fe.ChevronRight:fe.ChevronLeft},{onClick:o,disabled:e.length===0||(t.chapterNum===Pr(t.book)||Pr(t.book)===-1)&&e.indexOf(t.book)===e.length-1,title:"Next chapter",icon:n==="ltr"?fe.ChevronsRight:fe.ChevronsLeft}],[t,e,n,s,i,a,o])}function Bg({bookId:t,scrRef:e,onChapterSelect:n,setChapterRef:r,isChapterDimmed:s,className:o}){if(t)return d.jsx(js,{children:d.jsx("div",{className:W("tw-grid tw-grid-cols-6 tw-gap-1",o),children:Array.from({length:Pr(t)},(i,a)=>a+1).map(i=>d.jsx(Ws,{value:`${t} ${bo[t]||""} ${i}`,onSelect:()=>n(i),ref:r(i),className:W("tw-h-8 tw-w-8 tw-cursor-pointer tw-justify-center tw-rounded-md tw-text-center tw-text-sm",{"tw-bg-primary tw-text-primary-foreground":t===e.book&&i===e.chapterNum},{"tw-bg-muted/50 tw-text-muted-foreground/50":(s==null?void 0:s(i))??!1}),children:i},i))})})}function vC({scrRef:t,handleSubmit:e,className:n,getActiveBookIds:r,localizedBookNames:s,localizedStrings:o,recentSearches:i,onAddRecentSearch:a,id:l}){const c=zt(),[u,f]=b.useState(!1),[h,p]=b.useState(""),[g,w]=b.useState(""),[y,_]=b.useState("books"),[v,C]=b.useState(void 0),[M,j]=b.useState(!1),S=b.useRef(void 0),L=b.useRef(void 0),A=b.useRef(void 0),O=b.useRef(void 0),F=b.useRef({}),E=b.useCallback(ae=>{e(ae),a&&a(ae)},[e,a]),I=b.useMemo(()=>r?r():_y,[r]),T=b.useMemo(()=>({[oe.Section.OT]:I.filter(ke=>Ye.isBookOT(ke)),[oe.Section.NT]:I.filter(ke=>Ye.isBookNT(ke)),[oe.Section.DC]:I.filter(ke=>Ye.isBookDC(ke)),[oe.Section.Extra]:I.filter(ke=>Ye.extraBooks().includes(ke))}),[I]),P=b.useMemo(()=>Object.values(T).flat(),[T]),D=b.useMemo(()=>{if(!g.trim())return T;const ae={[oe.Section.OT]:[],[oe.Section.NT]:[],[oe.Section.DC]:[],[oe.Section.Extra]:[]};return[oe.Section.OT,oe.Section.NT,oe.Section.DC,oe.Section.Extra].forEach(Ie=>{ae[Ie]=T[Ie].filter(Ve=>jh(Ve,g,s))}),ae},[T,g,s]),R=b.useMemo(()=>bC(g,P,s),[g,P,s]),q=b.useCallback(()=>{R&&(E({book:R.book,chapterNum:R.chapterNum??1,verseNum:R.verseNum??1}),f(!1),w(""),p(""))},[E,R]),V=b.useCallback(ae=>{if(Pr(ae)<=1){E({book:ae,chapterNum:1,verseNum:1}),f(!1),w("");return}C(ae),_("chapters")},[E]),J=b.useCallback(ae=>{const ke=y==="chapters"?v:R==null?void 0:R.book;ke&&(E({book:ke,chapterNum:ae,verseNum:1}),f(!1),_("books"),C(void 0),w(""))},[E,y,v,R]),H=b.useCallback(ae=>{E(ae),f(!1),w("")},[E]),G=yC(t,P,c,e),te=b.useCallback(()=>{_("books"),C(void 0),setTimeout(()=>{L.current&&L.current.focus()},0)},[]),re=b.useCallback(ae=>{if(!ae&&y==="chapters"){te();return}f(ae),ae&&(_("books"),C(void 0),w(""))},[y,te]),{otLong:ee,ntLong:Y,dcLong:ce,extraLong:he}={otLong:o==null?void 0:o["%scripture_section_ot_long%"],ntLong:o==null?void 0:o["%scripture_section_nt_long%"],dcLong:o==null?void 0:o["%scripture_section_dc_long%"],extraLong:o==null?void 0:o["%scripture_section_extra_long%"]},ge=b.useCallback(ae=>xy(ae,ee,Y,ce,he),[ee,Y,ce,he]),me=b.useCallback(ae=>R?!!R.chapterNum&&!ae.toString().includes(R.chapterNum.toString()):!1,[R]),be=b.useMemo(()=>oe.formatScrRef(t,s?bi(t.book,s):"English"),[t,s]),_e=b.useCallback(ae=>ke=>{F.current[ae]=ke},[]),ue=b.useCallback(ae=>{(ae.key==="Home"||ae.key==="End")&&ae.stopPropagation()},[]),Me=b.useCallback(ae=>{if(ae.ctrlKey)return;const{isLetter:ke,isDigit:Ie}=Fg(ae.key);if(y==="chapters"){if(ae.key==="Backspace"){ae.preventDefault(),ae.stopPropagation(),te();return}if(ke||Ie){if(ae.preventDefault(),ae.stopPropagation(),_("books"),C(void 0),Ie&&v){const Ve=bo[v];w(`${Ve} ${ae.key}`)}else w(ae.key);setTimeout(()=>{L.current&&L.current.focus()},0);return}}if((y==="chapters"||y==="books"&&R)&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ae.key)){const Ve=y==="chapters"?v:R==null?void 0:R.book;if(!Ve)return;const Ze=(()=>{if(!h)return 1;const Re=h.match(/(\d+)$/);return Re?parseInt(Re[1],10):0})(),pt=Pr(Ve);if(!pt)return;let dt=Ze;const yt=6;switch(ae.key){case"ArrowLeft":Ze!==0&&(dt=Ze>1?Ze-1:pt);break;case"ArrowRight":Ze!==0&&(dt=Ze<pt?Ze+1:1);break;case"ArrowUp":dt=Ze===0?pt:Math.max(1,Ze-yt);break;case"ArrowDown":dt=Ze===0?1:Math.min(pt,Ze+yt);break;default:return}dt!==Ze&&(ae.preventDefault(),ae.stopPropagation(),p(Cf(Ve,s,dt)),setTimeout(()=>{const Re=F.current[dt];Re&&Re.scrollIntoView({block:"nearest",behavior:"smooth"})},0))}},[y,R,te,v,h,s]),qe=b.useCallback(ae=>{if(ae.shiftKey||ae.key==="Tab"||ae.key===" ")return;const{isLetter:ke,isDigit:Ie}=Fg(ae.key);(ke||Ie)&&(ae.preventDefault(),w(Ve=>Ve+ae.key),L.current.focus(),j(!1))},[]);return b.useLayoutEffect(()=>{const ae=setTimeout(()=>{if(u&&y==="books"&&A.current&&O.current){const ke=A.current,Ie=O.current,Ve=Ie.offsetTop,Ze=ke.clientHeight,pt=Ie.clientHeight,dt=Ve-Ze/2+pt/2;ke.scrollTo({top:Math.max(0,dt),behavior:"smooth"}),p(Cf(t.book))}},0);return()=>{clearTimeout(ae)}},[u,y,g,R,t.book]),b.useLayoutEffect(()=>{if(y==="chapters"&&v){const ae=v===t.book;setTimeout(()=>{if(A.current)if(ae){const ke=F.current[t.chapterNum];ke&&ke.scrollIntoView({block:"center",behavior:"smooth"})}else A.current.scrollTo({top:0});S.current&&S.current.focus()},0)}},[y,v,R,t.book,t.chapterNum]),d.jsxs(Go,{open:u,onOpenChange:re,children:[d.jsx(Jo,{asChild:!0,children:d.jsx(Se,{"aria-label":"book-chapter-trigger",variant:"outline",role:"combobox","aria-expanded":u,className:W("tw-h-8 tw-w-full tw-min-w-16 tw-max-w-48 tw-overflow-hidden tw-px-1",n),children:d.jsx("span",{className:"tw-truncate",children:be})})}),d.jsx(Gs,{id:l,forceMount:!0,className:"tw-w-[280px] tw-p-0",align:"center",children:d.jsxs(Ko,{ref:S,onKeyDown:Me,loop:!0,value:h,onValueChange:p,shouldFilter:!1,children:[y==="books"?d.jsxs("div",{className:"tw-flex tw-items-end",children:[d.jsxs("div",{className:"tw-relative tw-flex-1",children:[d.jsx(Yi,{ref:L,value:g,onValueChange:w,onKeyDown:ue,onFocus:()=>j(!1),className:i&&i.length>0?"!tw-pr-10":""}),i&&i.length>0&&d.jsx(Ey,{recentSearches:i,onSearchItemSelect:H,renderItem:ae=>oe.formatScrRef(ae,"English"),getItemKey:ae=>`${ae.book}-${ae.chapterNum}-${ae.verseNum}`,ariaLabel:o==null?void 0:o["%history_recentSearches_ariaLabel%"],groupHeading:o==null?void 0:o["%history_recent%"]})]}),d.jsx("div",{className:"tw-flex tw-items-center tw-gap-1 tw-border-b tw-pe-2",children:G.map(({onClick:ae,disabled:ke,title:Ie,icon:Ve})=>d.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{j(!0),ae()},disabled:ke,className:"tw-h-10 tw-w-4 tw-p-0",title:Ie,onKeyDown:qe,children:d.jsx(Ve,{})},Ie))})]}):d.jsxs("div",{className:"tw-flex tw-items-center tw-border-b tw-px-3 tw-py-2",children:[d.jsx(Se,{variant:"ghost",size:"sm",onClick:te,className:"tw-mr-2 tw-h-6 tw-w-6 tw-p-0",tabIndex:-1,children:c==="ltr"?d.jsx(fe.ArrowLeft,{className:"tw-h-4 tw-w-4"}):d.jsx(fe.ArrowRight,{className:"tw-h-4 tw-w-4"})}),v&&d.jsx("span",{tabIndex:-1,className:"tw-text-sm tw-font-medium",children:bi(v,s)})]}),!M&&d.jsxs(Wo,{ref:A,children:[y==="books"&&d.jsxs(d.Fragment,{children:[!R&&Object.entries(D).map(([ae,ke])=>{if(ke.length!==0)return d.jsx(js,{heading:ge(ae),children:ke.map(Ie=>d.jsx(Cy,{bookId:Ie,onSelect:Ve=>V(Ve),section:oe.getSectionForBook(Ie),commandValue:`${Ie} ${bo[Ie]}`,ref:Ie===t.book?O:void 0,localizedBookNames:s},Ie))},ae)}),R&&d.jsx(js,{children:d.jsx(Ws,{value:`${R.book} ${bo[R.book]} ${R.chapterNum||""}:${R.verseNum||""})}`,onSelect:q,className:"tw-font-semibold tw-text-primary",children:oe.formatScrRef({book:R.book,chapterNum:R.chapterNum??1,verseNum:R.verseNum??1},s?Rh(R.book,s):void 0)},"top-match")}),R&&Pr(R.book)>1&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"tw-mb-2 tw-px-3 tw-text-sm tw-font-medium tw-text-muted-foreground",children:bi(R.book,s)}),d.jsx(Bg,{bookId:R.book,scrRef:t,onChapterSelect:J,setChapterRef:_e,isChapterDimmed:me,className:"tw-px-4 tw-pb-4"})]})]}),y==="chapters"&&v&&d.jsx(Bg,{bookId:v,scrRef:t,onChapterSelect:J,setChapterRef:_e,className:"tw-p-4"})]})]})})]})}const xC=Object.freeze(["%scripture_section_ot_long%","%scripture_section_nt_long%","%scripture_section_dc_long%","%scripture_section_extra_long%","%history_recent%","%history_recentSearches_ariaLabel%"]),_C=Ks.cva("tw-text-sm tw-font-medium tw-leading-none peer-disabled:tw-cursor-not-allowed peer-disabled:tw-opacity-70"),Mt=b.forwardRef(({className:t,...e},n)=>d.jsx(uy.Root,{ref:n,className:W("pr-twp",_C(),t),...e}));Mt.displayName=uy.Root.displayName;const Au=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsx(Ha.Root,{className:W("pr-twp tw-grid tw-gap-2",t),...e,ref:n,dir:r})});Au.displayName=Ha.Root.displayName;const Ka=b.forwardRef(({className:t,...e},n)=>d.jsx(Ha.Item,{ref:n,className:W("pr-twp tw-aspect-square tw-h-4 tw-w-4 tw-rounded-full tw-border tw-border-primary tw-text-primary tw-ring-offset-background focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50",t),...e,children:d.jsx(Ha.Indicator,{className:"tw-flex tw-items-center tw-justify-center",children:d.jsx(fe.Circle,{className:"tw-h-2.5 tw-w-2.5 tw-fill-current tw-text-current"})})}));Ka.displayName=Ha.Item.displayName;function CC(t){return typeof t=="string"?t:typeof t=="number"?t.toString():t.label}function Ic({id:t,options:e=[],className:n,buttonClassName:r,popoverContentClassName:s,value:o,onChange:i=()=>{},getOptionLabel:a=CC,icon:l=void 0,buttonPlaceholder:c="",textPlaceholder:u="",commandEmptyMessage:f="No option found",buttonVariant:h="outline",alignDropDown:p="start",isDisabled:g=!1,...w}){const[y,_]=b.useState(!1);return d.jsxs(Go,{open:y,onOpenChange:_,...w,children:[d.jsx(Jo,{asChild:!0,children:d.jsxs(Se,{variant:h,role:"combobox","aria-expanded":y,id:t,className:W("tw-flex tw-w-[200px] tw-items-center tw-justify-between tw-overflow-hidden",r??n),disabled:g,children:[d.jsxs("div",{className:"tw-flex tw-flex-1 tw-items-center tw-overflow-hidden",children:[l&&d.jsx("div",{className:"tw-pe-2",children:l}),d.jsx("span",{className:W("tw-overflow-hidden tw-text-ellipsis tw-whitespace-nowrap"),children:o?a(o):c})]}),d.jsx(fe.ChevronsUpDown,{className:"tw-ms-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50"})]})}),d.jsx(Gs,{align:p,className:W("tw-w-[200px] tw-p-0",s),children:d.jsxs(Ko,{children:[d.jsx(Yi,{placeholder:u,className:"tw-text-inherit"}),d.jsx(ml,{children:f}),d.jsx(Wo,{children:e.map(v=>d.jsxs(Ws,{value:a(v),onSelect:()=>{i(v),_(!1)},children:[d.jsx(fe.Check,{className:W("tw-me-2 tw-h-4 tw-w-4",{"tw-opacity-0":!o||a(o)!==a(v)})}),a(v)]},a(v)))})]})})]})}function Sy({startChapter:t,endChapter:e,handleSelectStartChapter:n,handleSelectEndChapter:r,isDisabled:s=!1,chapterCount:o}){const i=b.useMemo(()=>Array.from({length:o},(c,u)=>u+1),[o]),a=c=>{n(c),c>e&&r(c)},l=c=>{r(c),c<t&&n(c)};return d.jsxs(d.Fragment,{children:[d.jsx(Mt,{htmlFor:"start-chapters-combobox",children:"Chapters"}),d.jsx(Ic,{isDisabled:s,onChange:a,buttonClassName:"tw-me-2 tw-ms-2 tw-w-20",options:i,getOptionLabel:c=>c.toString(),value:t},"start chapter"),d.jsx(Mt,{htmlFor:"end-chapters-combobox",children:"to"}),d.jsx(Ic,{isDisabled:s,onChange:l,buttonClassName:"tw-ms-2 tw-w-20",options:i,getOptionLabel:c=>c.toString(),value:e},"end chapter")]})}var Ny=(t=>(t.CURRENT_BOOK="current book",t.CHOOSE_BOOKS="choose books",t))(Ny||{});const kC=Object.freeze(["%webView_bookSelector_currentBook%","%webView_bookSelector_choose%","%webView_bookSelector_chooseBooks%"]),Rd=(t,e)=>t[e]??e;function EC({handleBookSelectionModeChange:t,currentBookName:e,onSelectBooks:n,selectedBookIds:r,chapterCount:s,endChapter:o,handleSelectEndChapter:i,startChapter:a,handleSelectStartChapter:l,localizedStrings:c}){const u=Rd(c,"%webView_bookSelector_currentBook%"),f=Rd(c,"%webView_bookSelector_choose%"),h=Rd(c,"%webView_bookSelector_chooseBooks%"),[p,g]=b.useState("current book"),w=y=>{g(y),t(y)};return d.jsx(Au,{className:"pr-twp tw-flex",value:p,onValueChange:y=>w(y),children:d.jsxs("div",{className:"tw-flex tw-w-full tw-flex-col tw-gap-4",children:[d.jsxs("div",{className:"tw-grid tw-grid-cols-[25%,25%,50%]",children:[d.jsxs("div",{className:"tw-flex tw-items-center",children:[d.jsx(Ka,{value:"current book"}),d.jsx(Mt,{className:"tw-ms-1",children:u})]}),d.jsx(Mt,{className:"tw-flex tw-items-center",children:e}),d.jsx("div",{className:"tw-flex tw-items-center tw-justify-end",children:d.jsx(Sy,{isDisabled:p==="choose books",handleSelectStartChapter:l,handleSelectEndChapter:i,chapterCount:s,startChapter:a,endChapter:o})})]}),d.jsxs("div",{className:"tw-grid tw-grid-cols-[25%,50%,25%]",children:[d.jsxs("div",{className:"tw-flex tw-items-center",children:[d.jsx(Ka,{value:"choose books"}),d.jsx(Mt,{className:"tw-ms-1",children:h})]}),d.jsx(Mt,{className:"tw-flex tw-items-center",children:r.map(y=>Ye.bookIdToEnglishName(y)).join(", ")}),d.jsx(Se,{disabled:p==="current book",onClick:()=>n(),children:f})]})]})})}const SC=["input","select","textarea","button"],NC=["button","textbox"],Ty=({options:t,onFocusChange:e,onOptionSelect:n,onCharacterPress:r})=>{const s=b.useRef(null),[o,i]=b.useState(void 0),[a,l]=b.useState(void 0),c=b.useCallback(p=>{i(p);const g=t.find(y=>y.id===p);g&&(e==null||e(g));const w=document.getElementById(p);w&&(w.scrollIntoView({block:"center"}),w.focus()),s.current&&s.current.setAttribute("aria-activedescendant",p)},[e,t]),u=b.useCallback(p=>{const g=t.find(w=>w.id===p);g&&(l(w=>w===p?void 0:p),n==null||n(g))},[n,t]),f=p=>{if(!p)return!1;const g=p.tagName.toLowerCase();if(p.isContentEditable||SC.includes(g))return!0;const w=p.getAttribute("role");if(w&&NC.includes(w))return!0;const y=p.getAttribute("tabindex");return y!==void 0&&y!=="-1"},h=b.useCallback(p=>{var L;const g=p.target,w=A=>A?document.getElementById(A):void 0,y=w(a),_=w(o);if(!!(y&&g&&y.contains(g)&&g!==y)&&f(g)){if(p.key==="Escape"||p.key==="ArrowLeft"){if(a){p.preventDefault(),p.stopPropagation();const A=t.find(O=>O.id===a);A&&c(A.id)}return}if(p.key==="ArrowDown"||p.key==="ArrowUp"){if(!y)return;const A=Array.from(y.querySelectorAll('button:not([disabled]), input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled]), [href], [tabindex]:not([tabindex="-1"])'));if(A.length===0)return;const O=A.findIndex(E=>E===g);if(O===-1)return;let F;p.key==="ArrowDown"?F=Math.min(O+1,A.length-1):F=Math.max(O-1,0),F!==O&&(p.preventDefault(),p.stopPropagation(),(L=A[F])==null||L.focus());return}return}const M=t.findIndex(A=>A.id===o);let j=M;switch(p.key){case"ArrowDown":j=Math.min(M+1,t.length-1),p.preventDefault();break;case"ArrowUp":j=Math.max(M-1,0),p.preventDefault();break;case"Home":j=0,p.preventDefault();break;case"End":j=t.length-1,p.preventDefault();break;case" ":case"Enter":o&&u(o),p.preventDefault(),p.stopPropagation();return;case"ArrowRight":{const A=_;if(A){const O=A.querySelector('input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled])'),F=A.querySelector('button:not([disabled]), [href], [tabindex]:not([tabindex="-1"]), [contenteditable="true"]'),E=O??F;if(E){p.preventDefault(),E.focus();return}}break}default:p.key.length===1&&!p.metaKey&&!p.ctrlKey&&!p.altKey&&(f(g)||(r==null||r(p.key),p.preventDefault()));return}const S=t[j];S&&c(S.id)},[t,c,o,a,u,r]);return{listboxRef:s,activeId:o,selectedId:a,handleKeyDown:h,focusOption:c}},Du=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("pr-twp tw-rounded-lg tw-border tw-bg-card tw-text-card-foreground tw-shadow-sm",t),...e}));Du.displayName="Card";const Ay=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("pr-twp tw-flex tw-flex-col tw-space-y-1.5 tw-p-6",t),...e}));Ay.displayName="CardHeader";const Dy=b.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:W("pr-twp tw-text-2xl tw-font-semibold tw-leading-none tw-tracking-tight",t),...e,children:e.children}));Dy.displayName="CardTitle";const My=b.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:W("pr-twp tw-text-sm tw-text-muted-foreground",t),...e}));My.displayName="CardDescription";const Ih=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("pr-twp tw-p-6 tw-pt-0",t),...e}));Ih.displayName="CardContent";const Oy=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("pr-twp tw-flex tw-items-center tw-p-6 tw-pt-0",t),...e}));Oy.displayName="CardFooter";const Zi=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(dy.Root,{ref:s,decorative:n,orientation:e,className:W("pr-twp tw-shrink-0 tw-bg-border",e==="horizontal"?"tw-h-[1px] tw-w-full":"tw-h-full tw-w-[1px]",t),...r}));Zi.displayName=dy.Root.displayName;const Ry=Ks.cva("pr-twp tw-inline-flex tw-items-center tw-rounded-full tw-px-2.5 tw-py-0.5 tw-text-xs tw-font-semibold tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2",{variants:{variant:{default:"tw-border tw-border-transparent tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/80",secondary:"tw-border tw-border-transparent tw-bg-secondary tw-text-secondary-foreground hover:tw-bg-secondary/80",muted:"tw-border tw-border-transparent tw-bg-muted tw-text-muted-foreground hover:tw-bg-muted/80",destructive:"tw-border tw-border-transparent tw-bg-destructive tw-text-destructive-foreground hover:tw-bg-destructive/80",outline:"tw-border tw-text-foreground",blueIndicator:"tw-w-[5px] tw-h-[5px] tw-bg-blue-400 tw-px-0",mutedIndicator:"tw-w-[5px] tw-h-[5px] tw-bg-zinc-400 tw-px-0",ghost:"hover:tw-bg-accent hover:tw-text-accent-foreground tw-text-mu"}},defaultVariants:{variant:"default"}}),Ni=b.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,className:W("pr-twp",Ry({variant:e}),t),...n}));Ni.displayName="Badge";const Xo=b.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:W("pr-twp tw-flex tw-h-10 tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-sm tw-ring-offset-background file:tw-border-0 file:tw-bg-transparent file:tw-text-sm file:tw-font-medium file:tw-text-foreground placeholder:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50",t),ref:r,...n}));Xo.displayName="Input";function jy({id:t,markdown:e,className:n,anchorTarget:r,truncate:s}){const o=b.useMemo(()=>({overrides:{a:{props:{target:r}}}}),[r]);return d.jsx("div",{id:t,className:W("pr-twp tw-prose",{"tw-line-clamp-3 tw-max-h-10 tw-overflow-hidden tw-text-ellipsis tw-break-words":s},n),children:d.jsx(j1,{options:o,children:e})})}const Lh=b.forwardRef(({className:t,...e},n)=>d.jsx(Xi.Root,{ref:n,className:W("pr-twp tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-overflow-hidden tw-rounded-full",t),...e}));Lh.displayName=Xi.Root.displayName;const Iy=b.forwardRef(({className:t,...e},n)=>d.jsx(Xi.Image,{ref:n,className:W("pr-twp tw-aspect-square tw-h-full tw-w-full",t),...e}));Iy.displayName=Xi.Image.displayName;const Ph=b.forwardRef(({className:t,...e},n)=>d.jsx(Xi.Fallback,{ref:n,className:W("pr-twp tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center tw-rounded-full tw-bg-muted",t),...e}));Ph.displayName=Xi.Fallback.displayName;function qg({comment:t,isReply:e=!1,localizedStrings:n,isThreadExpanded:r=!1}){const s=b.useMemo(()=>{const a=new Date(t.date),l=oe.formatRelativeDate(a,n["%comment_date_today%"],n["%comment_date_yesterday%"]),c=a.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});return oe.formatReplacementString(n["%comment_dateAtTime%"],{date:l,time:c})},[t.date,n]),o=b.useMemo(()=>!e&&t.assignedUser?oe.formatReplacementString(n["%comment_assigned_to%"],{assignedUser:t.assignedUser}):t.user,[e,t.assignedUser,t.user,n]),i=b.useMemo(()=>t.user.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2),[t.user]);return d.jsxs("div",{className:W("tw-flex tw-flex-row tw-gap-3 tw-space-y-3",{"tw-text-sm":e}),children:[d.jsx(Lh,{className:"tw-h-8 tw-w-8",children:d.jsx(Ph,{className:"tw-text-xs tw-font-medium",children:i})}),d.jsxs("div",{className:"tw-flex tw-flex-1 tw-flex-col tw-gap-2",children:[d.jsxs("div",{className:"tw-flex tw-flex-row tw-flex-wrap tw-items-baseline tw-gap-x-2",children:[d.jsx("p",{className:"tw-text-sm tw-font-medium",children:o}),d.jsx("p",{className:"tw-text-xs tw-font-normal tw-text-muted-foreground",children:s})]}),d.jsx("div",{className:"tw-flex tw-flex-row tw-items-start tw-gap-2 tw-break-words tw-text-sm tw-font-normal tw-text-foreground",children:d.jsx(jy,{className:"tw-text-sm tw-font-normal tw-text-primary",markdown:t.contents,truncate:!r})})]})]})}function TC({comments:t,localizedStrings:e,isSelected:n=!1,verseRef:r,assignedUser:s,handleSelectThread:o,threadId:i,threadStatus:a,handleResolveCommentThread:l,handleAddComment:c}){const[u,f]=b.useState(""),[h,p]=b.useState(!1),[g,w]=b.useState(!1),y=b.useMemo(()=>t[0],[t]),_=b.useRef(null);b.useEffect(()=>{const A=_.current;if(!A)return;const O=()=>{w(A.scrollWidth>A.clientWidth)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[y.verse]);const v=b.useMemo(()=>({singleReply:e["%comment_thread_single_reply%"],multipleReplies:e["%comment_thread_multiple_replies%"]}),[e]),C=b.useMemo(()=>s?oe.formatReplacementString(e["%comment_assigned_to%"],{assignedUser:s}):void 0,[s,e]),M=b.useMemo(()=>t.slice(1),[t]),j=b.useMemo(()=>M.length??0,[M.length]),S=b.useMemo(()=>j>0,[j]),L=b.useMemo(()=>j===1?v.singleReply:oe.formatReplacementString(v.multipleReplies,{count:j}),[j,v.singleReply,v.multipleReplies]);return d.jsx(Du,{role:"option","aria-selected":n,id:i,className:W("tw-w-full tw-rounded-none tw-border-none tw-p-4 tw-outline-none tw-transition-all tw-duration-200 focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background",{"tw-cursor-pointer tw-bg-slate-50 hover:tw-shadow-md":!n},{"tw-bg-background":n}),onClick:()=>{o(i)},tabIndex:-1,children:d.jsxs(Ih,{className:"tw-space-y-4 tw-p-0",children:[d.jsxs("div",{className:"tw-flex tw-flex-col tw-content-center tw-items-start tw-gap-4",children:[C&&d.jsx(Ni,{className:"tw-rounded-sm tw-bg-input tw-text-sm tw-font-normal tw-text-primary hover:tw-bg-input",children:C}),d.jsxs("div",{className:"tw-flex tw-max-w-full tw-flex-wrap tw-items-baseline tw-gap-2",children:[d.jsxs("p",{ref:_,className:W("tw-flex-1 tw-overflow-hidden tw-text-ellipsis tw-text-sm tw-font-normal tw-text-muted-foreground",{"tw-overflow-visible tw-text-clip tw-whitespace-normal tw-break-words":h},{"tw-whitespace-nowrap":!h}),children:[r," ",y.verse]}),g&&d.jsx(Se,{variant:"ghost",size:"icon",onClick:A=>{A.stopPropagation(),p(!h)},className:"tw-text-muted-foreground tw-transition hover:tw-text-foreground","aria-label":h?"Collapse text":"Expand text",children:h?d.jsx(fe.ChevronUp,{}):d.jsx(fe.ChevronDown,{})})]}),d.jsxs("div",{className:"tw-flex tw-w-full tw-flex-row tw-items-baseline tw-gap-3",children:[d.jsx("div",{className:"tw-flex-1",children:d.jsx(qg,{comment:y,localizedStrings:e,isThreadExpanded:n})}),n&&a!=="Resolved"&&d.jsx(Se,{variant:"ghost",size:"icon",className:"tw-shrink-0",onClick:A=>{A.stopPropagation(),l(i)},children:d.jsx(fe.Check,{})})]})]}),d.jsxs(d.Fragment,{children:[S&&!n&&d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-5",children:[d.jsx("div",{className:"tw-w-8",children:d.jsx(Zi,{})}),d.jsx("p",{className:"tw-text-sm tw-text-muted-foreground",children:L})]}),n&&d.jsxs(d.Fragment,{children:[M.map(A=>d.jsx("div",{children:d.jsx(qg,{comment:A,localizedStrings:e,isReply:!0,isThreadExpanded:n})},A.id)),d.jsxs("div",{role:"textbox",tabIndex:-1,className:"tw-w-full tw-space-y-2",onClick:A=>A.stopPropagation(),onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&A.stopPropagation()},children:[d.jsx(Xo,{className:"tw-w-full",placeholder:e["%comment_replyOrAssign%"],value:u,onChange:A=>f(A.target.value)}),d.jsxs("div",{className:"tw-flex tw-flex-row tw-items-start tw-justify-end tw-gap-2",children:[d.jsx(Se,{size:"icon",variant:"outline",className:"tw-flex tw-items-center tw-justify-center tw-rounded-md",disabled:!u,children:d.jsx(fe.AtSign,{})}),d.jsx(Se,{size:"icon",onClick:()=>c(i,u),className:"tw-flex tw-items-center tw-justify-center tw-rounded-md",disabled:!u,children:d.jsx(fe.ArrowUp,{})})]})]})]})]})]})})}const tc=t=>`thread-${t}`;function AC({className:t="",threads:e,localizedStrings:n,handleAddComment:r,handleResolveCommentThread:s}){const[o,i]=b.useState(),a=e.map(p=>({id:tc(p.id)})),l=b.useCallback(p=>{i(p.id)},[]),c=b.useCallback(p=>{i(p)},[]),{listboxRef:u,activeId:f,handleKeyDown:h}=Ty({options:a,onOptionSelect:l});return b.useEffect(()=>{if(!o)return;const p=document.getElementById(o);if(!p)return;const g=requestAnimationFrame(()=>{const w=requestAnimationFrame(()=>{const y=p.querySelector('input:not([disabled]):not([type="hidden"])'),_=p.querySelector("textarea:not([disabled]), select:not([disabled]), button:not([disabled])"),v=y??_;v==null||v.focus()});return()=>cancelAnimationFrame(w)});return()=>cancelAnimationFrame(g)},[o]),d.jsx("div",{id:"comment-list",role:"listbox",tabIndex:0,ref:u,"aria-activedescendant":f??void 0,"aria-label":"Comments",className:W("tw-flex tw-w-full tw-max-w-screen-md tw-flex-col tw-space-y-3 tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background",t),onKeyDown:h,children:e.map(p=>d.jsx("div",{children:d.jsx(TC,{comments:p.comments,localizedStrings:n,verseRef:p.verseRef,handleSelectThread:c,threadId:tc(p.id),isSelected:o===tc(p.id),assignedUser:p.assignedUser,threadStatus:p.status,handleAddComment:r,handleResolveCommentThread:s})},tc(p.id)))})}const $h=b.createContext(void 0);function xr(){const t=b.useContext($h);if(!t)throw new Error("useMenuContext must be used within a MenuContext.Provider.");return t}const gs=Ks.cva("",{variants:{variant:{default:"",muted:"hover:tw-bg-muted hover:tw-text-foreground focus:tw-bg-muted focus:tw-text-foreground data-[state=open]:tw-bg-muted data-[state=open]:tw-text-foreground"}},defaultVariants:{variant:"default"}}),Mu=it.Trigger,Fh=it.Group,Ly=it.Portal,Py=it.Sub,$y=it.RadioGroup;function bl({variant:t="default",...e}){const n=b.useMemo(()=>({variant:t}),[t]);return d.jsx($h.Provider,{value:n,children:d.jsx(it.Root,{...e})})}const Bh=b.forwardRef(({className:t,inset:e,children:n,...r},s)=>{const o=xr();return d.jsxs(it.SubTrigger,{ref:s,className:W("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent data-[state=open]:tw-bg-accent",e&&"tw-pl-8",t,gs({variant:o.variant})),...r,children:[n,d.jsx(fe.ChevronRight,{className:"tw-ml-auto tw-h-4 tw-w-4"})]})});Bh.displayName=it.SubTrigger.displayName;const qh=b.forwardRef(({className:t,...e},n)=>d.jsx(it.SubContent,{ref:n,className:W("pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-lg data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...e}));qh.displayName=it.SubContent.displayName;const ea=b.forwardRef(({className:t,sideOffset:e=4,children:n,...r},s)=>{const o=zt();return d.jsx(it.Portal,{children:d.jsx(it.Content,{ref:s,sideOffset:e,className:W("pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...r,children:d.jsx("div",{dir:o,children:n})})})});ea.displayName=it.Content.displayName;const Uh=b.forwardRef(({className:t,inset:e,...n},r)=>{const s=zt(),o=xr();return d.jsx(it.Item,{ref:r,className:W("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",e&&"tw-pl-8",t,gs({variant:o.variant})),...n,dir:s})});Uh.displayName=it.Item.displayName;const Ou=b.forwardRef(({className:t,children:e,checked:n,...r},s)=>{const o=xr();return d.jsxs(it.CheckboxItem,{ref:s,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",t,gs({variant:o.variant})),checked:n,...r,children:[d.jsx("span",{className:"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2",children:d.jsx(it.ItemIndicator,{children:d.jsx(fe.Check,{className:"tw-h-4 tw-w-4"})})}),e]})});Ou.displayName=it.CheckboxItem.displayName;const zh=b.forwardRef(({className:t,children:e,...n},r)=>{const s=xr();return d.jsxs(it.RadioItem,{ref:r,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",t,gs({variant:s.variant})),...n,children:[d.jsx("span",{className:"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2",children:d.jsx(it.ItemIndicator,{children:d.jsx(fe.Circle,{className:"tw-h-2 tw-w-2 tw-fill-current"})})}),e]})});zh.displayName=it.RadioItem.displayName;const Ru=b.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(it.Label,{ref:r,className:W("tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold",e&&"tw-pl-8",t),...n}));Ru.displayName=it.Label.displayName;const yl=b.forwardRef(({className:t,...e},n)=>d.jsx(it.Separator,{ref:n,className:W("tw--mx-1 tw-my-1 tw-h-px tw-bg-muted",t),...e}));yl.displayName=it.Separator.displayName;function Fy({className:t,...e}){return d.jsx("span",{className:W("tw-ms-auto tw-text-xs tw-tracking-widest tw-opacity-60",t),...e})}Fy.displayName="DropdownMenuShortcut";function DC({table:t}){return d.jsxs(bl,{children:[d.jsx(ly.DropdownMenuTrigger,{asChild:!0,children:d.jsxs(Se,{variant:"outline",size:"sm",className:"tw-ml-auto tw-hidden tw-h-8 lg:tw-flex",children:[d.jsx(fe.FilterIcon,{className:"tw-mr-2 tw-h-4 tw-w-4"}),"View"]})}),d.jsxs(ea,{align:"end",className:"tw-w-[150px]",children:[d.jsx(Ru,{children:"Toggle columns"}),d.jsx(yl,{}),t.getAllColumns().filter(e=>e.getCanHide()).map(e=>d.jsx(Ou,{className:"tw-capitalize",checked:e.getIsVisible(),onCheckedChange:n=>e.toggleVisibility(!!n),children:e.id},e.id))]})]})}const To=bt.Root,By=bt.Group,Ao=bt.Value,qy=Ks.cva("tw-flex tw-h-10 tw-w-full tw-items-center tw-justify-between tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-sm tw-ring-offset-background placeholder:tw-text-muted-foreground focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 [&>span]:tw-line-clamp-1",{variants:{size:{default:"tw-h-10 tw-px-4 tw-py-2",sm:"tw-h-8 tw-rounded-md tw-px-3",lg:"tw-h-11 tw-rounded-md tw-px-8",icon:"tw-h-10 tw-w-10"}},defaultVariants:{size:"default"}}),Is=b.forwardRef(({className:t,children:e,size:n,...r},s)=>{const o=zt();return d.jsxs(bt.Trigger,{className:W(qy({size:n,className:t})),ref:s,...r,dir:o,children:[e,d.jsx(bt.Icon,{asChild:!0,children:d.jsx(fe.ChevronDown,{className:"tw-h-4 tw-w-4 tw-opacity-50"})})]})});Is.displayName=bt.Trigger.displayName;const Vh=b.forwardRef(({className:t,...e},n)=>d.jsx(bt.ScrollUpButton,{ref:n,className:W("tw-flex tw-cursor-default tw-items-center tw-justify-center tw-py-1",t),...e,children:d.jsx(fe.ChevronUp,{className:"tw-h-4 tw-w-4"})}));Vh.displayName=bt.ScrollUpButton.displayName;const Hh=b.forwardRef(({className:t,...e},n)=>d.jsx(bt.ScrollDownButton,{ref:n,className:W("tw-flex tw-cursor-default tw-items-center tw-justify-center tw-py-1",t),...e,children:d.jsx(fe.ChevronDown,{className:"tw-h-4 tw-w-4"})}));Hh.displayName=bt.ScrollDownButton.displayName;const Ls=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>{const o=zt();return d.jsx(bt.Portal,{children:d.jsxs(bt.Content,{ref:s,className:W("pr-twp tw-relative tw-z-50 tw-max-h-96 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:tw-translate-y-1 data-[side=left]:tw--translate-x-1 data-[side=right]:tw-translate-x-1 data-[side=top]:tw--translate-y-1",t),position:n,...r,children:[d.jsx(Vh,{}),d.jsx(bt.Viewport,{className:W("tw-p-1",n==="popper"&&"tw-h-[var(--radix-select-trigger-height)] tw-w-full tw-min-w-[var(--radix-select-trigger-width)]"),children:d.jsx("div",{dir:o,children:e})}),d.jsx(Hh,{})]})})});Ls.displayName=bt.Content.displayName;const Uy=b.forwardRef(({className:t,...e},n)=>d.jsx(bt.Label,{ref:n,className:W("tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-font-semibold",t),...e}));Uy.displayName=bt.Label.displayName;const qn=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(bt.Item,{ref:r,className:W("tw-relative tw-flex tw-w-full tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",t),...n,children:[d.jsx("span",{className:"tw-absolute tw-start-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center",children:d.jsx(bt.ItemIndicator,{children:d.jsx(fe.Check,{className:"tw-h-4 tw-w-4"})})}),d.jsx(bt.ItemText,{children:e})]}));qn.displayName=bt.Item.displayName;const zy=b.forwardRef(({className:t,...e},n)=>d.jsx(bt.Separator,{ref:n,className:W("tw--mx-1 tw-my-1 tw-h-px tw-bg-muted",t),...e}));zy.displayName=bt.Separator.displayName;function MC({table:t}){return d.jsx("div",{className:"tw-flex tw-items-center tw-justify-between tw-px-2 tw-pb-3 tw-pt-3",children:d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-6 lg:tw-space-x-8",children:[d.jsxs("div",{className:"tw-flex-1 tw-text-sm tw-text-muted-foreground",children:[t.getFilteredSelectedRowModel().rows.length," of"," ",t.getFilteredRowModel().rows.length," row(s) selected"]}),d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2",children:[d.jsx("p",{className:"tw-text-nowrap tw-text-sm tw-font-medium",children:"Rows per page"}),d.jsxs(To,{value:`${t.getState().pagination.pageSize}`,onValueChange:e=>{t.setPageSize(Number(e))},children:[d.jsx(Is,{className:"tw-h-8 tw-w-[70px]",children:d.jsx(Ao,{placeholder:t.getState().pagination.pageSize})}),d.jsx(Ls,{side:"top",children:[10,20,30,40,50].map(e=>d.jsx(qn,{value:`${e}`,children:e},e))})]})]}),d.jsxs("div",{className:"tw-flex tw-w-[100px] tw-items-center tw-justify-center tw-text-sm tw-font-medium",children:["Page ",t.getState().pagination.pageIndex+1," of ",t.getPageCount()]}),d.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2",children:[d.jsxs(Se,{variant:"outline",size:"icon",className:"tw-hidden tw-h-8 tw-w-8 tw-p-0 lg:tw-flex",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[d.jsx("span",{className:"tw-sr-only",children:"Go to first page"}),d.jsx(fe.ArrowLeftIcon,{className:"tw-h-4 tw-w-4"})]}),d.jsxs(Se,{variant:"outline",size:"icon",className:"tw-h-8 tw-w-8 tw-p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[d.jsx("span",{className:"tw-sr-only",children:"Go to previous page"}),d.jsx(fe.ChevronLeftIcon,{className:"tw-h-4 tw-w-4"})]}),d.jsxs(Se,{variant:"outline",size:"icon",className:"tw-h-8 tw-w-8 tw-p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[d.jsx("span",{className:"tw-sr-only",children:"Go to next page"}),d.jsx(fe.ChevronRightIcon,{className:"tw-h-4 tw-w-4"})]}),d.jsxs(Se,{variant:"outline",size:"icon",className:"tw-hidden tw-h-8 tw-w-8 tw-p-0 lg:tw-flex",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[d.jsx("span",{className:"tw-sr-only",children:"Go to last page"}),d.jsx(fe.ArrowRightIcon,{className:"tw-h-4 tw-w-4"})]})]})]})})}const Ug=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [contenteditable],
  tr:not([disabled])
`;function OC(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function Wa(t,e){const n=e?`${Ug}, ${e}`:Ug;return Array.from(t.querySelectorAll(n)).filter(r=>!r.hasAttribute("disabled")&&!r.getAttribute("aria-hidden")&&OC(r))}const vl=b.forwardRef(({className:t,stickyHeader:e,...n},r)=>{const s=b.useRef(null);b.useEffect(()=>{typeof r=="function"?r(s.current):r&&"current"in r&&(r.current=s.current)},[r]),b.useEffect(()=>{const i=s.current;if(!i)return;const a=()=>{requestAnimationFrame(()=>{Wa(i,'[tabindex]:not([tabindex="-1"])').forEach(u=>{u.setAttribute("tabindex","-1")})})};a();const l=new MutationObserver(()=>{a()});return l.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),()=>{l.disconnect()}},[]);const o=i=>{const{current:a}=s;if(a){if(i.key==="ArrowDown"){i.preventDefault(),Wa(a)[0].focus();return}i.key===" "&&document.activeElement===a&&i.preventDefault()}};return d.jsx("div",{className:W("pr-twp tw-relative tw-w-full",{"tw-p-1":e}),children:d.jsx("table",{tabIndex:0,onKeyDown:o,ref:s,className:W("tw-w-full tw-caption-bottom tw-text-sm tw-outline-none","focus:tw-relative focus:tw-z-10 focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background",t),"aria-label":"Table","aria-labelledby":"table-label",...n})})});vl.displayName="Table";const xl=b.forwardRef(({className:t,stickyHeader:e,...n},r)=>d.jsx("thead",{ref:r,className:W({"tw-sticky tw-top-[-1px] tw-z-20 tw-bg-background tw-drop-shadow-sm":e},"[&_tr]:tw-border-b",t),...n}));xl.displayName="TableHeader";const _l=b.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:W("[&_tr:last-child]:tw-border-0",t),...e}));_l.displayName="TableBody";const Vy=b.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:W("tw-border-t tw-bg-muted/50 tw-font-medium [&>tr]:last:tw-border-b-0",t),...e}));Vy.displayName="TableFooter";function RC(t){b.useEffect(()=>{const e=t.current;if(!e)return;const n=r=>{if(e.contains(document.activeElement)){if(r.key==="ArrowRight"||r.key==="ArrowLeft"){r.preventDefault(),r.stopPropagation();const s=t.current?Wa(t.current):[],o=s.indexOf(document.activeElement),i=r.key==="ArrowRight"?o+1:o-1;i>=0&&i<s.length&&s[i].focus()}r.key==="Escape"&&(r.preventDefault(),e.focus()),(r.key==="ArrowDown"||r.key==="ArrowUp")&&r.preventDefault()}};return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}},[t])}function jC(t,e,n){let r;return n==="ArrowLeft"&&e>0?r=t[e-1]:n==="ArrowRight"&&e<t.length-1&&(r=t[e+1]),r?(requestAnimationFrame(()=>r.focus()),!0):!1}function IC(t,e,n){let r;return n==="ArrowDown"&&e<t.length-1?r=t[e+1]:n==="ArrowUp"&&e>0&&(r=t[e-1]),r?(requestAnimationFrame(()=>r.focus()),!0):!1}const $r=b.forwardRef(({className:t,onKeyDown:e,onSelect:n,setFocusAlsoRunsSelect:r=!1,...s},o)=>{const i=b.useRef(null);b.useEffect(()=>{typeof o=="function"?o(i.current):o&&"current"in o&&(o.current=i.current)},[o]),RC(i);const a=b.useMemo(()=>i.current?Wa(i.current):[],[i]),l=b.useCallback(u=>{const{current:f}=i;if(!f||!f.parentElement)return;const h=f.closest("table"),p=h?Wa(h).filter(y=>y.tagName==="TR"):[],g=p.indexOf(f),w=a.indexOf(document.activeElement);if(u.key==="ArrowDown"||u.key==="ArrowUp")u.preventDefault(),IC(p,g,u.key);else if(u.key==="ArrowLeft"||u.key==="ArrowRight")u.preventDefault(),jC(a,w,u.key);else if(u.key==="Escape"){u.preventDefault();const y=f.closest("table");y&&y.focus()}e==null||e(u)},[i,a,e]),c=b.useCallback(u=>{r&&(n==null||n(u))},[r,n]);return d.jsx("tr",{ref:i,tabIndex:-1,onKeyDown:l,onFocus:c,className:W("tw-border-b tw-outline-none tw-transition-colors hover:tw-bg-muted/50","focus:tw-relative focus:tw-z-10 focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background","data-[state=selected]:tw-bg-muted",t),...s})});$r.displayName="TableRow";const Ti=b.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:W("tw-h-12 tw-px-4 tw-text-start tw-align-middle tw-font-medium tw-text-muted-foreground [&:has([role=checkbox])]:tw-pe-0",t),...e}));Ti.displayName="TableHead";const Ds=b.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:W("tw-p-4 tw-align-middle [&:has([role=checkbox])]:tw-pe-0",t),...e}));Ds.displayName="TableCell";const Hy=b.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:W("tw-mt-4 tw-text-sm tw-text-muted-foreground",t),...e}));Hy.displayName="TableCaption";function Lc({className:t,...e}){return d.jsx("div",{className:W("pr-twp tw-animate-pulse tw-rounded-md tw-bg-muted",t),...e})}function Ky({columns:t,data:e,enablePagination:n=!1,showPaginationControls:r=!1,showColumnVisibilityControls:s=!1,stickyHeader:o=!1,onRowClickHandler:i=()=>{},id:a,isLoading:l=!1,noResultsMessage:c}){var S;const[u,f]=b.useState([]),[h,p]=b.useState([]),[g,w]=b.useState({}),[y,_]=b.useState({}),v=b.useMemo(()=>e??[],[e]),C=pn.useReactTable({data:v,columns:t,getCoreRowModel:pn.getCoreRowModel(),...n&&{getPaginationRowModel:pn.getPaginationRowModel()},onSortingChange:f,getSortedRowModel:pn.getSortedRowModel(),onColumnFiltersChange:p,getFilteredRowModel:pn.getFilteredRowModel(),onColumnVisibilityChange:w,onRowSelectionChange:_,state:{sorting:u,columnFilters:h,columnVisibility:g,rowSelection:y}}),M=C.getVisibleFlatColumns();let j;return l?j=Array.from({length:10}).map((O,F)=>`skeleton-row-${F}`).map(O=>d.jsx($r,{children:d.jsx(Ds,{colSpan:M.length??t.length,className:"tw-border-0 tw-p-0",children:d.jsx("div",{className:"tw-w-full tw-py-2",children:d.jsx(Lc,{className:"tw-h-14 tw-w-full tw-rounded-md"})})})},O)):((S=C.getRowModel().rows)==null?void 0:S.length)>0?j=C.getRowModel().rows.map(L=>d.jsx($r,{onClick:()=>i(L,C),"data-state":L.getIsSelected()&&"selected",children:L.getVisibleCells().map(A=>d.jsx(Ds,{children:pn.flexRender(A.column.columnDef.cell,A.getContext())},A.id))},L.id)):j=d.jsx($r,{children:d.jsx(Ds,{colSpan:t.length,className:"tw-h-24 tw-text-center",children:c})}),d.jsxs("div",{className:"pr-twp",id:a,children:[s&&d.jsx(DC,{table:C}),d.jsxs(vl,{stickyHeader:o,children:[d.jsx(xl,{stickyHeader:o,children:C.getHeaderGroups().map(L=>d.jsx($r,{children:L.headers.map(A=>d.jsx(Ti,{children:A.isPlaceholder?void 0:pn.flexRender(A.column.columnDef.header,A.getContext())},A.id))},L.id))}),d.jsx(_l,{children:j})]}),n&&d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-end tw-space-x-2 tw-py-4",children:[d.jsx(Se,{variant:"outline",size:"sm",onClick:()=>C.previousPage(),disabled:!C.getCanPreviousPage(),children:"Previous"}),d.jsx(Se,{variant:"outline",size:"sm",onClick:()=>C.nextPage(),disabled:!C.getCanNextPage(),children:"Next"})]}),n&&r&&d.jsx(MC,{table:C})]})}const Wy=Object.freeze(["%webView_error_dump_header%","%webView_error_dump_info_message%"]),zg=(t,e)=>t[e]??e;function Gy({errorDetails:t,handleCopyNotify:e,localizedStrings:n,id:r}){const s=zg(n,"%webView_error_dump_header%"),o=zg(n,"%webView_error_dump_info_message%");function i(){navigator.clipboard.writeText(t),e&&e()}return d.jsxs("div",{id:r,className:"tw-inline-flex tw-w-full tw-flex-col tw-items-start tw-justify-start tw-gap-4",children:[d.jsxs("div",{className:"tw-inline-flex tw-items-start tw-justify-start tw-gap-4 tw-self-stretch",children:[d.jsxs("div",{className:"tw-inline-flex tw-flex-1 tw-flex-col tw-items-start tw-justify-start",children:[d.jsx("div",{className:"tw-text-color-text tw-justify-center tw-text-center tw-text-lg tw-font-semibold tw-leading-loose",children:s}),d.jsx("div",{className:"tw-justify-center tw-self-stretch tw-text-sm tw-font-normal tw-leading-tight tw-text-muted-foreground",children:o})]}),d.jsx(Se,{variant:"secondary",size:"icon",className:"size-8",onClick:()=>i(),children:d.jsx(fe.Copy,{})})]}),d.jsx("div",{className:"tw-prose tw-w-full",children:d.jsx("pre",{className:"tw-text-xs",children:t})})]})}const LC=Object.freeze([...Wy,"%webView_error_dump_copied_message%"]);function PC({errorDetails:t,handleCopyNotify:e,localizedStrings:n,children:r,className:s,id:o}){const[i,a]=b.useState(!1),l=()=>{a(!0),e&&e()},c=u=>{u||a(!1)};return d.jsxs(Go,{onOpenChange:c,children:[d.jsx(Jo,{asChild:!0,children:r}),d.jsxs(Gs,{id:o,className:W("tw-min-w-80 tw-max-w-96",s),children:[i&&n["%webView_error_dump_copied_message%"]&&d.jsx(Mt,{children:n["%webView_error_dump_copied_message%"]}),d.jsx(Gy,{errorDetails:t,handleCopyNotify:l,localizedStrings:n})]})]})}var Jy=(t=>(t[t.Check=0]="Check",t[t.Radio=1]="Radio",t))(Jy||{});function $C({id:t,label:e,groups:n}){const[r,s]=b.useState(Object.fromEntries(n.map((c,u)=>c.itemType===0?[u,[]]:void 0).filter(c=>!!c))),[o,i]=b.useState({}),a=(c,u)=>{const f=!r[c][u];s(p=>(p[c][u]=f,{...p}));const h=n[c].items[u];h.onUpdate(h.id,f)},l=(c,u)=>{i(h=>(h[c]=u,{...h}));const f=n[c].items.find(h=>h.id===u);f?f.onUpdate(u):console.error(`Could not find dropdown radio item with id '${u}'!`)};return d.jsx("div",{id:t,children:d.jsxs(bl,{children:[d.jsx(Mu,{asChild:!0,children:d.jsxs(Se,{variant:"default",children:[d.jsx(fe.Filter,{size:16,className:"tw-mr-2 tw-h-4 tw-w-4"}),e,d.jsx(fe.ChevronDown,{size:16,className:"tw-ml-2 tw-h-4 tw-w-4"})]})}),d.jsx(ea,{children:n.map((c,u)=>d.jsxs("div",{children:[d.jsx(Ru,{children:c.label}),d.jsx(Fh,{children:c.itemType===0?d.jsx(d.Fragment,{children:c.items.map((f,h)=>d.jsx("div",{children:d.jsx(Ou,{checked:r[u][h],onCheckedChange:()=>a(u,h),children:f.label})},f.id))}):d.jsx($y,{value:o[u],onValueChange:f=>l(u,f),children:c.items.map(f=>d.jsx("div",{children:d.jsx(zh,{value:f.id,children:f.label})},f.id))})}),d.jsx(yl,{})]},c.label))})]})})}function FC({id:t,category:e,downloads:n,languages:r,moreInfoUrl:s,handleMoreInfoLinkClick:o,supportUrl:i,handleSupportLinkClick:a}){const l=new oe.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(Object.values(n).reduce((u,f)=>u+f,0)),c=()=>{window.scrollTo(0,document.body.scrollHeight)};return d.jsxs("div",{id:t,className:"pr-twp tw-flex tw-items-center tw-justify-center tw-gap-4 tw-divide-x tw-border-b tw-border-t tw-py-2 tw-text-center",children:[e&&d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-gap-1",children:[d.jsx("div",{className:"tw-flex",children:d.jsx("span",{className:"tw-text-xs tw-font-semibold tw-text-foreground",children:e})}),d.jsx("span",{className:"tw-text-xs tw-text-foreground",children:"CATEGORY"})]}),d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-gap-1 tw-ps-4",children:[d.jsxs("div",{className:"tw-flex tw-gap-1",children:[d.jsx(fe.User,{className:"tw-h-4 tw-w-4"}),d.jsx("span",{className:"tw-text-xs tw-font-semibold tw-text-foreground",children:l})]}),d.jsx("span",{className:"tw-text-xs tw-text-foreground",children:"USERS"})]}),d.jsxs("div",{className:"tw-flex tw-flex-col tw-items-center tw-gap-1 tw-ps-4",children:[d.jsx("div",{className:"tw-flex tw-gap-2",children:r.slice(0,3).map(u=>d.jsx("span",{className:"tw-text-xs tw-font-semibold tw-text-foreground",children:u.toUpperCase()},u))}),r.length>3&&d.jsxs("button",{type:"button",onClick:()=>c(),className:"tw-text-xs tw-text-foreground tw-underline",children:["+",r.length-3," more languages"]})]}),(s||i)&&d.jsxs("div",{className:"tw-flex tw-flex-col tw-gap-1 tw-ps-4",children:[s&&d.jsx("div",{className:"tw-flex tw-gap-1",children:d.jsxs(Se,{onClick:()=>o(),variant:"link",className:"tw-flex tw-h-auto tw-gap-1 tw-py-0 tw-text-xs tw-font-semibold tw-text-foreground",children:["Website",d.jsx(fe.Link,{className:"tw-h-4 tw-w-4"})]})}),i&&d.jsx("div",{className:"tw-flex tw-gap-1",children:d.jsxs(Se,{onClick:()=>a(),variant:"link",className:"tw-flex tw-h-auto tw-gap-1 tw-py-0 tw-text-xs tw-font-semibold tw-text-foreground",children:["Support",d.jsx(fe.CircleHelp,{className:"tw-h-4 tw-w-4"})]})})]})]})}function BC({id:t,versionHistory:e}){const[n,r]=b.useState(!1),s=new Date;function o(a){const l=new Date(a),c=new Date(s.getTime()-l.getTime()),u=c.getUTCFullYear()-1970,f=c.getUTCMonth(),h=c.getUTCDate()-1;let p="";return u>0?p=`${u.toString()} year${u===1?"":"s"} ago`:f>0?p=`${f.toString()} month${f===1?"":"s"} ago`:h===0?p="today":p=`${h.toString()} day${h===1?"":"s"} ago`,p}const i=Object.entries(e).sort((a,l)=>l[0].localeCompare(a[0]));return d.jsxs("div",{className:"pr-twp",id:t,children:[d.jsx("h3",{className:"tw-text-md tw-font-semibold",children:"What`s New"}),d.jsx("ul",{className:"tw-list-disc tw-pl-5 tw-pr-4 tw-text-xs tw-text-foreground",children:(n?i:i.slice(0,5)).map(a=>d.jsxs("div",{className:"tw-mt-3 tw-flex tw-justify-between",children:[d.jsx("div",{className:"tw-text-foreground",children:d.jsx("li",{className:"tw-prose tw-text-xs",children:d.jsx("span",{children:a[1].description})})}),d.jsxs("div",{className:"tw-justify-end tw-text-right",children:[d.jsxs("div",{children:["Version ",a[0]]}),d.jsx("div",{children:o(a[1].date)})]})]},a[0]))}),i.length>5&&d.jsx("button",{type:"button",onClick:()=>r(!n),className:"tw-text-xs tw-text-foreground tw-underline",children:n?"Show Less Version History":"Show All Version History"})]})}function qC({id:t,publisherDisplayName:e,fileSize:n,locales:r,versionHistory:s,currentVersion:o}){const i=b.useMemo(()=>oe.formatBytes(n),[n]),l=(c=>{const u=new Intl.DisplayNames(oe.getCurrentLocale(),{type:"language"});return c.map(f=>u.of(f))})(r);return d.jsx("div",{id:t,className:"pr-twp tw-border-t tw-py-2",children:d.jsxs("div",{className:"tw-flex tw-flex-col tw-gap-2 tw-divide-y",children:[Object.entries(s).length>0&&d.jsx(BC,{versionHistory:s}),d.jsxs("div",{className:"tw-flex tw-flex-col tw-gap-2 tw-py-2",children:[d.jsx("h2",{className:"tw-text-md tw-font-semibold",children:"Information"}),d.jsxs("div",{className:"tw-flex tw-items-start tw-justify-between tw-text-xs tw-text-foreground",children:[d.jsxs("p",{className:"tw-flex tw-flex-col tw-justify-start tw-gap-1",children:[d.jsx("span",{children:"Publisher"}),d.jsx("span",{className:"tw-font-semibold",children:e}),d.jsx("span",{children:"Size"}),d.jsx("span",{className:"tw-font-semibold",children:i})]}),d.jsx("div",{className:"tw-flex tw-w-3/4 tw-items-center tw-justify-between tw-text-xs tw-text-foreground",children:d.jsxs("p",{className:"tw-flex tw-flex-col tw-justify-start tw-gap-1",children:[d.jsx("span",{children:"Version"}),d.jsx("span",{className:"tw-font-semibold",children:o}),d.jsx("span",{children:"Languages"}),d.jsx("span",{className:"tw-font-semibold",children:l.join(", ")})]})})]})]})]})})}function Xy({entries:t,selected:e,onChange:n,placeholder:r,hasToggleAllFeature:s=!1,selectAllText:o="Select All",clearAllText:i="Clear All",commandEmptyMessage:a="No entries found",customSelectedText:l,isOpen:c=void 0,onOpenChange:u=void 0,isDisabled:f=!1,sortSelected:h=!1,icon:p=void 0,className:g=void 0,variant:w="ghost",id:y}){const[_,v]=b.useState(!1),C=b.useCallback(F=>{var I;const E=(I=t.find(T=>T.label===F))==null?void 0:I.value;E&&n(e.includes(E)?e.filter(T=>T!==E):[...e,E])},[t,e,n]),M=()=>l||r,j=b.useMemo(()=>{if(!h)return t;const F=t.filter(I=>I.starred).sort((I,T)=>I.label.localeCompare(T.label)),E=t.filter(I=>!I.starred).sort((I,T)=>{const P=e.includes(I.value),D=e.includes(T.value);return P&&!D?-1:!P&&D?1:I.label.localeCompare(T.label)});return[...F,...E]},[t,e,h]),S=()=>{n(t.map(F=>F.value))},L=()=>{n([])},A=c??_,O=u??v;return d.jsx("div",{id:y,className:g,children:d.jsxs(Go,{open:A,onOpenChange:O,children:[d.jsx(Jo,{asChild:!0,children:d.jsxs(Se,{variant:w,role:"combobox","aria-expanded":A,className:"tw-group tw-w-full tw-justify-between",disabled:f,children:[d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-2",children:[p&&d.jsx("div",{className:"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50",children:d.jsx("span",{className:"tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center",children:p})}),d.jsx("div",{className:"tw-font-normal",children:M()})]}),d.jsx(fe.ChevronsUpDown,{className:"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50"})]})}),d.jsx(Gs,{align:"start",className:"tw-w-full tw-p-0",children:d.jsxs(Ko,{children:[d.jsx(Yi,{placeholder:`Search ${r.toLowerCase()}...`}),s&&d.jsxs("div",{className:"tw-flex tw-justify-between tw-border-b tw-p-2",children:[d.jsx(Se,{variant:"ghost",size:"sm",onClick:S,children:o}),d.jsx(Se,{variant:"ghost",size:"sm",onClick:L,children:i})]}),d.jsxs(Wo,{children:[d.jsx(ml,{children:a}),d.jsx(js,{children:j.map(F=>d.jsxs(Ws,{value:F.label,onSelect:C,className:"tw-flex tw-items-center tw-gap-2",children:[d.jsx("div",{className:"w-4",children:d.jsx(fe.Check,{className:W("tw-h-4 tw-w-4",e.includes(F.value)?"tw-opacity-100":"tw-opacity-0")})}),F.starred&&d.jsx(fe.Star,{className:"tw-h-4 tw-w-4"}),d.jsx("div",{className:"tw-flex-grow",children:F.label}),F.secondaryLabel&&d.jsx("div",{className:"tw-text-end tw-text-muted-foreground",children:F.secondaryLabel})]},F.label))})]})]})})]})})}function UC({entries:t,selected:e,onChange:n,placeholder:r,commandEmptyMessage:s,customSelectedText:o,isDisabled:i,sortSelected:a,icon:l,className:c,badgesPlaceholder:u,id:f}){return d.jsxs("div",{id:f,className:"tw-flex tw-items-center tw-gap-2",children:[d.jsx(Xy,{entries:t,selected:e,onChange:n,placeholder:r,commandEmptyMessage:s,customSelectedText:o,isDisabled:i,sortSelected:a,icon:l,className:c}),e.length>0?d.jsx("div",{className:"tw-flex tw-flex-wrap tw-items-center tw-gap-2",children:e.map(h=>{var p;return d.jsxs(Ni,{variant:"muted",className:"tw-flex tw-items-center tw-gap-1",children:[d.jsx(Se,{variant:"ghost",size:"icon",className:"tw-h-4 tw-w-4 tw-p-0 hover:tw-bg-transparent",onClick:()=>n(e.filter(g=>g!==h)),children:d.jsx(fe.X,{className:"tw-h-3 tw-w-3"})}),(p=t.find(g=>g.value===h))==null?void 0:p.label]},h)})}):d.jsx(Mt,{children:u})]})}var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fe={},Lt={},Vg;function ta(){if(Vg)return Lt;Vg=1;function t(_,v,C){if(C===void 0&&(C=Array.prototype),_&&typeof C.find=="function")return C.find.call(_,v);for(var M=0;M<_.length;M++)if(n(_,M)){var j=_[M];if(v.call(void 0,j,M,_))return j}}function e(_,v){return v===void 0&&(v=Object),v&&typeof v.getOwnPropertyDescriptors=="function"&&(_=v.create(null,v.getOwnPropertyDescriptors(_))),v&&typeof v.freeze=="function"?v.freeze(_):_}function n(_,v){return Object.prototype.hasOwnProperty.call(_,v)}function r(_,v){if(_===null||typeof _!="object")throw new TypeError("target is not an object");for(var C in v)n(v,C)&&(_[C]=v[C]);return _}var s=e({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function o(_){return n(s,_.toLowerCase())}var i=e({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a(_){return n(i,_.toLowerCase())}var l=e({script:!1,style:!1,textarea:!0,title:!0});function c(_){var v=_.toLowerCase();return n(l,v)&&!l[v]}function u(_){var v=_.toLowerCase();return n(l,v)&&l[v]}function f(_){return _===p.HTML}function h(_){return f(_)||_===p.XML_XHTML_APPLICATION}var p=e({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),g=Object.keys(p).map(function(_){return p[_]});function w(_){return g.indexOf(_)>-1}var y=e({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Lt.assign=r,Lt.find=t,Lt.freeze=e,Lt.HTML_BOOLEAN_ATTRIBUTES=s,Lt.HTML_RAW_TEXT_ELEMENTS=l,Lt.HTML_VOID_ELEMENTS=i,Lt.hasDefaultHTMLNamespace=h,Lt.hasOwn=n,Lt.isHTMLBooleanAttribute=o,Lt.isHTMLRawTextElement=c,Lt.isHTMLEscapableRawTextElement=u,Lt.isHTMLMimeType=f,Lt.isHTMLVoidElement=a,Lt.isValidMimeType=w,Lt.MIME_TYPE=p,Lt.NAMESPACE=y,Lt}var di={},Hg;function ju(){if(Hg)return di;Hg=1;var t=ta();function e(h,p){h.prototype=Object.create(Error.prototype,{constructor:{value:h},name:{value:h.name,enumerable:!0,writable:p}})}var n=t.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),r=Object.keys(n);function s(h){return typeof h=="number"&&h>=1&&h<=25}function o(h){return typeof h=="string"&&h.substring(h.length-n.Error.length)===n.Error}function i(h,p){s(h)?(this.name=r[h],this.message=p||""):(this.message=h,this.name=o(p)?p:n.Error),Error.captureStackTrace&&Error.captureStackTrace(this,i)}e(i,!0),Object.defineProperties(i.prototype,{code:{enumerable:!0,get:function(){var h=r.indexOf(this.name);return s(h)?h:0}}});for(var a={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},l=Object.entries(a),c=0;c<l.length;c++){var u=l[c][0];i[u]=l[c][1]}function f(h,p){this.message=h,this.locator=p,Error.captureStackTrace&&Error.captureStackTrace(this,f)}return e(f),di.DOMException=i,di.DOMExceptionName=n,di.ExceptionCode=a,di.ParseError=f,di}var wt={},Ae={},Kg;function Yy(){if(Kg)return Ae;Kg=1;function t(Je){try{typeof Je!="function"&&(Je=RegExp);var ft=new Je("ðŒ†","u").exec("ðŒ†");return!!ft&&ft[0].length===2}catch{}return!1}var e=t();function n(Je){if(Je.source[0]!=="[")throw new Error(Je+" can not be used with chars");return Je.source.slice(1,Je.source.lastIndexOf("]"))}function r(Je,ft){if(Je.source[0]!=="[")throw new Error("/"+Je.source+"/ can not be used with chars_without");if(!ft||typeof ft!="string")throw new Error(JSON.stringify(ft)+" is not a valid search");if(Je.source.indexOf(ft)===-1)throw new Error('"'+ft+'" is not is /'+Je.source+"/");if(ft==="-"&&Je.source.indexOf(ft)!==1)throw new Error('"'+ft+'" is not at the first postion of /'+Je.source+"/");return new RegExp(Je.source.replace(ft,""),e?"u":"")}function s(Je){var ft=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(un){var dn=typeof un=="string";if(dn&&ft===void 0&&un==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return dn?un:un.source}).join(""),e?"mu":"m")}function o(Je){if(arguments.length===0)throw new Error("no parameters provided");return s.apply(o,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var i="ï¿½",a=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;e&&(a=s("[",n(a),"\\u{10000}-\\u{10FFFF}","]"));var l=/[\x20\x09\x0D\x0A]/,c=n(l),u=s(l,"+"),f=s(l,"*"),h=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;e&&(h=s("[",n(h),"\\u{10000}-\\u{10FFFF}","]"));var p=n(h),g=s("[",p,n(/[-.0-9\xB7]/),n(/[\u0300-\u036F\u203F-\u2040]/),"]"),w=s(h,g,"*"),y=s(g,"+"),_=s("&",w,";"),v=o(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),C=o(_,"|",v),M=s("%",w,";"),j=o(s('"',o(/[^%&"]/,"|",M,"|",C),"*",'"'),"|",s("'",o(/[^%&']/,"|",M,"|",C),"*","'")),S=o('"',o(/[^<&"]/,"|",C),"*",'"',"|","'",o(/[^<&']/,"|",C),"*","'"),L=r(h,":"),A=r(g,":"),O=s(L,A,"*"),F=s(O,o(":",O),"?"),E=s("^",F,"$"),I=s("(",F,")"),T=o(/"[^"]*"|'[^']*'/),P=s(/^<\?/,"(",w,")",o(u,"(",a,"*?)"),"?",/\?>/),D=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,R=o('"',D,'*"',"|","'",r(D,"'"),"*'"),q="<!--",V="-->",J=s(q,o(r(a,"-"),"|",s("-",r(a,"-"))),"*",V),H="#PCDATA",G=o(s(/\(/,f,H,o(f,/\|/,f,F),"*",f,/\)\*/),"|",s(/\(/,f,H,f,/\)/)),te=/[?*+]?/,re=s(/\([^>]+\)/,te),ee=o("EMPTY","|","ANY","|",G,"|",re),Y="<!ELEMENT",ce=s(Y,u,o(F,"|",M),u,o(ee,"|",M),f,">"),he=s("NOTATION",u,/\(/,f,w,o(f,/\|/,f,w),"*",f,/\)/),ge=s(/\(/,f,y,o(f,/\|/,f,y),"*",f,/\)/),me=o(he,"|",ge),be=o(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",me),_e=o(/#REQUIRED|#IMPLIED/,"|",o(o("#FIXED",u),"?",S)),ue=o(u,w,u,be,u,_e),Me="<!ATTLIST",qe=s(Me,u,w,ue,"*",f,">"),ae="about:legacy-compat",ke=o('"'+ae+'"',"|","'"+ae+"'"),Ie="SYSTEM",Ve="PUBLIC",Ze=o(o(Ie,u,T),"|",o(Ve,u,R,u,T)),pt=s("^",o(o(Ie,u,"(?<SystemLiteralOnly>",T,")"),"|",o(Ve,u,"(?<PubidLiteral>",R,")",u,"(?<SystemLiteral>",T,")"))),dt=o(u,"NDATA",u,w),yt=o(j,"|",o(Ze,dt,"?")),Re="<!ENTITY",Et=s(Re,u,w,u,yt,f,">"),rt=o(j,"|",Ze),nr=s(Re,u,"%",u,w,u,rt,f,">"),Dn=o(Et,"|",nr),yn=s(Ve,u,R),Mn=s("<!NOTATION",u,w,u,o(Ze,"|",yn),f,">"),ve=s(f,"=",f),Ge=/1[.]\d+/,St=s(u,"version",ve,o("'",Ge,"'","|",'"',Ge,'"')),It=/[A-Za-z][-A-Za-z0-9._]*/,On=o(u,"encoding",ve,o('"',It,'"',"|","'",It,"'")),Rn=o(u,"standalone",ve,o("'",o("yes","|","no"),"'","|",'"',o("yes","|","no"),'"')),rr=s(/^<\?xml/,St,On,"?",Rn,"?",f,/\?>/),jn="<!DOCTYPE",In="<![CDATA[",Vt="]]>",Ln=/<!\[CDATA\[/,Pn=/\]\]>/,vn=s(a,"*?",Pn),kr=s(Ln,vn);return Ae.chars=n,Ae.chars_without=r,Ae.detectUnicodeSupport=t,Ae.reg=s,Ae.regg=o,Ae.ABOUT_LEGACY_COMPAT=ae,Ae.ABOUT_LEGACY_COMPAT_SystemLiteral=ke,Ae.AttlistDecl=qe,Ae.CDATA_START=In,Ae.CDATA_END=Vt,Ae.CDSect=kr,Ae.Char=a,Ae.Comment=J,Ae.COMMENT_START=q,Ae.COMMENT_END=V,Ae.DOCTYPE_DECL_START=jn,Ae.elementdecl=ce,Ae.EntityDecl=Dn,Ae.EntityValue=j,Ae.ExternalID=Ze,Ae.ExternalID_match=pt,Ae.Name=w,Ae.NotationDecl=Mn,Ae.Reference=C,Ae.PEReference=M,Ae.PI=P,Ae.PUBLIC=Ve,Ae.PubidLiteral=R,Ae.QName=F,Ae.QName_exact=E,Ae.QName_group=I,Ae.S=u,Ae.SChar_s=c,Ae.S_OPT=f,Ae.SYSTEM=Ie,Ae.SystemLiteral=T,Ae.UNICODE_REPLACEMENT_CHARACTER=i,Ae.UNICODE_SUPPORT=e,Ae.XMLDecl=rr,Ae}var Wg;function Qy(){if(Wg)return wt;Wg=1;var t=ta(),e=t.find,n=t.hasDefaultHTMLNamespace,r=t.hasOwn,s=t.isHTMLMimeType,o=t.isHTMLRawTextElement,i=t.isHTMLVoidElement,a=t.MIME_TYPE,l=t.NAMESPACE,c=Symbol(),u=ju(),f=u.DOMException,h=u.DOMExceptionName,p=Yy();function g(x){if(x!==c)throw new TypeError("Illegal constructor")}function w(x){return x!==""}function y(x){return x?x.split(/[\t\n\f\r ]+/).filter(w):[]}function _(x,k){return r(x,k)||(x[k]=!0),x}function v(x){if(!x)return[];var k=y(x);return Object.keys(k.reduce(_,{}))}function C(x){return function(k){return x&&x.indexOf(k)!==-1}}function M(x){if(!p.QName_exact.test(x))throw new f(f.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+x+'"')}function j(x,k){M(k),x=x||null;var $=null,K=k;if(k.indexOf(":")>=0){var ie=k.split(":");$=ie[0],K=ie[1]}if($!==null&&x===null)throw new f(f.NAMESPACE_ERR,"prefix is non-null and namespace is null");if($==="xml"&&x!==t.NAMESPACE.XML)throw new f(f.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(($==="xmlns"||k==="xmlns")&&x!==t.NAMESPACE.XMLNS)throw new f(f.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(x===t.NAMESPACE.XMLNS&&$!=="xmlns"&&k!=="xmlns")throw new f(f.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[x,$,K]}function S(x,k){for(var $ in x)r(x,$)&&(k[$]=x[$])}function L(x,k){var $=x.prototype;if(!($ instanceof k)){let K=function(){};K.prototype=k.prototype,K=new K,S($,K),x.prototype=$=K}$.constructor!=x&&(typeof x!="function"&&console.error("unknown Class:"+x),$.constructor=x)}var A={},O=A.ELEMENT_NODE=1,F=A.ATTRIBUTE_NODE=2,E=A.TEXT_NODE=3,I=A.CDATA_SECTION_NODE=4,T=A.ENTITY_REFERENCE_NODE=5,P=A.ENTITY_NODE=6,D=A.PROCESSING_INSTRUCTION_NODE=7,R=A.COMMENT_NODE=8,q=A.DOCUMENT_NODE=9,V=A.DOCUMENT_TYPE_NODE=10,J=A.DOCUMENT_FRAGMENT_NODE=11,H=A.NOTATION_NODE=12,G=t.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function te(x,k){if(k.length<x.length)return te(k,x);var $=null;for(var K in x){if(x[K]!==k[K])return $;$=x[K]}return $}function re(x){return x.guid||(x.guid=Math.random()),x.guid}function ee(){}ee.prototype={length:0,item:function(x){return x>=0&&x<this.length?this[x]:null},toString:function(x){for(var k=[],$=0;$<this.length;$++)dn(this[$],k,x);return k.join("")},filter:function(x){return Array.prototype.filter.call(this,x)},indexOf:function(x){return Array.prototype.indexOf.call(this,x)}},ee.prototype[Symbol.iterator]=function(){var x=this,k=0;return{next:function(){return k<x.length?{value:x[k++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function Y(x,k){this._node=x,this._refresh=k,ce(this)}function ce(x){var k=x._node._inc||x._node.ownerDocument._inc;if(x._inc!==k){var $=x._refresh(x._node);if(Kn(x,"length",$.length),!x.$$length||$.length<x.$$length)for(var K=$.length;K in x;K++)r(x,K)&&delete x[K];S($,x),x._inc=k}}Y.prototype.item=function(x){return ce(this),this[x]||null},L(Y,ee);function he(){}function ge(x,k){for(var $=0;$<x.length;){if(x[$]===k)return $;$++}}function me(x,k,$,K){if(K?k[ge(k,K)]=$:(k[k.length]=$,k.length++),x){$.ownerElement=x;var ie=x.ownerDocument;ie&&(K&&Ie(ie,x,K),ke(ie,x,$))}}function be(x,k,$){var K=ge(k,$);if(K>=0){for(var ie=k.length-1;K<=ie;)k[K]=k[++K];if(k.length=ie,x){var de=x.ownerDocument;de&&Ie(de,x,$),$.ownerElement=null}}}he.prototype={length:0,item:ee.prototype.item,getNamedItem:function(x){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(x=x.toLowerCase());for(var k=0;k<this.length;){var $=this[k];if($.nodeName===x)return $;k++}return null},setNamedItem:function(x){var k=x.ownerElement;if(k&&k!==this._ownerElement)throw new f(f.INUSE_ATTRIBUTE_ERR);var $=this.getNamedItemNS(x.namespaceURI,x.localName);return $===x?x:(me(this._ownerElement,this,x,$),$)},setNamedItemNS:function(x){return this.setNamedItem(x)},removeNamedItem:function(x){var k=this.getNamedItem(x);if(!k)throw new f(f.NOT_FOUND_ERR,x);return be(this._ownerElement,this,k),k},removeNamedItemNS:function(x,k){var $=this.getNamedItemNS(x,k);if(!$)throw new f(f.NOT_FOUND_ERR,x?x+" : "+k:k);return be(this._ownerElement,this,$),$},getNamedItemNS:function(x,k){x||(x=null);for(var $=0;$<this.length;){var K=this[$];if(K.localName===k&&K.namespaceURI===x)return K;$++}return null}},he.prototype[Symbol.iterator]=function(){var x=this,k=0;return{next:function(){return k<x.length?{value:x[k++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function _e(){}_e.prototype={hasFeature:function(x,k){return!0},createDocument:function(x,k,$){var K=a.XML_APPLICATION;x===l.HTML?K=a.XML_XHTML_APPLICATION:x===l.SVG&&(K=a.XML_SVG_IMAGE);var ie=new ae(c,{contentType:K});if(ie.implementation=this,ie.childNodes=new ee,ie.doctype=$||null,$&&ie.appendChild($),k){var de=ie.createElementNS(x,k);ie.appendChild(de)}return ie},createDocumentType:function(x,k,$,K){M(x);var ie=new jn(c);return ie.name=x,ie.nodeName=x,ie.publicId=k||"",ie.systemId=$||"",ie.internalSubset=K||"",ie.childNodes=new ee,ie},createHTMLDocument:function(x){var k=new ae(c,{contentType:a.HTML});if(k.implementation=this,k.childNodes=new ee,x!==!1){k.doctype=this.createDocumentType("html"),k.doctype.ownerDocument=k,k.appendChild(k.doctype);var $=k.createElement("html");k.appendChild($);var K=k.createElement("head");if($.appendChild(K),typeof x=="string"){var ie=k.createElement("title");ie.appendChild(k.createTextNode(x)),K.appendChild(ie)}$.appendChild(k.createElement("body"))}return k}};function ue(x){g(x)}ue.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var x=this.getRootNode();return x&&x.nodeType===x.DOCUMENT_NODE},contains:function(x){if(!x)return!1;var k=x;do{if(this===k)return!0;k=x.parentNode}while(k);return!1},getRootNode:function(x){var k=this;do{if(!k.parentNode)return k;k=k.parentNode}while(k)},isEqualNode:function(x){if(!x||this.nodeType!==x.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==x.name||this.publicId!==x.publicId||this.systemId!==x.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==x.namespaceURI||this.prefix!==x.prefix||this.localName!==x.localName||this.attributes.length!==x.attributes.length)return!1;for(var k=0;k<this.attributes.length;k++){var $=this.attributes.item(k);if(!$.isEqualNode(x.getAttributeNodeNS($.namespaceURI,$.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==x.namespaceURI||this.localName!==x.localName||this.value!==x.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==x.target||this.data!==x.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==x.data)return!1;break}if(this.childNodes.length!==x.childNodes.length)return!1;for(var k=0;k<this.childNodes.length;k++)if(!this.childNodes[k].isEqualNode(x.childNodes[k]))return!1;return!0},isSameNode:function(x){return this===x},insertBefore:function(x,k){return ve(this,x,k)},replaceChild:function(x,k){ve(this,x,k,Mn),k&&this.removeChild(k)},removeChild:function(x){return Ze(this,x)},appendChild:function(x){return this.insertBefore(x,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(x){return vs(this.ownerDocument||this,this,x)},normalize:function(){for(var x=this.firstChild;x;){var k=x.nextSibling;k&&k.nodeType==E&&x.nodeType==E?(this.removeChild(k),x.appendData(k.data)):(x.normalize(),x=k)}},isSupported:function(x,k){return this.ownerDocument.implementation.hasFeature(x,k)},lookupPrefix:function(x){for(var k=this;k;){var $=k._nsMap;if($){for(var K in $)if(r($,K)&&$[K]===x)return K}k=k.nodeType==F?k.ownerDocument:k.parentNode}return null},lookupNamespaceURI:function(x){for(var k=this;k;){var $=k._nsMap;if($&&r($,x))return $[x];k=k.nodeType==F?k.ownerDocument:k.parentNode}return null},isDefaultNamespace:function(x){var k=this.lookupPrefix(x);return k==null},compareDocumentPosition:function(x){if(this===x)return 0;var k=x,$=this,K=null,ie=null;if(k instanceof St&&(K=k,k=K.ownerElement),$ instanceof St&&(ie=$,$=ie.ownerElement,K&&k&&$===k))for(var de=0,je;je=$.attributes[de];de++){if(je===K)return G.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+G.DOCUMENT_POSITION_PRECEDING;if(je===ie)return G.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+G.DOCUMENT_POSITION_FOLLOWING}if(!k||!$||$.ownerDocument!==k.ownerDocument)return G.DOCUMENT_POSITION_DISCONNECTED+G.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(re($.ownerDocument)>re(k.ownerDocument)?G.DOCUMENT_POSITION_FOLLOWING:G.DOCUMENT_POSITION_PRECEDING);if(ie&&k===$)return G.DOCUMENT_POSITION_CONTAINS+G.DOCUMENT_POSITION_PRECEDING;if(K&&k===$)return G.DOCUMENT_POSITION_CONTAINED_BY+G.DOCUMENT_POSITION_FOLLOWING;for(var gt=[],xt=k.parentNode;xt;){if(!ie&&xt===$)return G.DOCUMENT_POSITION_CONTAINED_BY+G.DOCUMENT_POSITION_FOLLOWING;gt.push(xt),xt=xt.parentNode}gt.reverse();for(var Ht=[],Nt=$.parentNode;Nt;){if(!K&&Nt===k)return G.DOCUMENT_POSITION_CONTAINS+G.DOCUMENT_POSITION_PRECEDING;Ht.push(Nt),Nt=Nt.parentNode}Ht.reverse();var ct=te(gt,Ht);for(var $n in ct.childNodes){var en=ct.childNodes[$n];if(en===$)return G.DOCUMENT_POSITION_FOLLOWING;if(en===k)return G.DOCUMENT_POSITION_PRECEDING;if(Ht.indexOf(en)>=0)return G.DOCUMENT_POSITION_FOLLOWING;if(gt.indexOf(en)>=0)return G.DOCUMENT_POSITION_PRECEDING}return 0}};function Me(x){return x=="<"&&"&lt;"||x==">"&&"&gt;"||x=="&"&&"&amp;"||x=='"'&&"&quot;"||"&#"+x.charCodeAt()+";"}S(A,ue),S(A,ue.prototype),S(G,ue),S(G,ue.prototype);function qe(x,k){if(k(x))return!0;if(x=x.firstChild)do if(qe(x,k))return!0;while(x=x.nextSibling)}function ae(x,k){g(x);var $=k||{};this.ownerDocument=this,this.contentType=$.contentType||a.XML_APPLICATION,this.type=s(this.contentType)?"html":"xml"}function ke(x,k,$){x&&x._inc++;var K=$.namespaceURI;K===l.XMLNS&&(k._nsMap[$.prefix?$.localName:""]=$.value)}function Ie(x,k,$,K){x&&x._inc++;var ie=$.namespaceURI;ie===l.XMLNS&&delete k._nsMap[$.prefix?$.localName:""]}function Ve(x,k,$){if(x&&x._inc){x._inc++;var K=k.childNodes;if($&&!$.nextSibling)K[K.length++]=$;else{for(var ie=k.firstChild,de=0;ie;)K[de++]=ie,ie=ie.nextSibling;K.length=de,delete K[K.length]}}}function Ze(x,k){if(x!==k.parentNode)throw new f(f.NOT_FOUND_ERR,"child's parent is not parent");var $=k.previousSibling,K=k.nextSibling;return $?$.nextSibling=K:x.firstChild=K,K?K.previousSibling=$:x.lastChild=$,Ve(x.ownerDocument,x),k.parentNode=null,k.previousSibling=null,k.nextSibling=null,k}function pt(x){return x&&(x.nodeType===ue.DOCUMENT_NODE||x.nodeType===ue.DOCUMENT_FRAGMENT_NODE||x.nodeType===ue.ELEMENT_NODE)}function dt(x){return x&&(x.nodeType===ue.CDATA_SECTION_NODE||x.nodeType===ue.COMMENT_NODE||x.nodeType===ue.DOCUMENT_FRAGMENT_NODE||x.nodeType===ue.DOCUMENT_TYPE_NODE||x.nodeType===ue.ELEMENT_NODE||x.nodeType===ue.PROCESSING_INSTRUCTION_NODE||x.nodeType===ue.TEXT_NODE)}function yt(x){return x&&x.nodeType===ue.DOCUMENT_TYPE_NODE}function Re(x){return x&&x.nodeType===ue.ELEMENT_NODE}function Et(x){return x&&x.nodeType===ue.TEXT_NODE}function rt(x,k){var $=x.childNodes||[];if(e($,Re)||yt(k))return!1;var K=e($,yt);return!(k&&K&&$.indexOf(K)>$.indexOf(k))}function nr(x,k){var $=x.childNodes||[];function K(de){return Re(de)&&de!==k}if(e($,K))return!1;var ie=e($,yt);return!(k&&ie&&$.indexOf(ie)>$.indexOf(k))}function Dn(x,k,$){if(!pt(x))throw new f(f.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+x.nodeType);if($&&$.parentNode!==x)throw new f(f.NOT_FOUND_ERR,"child not in parent");if(!dt(k)||yt(k)&&x.nodeType!==ue.DOCUMENT_NODE)throw new f(f.HIERARCHY_REQUEST_ERR,"Unexpected node type "+k.nodeType+" for parent node type "+x.nodeType)}function yn(x,k,$){var K=x.childNodes||[],ie=k.childNodes||[];if(k.nodeType===ue.DOCUMENT_FRAGMENT_NODE){var de=ie.filter(Re);if(de.length>1||e(ie,Et))throw new f(f.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(de.length===1&&!rt(x,$))throw new f(f.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Re(k)&&!rt(x,$))throw new f(f.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(yt(k)){if(e(K,yt))throw new f(f.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var je=e(K,Re);if($&&K.indexOf(je)<K.indexOf($))throw new f(f.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!$&&je)throw new f(f.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function Mn(x,k,$){var K=x.childNodes||[],ie=k.childNodes||[];if(k.nodeType===ue.DOCUMENT_FRAGMENT_NODE){var de=ie.filter(Re);if(de.length>1||e(ie,Et))throw new f(f.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(de.length===1&&!nr(x,$))throw new f(f.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Re(k)&&!nr(x,$))throw new f(f.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(yt(k)){if(e(K,function(xt){return yt(xt)&&xt!==$}))throw new f(f.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var je=e(K,Re);if($&&K.indexOf(je)<K.indexOf($))throw new f(f.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function ve(x,k,$,K){Dn(x,k,$),x.nodeType===ue.DOCUMENT_NODE&&(K||yn)(x,k,$);var ie=k.parentNode;if(ie&&ie.removeChild(k),k.nodeType===J){var de=k.firstChild;if(de==null)return k;var je=k.lastChild}else de=je=k;var gt=$?$.previousSibling:x.lastChild;de.previousSibling=gt,je.nextSibling=$,gt?gt.nextSibling=de:x.firstChild=de,$==null?x.lastChild=je:$.previousSibling=je;do de.parentNode=x;while(de!==je&&(de=de.nextSibling));return Ve(x.ownerDocument||x,x,k),k.nodeType==J&&(k.firstChild=k.lastChild=null),k}ae.prototype={implementation:null,nodeName:"#document",nodeType:q,doctype:null,documentElement:null,_inc:1,insertBefore:function(x,k){if(x.nodeType===J){for(var $=x.firstChild;$;){var K=$.nextSibling;this.insertBefore($,k),$=K}return x}return ve(this,x,k),x.ownerDocument=this,this.documentElement===null&&x.nodeType===O&&(this.documentElement=x),x},removeChild:function(x){var k=Ze(this,x);return k===this.documentElement&&(this.documentElement=null),k},replaceChild:function(x,k){ve(this,x,k,Mn),x.ownerDocument=this,k&&this.removeChild(k),Re(x)&&(this.documentElement=x)},importNode:function(x,k){return sr(this,x,k)},getElementById:function(x){var k=null;return qe(this.documentElement,function($){if($.nodeType==O&&$.getAttribute("id")==x)return k=$,!0}),k},createElement:function(x){var k=new Ge(c);k.ownerDocument=this,this.type==="html"&&(x=x.toLowerCase()),n(this.contentType)&&(k.namespaceURI=l.HTML),k.nodeName=x,k.tagName=x,k.localName=x,k.childNodes=new ee;var $=k.attributes=new he;return $._ownerElement=k,k},createDocumentFragment:function(){var x=new Pn(c);return x.ownerDocument=this,x.childNodes=new ee,x},createTextNode:function(x){var k=new On(c);return k.ownerDocument=this,k.childNodes=new ee,k.appendData(x),k},createComment:function(x){var k=new Rn(c);return k.ownerDocument=this,k.childNodes=new ee,k.appendData(x),k},createCDATASection:function(x){var k=new rr(c);return k.ownerDocument=this,k.childNodes=new ee,k.appendData(x),k},createProcessingInstruction:function(x,k){var $=new vn(c);return $.ownerDocument=this,$.childNodes=new ee,$.nodeName=$.target=x,$.nodeValue=$.data=k,$},createAttribute:function(x){if(!p.QName_exact.test(x))throw new f(f.INVALID_CHARACTER_ERR,'invalid character in name "'+x+'"');return this.type==="html"&&(x=x.toLowerCase()),this._createAttribute(x)},_createAttribute:function(x){var k=new St(c);return k.ownerDocument=this,k.childNodes=new ee,k.name=x,k.nodeName=x,k.localName=x,k.specified=!0,k},createEntityReference:function(x){if(!p.Name.test(x))throw new f(f.INVALID_CHARACTER_ERR,'not a valid xml name "'+x+'"');if(this.type==="html")throw new f("document is an html document",h.NotSupportedError);var k=new Ln(c);return k.ownerDocument=this,k.childNodes=new ee,k.nodeName=x,k},createElementNS:function(x,k){var $=j(x,k),K=new Ge(c),ie=K.attributes=new he;return K.childNodes=new ee,K.ownerDocument=this,K.nodeName=k,K.tagName=k,K.namespaceURI=$[0],K.prefix=$[1],K.localName=$[2],ie._ownerElement=K,K},createAttributeNS:function(x,k){var $=j(x,k),K=new St(c);return K.ownerDocument=this,K.childNodes=new ee,K.nodeName=k,K.name=k,K.specified=!0,K.namespaceURI=$[0],K.prefix=$[1],K.localName=$[2],K}},L(ae,ue);function Ge(x){g(x),this._nsMap=Object.create(null)}Ge.prototype={nodeType:O,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===l.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(x){return!!this.getAttributeNode(x)},getAttribute:function(x){var k=this.getAttributeNode(x);return k?k.value:null},getAttributeNode:function(x){return this._isInHTMLDocumentAndNamespace()&&(x=x.toLowerCase()),this.attributes.getNamedItem(x)},setAttribute:function(x,k){this._isInHTMLDocumentAndNamespace()&&(x=x.toLowerCase());var $=this.getAttributeNode(x);$?$.value=$.nodeValue=""+k:($=this.ownerDocument._createAttribute(x),$.value=$.nodeValue=""+k,this.setAttributeNode($))},removeAttribute:function(x){var k=this.getAttributeNode(x);k&&this.removeAttributeNode(k)},setAttributeNode:function(x){return this.attributes.setNamedItem(x)},setAttributeNodeNS:function(x){return this.attributes.setNamedItemNS(x)},removeAttributeNode:function(x){return this.attributes.removeNamedItem(x.nodeName)},removeAttributeNS:function(x,k){var $=this.getAttributeNodeNS(x,k);$&&this.removeAttributeNode($)},hasAttributeNS:function(x,k){return this.getAttributeNodeNS(x,k)!=null},getAttributeNS:function(x,k){var $=this.getAttributeNodeNS(x,k);return $?$.value:null},setAttributeNS:function(x,k,$){var K=j(x,k),ie=K[2],de=this.getAttributeNodeNS(x,ie);de?de.value=de.nodeValue=""+$:(de=this.ownerDocument.createAttributeNS(x,k),de.value=de.nodeValue=""+$,this.setAttributeNode(de))},getAttributeNodeNS:function(x,k){return this.attributes.getNamedItemNS(x,k)},getElementsByClassName:function(x){var k=v(x);return new Y(this,function($){var K=[];return k.length>0&&qe($,function(ie){if(ie!==$&&ie.nodeType===O){var de=ie.getAttribute("class");if(de){var je=x===de;if(!je){var gt=v(de);je=k.every(C(gt))}je&&K.push(ie)}}}),K})},getElementsByTagName:function(x){var k=(this.nodeType===q?this:this.ownerDocument).type==="html",$=x.toLowerCase();return new Y(this,function(K){var ie=[];return qe(K,function(de){if(!(de===K||de.nodeType!==O))if(x==="*")ie.push(de);else{var je=de.getQualifiedName(),gt=k&&de.namespaceURI===l.HTML?$:x;je===gt&&ie.push(de)}}),ie})},getElementsByTagNameNS:function(x,k){return new Y(this,function($){var K=[];return qe($,function(ie){ie!==$&&ie.nodeType===O&&(x==="*"||ie.namespaceURI===x)&&(k==="*"||ie.localName==k)&&K.push(ie)}),K})}},ae.prototype.getElementsByClassName=Ge.prototype.getElementsByClassName,ae.prototype.getElementsByTagName=Ge.prototype.getElementsByTagName,ae.prototype.getElementsByTagNameNS=Ge.prototype.getElementsByTagNameNS,L(Ge,ue);function St(x){g(x),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}St.prototype.nodeType=F,L(St,ue);function It(x){g(x)}It.prototype={data:"",substringData:function(x,k){return this.data.substring(x,x+k)},appendData:function(x){x=this.data+x,this.nodeValue=this.data=x,this.length=x.length},insertData:function(x,k){this.replaceData(x,0,k)},deleteData:function(x,k){this.replaceData(x,k,"")},replaceData:function(x,k,$){var K=this.data.substring(0,x),ie=this.data.substring(x+k);$=K+$+ie,this.nodeValue=this.data=$,this.length=$.length}},L(It,ue);function On(x){g(x)}On.prototype={nodeName:"#text",nodeType:E,splitText:function(x){var k=this.data,$=k.substring(x);k=k.substring(0,x),this.data=this.nodeValue=k,this.length=k.length;var K=this.ownerDocument.createTextNode($);return this.parentNode&&this.parentNode.insertBefore(K,this.nextSibling),K}},L(On,It);function Rn(x){g(x)}Rn.prototype={nodeName:"#comment",nodeType:R},L(Rn,It);function rr(x){g(x)}rr.prototype={nodeName:"#cdata-section",nodeType:I},L(rr,On);function jn(x){g(x)}jn.prototype.nodeType=V,L(jn,ue);function In(x){g(x)}In.prototype.nodeType=H,L(In,ue);function Vt(x){g(x)}Vt.prototype.nodeType=P,L(Vt,ue);function Ln(x){g(x)}Ln.prototype.nodeType=T,L(Ln,ue);function Pn(x){g(x)}Pn.prototype.nodeName="#document-fragment",Pn.prototype.nodeType=J,L(Pn,ue);function vn(x){g(x)}vn.prototype.nodeType=D,L(vn,It);function kr(){}kr.prototype.serializeToString=function(x,k){return Je.call(x,k)},ue.prototype.toString=Je;function Je(x){var k=[],$=this.nodeType===q&&this.documentElement||this,K=$.prefix,ie=$.namespaceURI;if(ie&&K==null){var K=$.lookupPrefix(ie);if(K==null)var de=[{namespace:ie,prefix:null}]}return dn(this,k,x,de),k.join("")}function ft(x,k,$){var K=x.prefix||"",ie=x.namespaceURI;if(!ie||K==="xml"&&ie===l.XML||ie===l.XMLNS)return!1;for(var de=$.length;de--;){var je=$[de];if(je.prefix===K)return je.namespace!==ie}return!0}function un(x,k,$){x.push(" ",k,'="',$.replace(/[<>&"\t\n\r]/g,Me),'"')}function dn(x,k,$,K){K||(K=[]);var ie=x.nodeType===q?x:x.ownerDocument,de=ie.type==="html";if($)if(x=$(x),x){if(typeof x=="string"){k.push(x);return}}else return;switch(x.nodeType){case O:var je=x.attributes,gt=je.length,Ct=x.firstChild,xt=x.tagName,Ht=xt;if(!de&&!x.prefix&&x.namespaceURI){for(var Nt,ct=0;ct<je.length;ct++)if(je.item(ct).name==="xmlns"){Nt=je.item(ct).value;break}if(!Nt)for(var $n=K.length-1;$n>=0;$n--){var en=K[$n];if(en.prefix===""&&en.namespace===x.namespaceURI){Nt=en.namespace;break}}if(Nt!==x.namespaceURI)for(var $n=K.length-1;$n>=0;$n--){var en=K[$n];if(en.namespace===x.namespaceURI){en.prefix&&(Ht=en.prefix+":"+xt);break}}}k.push("<",Ht);for(var or=0;or<gt;or++){var xn=je.item(or);xn.prefix=="xmlns"?K.push({prefix:xn.localName,namespace:xn.value}):xn.nodeName=="xmlns"&&K.push({prefix:"",namespace:xn.value})}for(var or=0;or<gt;or++){var xn=je.item(or);if(ft(xn,de,K)){var ir=xn.prefix||"",_t=xn.namespaceURI;un(k,ir?"xmlns:"+ir:"xmlns",_t),K.push({prefix:ir,namespace:_t})}dn(xn,k,$,K)}if(xt===Ht&&ft(x,de,K)){var ir=x.prefix||"",_t=x.namespaceURI;un(k,ir?"xmlns:"+ir:"xmlns",_t),K.push({prefix:ir,namespace:_t})}var oo=!Ct;if(oo&&(de||x.namespaceURI===l.HTML)&&(oo=i(xt)),oo)k.push("/>");else{if(k.push(">"),de&&o(xt))for(;Ct;)Ct.data?k.push(Ct.data):dn(Ct,k,$,K.slice()),Ct=Ct.nextSibling;else for(;Ct;)dn(Ct,k,$,K.slice()),Ct=Ct.nextSibling;k.push("</",Ht,">")}return;case q:case J:for(var Ct=x.firstChild;Ct;)dn(Ct,k,$,K.slice()),Ct=Ct.nextSibling;return;case F:return un(k,x.name,x.value);case E:return k.push(x.data.replace(/[<&>]/g,Me));case I:return k.push(p.CDATA_START,x.data,p.CDATA_END);case R:return k.push(p.COMMENT_START,x.data,p.COMMENT_END);case V:var oi=x.publicId,Er=x.systemId;k.push(p.DOCTYPE_DECL_START," ",x.name),oi?(k.push(" ",p.PUBLIC," ",oi),Er&&Er!=="."&&k.push(" ",Er)):Er&&Er!=="."&&k.push(" ",p.SYSTEM," ",Er),x.internalSubset&&k.push(" [",x.internalSubset,"]"),k.push(">");return;case D:return k.push("<?",x.target," ",x.data,"?>");case T:return k.push("&",x.nodeName,";");default:k.push("??",x.nodeName)}}function sr(x,k,$){var K;switch(k.nodeType){case O:K=k.cloneNode(!1),K.ownerDocument=x;case J:break;case F:$=!0;break}if(K||(K=k.cloneNode(!1)),K.ownerDocument=x,K.parentNode=null,$)for(var ie=k.firstChild;ie;)K.appendChild(sr(x,ie,$)),ie=ie.nextSibling;return K}function vs(x,k,$){var K=new k.constructor(c);for(var ie in k)if(r(k,ie)){var de=k[ie];typeof de!="object"&&de!=K[ie]&&(K[ie]=de)}switch(k.childNodes&&(K.childNodes=new ee),K.ownerDocument=x,K.nodeType){case O:var je=k.attributes,gt=K.attributes=new he,xt=je.length;gt._ownerElement=K;for(var Ht=0;Ht<xt;Ht++)K.setAttributeNode(vs(x,je.item(Ht),!0));break;case F:$=!0}if($)for(var Nt=k.firstChild;Nt;)K.appendChild(vs(x,Nt,$)),Nt=Nt.nextSibling;return K}function Kn(x,k,$){x[k]=$}try{if(Object.defineProperty){let x=function(k){switch(k.nodeType){case O:case J:var $=[];for(k=k.firstChild;k;)k.nodeType!==7&&k.nodeType!==8&&$.push(x(k)),k=k.nextSibling;return $.join("");default:return k.nodeValue}};Object.defineProperty(Y.prototype,"length",{get:function(){return ce(this),this.$$length}}),Object.defineProperty(ue.prototype,"textContent",{get:function(){return x(this)},set:function(k){switch(this.nodeType){case O:case J:for(;this.firstChild;)this.removeChild(this.firstChild);(k||String(k))&&this.appendChild(this.ownerDocument.createTextNode(k));break;default:this.data=k,this.value=k,this.nodeValue=k}}}),Kn=function(k,$,K){k["$$"+$]=K}}}catch{}return wt._updateLiveList=ce,wt.Attr=St,wt.CDATASection=rr,wt.CharacterData=It,wt.Comment=Rn,wt.Document=ae,wt.DocumentFragment=Pn,wt.DocumentType=jn,wt.DOMImplementation=_e,wt.Element=Ge,wt.Entity=Vt,wt.EntityReference=Ln,wt.LiveNodeList=Y,wt.NamedNodeMap=he,wt.Node=ue,wt.NodeList=ee,wt.Notation=In,wt.Text=On,wt.ProcessingInstruction=vn,wt.XMLSerializer=kr,wt}var co={},jd={},Gg;function VC(){return Gg||(Gg=1,function(t){var e=ta().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ð”„",afr:"ð”ž",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ð”¸",aopf:"ð•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ð’œ",ascr:"ð’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âŽµ",bbrktbrk:"âŽ¶",bcong:"â‰Œ",Bcy:"Ð‘",bcy:"Ð±",bdquo:"â€ž",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ð”…",bfr:"ð”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ð”¹",bopf:"ð•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠž",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•ž",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ð’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰Ž",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰Ž",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ð” ",CHcy:"Ð§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ð•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ð’ž",cscr:"ð’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹ž",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹ž",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹Ž",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹Ž",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"ÄŽ",dcaron:"Ä",Dcy:"Ð”",dcy:"Ð´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð”‡",dfr:"ð”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ð‚",djcy:"Ñ’",dlcorn:"âŒž",dlcrop:"âŒ",dollar:"$",Dopf:"ð”»",dopf:"ð••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥ž",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ð’Ÿ",dscr:"ð’¹",DScy:"Ð…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ð”ˆ",efr:"ð”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ð”¼",eopf:"ð•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ð¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ð”‰",ffr:"ð”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ð”½",fopf:"ð•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…ž",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ð’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Äž",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ð“",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ð”Š",gfr:"ð”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ðƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ð”¾",gopf:"ð•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ð’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âªŽ",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ðª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ð”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ð•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ð’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰Ž",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"ÃŽ",icirc:"Ã®",Icy:"Ð˜",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð•",iecy:"Ðµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ð”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆž",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð•€",iopf:"ð•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ð’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð™",jcy:"Ð¹",Jfr:"ð”",jfr:"ð”§",jmath:"È·",Jopf:"ð•",jopf:"ð•›",Jscr:"ð’¥",jscr:"ð’¿",Jsercy:"Ðˆ",jsercy:"Ñ˜",Jukcy:"Ð„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ðš",kcy:"Ðº",Kfr:"ð”Ž",kfr:"ð”¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ…",KJcy:"ÐŒ",kjcy:"Ñœ",Kopf:"ð•‚",kopf:"ð•œ",Kscr:"ð’¦",kscr:"ð“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†ž",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤Ž",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ð›",lcy:"Ð»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€ž",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥Ž",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ð”",lfr:"ð”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ð‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒž",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"âŽ°",lmoustache:"âŽ°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ð•ƒ",lopf:"ð•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€Ž",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ð“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ðœ",mcy:"Ð¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ð”",mfr:"ð”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ð•„",mopf:"ð•ž",mp:"âˆ“",Mscr:"â„³",mscr:"ð“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰ŽÌ¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ð",ncy:"Ð½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:`
`,nexist:"âˆ„",nexists:"âˆ„",Nfr:"ð”‘",nfr:"ð”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡Ž",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ÐŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡Ž",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ð•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰ŽÌ¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ð’©",nscr:"ð“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§ž",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ðž",ocy:"Ð¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ð”’",ofr:"ð”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ð•†",oopf:"ð• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ð’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"âž",OverBracket:"âŽ´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ÐŸ",pcy:"Ð¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ð”“",pfr:"ð”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜Ž",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„Ž",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠž",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ð•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ð’«",pscr:"ð“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ð””",qfr:"ð”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ð•¢",qprime:"â—",Qscr:"ð’¬",qscr:"ð“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤ž",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦Ž",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ð ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ð”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"âŽ±",rmoustache:"âŽ±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ð•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ð“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§Ž",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„ž",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Åž",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ð¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ð”–",sfr:"ð”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ð©",shchcy:"Ñ‰",SHcy:"Ð¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âªž",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ð¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ð•Š",sopf:"ð•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ð’®",sscr:"ð“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"	",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"âŽ´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ð”—",tfr:"ð”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ãž",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ð•‹",topf:"ð•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð’¯",tscr:"ð“‰",TScy:"Ð¦",tscy:"Ñ†",TSHcy:"Ð‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†ž",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"ÐŽ",ubrcy:"Ñž",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð”˜",ufr:"ð”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âŽµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠŽ",Uogon:"Å²",uogon:"Å³",Uopf:"ð•Œ",uopf:"ð•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠŽ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒŽ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ð’°",uscr:"ð“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð’",vcy:"Ð²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ð”™",vfr:"ð”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ð•",vopf:"ð•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ð’±",vscr:"ð“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ð”š",wfr:"ð”´",Wopf:"ð•Ž",wopf:"ð•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ð’²",wscr:"ð“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ð”›",xfr:"ð”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Îž",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ð•",xopf:"ð•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ð’³",xscr:"ð“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ð”œ",yfr:"ð”¶",YIcy:"Ð‡",yicy:"Ñ—",Yopf:"ð•",yopf:"ð•ª",Yscr:"ð’´",yscr:"ð“Ž",YUcy:"Ð®",yucy:"ÑŽ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð—",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ð”·",ZHcy:"Ð–",zhcy:"Ð¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ð•«",Zscr:"ð’µ",zscr:"ð“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES}(jd)),jd}var Ca={},Jg;function HC(){if(Jg)return Ca;Jg=1;var t=ta(),e=Yy(),n=ju(),r=t.isHTMLEscapableRawTextElement,s=t.isHTMLMimeType,o=t.isHTMLRawTextElement,i=t.hasOwn,a=t.NAMESPACE,l=n.ParseError,c=n.DOMException,u=0,f=1,h=2,p=3,g=4,w=5,y=6,_=7;function v(){}v.prototype={parse:function(D,R,q){var V=this.domBuilder;V.startDocument(),O(R,R=Object.create(null)),M(D,R,q,V,this.errorHandler),V.endDocument()}};var C=/&#?\w+;?/g;function M(D,R,q,V,J){var H=s(V.mimeType);D.indexOf(e.UNICODE_REPLACEMENT_CHARACTER)>=0&&J.warning("Unicode replacement character detected, source encoding issues?");function G(ve){if(ve>65535){ve-=65536;var Ge=55296+(ve>>10),St=56320+(ve&1023);return String.fromCharCode(Ge,St)}else return String.fromCharCode(ve)}function te(ve){var Ge=ve[ve.length-1]===";"?ve:ve+";";if(!H&&Ge!==ve)return J.error("EntityRef: expecting ;"),ve;var St=e.Reference.exec(Ge);if(!St||St[0].length!==Ge.length)return J.error("entity not matching Reference production: "+ve),ve;var It=Ge.slice(1,-1);return i(q,It)?q[It]:It.charAt(0)==="#"?G(parseInt(It.substring(1).replace("x","0x"))):(J.error("entity not found:"+ve),ve)}function re(ve){if(ve>_e){var Ge=D.substring(_e,ve).replace(C,te);he&&ge(_e),V.characters(Ge,0,ve-_e),_e=ve}}var ee=0,Y=0,ce=/\r\n?|\n|$/g,he=V.locator;function ge(ve,Ge){for(;ve>=Y&&(Ge=ce.exec(D));)ee=Y,Y=Ge.index+Ge[0].length,he.lineNumber++;he.columnNumber=ve-ee+1}for(var me=[{currentNSMap:R}],be=[],_e=0;;){try{var ue=D.indexOf("<",_e);if(ue<0){if(!H&&be.length>0)return J.fatalError("unclosed xml tag(s): "+be.join(", "));if(!D.substring(_e).match(/^\s*$/)){var Me=V.doc,qe=Me.createTextNode(D.substring(_e));if(Me.documentElement)return J.error("Extra content at the end of the document");Me.appendChild(qe),V.currentElement=qe}return}if(ue>_e){var ae=D.substring(_e,ue);!H&&be.length===0&&(ae=ae.replace(new RegExp(e.S_OPT.source,"g"),""),ae&&J.error("Unexpected content outside root element: '"+ae+"'")),re(ue)}switch(D.charAt(ue+1)){case"/":var rt=D.indexOf(">",ue+2),ke=D.substring(ue+2,rt>0?rt:void 0);if(!ke)return J.fatalError("end tag name missing");var Ie=rt>0&&e.reg("^",e.QName_group,e.S_OPT,"$").exec(ke);if(!Ie)return J.fatalError('end tag name contains invalid characters: "'+ke+'"');if(!V.currentElement&&!V.doc.documentElement)return;var Ve=be[be.length-1]||V.currentElement.tagName||V.doc.documentElement.tagName||"";if(Ve!==Ie[1]){var Ze=Ie[1].toLowerCase();if(!H||Ve.toLowerCase()!==Ze)return J.fatalError('Opening and ending tag mismatch: "'+Ve+'" != "'+ke+'"')}var pt=me.pop();be.pop();var dt=pt.localNSMap;if(V.endElement(pt.uri,pt.localName,Ve),dt)for(var yt in dt)i(dt,yt)&&V.endPrefixMapping(yt);rt++;break;case"?":he&&ge(ue),rt=T(D,ue,V,J);break;case"!":he&&ge(ue),rt=I(D,ue,V,J,H);break;default:he&&ge(ue);var Re=new P,Et=me[me.length-1].currentNSMap,rt=S(D,ue,Re,Et,te,J,H),nr=Re.length;if(Re.closed||(H&&t.isHTMLVoidElement(Re.tagName)?Re.closed=!0:be.push(Re.tagName)),he&&nr){for(var Dn=j(he,{}),yn=0;yn<nr;yn++){var Mn=Re[yn];ge(Mn.offset),Mn.locator=j(he,{})}V.locator=Dn,L(Re,V,Et)&&me.push(Re),V.locator=he}else L(Re,V,Et)&&me.push(Re);H&&!Re.closed?rt=A(D,rt,Re.tagName,te,V):rt++}}catch(ve){if(ve instanceof l)throw ve;if(ve instanceof c)throw new l(ve.name+": "+ve.message,V.locator,ve);J.error("element parse error: "+ve),rt=-1}rt>_e?_e=rt:re(Math.max(ue,_e)+1)}}function j(D,R){return R.lineNumber=D.lineNumber,R.columnNumber=D.columnNumber,R}function S(D,R,q,V,J,H,G){function te(ge,me,be){if(i(q.attributeNames,ge))return H.fatalError("Attribute "+ge+" redefined");if(!G&&me.indexOf("<")>=0)return H.fatalError("Unescaped '<' not allowed in attributes values");q.addValue(ge,me.replace(/[\t\n\r]/g," ").replace(C,J),be)}for(var re,ee,Y=++R,ce=u;;){var he=D.charAt(Y);switch(he){case"=":if(ce===f)re=D.slice(R,Y),ce=p;else if(ce===h)ce=p;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ce===p||ce===f)if(ce===f&&(H.warning('attribute value must after "="'),re=D.slice(R,Y)),R=Y+1,Y=D.indexOf(he,R),Y>0)ee=D.slice(R,Y),te(re,ee,R-1),ce=w;else throw new Error("attribute value no end '"+he+"' match");else if(ce==g)ee=D.slice(R,Y),te(re,ee,R),H.warning('attribute "'+re+'" missed start quot('+he+")!!"),R=Y+1,ce=w;else throw new Error('attribute value must after "="');break;case"/":switch(ce){case u:q.setTagName(D.slice(R,Y));case w:case y:case _:ce=_,q.closed=!0;case g:case f:break;case h:q.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return H.error("unexpected end of input"),ce==u&&q.setTagName(D.slice(R,Y)),Y;case">":switch(ce){case u:q.setTagName(D.slice(R,Y));case w:case y:case _:break;case g:case f:ee=D.slice(R,Y),ee.slice(-1)==="/"&&(q.closed=!0,ee=ee.slice(0,-1));case h:ce===h&&(ee=re),ce==g?(H.warning('attribute "'+ee+'" missed quot(")!'),te(re,ee,R)):(G||H.warning('attribute "'+ee+'" missed value!! "'+ee+'" instead!!'),te(ee,ee,R));break;case p:if(!G)return H.fatalError(`AttValue: ' or " expected`)}return Y;case"Â€":he=" ";default:if(he<=" ")switch(ce){case u:q.setTagName(D.slice(R,Y)),ce=y;break;case f:re=D.slice(R,Y),ce=h;break;case g:var ee=D.slice(R,Y);H.warning('attribute "'+ee+'" missed quot(")!!'),te(re,ee,R);case w:ce=y;break}else switch(ce){case h:G||H.warning('attribute "'+re+'" missed value!! "'+re+'" instead2!!'),te(re,re,R),R=Y,ce=f;break;case w:H.warning('attribute space is required"'+re+'"!!');case y:ce=f,R=Y;break;case p:ce=g,R=Y;break;case _:throw new Error("elements closed character '/' and '>' must be connected to")}}Y++}}function L(D,R,q){for(var V=D.tagName,J=null,ce=D.length;ce--;){var H=D[ce],G=H.qName,te=H.value,he=G.indexOf(":");if(he>0)var re=H.prefix=G.slice(0,he),ee=G.slice(he+1),Y=re==="xmlns"&&ee;else ee=G,re=null,Y=G==="xmlns"&&"";H.localName=ee,Y!==!1&&(J==null&&(J=Object.create(null),O(q,q=Object.create(null))),q[Y]=J[Y]=te,H.uri=a.XMLNS,R.startPrefixMapping(Y,te))}for(var ce=D.length;ce--;)H=D[ce],H.prefix&&(H.prefix==="xml"&&(H.uri=a.XML),H.prefix!=="xmlns"&&(H.uri=q[H.prefix]));var he=V.indexOf(":");he>0?(re=D.prefix=V.slice(0,he),ee=D.localName=V.slice(he+1)):(re=null,ee=D.localName=V);var ge=D.uri=q[re||""];if(R.startElement(ge,ee,V,D),D.closed){if(R.endElement(ge,ee,V),J)for(re in J)i(J,re)&&R.endPrefixMapping(re)}else return D.currentNSMap=q,D.localNSMap=J,!0}function A(D,R,q,V,J){var H=r(q);if(H||o(q)){var G=D.indexOf("</"+q+">",R),te=D.substring(R+1,G);return H&&(te=te.replace(C,V)),J.characters(te,0,te.length),G}return R+1}function O(D,R){for(var q in D)i(D,q)&&(R[q]=D[q])}function F(D,R){var q=R;function V(Y){return Y=Y||0,D.charAt(q+Y)}function J(Y){Y=Y||1,q+=Y}function H(){for(var Y=0;q<D.length;){var ce=V();if(ce!==" "&&ce!==`
`&&ce!=="	"&&ce!=="\r")return Y;Y++,J()}return-1}function G(){return D.substring(q)}function te(Y){return D.substring(q,q+Y.length)===Y}function re(Y){return D.substring(q,q+Y.length).toUpperCase()===Y.toUpperCase()}function ee(Y){var ce=e.reg("^",Y),he=ce.exec(G());return he?(J(he[0].length),he[0]):null}return{char:V,getIndex:function(){return q},getMatch:ee,getSource:function(){return D},skip:J,skipBlanks:H,substringFromIndex:G,substringStartsWith:te,substringStartsWithCaseInsensitive:re}}function E(D,R){function q(te,re){var ee=e.PI.exec(te.substringFromIndex());return ee?ee[1].toLowerCase()==="xml"?re.fatalError("xml declaration is only allowed at the start of the document, but found at position "+te.getIndex()):(te.skip(ee[0].length),ee[0]):re.fatalError("processing instruction is not well-formed at position "+te.getIndex())}var V=D.getSource();if(D.char()==="["){D.skip(1);for(var J=D.getIndex();D.getIndex()<V.length;){if(D.skipBlanks(),D.char()==="]"){var H=V.substring(J,D.getIndex());return D.skip(1),H}var G=null;if(D.char()==="<"&&D.char(1)==="!")switch(D.char(2)){case"E":D.char(3)==="L"?G=D.getMatch(e.elementdecl):D.char(3)==="N"&&(G=D.getMatch(e.EntityDecl));break;case"A":G=D.getMatch(e.AttlistDecl);break;case"N":G=D.getMatch(e.NotationDecl);break;case"-":G=D.getMatch(e.Comment);break}else if(D.char()==="<"&&D.char(1)==="?")G=q(D,R);else if(D.char()==="%")G=D.getMatch(e.PEReference);else return R.fatalError("Error detected in Markup declaration");if(!G)return R.fatalError("Error in internal subset at position "+D.getIndex())}return R.fatalError("doctype internal subset is not well-formed, missing ]")}}function I(D,R,q,V,J){var H=F(D,R);switch(J?H.char(2).toUpperCase():H.char(2)){case"-":var G=H.getMatch(e.Comment);return G?(q.comment(G,e.COMMENT_START.length,G.length-e.COMMENT_START.length-e.COMMENT_END.length),H.getIndex()):V.fatalError("comment is not well-formed at position "+H.getIndex());case"[":var te=H.getMatch(e.CDSect);return te?!J&&!q.currentElement?V.fatalError("CDATA outside of element"):(q.startCDATA(),q.characters(te,e.CDATA_START.length,te.length-e.CDATA_START.length-e.CDATA_END.length),q.endCDATA(),H.getIndex()):V.fatalError("Invalid CDATA starting at position "+R);case"D":{if(q.doc&&q.doc.documentElement)return V.fatalError("Doctype not allowed inside or after documentElement at position "+H.getIndex());if(J?!H.substringStartsWithCaseInsensitive(e.DOCTYPE_DECL_START):!H.substringStartsWith(e.DOCTYPE_DECL_START))return V.fatalError("Expected "+e.DOCTYPE_DECL_START+" at position "+H.getIndex());if(H.skip(e.DOCTYPE_DECL_START.length),H.skipBlanks()<1)return V.fatalError("Expected whitespace after "+e.DOCTYPE_DECL_START+" at position "+H.getIndex());var re={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(re.name=H.getMatch(e.Name),!re.name)return V.fatalError("doctype name missing or contains unexpected characters at position "+H.getIndex());if(J&&re.name.toLowerCase()!=="html"&&V.warning("Unexpected DOCTYPE in HTML document at position "+H.getIndex()),H.skipBlanks(),H.substringStartsWith(e.PUBLIC)||H.substringStartsWith(e.SYSTEM)){var ee=e.ExternalID_match.exec(H.substringFromIndex());if(!ee)return V.fatalError("doctype external id is not well-formed at position "+H.getIndex());ee.groups.SystemLiteralOnly!==void 0?re.systemId=ee.groups.SystemLiteralOnly:(re.systemId=ee.groups.SystemLiteral,re.publicId=ee.groups.PubidLiteral),H.skip(ee[0].length)}else if(J&&H.substringStartsWithCaseInsensitive(e.SYSTEM)){if(H.skip(e.SYSTEM.length),H.skipBlanks()<1)return V.fatalError("Expected whitespace after "+e.SYSTEM+" at position "+H.getIndex());if(re.systemId=H.getMatch(e.ABOUT_LEGACY_COMPAT_SystemLiteral),!re.systemId)return V.fatalError("Expected "+e.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+e.SYSTEM+" at position "+H.getIndex())}return J&&re.systemId&&!e.ABOUT_LEGACY_COMPAT_SystemLiteral.test(re.systemId)&&V.warning("Unexpected doctype.systemId in HTML document at position "+H.getIndex()),J||(H.skipBlanks(),re.internalSubset=E(H,V)),H.skipBlanks(),H.char()!==">"?V.fatalError("doctype not terminated with > at position "+H.getIndex()):(H.skip(1),q.startDTD(re.name,re.publicId,re.systemId,re.internalSubset),q.endDTD(),H.getIndex())}default:return V.fatalError('Not well-formed XML starting with "<!" at position '+R)}}function T(D,R,q,V){var J=D.substring(R).match(e.PI);if(!J)return V.fatalError("Invalid processing instruction starting at position "+R);if(J[1].toLowerCase()==="xml"){if(R>0)return V.fatalError("processing instruction at position "+R+" is an xml declaration which is only at the start of the document");if(!e.XMLDecl.test(D.substring(R)))return V.fatalError("xml declaration is not well-formed")}return q.processingInstruction(J[1],J[2]),R+J[0].length}function P(){this.attributeNames=Object.create(null)}return P.prototype={setTagName:function(D){if(!e.QName_exact.test(D))throw new Error("invalid tagName:"+D);this.tagName=D},addValue:function(D,R,q){if(!e.QName_exact.test(D))throw new Error("invalid attribute:"+D);this.attributeNames[D]=this.length,this[this.length++]={qName:D,value:R,offset:q}},length:0,getLocalName:function(D){return this[D].localName},getLocator:function(D){return this[D].locator},getQName:function(D){return this[D].qName},getURI:function(D){return this[D].uri},getValue:function(D){return this[D].value}},Ca.XMLReader=v,Ca.parseUtils=F,Ca.parseDoctypeCommentOrCData=I,Ca}var Xg;function KC(){if(Xg)return co;Xg=1;var t=ta(),e=Qy(),n=ju(),r=VC(),s=HC(),o=e.DOMImplementation,i=t.hasDefaultHTMLNamespace,a=t.isHTMLMimeType,l=t.isValidMimeType,c=t.MIME_TYPE,u=t.NAMESPACE,f=n.ParseError,h=s.XMLReader;function p(S){return S.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function g(S){if(S=S||{},S.locator===void 0&&(S.locator=!0),this.assign=S.assign||t.assign,this.domHandler=S.domHandler||w,this.onError=S.onError||S.errorHandler,S.errorHandler&&typeof S.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");S.errorHandler&&S.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=S.normalizeLineEndings||p,this.locator=!!S.locator,this.xmlns=this.assign(Object.create(null),S.xmlns)}g.prototype.parseFromString=function(S,L){if(!l(L))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+L+'" is not valid.');var A=this.assign(Object.create(null),this.xmlns),O=r.XML_ENTITIES,F=A[""]||null;i(L)?(O=r.HTML_ENTITIES,F=u.HTML):L===c.XML_SVG_IMAGE&&(F=u.SVG),A[""]=F,A.xml=A.xml||u.XML;var E=new this.domHandler({mimeType:L,defaultNamespace:F,onError:this.onError}),I=this.locator?{}:void 0;this.locator&&E.setDocumentLocator(I);var T=new h;T.errorHandler=E,T.domBuilder=E;var P=!t.isHTMLMimeType(L);return P&&typeof S!="string"&&T.errorHandler.fatalError("source is not a string"),T.parse(this.normalizeLineEndings(String(S)),A,O),E.doc.documentElement||T.errorHandler.fatalError("missing root element"),E.doc};function w(S){var L=S||{};this.mimeType=L.mimeType||c.XML_APPLICATION,this.defaultNamespace=L.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=L.onError}function y(S,L){L.lineNumber=S.lineNumber,L.columnNumber=S.columnNumber}w.prototype={startDocument:function(){var S=new o;this.doc=a(this.mimeType)?S.createHTMLDocument(!1):S.createDocument(this.defaultNamespace,"")},startElement:function(S,L,A,O){var F=this.doc,E=F.createElementNS(S,A||L),I=O.length;C(this,E),this.currentElement=E,this.locator&&y(this.locator,E);for(var T=0;T<I;T++){var S=O.getURI(T),P=O.getValue(T),A=O.getQName(T),D=F.createAttributeNS(S,A);this.locator&&y(O.getLocator(T),D),D.value=D.nodeValue=P,E.setAttributeNode(D)}},endElement:function(S,L,A){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(S,L){},endPrefixMapping:function(S){},processingInstruction:function(S,L){var A=this.doc.createProcessingInstruction(S,L);this.locator&&y(this.locator,A),C(this,A)},ignorableWhitespace:function(S,L,A){},characters:function(S,L,A){if(S=v.apply(this,arguments),S){if(this.cdata)var O=this.doc.createCDATASection(S);else var O=this.doc.createTextNode(S);this.currentElement?this.currentElement.appendChild(O):/^\s*$/.test(S)&&this.doc.appendChild(O),this.locator&&y(this.locator,O)}},skippedEntity:function(S){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(S){S&&(S.lineNumber=0),this.locator=S},comment:function(S,L,A){S=v.apply(this,arguments);var O=this.doc.createComment(S);this.locator&&y(this.locator,O),C(this,O)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(S,L,A,O){var F=this.doc.implementation;if(F&&F.createDocumentType){var E=F.createDocumentType(S,L,A,O);this.locator&&y(this.locator,E),C(this,E),this.doc.doctype=E}},reportError:function(S,L){if(typeof this.onError=="function")try{this.onError(S,L,this)}catch(A){throw new f("Reporting "+S+' "'+L+'" caused '+A,this.locator)}else console.error("[xmldom "+S+"]	"+L,_(this.locator))},warning:function(S){this.reportError("warning",S)},error:function(S){this.reportError("error",S)},fatalError:function(S){throw this.reportError("fatalError",S),new f(S,this.locator)}};function _(S){if(S)return`
@#[line:`+S.lineNumber+",col:"+S.columnNumber+"]"}function v(S,L,A){return typeof S=="string"?S.substr(L,A):S.length>=L+A||L?new java.lang.String(S,L,A)+"":S}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(S){w.prototype[S]=function(){return null}});function C(S,L){S.currentElement?S.currentElement.appendChild(L):S.doc.appendChild(L)}function M(S){if(S==="error")throw"onErrorStopParsing"}function j(){throw"onWarningStopParsing"}return co.__DOMHandler=w,co.DOMParser=g,co.normalizeLineEndings=p,co.onErrorStopParsing=M,co.onWarningStopParsing=j,co}var Yg;function WC(){if(Yg)return Fe;Yg=1;var t=ta();Fe.assign=t.assign,Fe.hasDefaultHTMLNamespace=t.hasDefaultHTMLNamespace,Fe.isHTMLMimeType=t.isHTMLMimeType,Fe.isValidMimeType=t.isValidMimeType,Fe.MIME_TYPE=t.MIME_TYPE,Fe.NAMESPACE=t.NAMESPACE;var e=ju();Fe.DOMException=e.DOMException,Fe.DOMExceptionName=e.DOMExceptionName,Fe.ExceptionCode=e.ExceptionCode,Fe.ParseError=e.ParseError;var n=Qy();Fe.Attr=n.Attr,Fe.CDATASection=n.CDATASection,Fe.CharacterData=n.CharacterData,Fe.Comment=n.Comment,Fe.Document=n.Document,Fe.DocumentFragment=n.DocumentFragment,Fe.DocumentType=n.DocumentType,Fe.DOMImplementation=n.DOMImplementation,Fe.Element=n.Element,Fe.Entity=n.Entity,Fe.EntityReference=n.EntityReference,Fe.LiveNodeList=n.LiveNodeList,Fe.NamedNodeMap=n.NamedNodeMap,Fe.Node=n.Node,Fe.NodeList=n.NodeList,Fe.Notation=n.Notation,Fe.ProcessingInstruction=n.ProcessingInstruction,Fe.Text=n.Text,Fe.XMLSerializer=n.XMLSerializer;var r=KC();return Fe.DOMParser=r.DOMParser,Fe.normalizeLineEndings=r.normalizeLineEndings,Fe.onErrorStopParsing=r.onErrorStopParsing,Fe.onWarningStopParsing=r.onWarningStopParsing,Fe}WC();const Ga="USJ",Ja="3.1",Kh=Object.freeze({type:Ga,version:Ja,content:[]}),GC=["type","marker","content","sid","eid","number","code","altnumber","pubnumber","caller","align","category"];function JC(t){return XC.includes(t)}const XC=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX","XXA","XXB","XXC","XXD","XXE","XXF","XXG"],kf="$",Zy=".content[";function YC(t){const e=t.split(Zy);if(e.shift()!==kf)throw new Error(`indexesFromJsonPath: jsonPath didn't start with '${kf}'`);return e.map(n=>parseInt(n,10))}function QC(t){return t.reduce((e,n)=>`${e}${Zy}${n}]`,kf)}function le(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const s of e)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const _r=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ZC=_r&&"documentMode"in document?document.documentMode:null,jr=_r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Do=_r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Pc=!(!_r||!("InputEvent"in window)||ZC)&&"getTargetRanges"in new window.InputEvent("input"),Xa=_r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ai=_r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ek=_r&&/Android/.test(navigator.userAgent),e0=_r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Qg=_r&&ek&&e0,$c=_r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!e0;function Fc(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}const tk=1,nk=3,rk=9,sk=11,Mo=0,t0=1,Di=2,ok=0,ik=1,ak=2,Bc=4,qc=8,Wh=128,lk=1792|(112|(3|Bc|qc)|Wh),Gh=1,Jh=2,Xh=3,Yh=4,Qh=5,Zh=6,Iu=Xa||Ai||$c?"Â ":"â€‹",us=`

`,ck=Do?"Â ":Iu,n0="Ö‘-ß¿ï¬-ï·½ï¹°-ï»¼",r0="A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ê¸Ì€-Öà €-á¿¿â€Žâ°€-ï¬œï¸€-ï¹¯ï»½-ï¿¿",uk=new RegExp("^[^"+r0+"]*["+n0+"]"),dk=new RegExp("^[^"+n0+"]*["+r0+"]"),Ps={bold:1,capitalize:1024,code:16,highlight:Wh,italic:2,lowercase:256,strikethrough:Bc,subscript:32,superscript:64,underline:qc,uppercase:512},fk={directionless:1,unmergeable:2},Zg={center:Jh,end:Zh,justify:Yh,left:Gh,right:Xh,start:Qh},hk={[Jh]:"center",[Zh]:"end",[Yh]:"justify",[Gh]:"left",[Xh]:"right",[Qh]:"start"},pk={normal:0,segmented:2,token:1},gk={[ok]:"normal",[ak]:"segmented",[ik]:"token"},ew="$config";function s0(t,e,n,r,s,o){let i=t.getFirstChild();for(;i!==null;){const a=i.__key;i.__parent===e&&(X(i)&&s0(i,a,n,r,s,o),n.has(a)||o.delete(a),s.push(a)),i=i.getNextSibling()}}const wk=100;let Ef=!1,ep=0;function mk(t){ep=t.timeStamp}function Id(t,e,n){const r=t.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(t===s||r&&t.previousSibling===s)||r&&Vu(t,n)!==void 0}function bk(t,e,n){const r=pr(Zn(n));let s=null,o=null;r!==null&&r.anchorNode===t&&(s=r.anchorOffset,o=r.focusOffset);const i=t.nodeValue;i!==null&&Cp(e,i,s,o,!1)}function yk(t,e,n){if(Q(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return ws(e)&&n.isAttached()}function vk(t,e,n,r){for(let s=t;s&&!bE(s);s=Dl(s)){const o=Vu(s,e);if(o!==void 0){const i=Te(o,n);if(i)return Ke(i)||!et(s)?void 0:[s,i]}else if(s===r)return[r,ev(n)]}}function o0(t,e,n){Ef=!0;const r=performance.now()-ep>wk;try{Un(t,()=>{const s=se()||function(h){return h.getEditorState().read(()=>{const p=se();return p!==null?p.clone():null})}(t),o=new Map,i=t.getRootElement(),a=t._editorState,l=t._blockCursorElement;let c=!1,u="";for(let h=0;h<e.length;h++){const p=e[h],g=p.type,w=p.target,y=vk(w,t,a,i);if(!y)continue;const[_,v]=y;if(g==="characterData")r&&ne(v)&&ws(w)&&yk(s,w,v)&&bk(w,v,t);else if(g==="childList"){c=!0;const C=p.addedNodes;for(let S=0;S<C.length;S++){const L=C[S],A=Q0(L),O=L.parentNode;if(O!=null&&L!==l&&A===null&&!Id(L,O,t)){if(Do){const F=(et(L)?L.innerText:null)||L.nodeValue;F&&(u+=F)}O.removeChild(L)}}const M=p.removedNodes,j=M.length;if(j>0){let S=0;for(let L=0;L<j;L++){const A=M[L];(Id(A,w,t)||l===A)&&(w.appendChild(A),S++)}j!==S&&o.set(_,v)}}}if(o.size>0)for(const[h,p]of o)p.reconcileObservedMutation(h,t);const f=n.takeRecords();if(f.length>0){for(let h=0;h<f.length;h++){const p=f[h],g=p.addedNodes,w=p.target;for(let y=0;y<g.length;y++){const _=g[y],v=_.parentNode;v==null||_.nodeName!=="BR"||Id(_,w,t)||v.removeChild(_)}}n.takeRecords()}s!==null&&(c&&Zt(s),Do&&ov(t)&&s.insertRawText(u))})}finally{Ef=!1}}function i0(t){const e=t._observer;e!==null&&o0(t,e.takeRecords(),e)}function a0(t){(function(e){ep===0&&Zn(e).addEventListener("textInput",mk,!0)})(t),t._observer=new MutationObserver((e,n)=>{o0(t,e,n)})}let xk=class{constructor(e,n){this.key=e,this.parse=n.parse.bind(n),this.unparse=(n.unparse||kk).bind(n),this.isEqual=(n.isEqual||Object.is).bind(n),this.defaultValue=this.parse(void 0)}};function l0(t,e){return new xk(t,e)}function na(t,e,n="latest"){const r=(n==="latest"?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue}function as(t,e,n){let r;if(Wt(),typeof n=="function"){const o=t.getLatest(),i=na(o,e);if(r=n(i),e.isEqual(i,r))return o}else r=n;const s=t.getWritable();return u0(s).updateFromKnown(e,r),s}function _k(t){const e=new Map,n=new Set;for(let r=typeof t=="function"?t:t.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:s}=Np(r);if(s&&s.stateConfigs)for(const o of s.stateConfigs){let i;"stateConfig"in o?(i=o.stateConfig,o.flat&&n.add(i.key)):i=o,e.set(i.key,i)}}return{flatKeys:n,sharedConfigMap:e}}let Ck=class c0{constructor(e,n,r=void 0,s=new Map,o=void 0){this.node=e,this.sharedNodeState=n,this.unknownState=r,this.knownState=s;const{sharedConfigMap:i}=this.sharedNodeState,a=o!==void 0?o:function(l,c,u){let f=u.size;if(c)for(const h in c){const p=l.get(h);p&&u.has(p)||f++}return f}(i,r,s);this.size=a}getValue(e){const n=this.knownState.get(e);if(n!==void 0)return n;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(r=e.parse(s)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},n={};for(const[r,s]of this.knownState)r.isEqual(s,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(s);for(const r of this.sharedNodeState.flatKeys)r in e&&(n[r]=e[r],delete e[r]);return tw(e)&&(n.$=e),n}getWritable(e){if(this.node===e)return this;const{sharedNodeState:n,unknownState:r}=this,s=new Map(this.knownState);return new c0(e,n,function(o,i,a){let l;if(a)for(const[c,u]of Object.entries(a)){const f=o.get(c);f?i.has(f)||i.set(f,f.parse(u)):(l=l||{},l[c]=u)}return l}(n.sharedConfigMap,s,r),s,this.size)}updateFromKnown(e,n){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:s,unknownState:o}=this;s.has(e)||o&&r in o||(o&&(delete o[r],this.unknownState=tw(o)),this.size++),s.set(e,n)}updateFromUnknown(e,n){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=n)}updateFromJSON(e){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState=void 0,e)for(const[r,s]of Object.entries(e))this.updateFromUnknown(r,s)}};function u0(t){const e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new Ck(e,d0(e));return e.__state=n,n}function d0(t){return t.__state?t.__state.sharedNodeState:X0(Ku(),t.getType()).sharedNodeState}function tw(t){if(t)for(const e in t)return t}function kk(t){return t}function nw(t,e,n){for(const[r,s]of e.knownState){if(t.has(r.key))continue;t.add(r.key);const o=n?n.getValue(r):r.defaultValue;if(o!==s&&!r.isEqual(o,s))return!0}return!1}function rw(t,e,n){const{unknownState:r}=e,s=n?n.unknownState:void 0;if(r){for(const[o,i]of Object.entries(r))if(!t.has(o)&&(t.add(o),i!==(s?s[o]:void 0)))return!0}return!1}function sw(t,e){const n=t.__state;return n&&n.node===t?n.getWritable(e):n}function ow(t,e){const n=t.__mode,r=t.__format,s=t.__style,o=e.__mode,i=e.__format,a=e.__style,l=t.__state,c=e.__state;return(n===null||n===o)&&(r===null||r===i)&&(s===null||s===a)&&(t.__state===null||l===c||function(u,f){if(u===f)return!0;if(u&&f&&u.size!==f.size)return!1;const h=new Set;return!(u&&nw(h,u,f)||f&&nw(h,f,u)||u&&rw(h,u,f)||f&&rw(h,f,u))}(l,c))}function iw(t,e){const n=t.mergeWithSibling(e),r=ut()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function aw(t){let e,n,r=t;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&ne(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(ow(e,r)){r=iw(e,r);break}break}e.remove()}for(;(n=r.getNextSibling())!==null&&ne(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(ow(r,n)){r=iw(r,n);break}break}n.remove()}}else r.remove()}function Ya(t){return lw(t.anchor),lw(t.focus),t}function lw(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,s;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),s=!0):(r=e.getChildAtIndex(n),s=!1),ne(r)){t.set(r.__key,s?r.getTextContentSize():0,"text",!0);break}if(!X(r))break;t.set(r.__key,s?r.getChildrenSize():0,"element",!0)}}let $s,wn,Qa,Lu,Sf,Nf,Oo,ur,Tf,Za,At="",gn="",Mr=null,Or="",ss="",f0=!1,el=!1,_c=null;function Uc(t,e){const n=Oo.get(t);if(e!==null){const r=Mf(t);r.parentNode===e&&e.removeChild(r)}if(ur.has(t)||wn._keyToDOMMap.delete(t),X(n)){const r=Vc(n,Oo);Af(r,0,r.length-1,null)}n!==void 0&&kp(Za,Qa,Lu,n,"destroyed")}function Af(t,e,n,r){let s=e;for(;s<=n;++s){const o=t[s];o!==void 0&&Uc(o,r)}}function uo(t,e){t.setProperty("text-align",e)}const Ek="40px";function h0(t,e){const n=$s.theme.indent;if(typeof n=="string"){const s=t.classList.contains(n);e>0&&!s?t.classList.add(n):e<1&&s&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Ek;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function p0(t,e){const n=t.style;e===0?uo(n,""):e===Gh?uo(n,"left"):e===Jh?uo(n,"center"):e===Xh?uo(n,"right"):e===Yh?uo(n,"justify"):e===Qh?uo(n,"start"):e===Zh&&uo(n,"end")}function zc(t,e){const n=ur.get(t);n===void 0&&le(60);const r=n.createDOM($s,wn);if(function(s,o,i){const a=i._keyToDOMMap;(function(l,c,u){const f=`__lexicalKey_${c._key}`;l[f]=u})(o,i,s),a.set(s,o)}(t,r,wn),ne(n)?r.setAttribute("data-lexical-text","true"):Ke(n)&&r.setAttribute("data-lexical-decorator","true"),X(n)){const s=n.__indent,o=n.__size;if(s!==0&&h0(r,s),o!==0){const a=o-1;(function(l,c,u,f){const h=gn;gn="",Df(l,u,0,c,u.getDOMSlot(f)),w0(u,f),gn=h})(Vc(n,ur),a,n,r)}const i=n.__format;i!==0&&p0(r,i),n.isInline()||g0(null,n,r),Hu(n)&&(At+=us,ss+=us)}else{const s=n.getTextContent();if(Ke(n)){const o=n.decorate(wn,$s);o!==null&&m0(t,o),r.contentEditable="false"}else ne(n)&&(n.isDirectionless()||(gn+=s));At+=s,ss+=s}return e!==null&&e.insertChild(r),kp(Za,Qa,Lu,n,"created"),r}function Df(t,e,n,r,s){const o=At;At="";let i=n;for(;i<=r;++i){zc(t[i],s);const a=ur.get(t[i]);a!==null&&ne(a)&&(Mr===null&&(Mr=a.getFormat()),Or===""&&(Or=a.getStyle()))}Hu(e)&&(At+=us),s.element.__lexicalTextContent=At,At=o+At}function cw(t,e){if(t){const n=t.__last;if(n){const r=e.get(n);if(r)return vo(r)?"line-break":Ke(r)&&r.isInline()?"decorator":null}return"empty"}return null}function g0(t,e,n){const r=cw(t,Oo),s=cw(e,ur);r!==s&&e.getDOMSlot(n).setManagedLineBreak(s)}function w0(t,e){const n=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(n!==gn||r!==_c){const s=gn==="",o=s?_c:function(i){return uk.test(i)?"rtl":dk.test(i)?"ltr":null}(gn);if(o!==r){const i=e.classList,a=$s.theme;let l=r!==null?a[r]:void 0,c=o!==null?a[o]:void 0;if(l!==void 0){if(typeof l=="string"){const u=Fc(l);l=a[r]=u}i.remove(...l)}if(o===null||s&&o==="ltr")e.removeAttribute("dir");else{if(c!==void 0){if(typeof c=="string"){const u=Fc(c);c=a[o]=u}c!==void 0&&i.add(...c)}e.dir=o}el||(t.getWritable().__dir=o)}_c=o,e.__lexicalDirTextContent=gn,e.__lexicalDir=o}}function Sk(t,e,n){const r=gn;var s;gn="",Mr=null,Or="",function(o,i,a){const l=At,c=o.__size,u=i.__size;At="";const f=a.element;if(c===1&&u===1){const h=o.__first,p=i.__first;if(h===p)Oa(h,f);else{const w=Mf(h),y=zc(p,null);try{f.replaceChild(y,w)}catch(_){if(typeof _=="object"&&_!=null){const v=`${_.toString()} Parent: ${f.tagName}, new child: {tag: ${y.tagName} key: ${p}}, old child: {tag: ${w.tagName}, key: ${h}}.`;throw new Error(v)}throw _}Uc(h,null)}const g=ur.get(p);ne(g)&&(Mr===null&&(Mr=g.getFormat()),Or===""&&(Or=g.getStyle()))}else{const h=Vc(o,Oo),p=Vc(i,ur);if(h.length!==c&&le(227),p.length!==u&&le(228),c===0)u!==0&&Df(p,i,0,u-1,a);else if(u===0){if(c!==0){const g=a.after==null&&a.before==null&&a.element.__lexicalLineBreak==null;Af(h,0,c-1,g?null:f),g&&(f.textContent="")}}else(function(g,w,y,_,v,C){const M=_-1,j=v-1;let S,L,A=C.getFirstChild(),O=0,F=0;for(;O<=M&&F<=j;){const T=w[O],P=y[F];if(T===P)A=Ld(Oa(P,C.element)),O++,F++;else{S===void 0&&(S=new Set(w)),L===void 0&&(L=new Set(y));const R=L.has(T),q=S.has(P);if(R)if(q){const V=Ii(wn,P);V===A?A=Ld(Oa(P,C.element)):(C.withBefore(A).insertChild(V),Oa(P,C.element)),O++,F++}else zc(P,C.withBefore(A)),F++;else A=Ld(Mf(T)),Uc(T,C.element),O++}const D=ur.get(P);D!==null&&ne(D)&&(Mr===null&&(Mr=D.getFormat()),Or===""&&(Or=D.getStyle()))}const E=O>M,I=F>j;if(E&&!I){const T=y[j+1],P=T===void 0?null:wn.getElementByKey(T);Df(y,g,F,j,C.withBefore(P))}else I&&!E&&Af(w,O,M,C.element)})(i,h,p,c,u,a)}Hu(i)&&(At+=us),f.__lexicalTextContent=At,At=l+At}(t,e,e.getDOMSlot(n)),w0(e,n),s=e,Mr==null||Mr===s.__textFormat||el||s.setTextFormat(Mr),function(o){Or===""||Or===o.__textStyle||el||o.setTextStyle(Or)}(e),gn=r}function Vc(t,e){const n=[];let r=t.__first;for(;r!==null;){const s=e.get(r);s===void 0&&le(101),n.push(r),r=s.__next}return n}function Oa(t,e){const n=Oo.get(t);let r=ur.get(t);n!==void 0&&r!==void 0||le(61);const s=f0||Nf.has(t)||Sf.has(t),o=Ii(wn,t);if(n===r&&!s){if(X(n)){const i=o.__lexicalTextContent;i!==void 0&&(At+=i,ss+=i);const a=o.__lexicalDirTextContent;a!==void 0&&(gn+=a)}else{const i=n.getTextContent();ne(n)&&!n.isDirectionless()&&(gn+=i),ss+=i,At+=i}return o}if(n!==r&&s&&kp(Za,Qa,Lu,r,"updated"),r.updateDOM(n,o,$s)){const i=zc(t,null);return e===null&&le(62),e.replaceChild(i,o),Uc(t,null),i}if(X(n)&&X(r)){const i=r.__indent;i!==n.__indent&&h0(o,i);const a=r.__format;a!==n.__format&&p0(o,a),s&&(Sk(n,r,o),Jt(r)||r.isInline()||g0(n,r,o)),Hu(r)&&(At+=us,ss+=us)}else{const i=r.getTextContent();if(Ke(r)){const a=r.decorate(wn,$s);a!==null&&m0(t,a)}else ne(r)&&!r.isDirectionless()&&(gn+=i);At+=i,ss+=i}if(!el&&Jt(r)&&r.__cachedText!==ss){const i=r.getWritable();i.__cachedText=ss,r=i}return o}function m0(t,e){let n=wn._pendingDecorators;const r=wn._decorators;if(n===null){if(r[t]===e)return;n=Z0(wn)}n[t]=e}function Ld(t){let e=t.nextSibling;return e!==null&&e===wn._blockCursorElement&&(e=e.nextSibling),e}function Nk(t,e,n,r,s,o){At="",ss="",gn="",f0=r===Di,_c=null,wn=n,$s=n._config,Qa=n._nodes,Lu=wn._listeners.mutation,Sf=s,Nf=o,Oo=t._nodeMap,ur=e._nodeMap,el=e._readOnly,Tf=new Map(n._keyToDOMMap);const i=new Map;return Za=i,Oa("root",null),wn=void 0,Qa=void 0,Sf=void 0,Nf=void 0,Oo=void 0,ur=void 0,$s=void 0,Tf=void 0,Za=void 0,i}function Mf(t){const e=Tf.get(t);return e===void 0&&le(75,t),e}function Ce(t){return{type:t}}const Js=Ce("SELECTION_CHANGE_COMMAND"),Tk=Ce("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),b0=Ce("CLICK_COMMAND"),Br=Ce("DELETE_CHARACTER_COMMAND"),Ms=Ce("INSERT_LINE_BREAK_COMMAND"),tl=Ce("INSERT_PARAGRAPH_COMMAND"),yo=Ce("CONTROLLED_TEXT_INSERTION_COMMAND"),Yo=Ce("PASTE_COMMAND"),Hc=Ce("REMOVE_TEXT_COMMAND"),Mi=Ce("DELETE_WORD_COMMAND"),Oi=Ce("DELETE_LINE_COMMAND"),Ss=Ce("FORMAT_TEXT_COMMAND"),Cl=Ce("UNDO_COMMAND"),kl=Ce("REDO_COMMAND"),ra=Ce("KEYDOWN_COMMAND"),tp=Ce("KEY_ARROW_RIGHT_COMMAND"),Ak=Ce("MOVE_TO_END"),np=Ce("KEY_ARROW_LEFT_COMMAND"),Dk=Ce("MOVE_TO_START"),rp=Ce("KEY_ARROW_UP_COMMAND"),sp=Ce("KEY_ARROW_DOWN_COMMAND"),Ri=Ce("KEY_ENTER_COMMAND"),y0=Ce("KEY_SPACE_COMMAND"),op=Ce("KEY_BACKSPACE_COMMAND"),Pu=Ce("KEY_ESCAPE_COMMAND"),ip=Ce("KEY_DELETE_COMMAND"),ap=Ce("KEY_TAB_COMMAND"),Mk=Ce("INSERT_TAB_COMMAND"),Ok=Ce("INDENT_CONTENT_COMMAND"),uw=Ce("OUTDENT_CONTENT_COMMAND"),$u=Ce("DROP_COMMAND"),Rk=Ce("FORMAT_ELEMENT_COMMAND"),lp=Ce("DRAGSTART_COMMAND"),v0=Ce("DRAGOVER_COMMAND"),jk=Ce("DRAGEND_COMMAND"),Xs=Ce("COPY_COMMAND"),Qo=Ce("CUT_COMMAND"),Kc=Ce("SELECT_ALL_COMMAND"),cp=Ce("CLEAR_EDITOR_COMMAND"),x0=Ce("CLEAR_HISTORY_COMMAND"),Ra=Ce("CAN_REDO_COMMAND"),ja=Ce("CAN_UNDO_COMMAND"),Ik=Ce("FOCUS_COMMAND"),Lk=Ce("BLUR_COMMAND"),Pk=Ce("KEY_MODIFIER_COMMAND"),Zr=Object.freeze({}),Of=30,Rf=[["keydown",function(t,e){if(Fa=t.timeStamp,_0=t.key,!e.isComposing()&&!pe(e,ra,t)&&t.key!=null){if(Pd&&$w(t))return Un(e,()=>{nc(e,$d)}),Pd=!1,void($d="");if(function(n){return Xe(n,"ArrowRight",{shiftKey:"any"})}(t))pe(e,tp,t);else if(function(n){return Xe(n,"ArrowRight",ns)}(t))pe(e,Ak,t);else if(function(n){return Xe(n,"ArrowLeft",{shiftKey:"any"})}(t))pe(e,np,t);else if(function(n){return Xe(n,"ArrowLeft",ns)}(t))pe(e,Dk,t);else if(function(n){return Xe(n,"ArrowUp",{altKey:"any",shiftKey:"any"})}(t))pe(e,rp,t);else if(function(n){return Xe(n,"ArrowDown",{altKey:"any",shiftKey:"any"})}(t))pe(e,sp,t);else if(function(n){return Xe(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(t))Ba=!0,pe(e,Ri,t);else if(function(n){return n.key===" "}(t))pe(e,y0,t);else if(function(n){return jr&&Xe(n,"o",{ctrlKey:!0})}(t))t.preventDefault(),Ba=!0,pe(e,Ms,!0);else if(function(n){return Xe(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(t))Ba=!1,pe(e,Ri,t);else if(function(n){return Xe(n,"Backspace",{shiftKey:"any"})||jr&&Xe(n,"h",{ctrlKey:!0})}(t))$w(t)?pe(e,op,t):(t.preventDefault(),pe(e,Br,!0));else if(function(n){return n.key==="Escape"}(t))pe(e,Pu,t);else if(function(n){return Xe(n,"Delete",{})||jr&&Xe(n,"d",{ctrlKey:!0})}(t))(function(n){return n.key==="Delete"})(t)?pe(e,ip,t):(t.preventDefault(),pe(e,Br,!1));else if(function(n){return Xe(n,"Backspace",Pw)}(t))t.preventDefault(),pe(e,Mi,!0);else if(function(n){return Xe(n,"Delete",Pw)}(t))t.preventDefault(),pe(e,Mi,!1);else if(function(n){return jr&&Xe(n,"Backspace",{metaKey:!0})}(t))t.preventDefault(),pe(e,Oi,!0);else if(function(n){return jr&&(Xe(n,"Delete",{metaKey:!0})||Xe(n,"k",{ctrlKey:!0}))}(t))t.preventDefault(),pe(e,Oi,!1);else if(function(n){return Xe(n,"b",ns)}(t))t.preventDefault(),pe(e,Ss,"bold");else if(function(n){return Xe(n,"u",ns)}(t))t.preventDefault(),pe(e,Ss,"underline");else if(function(n){return Xe(n,"i",ns)}(t))t.preventDefault(),pe(e,Ss,"italic");else if(function(n){return Xe(n,"Tab",{shiftKey:"any"})}(t))pe(e,ap,t);else if(function(n){return Xe(n,"z",ns)}(t))t.preventDefault(),pe(e,Cl,void 0);else if(function(n){return jr?Xe(n,"z",{metaKey:!0,shiftKey:!0}):Xe(n,"y",{ctrlKey:!0})||Xe(n,"z",{ctrlKey:!0,shiftKey:!0})}(t))t.preventDefault(),pe(e,kl,void 0);else{const n=e._editorState._selection;n===null||Q(n)?Fw(t)&&(t.preventDefault(),pe(e,Kc,t)):function(r){return Xe(r,"c",ns)}(t)?(t.preventDefault(),pe(e,Xs,t)):function(r){return Xe(r,"x",ns)}(t)?(t.preventDefault(),pe(e,Qo,t)):Fw(t)&&(t.preventDefault(),pe(e,Kc,t))}(function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey})(t)&&pe(e,Pk,t)}}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;ti(n)&&r!=="touch"&&r!=="pen"&&t.button===0&&Un(e,()=>{jw(n)||(If=!0)})}],["compositionstart",function(t,e){Un(e,()=>{const n=se();if(Q(n)&&!e.isComposing()){const r=n.anchor,s=n.anchor.getNode();Gt(r.key),(t.timeStamp<Fa+Of||r.type==="element"||!n.isCollapsed()||s.getFormat()!==n.format||ne(s)&&s.getStyle()!==n.style)&&pe(e,yo,ck)}})}],["compositionend",function(t,e){Do?ka=!0:Ai||!Xa&&!$c?Un(e,()=>{nc(e,t.data)}):(Pd=!0,$d=t.data)}],["input",function(t,e){t.stopPropagation(),Un(e,()=>{if(et(t.target)&&jw(t.target))return;const n=se(),r=t.data,s=N0(t);if(r!=null&&Q(n)&&E0(n,s,r,t.timeStamp,!1)){ka&&(nc(e,r),ka=!1);const o=n.anchor.getNode(),i=pr(Zn(e));if(i===null)return;const a=n.isBackward(),l=a?n.anchor.offset:n.focus.offset,c=a?n.focus.offset:n.anchor.offset;Pc&&!n.isCollapsed()&&ne(o)&&i.anchorNode!==null&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+c)===rv(i.anchorNode)||pe(e,yo,r);const u=r.length;Do&&u>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=u),Xa||Ai||$c||!e.isComposing()||(Fa=0,Gt(null))}else _p(!1,e,r!==null?r:void 0),ka&&(nc(e,r||void 0),ka=!1);(function(){Wt();const o=ut();i0(o)})()},{event:t}),hi=null}],["click",function(t,e){Un(e,()=>{const n=se(),r=pr(Zn(e)),s=oa();if(r){if(Q(n)){const o=n.anchor,i=o.getNode();if(o.type==="element"&&o.offset===0&&n.isCollapsed()&&!Jt(i)&&Be().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&s!==null&&n.is(s))r.removeAllRanges(),n.dirty=!0;else if(t.detail===3&&!n.isCollapsed()&&i!==n.focus.getNode()){const a=function(l,c){let u=l;for(;u!==Be()&&u!=null;){if(c(u))return u;u=u.getParent()}return null}(i,l=>X(l)&&!l.isInline());X(a)&&a.select(0)}}else if(t.pointerType==="touch"||t.pointerType==="pen"){const o=r.anchorNode;(et(o)||ws(o))&&Zt(dp(s,r,e,t))}}pe(e,b0,t)})}],["cut",Zr],["copy",Zr],["dragstart",Zr],["dragover",Zr],["dragend",Zr],["paste",Zr],["focus",Zr],["blur",Zr],["drop",Zr]];Pc&&Rf.push(["beforeinput",(t,e)=>function(n,r){const s=n.inputType,o=N0(n);s==="deleteCompositionText"||Do&&ov(r)||s!=="insertCompositionText"&&Un(r,()=>{const i=se();if(s==="deleteContentBackward"){if(i===null){const p=oa();if(!Q(p))return;Zt(p.clone())}if(Q(i)){const p=i.anchor.key===i.focus.key;if(a=n.timeStamp,_0==="MediaLast"&&a<Fa+Of&&r.isComposing()&&p){if(Gt(null),Fa=0,setTimeout(()=>{Un(r,()=>{Gt(null)})},Of),Q(i)){const g=i.anchor.getNode();g.markDirty(),ne(g)||le(142),S0(i,g)}}else{Gt(null),n.preventDefault();const g=i.anchor.getNode(),w=g.getTextContent(),y=g.canInsertTextAfter(),_=i.anchor.offset===0&&i.focus.offset===w.length;let v=Qg&&p&&!_&&y;if(v&&i.isCollapsed()&&(v=!Ke(qf(i.anchor,!0))),!v){pe(r,Br,!0);const C=se();Qg&&Q(C)&&C.isCollapsed()&&(wo=C,setTimeout(()=>wo=null))}}return}}var a;if(!Q(i))return;const l=n.data;hi!==null&&_p(!1,r,hi),i.dirty&&hi===null||!i.isCollapsed()||Jt(i.anchor.getNode())||o===null||i.applyDOMRange(o),hi=null;const c=i.anchor,u=i.focus,f=c.getNode(),h=u.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(n.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":pe(r,yo,n);break;case"insertFromComposition":Gt(null),pe(r,yo,n);break;case"insertLineBreak":Gt(null),pe(r,Ms,!1);break;case"insertParagraph":Gt(null),Ba&&!Ai?(Ba=!1,pe(r,Ms,!1)):pe(r,tl,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":pe(r,Yo,n);break;case"deleteByComposition":(function(p,g){return p!==g||X(p)||X(g)||!_o(p)||!_o(g)})(f,h)&&pe(r,Hc,n);break;case"deleteByDrag":case"deleteByCut":pe(r,Hc,n);break;case"deleteContent":pe(r,Br,!1);break;case"deleteWordBackward":pe(r,Mi,!0);break;case"deleteWordForward":pe(r,Mi,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":pe(r,Oi,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":pe(r,Oi,!1);break;case"formatStrikeThrough":pe(r,Ss,"strikethrough");break;case"formatBold":pe(r,Ss,"bold");break;case"formatItalic":pe(r,Ss,"italic");break;case"formatUnderline":pe(r,Ss,"underline");break;case"historyUndo":pe(r,Cl,void 0);break;case"historyRedo":pe(r,kl,void 0)}else{if(l===`
`)n.preventDefault(),pe(r,Ms,!1);else if(l===us)n.preventDefault(),pe(r,tl,void 0);else if(l==null&&n.dataTransfer){const p=n.dataTransfer.getData("text/plain");n.preventDefault(),i.insertRawText(p)}else l!=null&&E0(i,o,l,n.timeStamp,!0)?(n.preventDefault(),pe(r,yo,l)):hi=l;C0=n.timeStamp}})}(t,e)]);let Fa=0,_0=null,C0=0,hi=null;const Wc=new WeakMap;let jf=!1,If=!1,Ba=!1,ka=!1,Pd=!1,$d="",wo=null,k0=[0,"",0,"root",0];function E0(t,e,n,r,s){const o=t.anchor,i=t.focus,a=o.getNode(),l=ut(),c=pr(Zn(l)),u=c!==null?c.anchorNode:null,f=o.key,h=l.getElementByKey(f),p=n.length;return f!==i.key||!ne(a)||(!s&&(!Pc||C0<r+50)||a.isDirty()&&p<2||tv(n))&&o.offset!==i.offset&&!a.isComposing()||rs(a)||a.isDirty()&&p>1||(s||!Pc)&&h!==null&&!a.isComposing()&&u!==ji(h)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||a.getFormat()!==t.format||a.getStyle()!==t.style||function(g,w){if(w.isSegmented())return!0;if(!g.isCollapsed())return!1;const y=g.anchor.offset,_=w.getParentOrThrow(),v=_o(w);return y===0?!w.canInsertTextBefore()||!_.canInsertTextBefore()&&!w.isComposing()||v||function(C){const M=C.getPreviousSibling();return(ne(M)||X(M)&&M.isInline())&&!M.canInsertTextAfter()}(w):y===w.getTextContentSize()&&(!w.canInsertTextAfter()||!_.canInsertTextAfter()&&!w.isComposing()||v)}(t,a)}function dw(t,e){return ws(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function fw(t,e,n){const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:i}=t;jf&&(jf=!1,dw(r,s)&&dw(o,i)&&!wo)||Un(e,()=>{if(!n)return void Zt(null);if(!Al(e,r,o))return;let a=se();if(wo&&Q(a)&&a.isCollapsed()){const l=a.anchor,c=wo.anchor;(l.key===c.key&&l.offset===c.offset+1||l.offset===1&&c.getNode().is(l.getNode().getPreviousSibling()))&&(a=wo.clone(),Zt(a))}if(wo=null,Q(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(a.dirty=!0);const u=Zn(e).event,f=u?u.timeStamp:performance.now(),[h,p,g,w,y]=k0,_=Be(),v=e.isComposing()===!1&&_.getTextContent()==="";if(f<y+200&&l.offset===g&&l.key===w)Cc(a,h,p);else if(l.type==="text")ne(c)||le(141),S0(a,c);else if(l.type==="element"&&!v){X(c)||le(259);const C=l.getNode();C.isEmpty()?function(M,j){const S=j.getTextFormat(),L=j.getTextStyle();Cc(M,S,L)}(a,C):Cc(a,0,"")}}else{const u=l.key,f=a.focus.key,h=a.getNodes(),p=h.length,g=a.isBackward(),w=g?i:s,y=g?s:i,_=g?f:u,v=g?u:f;let C=lk,M=!1;for(let j=0;j<p;j++){const S=h[j],L=S.getTextContentSize();if(ne(S)&&L!==0&&!(j===0&&S.__key===_&&w===L||j===p-1&&S.__key===v&&y===0)&&(M=!0,C&=S.getFormat(),C===0))break}a.format=M?C:0}}pe(e,Js,void 0)})}function Cc(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0)}function S0(t,e){Cc(t,e.getFormat(),e.getStyle())}function N0(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function nc(t,e){const n=t._compositionKey;if(Gt(null),n!==null&&e!=null){if(e===""){const r=Te(n),s=ji(t.getElementByKey(n));return void(s!==null&&s.nodeValue!==null&&ne(r)&&Cp(r,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=se();if(Q(r)){const s=r.focus;return r.anchor.set(s.key,s.offset,s.type),void pe(t,Ri,null)}}}_p(!0,t,e)}function T0(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const yi=new Map;function A0(t){const e=pE(t.target);if(e===null)return;const n=Y0(e.anchorNode);if(n===null)return;If&&(If=!1,Un(n,()=>{const l=oa(),c=e.anchorNode;(et(c)||ws(c))&&Zt(dp(l,e,n,t))}));const r=xp(n),s=r[r.length-1],o=s._key,i=yi.get(o),a=i||s;a!==n&&fw(e,a,!1),fw(e,n,!0),n!==s?yi.set(o,n):i&&yi.delete(o)}function hw(t){t._lexicalHandled=!0}function pw(t){return t._lexicalHandled===!0}function $k(t){const e=t.ownerDocument,n=Wc.get(e);if(n===void 0)return;const r=n-1;r>=0||le(164),Wc.set(e,r),r===0&&e.removeEventListener("selectionchange",A0);const s=zu(t);vp(s)?(function(i){if(i._parentEditor!==null){const a=xp(i),l=a[a.length-1]._key;yi.get(l)===i&&yi.delete(l)}else yi.delete(i._key)}(s),t.__lexicalEditor=null):s&&le(198);const o=T0(t);for(let i=0;i<o.length;i++)o[i]();t.__lexicalEventHandles=[]}function Lf(t,e,n){Wt();const r=t.__key,s=t.getParent();if(s===null)return;const o=function(a){const l=se();if(!Q(l)||!X(a))return l;const{anchor:c,focus:u}=l,f=c.getNode(),h=u.getNode();return Uf(f,a)&&c.set(a.__key,0,"element"),Uf(h,a)&&u.set(a.__key,0,"element"),l}(t);let i=!1;if(Q(o)&&e){const a=o.anchor,l=o.focus;a.key===r&&(Jc(a,t,s,t.getPreviousSibling(),t.getNextSibling()),i=!0),l.key===r&&(Jc(l,t,s,t.getPreviousSibling(),t.getNextSibling()),i=!0)}else hn(o)&&e&&t.isSelected()&&t.selectPrevious();if(Q(o)&&e&&!i){const a=t.getIndexWithinParent();Co(t),Gc(o,s,a,-1)}else Co(t);n||Gr(s)||s.canBeEmpty()||!s.isEmpty()||Lf(s,e),e&&o&&Jt(s)&&s.isEmpty()&&s.selectEnd()}let sa=class{static getType(){const{ownNodeType:e}=Np(this);return e===void 0&&le(64,this.name),e}static clone(e){le(65,this.name)}$config(){return{}}config(e,n){const r=n.extends||Object.getPrototypeOf(this.constructor);return Object.assign(n,{extends:r,type:e}),{[e]:n}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),aE(this,e)}getType(){return this.__type}isInline(){le(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=Te(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||se();if(n==null)return!1;const r=n.getNodes().some(s=>s.__key===this.__key);if(ne(this))return r;if(Q(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const s=this.getParent();if(Ke(this)&&this.isInline()&&s){const o=n.isBackward()?n.focus:n.anchor;if(s.is(o.getNode())&&o.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Te(e)}getParentOrThrow(){const e=this.getParent();return e===null&&le(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(Gr(n))return X(e)||e===this&&Ke(e)||le(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&le(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Te(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Te(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=X(this)?this:this.getParent(),r=X(e)?e:e.getParent(),s=n&&r?Ua(n,r):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const n=Ua(this,e);return n!==null&&(n.type==="descendant"||(n.type==="branch"?fv(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&le(279),!1)))}isParentOf(e){const n=Ua(this,e);return n!==null&&n.type==="ancestor"}getNodesBetween(e){const n=this.isBefore(e),r=[],s=new Set;let o=this;for(;o!==null;){const i=o.__key;if(s.has(i)||(s.add(i),r.push(o)),o===e)break;const a=X(o)?n?o.getFirstChild():o.getLastChild():null;if(a!==null){o=a;continue}const l=n?o.getNextSibling():o.getPreviousSibling();if(l!==null){o=l;continue}const c=o.getParentOrThrow();if(s.has(c.__key)||r.push(c),c===e)break;let u=null,f=c;do{if(f===null&&le(68),u=n?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;u!==null||s.has(f.__key)||r.push(f)}while(u===null);o=u}return n||r.reverse(),r}isDirty(){const e=ut()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Te(this.__key);return e===null&&le(113),e}getWritable(){Wt();const e=Ys(),n=ut(),r=e._nodeMap,s=this.__key,o=this.getLatest(),i=n._cloneNotNeeded,a=se();if(a!==null&&a.setCachedNodes(null),i.has(s))return Yc(o),o;const l=Sp(o);return i.add(s),Yc(l),r.set(s,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){le(70)}updateDOM(e,n,r){le(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){le(18,this.name)}updateFromJSON(e){return function(n,r){const s=n.getWritable(),o=r.$;let i=o;for(const a of d0(s).flatKeys)a in r&&(i!==void 0&&i!==o||(i={...o}),i[a]=r[a]);return(s.__state||i)&&u0(n).updateFromJSON(i),s}(this,e)}static transform(){return null}remove(e){Lf(this,!0,e)}replace(e,n){Wt();let r=se();r!==null&&(r=r.clone()),Vd(this,e);const s=this.getLatest(),o=this.__key,i=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;Co(a);const u=s.getPreviousSibling(),f=s.getNextSibling(),h=s.__prev,p=s.__next,g=s.__parent;if(Lf(s,!1,!0),u===null?l.__first=i:u.getWritable().__next=i,a.__prev=h,f===null?l.__last=i:f.getWritable().__prev=i,a.__next=p,a.__parent=g,l.__size=c,n&&(X(this)&&X(a)||le(139),this.getChildren().forEach(w=>{a.append(w)})),Q(r)){Zt(r);const w=r.anchor,y=r.focus;w.key===o&&bw(w,a),y.key===o&&bw(y,a)}return Ns()===o&&Gt(i),a}insertAfter(e,n=!0){Wt(),Vd(this,e);const r=this.getWritable(),s=e.getWritable(),o=s.getParent(),i=se();let a=!1,l=!1;if(o!==null){const p=e.getIndexWithinParent();if(Co(s),Q(i)){const g=o.__key,w=i.anchor,y=i.focus;a=w.type==="element"&&w.key===g&&w.offset===p+1,l=y.type==="element"&&y.key===g&&y.offset===p+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),f=s.__key,h=r.__next;if(c===null?u.__last=f:c.getWritable().__prev=f,u.__size++,r.__next=f,s.__next=h,s.__prev=r.__key,s.__parent=r.__parent,n&&Q(i)){const p=this.getIndexWithinParent();Gc(i,u,p+1);const g=u.__key;a&&i.anchor.set(g,p+2,"element"),l&&i.focus.set(g,p+2,"element")}return e}insertBefore(e,n=!0){Wt(),Vd(this,e);const r=this.getWritable(),s=e.getWritable(),o=s.__key;Co(s);const i=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,c=this.getIndexWithinParent();i===null?a.__first=o:i.getWritable().__next=o,a.__size++,r.__prev=o,s.__prev=l,s.__next=r.__key,s.__parent=r.__parent;const u=se();return n&&Q(u)&&Gc(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return Vn()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){Wt();const r=this.getPreviousSibling(),s=this.getParentOrThrow();if(r===null)return s.select(0,0);if(X(r))return r.select();if(!ne(r)){const o=r.getIndexWithinParent()+1;return s.select(o,o)}return r.select(e,n)}selectNext(e,n){Wt();const r=this.getNextSibling(),s=this.getParentOrThrow();if(r===null)return s.select();if(X(r))return r.select(0,0);if(!ne(r)){const o=r.getIndexWithinParent();return s.select(o,o)}return r.select(e,n)}markDirty(){this.getWritable()}reconcileObservedMutation(e,n){this.markDirty()}},El=class D0 extends sa{static getType(){return"linebreak"}static clone(e){return new D0(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(n){const r=n.parentElement;if(r!==null&&Qc(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&rc(s)){const o=r.lastChild;if(o===n||o.previousSibling===n&&rc(o))return!0}}return!1}(e)||function(n){const r=n.parentElement;if(r!==null&&Qc(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&rc(s))return!1;const o=r.lastChild;if(o===n||o.previousSibling===n&&rc(o))return!0}return!1}(e)?null:{conversion:Fk,priority:0}}}static importJSON(e){return Ro().updateFromJSON(e)}};function Fk(t){return{node:Ro()}}function Ro(){return nt(new El)}function vo(t){return t instanceof El}function rc(t){return ws(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Fd(t,e){return 16&e?"code":e&Wh?"mark":32&e?"sub":64&e?"sup":null}function Bd(t,e){return 1&e?"strong":2&e?"em":"span"}function M0(t,e,n,r,s){const o=r.classList;let i=xi(s,"base");i!==void 0&&o.add(...i),i=xi(s,"underlineStrikethrough");let a=!1;const l=e&qc&&e&Bc;i!==void 0&&(n&qc&&n&Bc?(a=!0,l||o.add(...i)):l&&o.remove(...i));for(const c in Ps){const u=Ps[c];if(i=xi(s,c),i!==void 0)if(n&u){if(a&&(c==="underline"||c==="strikethrough")){e&u&&o.remove(...i);continue}e&u&&(!l||c!=="underline")&&c!=="strikethrough"||o.add(...i)}else e&u&&o.remove(...i)}}function O0(t,e,n){const r=e.firstChild,s=n.isComposing(),o=t+(s?Iu:"");if(r==null)e.textContent=o;else{const i=r.nodeValue;if(i!==o)if(s||Do){const[a,l,c]=function(u,f){const h=u.length,p=f.length;let g=0,w=0;for(;g<h&&g<p&&u[g]===f[g];)g++;for(;w+g<h&&w+g<p&&u[h-w-1]===f[p-w-1];)w++;return[g,h-g-w,f.slice(g,p-w)]}(i,o);l!==0&&r.deleteData(a,l),r.insertData(a,c)}else r.nodeValue=o}}function gw(t,e,n,r,s,o){O0(s,t,e);const i=o.theme.text;i!==void 0&&M0(0,0,r,t,i)}function sc(t,e){const n=document.createElement(e);return n.appendChild(t),n}class an extends sa{static getType(){return"text"}static clone(e){return new an(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return gk[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ns()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=Ps[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return Xc(this.getLatest().__format,e,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,n){const r=this.__format,s=Fd(0,r),o=Bd(0,r),i=s===null?o:s,a=document.createElement(i);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),s!==null&&(l=document.createElement(o),a.appendChild(l)),gw(l,this,0,r,this.__text,e);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(e,n,r){const s=this.__text,o=e.__format,i=this.__format,a=Fd(0,o),l=Fd(0,i),c=Bd(0,o),u=Bd(0,i);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const w=n.firstChild;w==null&&le(48);const y=document.createElement(u);return gw(y,this,0,i,s,r),n.replaceChild(y,w),!1}let f=n;l!==null&&a!==null&&(f=n.firstChild,f==null&&le(49)),O0(s,f,this);const h=r.theme.text;h!==void 0&&o!==i&&M0(0,o,i,f,h);const p=e.__style,g=this.__style;return p!==g&&(n.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:zk,priority:0}),b:()=>({conversion:qk,priority:0}),code:()=>({conversion:es,priority:0}),em:()=>({conversion:es,priority:0}),i:()=>({conversion:es,priority:0}),mark:()=>({conversion:es,priority:0}),s:()=>({conversion:es,priority:0}),span:()=>({conversion:Bk,priority:0}),strong:()=>({conversion:es,priority:0}),sub:()=>({conversion:es,priority:0}),sup:()=>({conversion:es,priority:0}),u:()=>({conversion:es,priority:0})}}static importJSON(e){return De().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:n}=super.exportDOM(e);return et(n)||le(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=sc(n,"b")),this.hasFormat("italic")&&(n=sc(n,"i")),this.hasFormat("strikethrough")&&(n=sc(n,"s")),this.hasFormat("underline")&&(n=sc(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?Ps[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?fk[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=Xc(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=pk[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){Wt();let r=e,s=n;const o=se(),i=this.getTextContent(),a=this.__key;if(typeof i=="string"){const l=i.length;r===void 0&&(r=l),s===void 0&&(s=l)}else r=0,s=0;if(!Q(o))return $0(a,r,a,s,"text","text");{const l=Ns();l!==o.anchor.key&&l!==o.focus.key||Gt(a),o.setTextNodeRange(this,r,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,s){const o=this.getWritable(),i=o.__text,a=r.length;let l=e;l<0&&(l=a+l,l<0&&(l=0));const c=se();if(s&&Q(c)){const f=e+a;c.setTextNodeRange(o,f,o,f)}const u=i.slice(0,l)+r+i.slice(l+n);return o.__text=u,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Wt();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const s=n.__key,o=Ns(),i=r.length;e.sort((A,O)=>A-O),e.push(i);const a=[],l=e.length;for(let A=0,O=0;A<i&&O<=l;O++){const F=e[O];F>A&&(a.push(r.slice(A,F)),A=F)}const c=a.length;if(c===1)return[n];const u=a[0],f=n.getParent();let h;const p=n.getFormat(),g=n.getStyle(),w=n.__detail;let y=!1,_=null,v=null;const C=se();if(Q(C)){const[A,O]=C.isBackward()?[C.focus,C.anchor]:[C.anchor,C.focus];A.type==="text"&&A.key===s&&(_=A),O.type==="text"&&O.key===s&&(v=O)}n.isSegmented()?(h=De(u),h.__format=p,h.__style=g,h.__detail=w,h.__state=sw(n,h),y=!0):h=n.setTextContent(u);const M=[h];for(let A=1;A<c;A++){const O=De(a[A]);O.__format=p,O.__style=g,O.__detail=w,O.__state=sw(n,O);const F=O.__key;o===s&&Gt(F),M.push(O)}const j=_?_.offset:null,S=v?v.offset:null;let L=0;for(const A of M){if(!_&&!v)break;const O=L+A.getTextContentSize();if(_!==null&&j!==null&&j<=O&&j>=L&&(_.set(A.getKey(),j-L,"text"),j<O&&(_=null)),v!==null&&S!==null&&S<=O&&S>=L){v.set(A.getKey(),S-L,"text");break}L=O}if(f!==null){(function(F){const E=F.getPreviousSibling(),I=F.getNextSibling();E!==null&&Yc(E),I!==null&&Yc(I)})(this);const A=f.getWritable(),O=this.getIndexWithinParent();y?(A.splice(O,0,M),this.remove()):A.splice(O,1,M),Q(C)&&Gc(C,f,O,c-1)}return M}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||le(50);const r=this.__key,s=e.__key,o=this.__text,i=o.length;Ns()===s&&Gt(r);const a=se();if(Q(a)){const f=a.anchor,h=a.focus;f!==null&&f.key===s&&Ew(f,n,r,e,i),h!==null&&h.key===s&&Ew(h,n,r,e,i)}const l=e.__text,c=n?l+o:o+l;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function Bk(t){return{forChild:up(t.style),node:null}}function qk(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:up(e.style,n?void 0:"bold"),node:null}}const ww=new WeakMap;function Uk(t){if(!et(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function zk(t){const e=t;t.parentElement===null&&le(129);let n=e.textContent||"";if(function(r){let s,o=r.parentNode;const i=[r];for(;o!==null&&(s=ww.get(o))===void 0&&!Uk(o);)i.push(o),o=o.parentNode;const a=s===void 0?o:s;for(let l=0;l<i.length;l++)ww.set(i[l],a);return a}(e)!==null){const r=n.split(/(\r?\n|\t)/),s=[],o=r.length;for(let i=0;i<o;i++){const a=r[i];a===`
`||a===`\r
`?s.push(Ro()):a==="	"?s.push(Nl()):a!==""&&s.push(De(a))}return{node:s}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=e,s=!0;for(;r!==null&&(r=mw(r,!1))!==null;){const o=r.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(n=n.slice(1)),s=!1;break}}s&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=e,s=!0;for(;r!==null&&(r=mw(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:De(n)}}function mw(t,e){let n=t;for(;;){let r;for(;(r=e?n.nextSibling:n.previousSibling)===null;){const o=n.parentElement;if(o===null)return null;n=o}if(n=r,et(n)){const o=n.style.display;if(o===""&&!Hf(n)||o!==""&&!o.startsWith("inline"))return null}let s=n;for(;(s=e?n.firstChild:n.lastChild)!==null;)n=s;if(ws(n))return n;if(n.nodeName==="BR")return null}}const Vk={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function es(t){const e=Vk[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:up(t.style,e),node:null}}function De(t=""){return nt(new an(t))}function ne(t){return t instanceof an}function up(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),s=n==="700"||n==="bold",o=r.includes("line-through"),i=t.fontStyle==="italic",a=r.includes("underline"),l=t.verticalAlign;return c=>(ne(c)&&(s&&!c.hasFormat("bold")&&c.toggleFormat("bold"),o&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),i&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class Sl extends an{static getType(){return"tab"}static clone(e){return new Sl(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const n=super.createDOM(e),r=xi(e.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(e){return Nl().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&le(126),super.setTextContent("	")}spliceText(e,n,r,s){return r===""&&n===0||r==="	"&&n===1||le(286),this}setDetail(e){return e!==2&&le(127),this}setMode(e){return e!=="normal"&&le(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Nl(){return nt(new Sl)}function R0(t){return t instanceof Sl}class Hk{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:dv(Fr(ds(this,"next")),Fr(ds(e,"next")))<0}getNode(){const e=Te(this.key);return e===null&&le(20),e}set(e,n,r,s){const o=this._selection,i=this.key;s&&this.key===e&&this.offset===n&&this.type===r||(this.key=e,this.offset=n,this.type=r,ia()||(Ns()===i&&Gt(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function Sn(t,e,n){return new Hk(t,e,n)}function qd(t,e){let n=e.__key,r=t.offset,s="element";if(ne(e)){s="text";const o=e.getTextContentSize();r>o&&(r=o)}else if(!X(e)){const o=e.getNextSibling();if(ne(o))n=o.__key,r=0,s="text";else{const i=e.getParent();i&&(n=i.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,s)}function bw(t,e){if(X(e)){const n=e.getLastDescendant();X(n)||ne(n)?qd(t,n):qd(t,e)}else qd(t,e)}let j0=class I0{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!hn(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(s=>r.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new I0(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),r=n.length,s=n[r-1];let o;if(ne(s))o=s.select();else{const i=s.getIndexWithinParent()+1;o=s.getParentOrThrow().select(i,i)}o.insertNodes(e);for(let i=0;i<r;i++)n[i].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const s of n){const o=Te(s);o!==null&&r.push(o)}return ia()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}deleteNodes(){const e=this.getNodes();if((se()||oa())===this&&e[0]){const n=Ot(e[0],"next");TE(Bs(n,n))}for(const n of e)n.remove()}};function Q(t){return t instanceof Zo}class Zo{constructor(e,n,r,s){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Q(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=function(r){const s=[],[o,i]=r.getTextSlices();o&&s.push(o.caret.origin);const a=new Set,l=new Set;for(const c of r)if(dr(c)){const{origin:u}=c;s.length===0?a.add(u):(l.add(u),s.push(u))}else{const{origin:u}=c;X(u)&&l.has(u)||s.push(u)}if(i&&s.push(i.caret.origin),jo(r.focus)&&X(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=gr(r.focus.origin,"previous");dr(c)&&a.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(s[s.length-1]);c=nl(c))a.delete(c.origin),s.pop();for(;s.length>1;){const c=s[s.length-1];if(!X(c)||l.has(c)||c.isEmpty()||a.has(c))break;s.pop()}if(s.length===0&&r.isCollapsed()){const c=Fr(r.anchor),u=Fr(r.anchor.getFlipped()),f=p=>Os(p)?p.origin:p.getNodeAtCaret(),h=f(c)||f(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);s.push(h)}return s}(pv(Hw(this),"next"));return ia()||(this._cachedNodes=n),n}setTextNodeRange(e,n,r,s){this.anchor.set(e.__key,n,"text"),this.focus.set(r.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],s=this.anchor,o=this.focus,i=s.isBefore(o),[a,l]=Pf(this);let c="",u=!0;for(let f=0;f<e.length;f++){const h=e[f];if(X(h)&&!h.isInline())u||(c+=`
`),u=!h.isEmpty();else if(u=!1,ne(h)){let p=h.getTextContent();h===n?h===r?s.type==="element"&&o.type==="element"&&o.offset!==s.offset||(p=a<l?p.slice(a,l):p.slice(l,a)):p=i?p.slice(a):p.slice(l):h===r&&(p=i?p.slice(0,l):p.slice(0,a)),c+=p}else!Ke(h)&&!vo(h)||h===r&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(e){const n=ut(),r=n.getEditorState()._selection,s=P0(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r);if(s===null)return;const[o,i]=s;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),Ya(this)}clone(){const e=this.anchor,n=this.focus;return new Zo(Sn(e.key,e.offset,e.type),Sn(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=Xc(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=Ps[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),r=[],s=n.length;for(let o=0;o<s;o++){const i=n[o];i===`
`||i===`\r
`?r.push(Ro()):i==="	"?r.push(Nl()):r.push(De(i))}this.insertNodes(r)}insertText(e){const n=this.anchor,r=this.focus,s=this.format,o=this.style;let i=n,a=r;!this.isCollapsed()&&r.isBefore(n)&&(i=r,a=n),i.type==="element"&&function(y,_,v,C){const M=y.getNode(),j=M.getChildAtIndex(y.offset),S=De(),L=Jt(M)?Vn().append(S):S;S.setFormat(v),S.setStyle(C),j===null?M.append(L):j.insertBefore(L),y.is(_)&&_.set(S.__key,0,"text"),y.set(S.__key,0,"text")}(i,a,s,o),a.type==="element"&&rl(a,Fr(ds(a,"next")));const l=i.offset;let c=a.offset;const u=this.getNodes(),f=u.length;let h=u[0];ne(h)||le(26);const p=h.getTextContent().length,g=h.getParentOrThrow();let w=u[f-1];if(f===1&&a.type==="element"&&(c=p,a.set(i.key,c,"text")),this.isCollapsed()&&l===p&&(rs(h)||!h.canInsertTextAfter()||!g.canInsertTextAfter()&&h.getNextSibling()===null)){let y=h.getNextSibling();if(ne(y)&&y.canInsertTextBefore()&&!rs(y)||(y=De(),y.setFormat(s),y.setStyle(o),g.canInsertTextAfter()?h.insertAfter(y):g.insertAfter(y)),y.select(0,0),h=y,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(rs(h)||!h.canInsertTextBefore()||!g.canInsertTextBefore()&&h.getPreviousSibling()===null)){let y=h.getPreviousSibling();if(ne(y)&&!rs(y)||(y=De(),y.setFormat(s),g.canInsertTextBefore()?h.insertBefore(y):g.insertBefore(y)),y.select(),h=y,e!=="")return void this.insertText(e)}else if(h.isSegmented()&&l!==p){const y=De(h.getTextContent());y.setFormat(s),h.replace(y),h=y}else if(!this.isCollapsed()&&e!==""){const y=w.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||X(y)&&(!y.canInsertTextBefore()||!y.canInsertTextAfter()))return this.insertText(""),L0(this.anchor,this.focus,null),void this.insertText(e)}if(f===1){if(_o(h)){const C=De(e);return C.select(),void h.replace(C)}const y=h.getFormat(),_=h.getStyle();if(l!==c||y===s&&_===o){if(R0(h)){const C=De(e);return C.setFormat(s),C.setStyle(o),C.select(),void h.replace(C)}}else{if(h.getTextContent()!==""){const C=De(e);if(C.setFormat(s),C.setStyle(o),C.select(),l===0)h.insertBefore(C,!1);else{const[M]=h.splitText(l);M.insertAfter(C,!1)}return void(C.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}h.setFormat(s),h.setStyle(o)}const v=c-l;h=h.spliceText(l,v,e,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=e.length:(this.format=y,this.style=_))}else{const y=new Set([...h.getParentKeys(),...w.getParentKeys()]),_=X(h)?h:h.getParentOrThrow();let v=X(w)?w:w.getParentOrThrow(),C=w;if(!_.is(v)&&v.isInline())do C=v,v=v.getParentOrThrow();while(v.isInline());if(a.type==="text"&&(c!==0||w.getTextContent()==="")||a.type==="element"&&w.getIndexWithinParent()<c)if(ne(w)&&!_o(w)&&c!==w.getTextContentSize()){if(w.isSegmented()){const A=De(w.getTextContent());w.replace(A),w=A}Jt(a.getNode())||a.type!=="text"||(w=w.spliceText(0,c,"")),y.add(w.__key)}else{const A=w.getParentOrThrow();A.canBeEmpty()||A.getChildrenSize()!==1?w.remove():A.remove()}else y.add(w.__key);const M=v.getChildren(),j=new Set(u),S=_.is(v),L=_.isInline()&&h.getNextSibling()===null?_:h;for(let A=M.length-1;A>=0;A--){const O=M[A];if(O.is(h)||X(O)&&O.isParentOf(h))break;O.isAttached()&&(!j.has(O)||O.is(C)?S||L.insertAfter(O,!1):O.remove())}if(!S){let A=v,O=null;for(;A!==null;){const F=A.getChildren(),E=F.length;(E===0||F[E-1].is(O))&&(y.delete(A.__key),O=A),A=A.getParent()}}if(_o(h))if(l===p)h.select();else{const A=De(e);A.select(),h.replace(A)}else h=h.spliceText(l,p-l,e,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let A=1;A<f;A++){const O=u[A],F=O.__key;y.has(F)||O.remove()}}}removeText(){const e=se()===this;Nc(this,AE(Hw(this))),e&&se()!==this&&Zt(this)}formatText(e,n=null){if(this.isCollapsed())return this.toggleFormat(e),void Gt(null);const r=this.getNodes(),s=[];for(const M of r)ne(M)&&s.push(M);const o=M=>{r.forEach(j=>{if(X(j)){const S=j.getFormatFlags(e,M);j.setTextFormat(S)}})},i=s.length;if(i===0)return this.toggleFormat(e),Gt(null),void o(n);const a=this.anchor,l=this.focus,c=this.isBackward(),u=c?l:a,f=c?a:l;let h=0,p=s[0],g=u.type==="element"?0:u.offset;if(u.type==="text"&&g===p.getTextContentSize()&&(h=1,p=s[1],g=0),p==null)return;const w=p.getFormatFlags(e,n);o(w);const y=i-1;let _=s[y];const v=f.type==="text"?f.offset:_.getTextContentSize();if(p.is(_)){if(g===v)return;if(rs(p)||g===0&&v===p.getTextContentSize())p.setFormat(w);else{const M=p.splitText(g,v),j=g===0?M[0]:M[1];j.setFormat(w),u.type==="text"&&u.set(j.__key,0,"text"),f.type==="text"&&f.set(j.__key,v-g,"text")}return void(this.format=w)}g===0||rs(p)||([,p]=p.splitText(g),g=0),p.setFormat(w);const C=_.getFormatFlags(e,w);v>0&&(v===_.getTextContentSize()||rs(_)||([_]=_.splitText(v)),_.setFormat(C));for(let M=h+1;M<y;M++){const j=s[M],S=j.getFormatFlags(e,C);j.setFormat(S)}u.type==="text"&&u.set(p.__key,g,"text"),f.type==="text"&&f.set(_.__key,v,"text"),this.format=w|C}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const g=se();return Q(g)||le(134),g.insertNodes(e)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=Kd(n,Jn),s=e[e.length-1];if(X(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const g=Ud(this);r.splice(g,0,e),s.selectEnd()}return}if(!e.some(g=>(X(g)||Ke(g))&&!g.isInline())){X(r)||le(211,n.constructor.name,n.getType());const g=Ud(this);return r.splice(g,0,e),void s.selectEnd()}const o=function(g){const w=Vn();let y=null;for(let _=0;_<g.length;_++){const v=g[_],C=vo(v);if(C||Ke(v)&&v.isInline()||X(v)&&v.isInline()||ne(v)||v.isParentRequired()){if(y===null&&(y=v.createParentElementNode(),w.append(y),C))continue;y!==null&&y.append(v)}else w.append(v),y=null}return w}(e),i=o.getLastDescendant(),a=o.getChildren(),l=!X(r)||!r.isEmpty()?this.insertParagraph():null,c=a[a.length-1];let u=a[0];var f;X(f=u)&&Jn(f)&&!f.isEmpty()&&X(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(X(r)||le(211,n.constructor.name,n.getType()),r.append(...u.getChildren()),u=a[1]),u&&(r===null&&le(212,n.constructor.name,n.getType()),function(g,w,y){const _=w.getParentOrThrow().getLastChild();let v=w;const C=[w];for(;v!==_;)v.getNextSibling()||le(140),v=v.getNextSibling(),C.push(v);let M=g;for(const j of C)M=M.insertAfter(j)}(r,u));const h=Kd(i,Jn);l&&X(h)&&(l.canMergeWhenEmpty()||Jn(c))&&(h.append(...l.getChildren()),l.remove()),X(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const p=X(r)?r.getLastChild():null;vo(p)&&h!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const i=Vn();return Be().splice(this.anchor.offset,0,[i]),i.select(),i}const e=Ud(this),n=Kd(this.anchor.getNode(),Jn);X(n)||le(213);const r=n.getChildAtIndex(e),s=r?[r,...r.getNextSiblings()]:[],o=n.insertNewAfter(this,!1);return o?(o.append(...s),o.selectStart(),o):null}insertLineBreak(e){const n=Ro();if(this.insertNodes([n]),e){const r=n.getParentOrThrow(),s=n.getIndexWithinParent();r.select(s,s)}}extract(){const e=this.getNodes(),n=e.length,r=n-1,s=this.anchor,o=this.focus;let i=e[0],a=e[r];const[l,c]=Pf(this);if(n===0)return[];if(n===1){if(ne(i)&&!this.isCollapsed()){const f=l>c?c:l,h=l>c?l:c,p=i.splitText(f,h),g=f===0?p[0]:p[1];return g!=null?[g]:[]}return[i]}const u=s.isBefore(o);if(ne(i)){const f=u?l:c;f===i.getTextContentSize()?e.shift():f!==0&&([,i]=i.splitText(f),e[0]=i)}if(ne(a)){const f=a.getTextContent().length,h=u?c:l;h===0?e.pop():h!==f&&([a]=a.splitText(h),e[r]=a)}return e}modify(e,n,r){if(Sw(this,e,n,r))return;const s=e==="move",o=ut(),i=pr(Zn(o));if(!i)return;const a=o._blockCursorElement,l=o._rootElement,c=this.focus.getNode();if(l===null||a===null||!X(c)||c.isInline()||c.canBeEmpty()||zf(a,o,l),this.dirty){let u=Ii(o,this.anchor.key),f=Ii(o,this.focus.key);this.anchor.type==="text"&&(u=ji(u)),this.focus.type==="text"&&(f=ji(f)),u&&f&&B0(i,u,this.anchor.offset,f,this.focus.offset)}if(function(u,f,h,p){u.modify(f,h,p)}(i,e,n?"backward":"forward",r),i.rangeCount>0){const u=i.getRangeAt(0),f=this.anchor.getNode(),h=Jt(f)?f:fE(f);if(this.applyDOMRange(u),this.dirty=!0,!s){const p=this.getNodes(),g=[];let w=!1;for(let y=0;y<p.length;y++){const _=p[y];Uf(_,h)?g.push(_):w=!0}if(w&&g.length>0)if(n){const y=g[0];X(y)?y.selectStart():y.getParentOrThrow().selectStart()}else{const y=g[g.length-1];X(y)?y.selectEnd():y.getParentOrThrow().selectEnd()}i.anchorNode===u.startContainer&&i.anchorOffset===u.startOffset||function(y){const _=y.focus,v=y.anchor,C=v.key,M=v.offset,j=v.type;v.set(_.key,_.offset,_.type,!0),_.set(C,M,j,!0)}(this)}}r==="lineboundary"&&Sw(this,e,n,r,"decorators")}forwardDeletion(e,n,r){if(!r&&(e.type==="element"&&X(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const s=n.getParent(),o=n.getNextSibling()||(s===null?null:s.getNextSibling());if(X(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let s=r.getNode();if(this.forwardDeletion(r,s,e))return;const o=Dp(ds(r,e?"previous":"next"));if(o.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(const l of o.iterNodeCarets("shadowRoot"))if(dr(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(X(o.anchor.origin)&&o.anchor.origin.isEmpty()){const c=Fr(l);Nc(this,Bs(c,c)),o.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(jo(l)){if(X(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(o.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(Ke(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&X(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const c=F0();c.add(l.origin.getKey()),Zt(c)}else l.origin.remove();return}break}}if(a.type==="merge-block"){const{caret:l,block:c}=a;return Nc(this,Bs(!l.origin.isEmpty()&&c.isEmpty()?Gu(Ot(c,l.direction)):o.anchor,l)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&vw(this,r.getNode()))return}else{const a=i.type==="text"?i.getNode():null;if(s=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){const l=i.offset,c=a.getTextContentSize();if(a.is(s)||e&&l!==c||!e&&l!==0)return void xw(a,e,l)}else if(s!==null&&s.isSegmented()){const l=r.offset,c=s.getTextContentSize();if(s.is(a)||e&&l!==0||!e&&l!==c)return void xw(s,e,l)}(function(l,c){const u=l.anchor,f=l.focus,h=u.getNode(),p=f.getNode();if(h===p&&u.type==="text"&&f.type==="text"){const g=u.offset,w=f.offset,y=g<w,_=y?g:w,v=y?w:g,C=v-1;_!==C&&function(M){return!(tv(M)||Kk(M))}(h.getTextContent().slice(_,v))&&(c?f.set(f.key,C,f.type):u.set(u.key,C,u.type))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&Jt(r.getParent())&&r.getPreviousSibling()===null&&vw(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function hn(t){return t instanceof j0}function yw(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function Pf(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,r]=e;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[yw(n),yw(r)]}function vw(t,e){for(let n=e;n;n=n.getParent()){if(X(n)){if(n.collapseAtStart(t))return!0;if(Gr(n))break}if(n.getPreviousSibling())break}return!1}const Kk=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("â¤ï¸")&&e("#ï¸âƒ£")&&e("ðŸ‘"))return e}catch{}return()=>!1})();function xw(t,e,n){const r=t,s=r.getTextContent().split(/(?=\s)/g),o=s.length;let i=0,a=0;for(let c=0;c<o;c++){const u=c===o-1;if(a=i,i+=s[c].length,e&&i===n||i>n||u){s.splice(c,1),u&&(a=void 0);break}}const l=s.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function _w(t,e,n,r){let s,o=e;if(et(t)){let i=!1;const a=t.childNodes,l=a.length,c=r._blockCursorElement;o===l&&(i=!0,o=l-1);let u=a[o],f=!1;if(u===c)u=a[o+1],f=!0;else if(c!==null){const h=c.parentNode;t===h&&e>Array.prototype.indexOf.call(h.children,c)&&o--}if(s=wi(u),ne(s))o=Rs(s,i?"next":"previous");else{let h=wi(t);if(h===null)return null;if(X(h)){const p=r.getElementByKey(h.getKey());p===null&&le(214),[h,o]=h.getDOMSlot(p).resolveChildIndex(h,p,t,e),X(h)||le(215),i&&o>=h.getChildrenSize()&&(o=Math.max(0,h.getChildrenSize()-1));let w=h.getChildAtIndex(o);if(X(w)&&function(y,_,v){const C=y.getParent();return v===null||C===null||!C.canBeEmpty()||C!==v.getNode()}(w,0,n)){const y=i?w.getLastDescendant():w.getFirstDescendant();y===null?h=w:(w=y,h=X(w)?w:w.getParentOrThrow()),o=0}ne(w)?(s=w,h=null,o=Rs(w,i?"next":"previous")):w!==h&&i&&!f&&(X(h)||le(216),o=Math.min(h.getChildrenSize(),o+1))}else{const p=h.getIndexWithinParent();o=e===0&&Ke(h)&&wi(t)===h?p:p+1,h=h.getParentOrThrow()}if(X(h))return Sn(h.__key,o,"element")}}else s=wi(t);return ne(s)?Sn(s.__key,Rs(s,o,"clamp"),"text"):null}function Cw(t,e,n){const r=t.offset,s=t.getNode();if(r===0){const o=s.getPreviousSibling(),i=s.getParent();if(e){if((n||!e)&&o===null&&X(i)&&i.isInline()){const a=i.getPreviousSibling();ne(a)&&t.set(a.__key,a.getTextContent().length,"text")}}else X(o)&&!n&&o.isInline()?t.set(o.__key,o.getChildrenSize(),"element"):ne(o)&&t.set(o.__key,o.getTextContent().length,"text")}else if(r===s.getTextContent().length){const o=s.getNextSibling(),i=s.getParent();if(e&&X(o)&&o.isInline())t.set(o.__key,0,"element");else if((n||e)&&o===null&&X(i)&&i.isInline()&&!i.canInsertTextAfter()){const a=i.getNextSibling();ne(a)&&t.set(a.__key,0,"text")}}}function L0(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),s=t.is(e);Cw(t,r,s),Cw(e,!r,s),s&&e.set(t.key,t.offset,t.type);const o=ut();if(o.isComposing()&&o._compositionKey!==t.key&&Q(n)){const i=n.anchor,a=n.focus;t.set(i.key,i.offset,i.type,!0),e.set(a.key,a.offset,a.type,!0)}}}function P0(t,e,n,r,s,o){if(t===null||n===null||!Al(s,t,n))return null;const i=_w(t,e,Q(o)?o.anchor:null,s);if(i===null)return null;const a=_w(n,r,Q(o)?o.focus:null,s);if(a===null)return null;if(i.type==="element"&&a.type==="element"){const l=wi(t),c=wi(n);if(Ke(l)&&Ke(c))return null}return L0(i,a,o),[i,a]}function $f(t){return X(t)&&!t.isInline()}function $0(t,e,n,r,s,o){const i=Ys(),a=new Zo(Sn(t,e,s),Sn(n,r,o),0,"");return a.dirty=!0,i._selection=a,a}function Tl(){const t=Sn("root",0,"element"),e=Sn("root",0,"element");return new Zo(t,e,0,"")}function F0(){return new j0(new Set)}function dp(t,e,n,r){const s=n._window;if(s===null)return null;const o=r||s.event,i=o?o.type:void 0,a=i==="selectionchange",l=!Ef&&(a||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&o&&o.detail===3||i==="drop"||i===void 0);let c,u,f,h;if(Q(t)&&!l)return t.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,f=e.anchorOffset,h=e.focusOffset,a&&Q(t)&&!Al(n,c,u))return t.clone();const p=P0(c,f,u,h,n,t);if(p===null)return null;const[g,w]=p;return new Zo(g,w,Q(t)?t.format:0,Q(t)?t.style:"")}function se(){return Ys()._selection}function oa(){return ut()._editorState._selection}function Gc(t,e,n,r=1){const s=t.anchor,o=t.focus,i=s.getNode(),a=o.getNode();if(!e.is(i)&&!e.is(a))return;const l=e.__key;if(t.isCollapsed()){const c=s.offset;if(n<=c&&r>0||n<c&&r<0){const u=Math.max(0,c+r);s.set(l,u,"element"),o.set(l,u,"element"),kw(t)}}else{const c=t.isBackward(),u=c?o:s,f=u.getNode(),h=c?s:o,p=h.getNode();if(e.is(f)){const g=u.offset;(n<=g&&r>0||n<g&&r<0)&&u.set(l,Math.max(0,g+r),"element")}if(e.is(p)){const g=h.offset;(n<=g&&r>0||n<g&&r<0)&&h.set(l,Math.max(0,g+r),"element")}}kw(t)}function kw(t){const e=t.anchor,n=e.offset,r=t.focus,s=r.offset,o=e.getNode(),i=r.getNode();if(t.isCollapsed()){if(!X(o))return;const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ne(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(X(o)){const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ne(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(X(i)){const a=i.getChildrenSize(),l=s>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(s);if(ne(c)){let u=0;l&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function Jc(t,e,n,r,s){let o=null,i=0,a=null;r!==null?(o=r.__key,ne(r)?(i=r.getTextContentSize(),a="text"):X(r)&&(i=r.getChildrenSize(),a="element")):s!==null&&(o=s.__key,ne(s)?a="text":X(s)&&(a="element")),o!==null&&a!==null?t.set(o,i,a):(i=e.getIndexWithinParent(),i===-1&&(i=n.getChildrenSize()),t.set(n.__key,i,"element"))}function Ew(t,e,n,r,s){t.type==="text"?t.set(n,t.offset+(e?0:s),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function B0(t,e,n,r,s){try{t.setBaseAndExtent(e,n,r,s)}catch{}}function Wk(t,e,n,r,s,o,i){const a=r.anchorNode,l=r.focusNode,c=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(s.has(Zk)&&f!==o||f!==null&&yp(f))return;if(!Q(e))return void(t!==null&&Al(n,a,l)&&r.removeAllRanges());const h=e.anchor,p=e.focus,g=h.key,w=p.key,y=Ii(n,g),_=Ii(n,w),v=h.offset,C=p.offset,M=e.format,j=e.style,S=e.isCollapsed();let L=y,A=_,O=!1;if(h.type==="text"){L=ji(y);const D=h.getNode();O=D.getFormat()!==M||D.getStyle()!==j}else Q(t)&&t.anchor.type==="text"&&(O=!0);var F,E,I,T,P;if(p.type==="text"&&(A=ji(_)),L!==null&&A!==null&&(S&&(t===null||O||Q(t)&&(t.format!==M||t.style!==j))&&(F=M,E=j,I=v,T=g,P=performance.now(),k0=[F,E,I,T,P]),c!==v||u!==C||a!==L||l!==A||r.type==="Range"&&S||(f!==null&&o.contains(f)||o.focus({preventScroll:!0}),h.type==="element"))){if(B0(r,L,v,A,C),!s.has(eE)&&e.isCollapsed()&&o!==null&&o===document.activeElement){const D=Q(e)&&e.anchor.type==="element"?L.childNodes[v]||null:r.rangeCount>0?r.getRangeAt(0):null;if(D!==null){let R;if(D instanceof Text){const q=document.createRange();q.selectNode(D),R=q.getBoundingClientRect()}else R=D.getBoundingClientRect();(function(q,V,J){const H=iv(J),G=Ep(H);if(H===null||G===null)return;let{top:te,bottom:re}=V,ee=0,Y=0,ce=J;for(;ce!==null;){const he=ce===H.body;if(he)ee=0,Y=Zn(q).innerHeight;else{const me=ce.getBoundingClientRect();ee=me.top,Y=me.bottom}let ge=0;if(te<ee?ge=-(ee-te):re>Y&&(ge=re-Y),ge!==0)if(he)G.scrollBy(0,ge);else{const me=ce.scrollTop;ce.scrollTop+=ge;const be=ce.scrollTop-me;te-=be,re-=be}if(he)break;ce=Dl(ce)}})(n,R,o)}}jf=!0}}function Gk(t){let e=se()||oa();e===null&&(e=Be().selectEnd()),e.insertNodes(t)}function Ud(t){let e=t;t.isCollapsed()||e.removeText();const n=se();Q(n)&&(e=n),Q(e)||le(161);const r=e.anchor;let s=r.getNode(),o=r.offset;for(;!Jn(s);){const i=s;if([s,o]=Jk(s,o),i.is(s))break}return o}function Jk(t,e){const n=t.getParent();if(!n){const s=Vn();return Be().append(s),s.select(),[Be(),0]}if(ne(t)){const s=t.splitText(e);if(s.length===0)return[n,t.getIndexWithinParent()];const o=e===0?0:1;return[n,s[0].getIndexWithinParent()+o]}if(!X(t)||e===0)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const s=new Zo(Sn(t.__key,e,"element"),Sn(t.__key,e,"element"),0,""),o=t.insertNewAfter(s);o&&o.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}function Sw(t,e,n,r,s="decorators-and-blocks"){if(e==="move"&&r==="character"&&!t.isCollapsed()){const[u,f]=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return f.set(u.key,u.offset,u.type),!0}const o=ds(t.focus,n?"previous":"next"),i=r==="lineboundary",a=e==="move";let l=o,c=s==="decorators-and-blocks";if(!hv(l)){for(const u of l){c=!1;const{origin:f}=u;if(!Ke(f)||f.isIsolated()||(l=u,!i||!f.isInline()))break}if(c)for(const u of Dp(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(dr(u))u.origin.isInline()||(l=u);else{if(X(u.origin))continue;Ke(u.origin)&&!u.origin.isInline()&&(l=u)}break}}if(l===o)return!1;if(a&&!i&&Ke(l.origin)&&l.origin.isKeyboardSelectable()){const u=F0();return u.add(l.origin.getKey()),Zt(u),!0}return l=Fr(l),a&&rl(t.anchor,l),rl(t.focus,l),c||!i}let $t=null,Ft=null,En=!1,zd=!1,kc=0;const Nw={characterData:!0,childList:!0,subtree:!0};function ia(){return En||$t!==null&&$t._readOnly}function Wt(){En&&le(13)}function q0(){kc>99&&le(14)}function Ys(){return $t===null&&le(195,U0()),$t}function ut(){return Ft===null&&le(196,U0()),Ft}function U0(){let t=0;const e=new Set,n=Uu.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const o=zu(s);if(vp(o))t++;else if(o){let i=String(o.constructor.version||"<0.17.1");i===n&&(i+=" (separately built, likely a bundler configuration issue)"),e.add(i)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function Xk(){return Ft}function Tw(t,e,n){const r=e.__type,s=X0(t,r);let o=n.get(r);o===void 0&&(o=Array.from(s.transforms),n.set(r,o));const i=o.length;for(let a=0;a<i&&(o[a](e),e.isAttached());a++);}function Aw(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function z0(t,e){if(!e)return;const n=t._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const s of r)n.add(s)}function V0(t){return fp(t,ut()._nodes)}function fp(t,e){const n=t.type,r=e.get(n);r===void 0&&le(17,n);const s=r.klass;t.type!==s.getType()&&le(18,s.name);const o=s.importJSON(t),i=t.children;if(X(o)&&Array.isArray(i))for(let a=0;a<i.length;a++){const l=fp(i[a],e);o.append(l)}return o}function Dw(t,e,n){const r=$t,s=En,o=Ft;$t=e,En=!0,Ft=t;try{return n()}finally{$t=r,En=s,Ft=o}}function is(t,e){const n=t._pendingEditorState,r=t._rootElement,s=t._headless||r===null;if(n===null)return;const o=t._editorState,i=o._selection,a=n._selection,l=t._dirtyType!==Mo,c=$t,u=En,f=Ft,h=t._updating,p=t._observer;let g=null;if(t._pendingEditorState=null,t._editorState=n,!s&&l&&p!==null){Ft=t,$t=n,En=!1,t._updating=!0;try{const S=t._dirtyType,L=t._dirtyElements,A=t._dirtyLeaves;p.disconnect(),g=Nk(o,n,t,S,L,A)}catch(S){if(S instanceof Error&&t._onError(S),zd)throw S;return J0(t,null,r,n),a0(t),t._dirtyType=Di,zd=!0,is(t,o),void(zd=!1)}finally{p.observe(r,Nw),t._updating=h,$t=c,En=u,Ft=f}}n._readOnly||(n._readOnly=!0);const w=t._dirtyLeaves,y=t._dirtyElements,_=t._normalizedNodes,v=t._updateTags,C=t._deferred;l&&(t._dirtyType=Mo,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(S,L){const A=S._decorators;let O=S._pendingDecorators||A;const F=L._nodeMap;let E;for(E in O)F.has(E)||(O===A&&(O=Z0(S)),delete O[E])}(t,n);const M=s?null:pr(Zn(t));if(t._editable&&M!==null&&(l||a===null||a.dirty)&&r!==null&&!v.has(tE)){Ft=t,$t=n;try{if(p!==null&&p.disconnect(),l||a===null||a.dirty){const S=t._blockCursorElement;S!==null&&zf(S,t,r),Wk(i,a,t,M,v,r)}(function(S,L,A){let O=S._blockCursorElement;if(Q(A)&&A.isCollapsed()&&A.anchor.type==="element"&&L.contains(document.activeElement)){const F=A.anchor,E=F.getNode(),I=F.offset;let T=!1,P=null;if(I===E.getChildrenSize())Hd(E.getChildAtIndex(I-1))&&(T=!0);else{const D=E.getChildAtIndex(I);if(D!==null&&Hd(D)){const R=D.getPreviousSibling();(R===null||Hd(R))&&(T=!0,P=S.getElementByKey(D.__key))}}if(T){const D=S.getElementByKey(E.__key);return O===null&&(S._blockCursorElement=O=function(R){const q=R.theme,V=document.createElement("div");V.contentEditable="false",V.setAttribute("data-lexical-cursor","true");let J=q.blockCursor;if(J!==void 0){if(typeof J=="string"){const H=Fc(J);J=q.blockCursor=H}J!==void 0&&V.classList.add(...J)}return V}(S._config)),L.style.caretColor="transparent",void(P===null?D.appendChild(O):D.insertBefore(O,P))}}O!==null&&zf(O,S,L)})(t,r,a)}finally{p!==null&&p.observe(r,Nw),Ft=f,$t=c}}g!==null&&function(S,L,A,O,F){const E=Array.from(S._listeners.mutation),I=E.length;for(let T=0;T<I;T++){const[P,D]=E[T];for(const R of D){const q=L.get(R);q!==void 0&&P(q,{dirtyLeaves:O,prevEditorState:F,updateTags:A})}}}(t,g,v,w,o),Q(a)||a===null||i!==null&&i.is(a)||t.dispatchCommand(Js,void 0);const j=t._pendingDecorators;j!==null&&(t._decorators=j,t._pendingDecorators=null,qa("decorator",t,!0,j)),function(S,L,A){const O=Iw(L),F=Iw(A);O!==F&&qa("textcontent",S,!0,F)}(t,e||o,n),qa("update",t,!0,{dirtyElements:y,dirtyLeaves:w,editorState:n,mutatedNodes:g,normalizedNodes:_,prevEditorState:e||o,tags:v}),function(S,L){if(S._deferred=[],L.length!==0){const A=S._updating;S._updating=!0;try{for(let O=0;O<L.length;O++)L[O]()}finally{S._updating=A}}}(t,C),function(S){const L=S._updates;if(L.length!==0){const A=L.shift();if(A){const[O,F]=A;Fu(S,O,F)}}}(t)}function qa(t,e,n,...r){const s=e._updating;e._updating=n;try{const o=Array.from(e._listeners[t]);for(let i=0;i<o.length;i++)o[i].apply(null,r)}finally{e._updating=s}}function Mw(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const s=n.shift();if(s){const[o,i]=s,a=t._pendingEditorState;let l;i!==void 0&&(l=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete&&(a===null&&le(191),a._flushSync=!0),l&&t._deferred.push(l),z0(t,i.tag)),a==null?Fu(t,o,i):o()}}return r}function Fu(t,e,n){const r=t._updateTags;let s,o=!1,i=!1;n!==void 0&&(s=n.onUpdate,z0(t,n.tag),o=n.skipTransforms||!1,i=n.discrete||!1),s&&t._deferred.push(s);const a=t._editorState;let l=t._pendingEditorState,c=!1;(l===null||l._readOnly)&&(l=t._pendingEditorState=K0(l||a),c=!0),l._flushSync=i;const u=$t,f=En,h=Ft,p=t._updating;$t=l,En=!1,t._updating=!0,Ft=t;const g=t._headless||t.getRootElement()===null;mp(null);try{c&&(g?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=function(v,C){const M=v.getEditorState()._selection,j=pr(Zn(v));return Q(M)||M==null?dp(M,j,v,C):M.clone()}(t,n&&n.event||null));const y=t._compositionKey;e(),o=Mw(t,o),function(v,C){const M=C.getEditorState()._selection,j=v._selection;if(Q(j)){const S=j.anchor,L=j.focus;let A;if(S.type==="text"&&(A=S.getNode(),A.selectionTransform(M,j)),L.type==="text"){const O=L.getNode();A!==O&&O.selectionTransform(M,j)}}}(l,t),t._dirtyType!==Mo&&(o?function(v,C){const M=C._dirtyLeaves,j=v._nodeMap;for(const S of M){const L=j.get(S);ne(L)&&L.isAttached()&&L.isSimpleText()&&!L.isUnmergeable()&&aw(L)}}(l,t):function(v,C){const M=C._dirtyLeaves,j=C._dirtyElements,S=v._nodeMap,L=Ns(),A=new Map;let O=M,F=O.size,E=j,I=E.size;for(;F>0||I>0;){if(F>0){C._dirtyLeaves=new Set;for(const T of O){const P=S.get(T);ne(P)&&P.isAttached()&&P.isSimpleText()&&!P.isUnmergeable()&&aw(P),P!==void 0&&Aw(P,L)&&Tw(C,P,A),M.add(T)}if(O=C._dirtyLeaves,F=O.size,F>0){kc++;continue}}C._dirtyLeaves=new Set,C._dirtyElements=new Map,E.delete("root")&&E.set("root",!0);for(const T of E){const P=T[0],D=T[1];if(j.set(P,D),!D)continue;const R=S.get(P);R!==void 0&&Aw(R,L)&&Tw(C,R,A)}O=C._dirtyLeaves,F=O.size,E=C._dirtyElements,I=E.size,kc++}C._dirtyLeaves=M,C._dirtyElements=j}(l,t),Mw(t),function(v,C,M,j){const S=v._nodeMap,L=C._nodeMap,A=[];for(const[O]of j){const F=L.get(O);F!==void 0&&(F.isAttached()||(X(F)&&s0(F,O,S,L,A,j),S.has(O)||j.delete(O),A.push(O)))}for(const O of A)L.delete(O);for(const O of M){const F=L.get(O);F===void 0||F.isAttached()||(S.has(O)||M.delete(O),L.delete(O))}}(a,l,t._dirtyLeaves,t._dirtyElements)),y!==t._compositionKey&&(l._flushSync=!0);const _=l._selection;if(Q(_)){const v=l._nodeMap,C=_.anchor.key,M=_.focus.key;v.get(C)!==void 0&&v.get(M)!==void 0||le(19)}else hn(_)&&_._nodes.size===0&&(l._selection=null)}catch(y){return y instanceof Error&&t._onError(y),t._pendingEditorState=a,t._dirtyType=Di,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void is(t)}finally{$t=u,En=f,Ft=h,t._updating=p,kc=0}t._dirtyType!==Mo||t._deferred.length>0||function(y,_){const v=_.getEditorState()._selection,C=y._selection;if(C!==null){if(C.dirty||!C.is(v))return!0}else if(v!==null)return!0;return!1}(l,t)?l._flushSync?(l._flushSync=!1,is(t)):c&&oE(()=>{is(t)}):(l._flushSync=!1,c&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Un(t,e,n){Ft===t&&n===void 0?e():Fu(t,e,n)}let Yk=class Ec{constructor(e,n,r){this.element=e,this.before=n||null,this.after=r||null}withBefore(e){return new Ec(this.element,e,this.after)}withAfter(e){return new Ec(this.element,this.before,e)}withElement(e){return this.element===e?this:new Ec(e,this.before,this.after)}insertChild(e){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&le(222),this.element.insertBefore(e,n),this}removeChild(e){return e.parentElement!==this.element&&le(223),this.element.removeChild(e),this}replaceChild(e,n){return n.parentElement!==this.element&&le(224),this.element.replaceChild(e,n),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const n=e==="decorator"&&(Ai||Xa);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const n=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&n.removeChild(r),n.removeChild(e),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const n=this.getManagedLineBreak();if(n){if(e===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,s=this.before,o=document.createElement("br");if(r.insertBefore(o,s),e){const i=document.createElement("img");i.setAttribute("data-lexical-linebreak","true"),i.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",i.alt="",r.insertBefore(i,o),r.__lexicalLineBreak=i}else r.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let n=this.after;n!==null;n=n.previousSibling)e++;return e}resolveChildIndex(e,n,r,s){if(r===this.element){const l=this.getFirstChildOffset();return[e,Math.min(l+e.getChildrenSize(),Math.max(l,s))]}const o=Ow(n,r);o.push(s);const i=Ow(n,this.element);let a=e.getIndexWithinParent();for(let l=0;l<i.length;l++){const c=o[l],u=i[l];if(c===void 0||c<u)break;if(c>u){a+=1;break}}return[e.getParentOrThrow(),a]}};function Ow(t,e){const n=[];let r=e;for(;r!==t&&r!==null;r=r.parentNode){let s=0;for(let o=r.previousSibling;o!==null;o=o.previousSibling)s++;n.push(s)}return r!==t&&le(225),n.reverse()}let cn=class extends sa{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return hk[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=ut()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(ne(n)&&e.push(n),X(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;X(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;X(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const o=n[r-1];return X(o)&&o.getLastDescendant()||o||null}const s=n[e];return X(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Te(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&le(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Te(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&le(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let r,s;if(e<n/2){for(r=this.getFirstChild(),s=0;r!==null&&s<=e;){if(s===e)return r;r=r.getNextSibling(),s++}return null}for(r=this.getLastChild(),s=n-1;r!==null&&s>=e;){if(s===e)return r;r=r.getPreviousSibling(),s--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const o=n[s];e+=o.getTextContent(),X(o)&&s!==r-1&&!o.isInline()&&(e+=us)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const o=n[s];e+=o.getTextContentSize(),X(o)&&s!==r-1&&!o.isInline()&&(e+=us.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const n=Zg[e];return!!(this.getFormat()&n)}return!1}hasTextFormat(e){const n=Ps[e];return!!(this.getTextFormat()&n)}getFormatFlags(e,n){return Xc(this.getLatest().__textFormat,e,n)}getTextStyle(){return this.getLatest().__textStyle}select(e,n){Wt();const r=se();let s=e,o=n;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const l=this.getFirstChild();if(ne(l)||X(l))return l.select(0,0)}else if(!(e!==void 0&&e!==i||n!==void 0&&n!==i)){const l=this.getLastChild();if(ne(l)||X(l))return l.select()}}s===void 0&&(s=i),o===void 0&&(o=i);const a=this.__key;return Q(r)?(r.anchor.set(a,s,"element"),r.focus.set(a,o,"element"),r.dirty=!0,r):$0(a,s,a,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?Zg[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){const s=r.length,o=this.getChildrenSize(),i=this.getWritable();e+n<=o||le(226,String(e),String(n),String(o));const a=i.__key,l=[],c=[],u=this.getChildAtIndex(e+n);let f=null,h=o-n+s;if(e!==0)if(e===o)f=this.getLastChild();else{const g=this.getChildAtIndex(e);g!==null&&(f=g.getPreviousSibling())}if(n>0){let g=f===null?this.getFirstChild():f.getNextSibling();for(let w=0;w<n;w++){g===null&&le(100);const y=g.getNextSibling(),_=g.__key;Co(g.getWritable()),c.push(_),g=y}}let p=f;for(let g=0;g<s;g++){const w=r[g];p!==null&&w.is(p)&&(f=p=p.getPreviousSibling());const y=w.getWritable();y.__parent===a&&h--,Co(y);const _=w.__key;if(p===null)i.__first=_,y.__prev=null;else{const v=p.getWritable();v.__next=_,y.__prev=v.__key}w.__key===a&&le(76),y.__parent=a,l.push(_),p=w}if(e+n===o)p!==null&&(p.getWritable().__next=null,i.__last=p.__key);else if(u!==null){const g=u.getWritable();if(p!==null){const w=p.getWritable();g.__prev=p.__key,w.__next=u.__key}else g.__prev=null}if(i.__size=h,c.length){const g=se();if(Q(g)){const w=new Set(c),y=new Set(l),{anchor:_,focus:v}=g;Rw(_,w,y)&&Jc(_,_.getNode(),this,f,u),Rw(v,w,y)&&Jc(v,v.getNode(),this,f,u),h!==0||this.canBeEmpty()||Gr(this)||this.remove()}}return i}getDOMSlot(e){return new Yk(e)}exportDOM(e){const{element:n}=super.exportDOM(e);if(et(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const s=this.getDirection();s&&(n.dir=s)}return{element:n}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n!==0&&(e.textFormat=n),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,n){const r=this.getDOMSlot(e);let s=r.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const i=n.getElementByKey(o.getKey());i!==null&&(s==null?(r.insertChild(i),s=i):s!==i&&r.replaceChild(i,s),s=s.nextSibling)}}};function X(t){return t instanceof cn}function Rw(t,e,n){let r=t.getNode();for(;r;){const s=r.__key;if(e.has(s)&&!n.has(s))return!0;r=r.getParent()}return!1}class Qs extends sa{decorate(e,n){le(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ke(t){return t instanceof Qs}let hp=class H0 extends cn{static getType(){return"root"}static clone(){return new H0}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){le(51)}getTextContent(){const e=this.__cachedText;return!ia()&&ut()._dirtyType!==Mo||e===null?super.getTextContent():e}remove(){le(52)}replace(e){le(53)}insertBefore(e){le(54)}insertAfter(e){le(55)}updateDOM(e,n){return!1}splice(e,n,r){for(const s of r)X(s)||Ke(s)||le(282);return super.splice(e,n,r)}static importJSON(e){return Be().updateFromJSON(e)}collapseAtStart(){return!0}};function Jt(t){return t instanceof hp}function K0(t){return new Bu(new Map(t._nodeMap))}function pp(){return new Bu(new Map([["root",new hp]]))}function W0(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&le(130,n.name),X(t)){const r=e.children;Array.isArray(r)||le(59,n.name);const s=t.getChildren();for(let o=0;o<s.length;o++){const i=W0(s[o]);r.push(i)}}return e}class Bu{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return Dw(n&&n.editor||null,this,e)}clone(e){const n=new Bu(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return Dw(null,this,()=>({root:W0(Be())}))}}const Ff="historic",Qk="history-push",xo="history-merge",G0="paste",Zk="collaboration",eE="skip-scroll-into-view",tE="skip-dom-selection";class gp extends cn{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Zs extends cn{static getType(){return"paragraph"}static clone(e){return new Zs(e.__key)}createDOM(e){const n=document.createElement("p"),r=xi(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:nE,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(et(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();r&&(n.style.textAlign=r)}return{element:n}}static importJSON(e){return Vn().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,n){const r=Vn();r.setTextFormat(e.format),r.setTextStyle(e.style);const s=this.getDirection();return r.setDirection(s),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||ne(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function nE(t){const e=Vn();return t.style&&(e.setFormat(t.style.textAlign),wE(t,e)),{node:e}}function Vn(){return nt(new Zs)}function wp(t){return t instanceof Zs}const xe=0,ei=1,Sc=2,qu=3,vi=4;function J0(t,e,n,r){const s=t._keyToDOMMap;s.clear(),t._editorState=pp(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=Mo,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",s.set("root",n))}function rE(t){const e=t||{},n=Xk(),r=e.theme||{},s=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,i=pp(),a=e.namespace||(s!==null?s._config.namespace:nv()),l=e.editorState,c=[hp,an,El,Sl,Zs,gp,...e.nodes||[]],{onError:u,html:f}=e,h=e.editable===void 0||e.editable;let p;if(t===void 0&&n!==null)p=n._nodes;else{p=new Map;for(let w=0;w<c.length;w++){let y=c[w],_=null,v=null;if(typeof y!="function"){const L=y;y=L.replace,_=L.with,v=L.withKlass||null}const{ownNodeConfig:C}=Np(y),M=y.getType(),j=y.transform(),S=new Set;C&&C.$transform&&S.add(C.$transform),j!==null&&S.add(j),p.set(M,{exportDOM:f&&f.export?f.export.get(y):void 0,klass:y,replace:_,replaceWithKlass:v,sharedNodeState:_k(c[w]),transforms:S})}}const g=new Uu(i,s,p,{disableEvents:o,namespace:a,theme:r},u||console.error,function(w,y){const _=new Map,v=new Set,C=M=>{Object.keys(M).forEach(j=>{let S=_.get(j);S===void 0&&(S=[],_.set(j,S)),S.push(M[j])})};return w.forEach(M=>{const j=M.klass.importDOM;if(j==null||v.has(j))return;v.add(j);const S=j.call(M.klass);S!==null&&C(S)}),y&&C(y),_}(p,f?f.import:void 0),h,t);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=Di),g}class Uu{constructor(e,n,r,s,o,i,a,l){this._createEditorArgs=l,this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=Mo,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=nv(),this._onError=o,this._htmlConversions=i,this._editable=a,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&le(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=s.get(e);o===void 0&&le(36,String(e));const i=o[r];return i.add(n),()=>{i.delete(n),o.every(a=>a.size===0)&&s.delete(e)}}registerMutationListener(e,n,r){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;let i=o.get(n);i===void 0&&(i=new Set,o.set(n,i)),i.add(s);const a=r&&r.skipInitialization;return a!==void 0&&a||this.initializeMutationListener(n,s),()=>{i.delete(s),i.size===0&&o.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&le(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const r=this._editorState,s=Uw(r).get(n.getType());if(!s)return;const o=new Map;for(const i of s.keys())o.set(i,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const r=this.getRegisteredNode(e);return r.transforms.add(n),r}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),s=[r],o=r.replaceWithKlass;if(o!=null){const i=this.registerNodeTransformToKlass(o,n);s.push(i)}return function(i,a){const l=Uw(i.getEditorState()),c=[];for(const u of a){const f=l.get(u);f&&c.push(f)}c.length!==0&&i.update(()=>{for(const u of c)for(const f of u.keys()){const h=Te(f);h&&h.markDirty()}},i._pendingEditorState===null?{tag:xo}:void 0)}(this,s.map(i=>i.klass.getType())),()=>{s.forEach(i=>i.transforms.delete(n))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return pe(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=xi(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,J0(this,n,e,s),n!==null&&(this._config.disableEvents||$k(n),r!=null&&n.classList.remove(...r)),e!==null){const o=Ep(e),i=e.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=Di,a0(this),this._updateTags.add(xo),is(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,u=Wc.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",A0),Wc.set(c,(u||0)+1),a.__lexicalEditor=l;const f=T0(a);for(let h=0;h<Rf.length;h++){const[p,g]=Rf[h],w=typeof g=="function"?y=>{pw(y)||(hw(y),(l.isEditable()||p==="click")&&g(y,l))}:y=>{if(pw(y))return;hw(y);const _=l.isEditable();switch(p){case"cut":return _&&pe(l,Qo,y);case"copy":return pe(l,Xs,y);case"paste":return _&&pe(l,Yo,y);case"dragstart":return _&&pe(l,lp,y);case"dragover":return _&&pe(l,v0,y);case"dragend":return _&&pe(l,jk,y);case"focus":return _&&pe(l,Ik,y);case"blur":return _&&pe(l,Lk,y);case"drop":return _&&pe(l,$u,y)}};a.addEventListener(p,w),f.push(()=>{a.removeEventListener(p,w)})}}(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(xo),is(this);qa("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&le(38);let r=e;r._readOnly&&(r=K0(e),r._selection=e._selection?e._selection.clone():null),i0(this);const s=this._pendingEditorState,o=this._updateTags,i=n!==void 0?n.tag:null;s===null||s.isEmpty()||(i!=null&&o.add(i),is(this)),this._pendingEditorState=r,this._dirtyType=Di,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&o.add(i),this._updating||is(this)}parseEditorState(e,n){return function(r,s,o){const i=pp(),a=$t,l=En,c=Ft,u=s._dirtyElements,f=s._dirtyLeaves,h=s._cloneNotNeeded,p=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,$t=i,En=!1,Ft=s,mp(null);try{const g=s._nodes;fp(r.root,g),o&&o(),i._readOnly=!0}catch(g){g instanceof Error&&s._onError(g)}finally{s._dirtyElements=u,s._dirtyLeaves=f,s._cloneNotNeeded=h,s._dirtyType=p,$t=a,En=l,Ft=c}return i}(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return is(this),this.getEditorState().read(e,{editor:this})}update(e,n){(function(r,s,o){r._updating?r._updates.push([s,o]):Fu(r,s,o)})(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Un(this,()=>{const s=se(),o=Be();s!==null?s.dirty||Zt(s.clone()):o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),av("focus"),uE(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=pr(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,qa("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}Uu.version="0.34.0+prod.esm";let Bf=null;function mp(t){Bf=t}let sE=1;function X0(t,e){const n=bp(t,e);return n===void 0&&le(30,e),n}function bp(t,e){return t._nodes.get(e)}const oE=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function jw(t){return Ke(Fs(t))}function yp(t){const e=document.activeElement;if(!et(e))return!1;const n=e.nodeName;return Ke(Fs(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&zu(e)==null)}function Al(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!yp(e)&&Y0(e)===t}catch{return!1}}function vp(t){return t instanceof Uu}function Y0(t){let e=t;for(;e!=null;){const n=zu(e);if(vp(n))return n;e=Dl(e)}return null}function zu(t){return t?t.__lexicalEditor:null}function _o(t){return R0(t)||t.isToken()}function rs(t){return _o(t)||t.isSegmented()}function ws(t){return ti(t)&&t.nodeType===nk}function iE(t){return ti(t)&&t.nodeType===rk}function ji(t){let e=t;for(;e!=null;){if(ws(e))return e;e=e.firstChild}return null}function Xc(t,e,n){const r=Ps[e];if(n!==null&&(t&r)==(n&r))return t;let s=t^r;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function aE(t,e){const n=function(){const i=Bf;return Bf=null,i}();if((e=e||n&&n.__key)!=null)return void(t.__key=e);Wt(),q0();const r=ut(),s=Ys(),o=""+sE++;s._nodeMap.set(o,t),X(t)?r._dirtyElements.set(o,!0):r._dirtyLeaves.add(o),r._cloneNotNeeded.add(o),r._dirtyType=t0,t.__key=o}function Co(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),s=t.getPreviousSibling(),o=t.getNextSibling(),i=o!==null?o.__key:null,a=s!==null?s.__key:null,l=s!==null?s.getWritable():null,c=o!==null?o.getWritable():null;s===null&&(r.__first=i),o===null&&(r.__last=a),l!==null&&(l.__next=i),c!==null&&(c.__prev=a),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function Yc(t){q0();const e=t.getLatest(),n=e.__parent,r=Ys(),s=ut(),o=r._nodeMap,i=s._dirtyElements;n!==null&&function(l,c,u){let f=l;for(;f!==null;){if(u.has(f))return;const h=c.get(f);if(h===void 0)break;u.set(f,!1),f=h.__parent}}(n,o,i);const a=e.__key;s._dirtyType=t0,X(t)?i.set(a,!0):s._dirtyLeaves.add(a)}function Gt(t){Wt();const e=ut(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=Te(n);r!==null&&r.getWritable()}if(t!==null){const r=Te(t);r!==null&&r.getWritable()}}}function Ns(){return ia()?null:ut()._compositionKey}function Te(t,e){const n=(e||Ys())._nodeMap.get(t);return n===void 0?null:n}function Q0(t,e){const n=Vu(t,ut());return n!==void 0?Te(n,e):null}function Vu(t,e){return t[`__lexicalKey_${e._key}`]}function Fs(t,e){let n=t;for(;n!=null;){const r=Q0(n,e);if(r!==null)return r;n=Dl(n)}return null}function Z0(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function Iw(t){return t.read(()=>Be().getTextContent())}function Be(){return ev(Ys())}function ev(t){return t._nodeMap.get("root")}function Zt(t){Wt();const e=Ys();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function wi(t){const e=ut(),n=function(r,s){let o=r;for(;o!=null;){const i=Vu(o,s);if(i!==void 0)return i;o=Dl(o)}return null}(t,e);return n===null?t===e.getRootElement()?Te("root"):null:Te(n)}function tv(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function xp(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function nv(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function rv(t){return ws(t)?t.nodeValue:null}function _p(t,e,n){const r=pr(Zn(e));if(r===null)return;const s=r.anchorNode;let{anchorOffset:o,focusOffset:i}=r;if(s!==null){let a=rv(s);const l=Fs(s);if(a!==null&&ne(l)){if(a===Iu&&n){const c=n.length;a=n,o=c,i=c}a!==null&&Cp(l,a,o,i,t)}}}function Cp(t,e,n,r,s){let o=t;if(o.isAttached()&&(s||!o.isDirty())){const i=o.isComposing();let a=e;(i||s)&&e[e.length-1]===Iu&&(a=e.slice(0,-1));const l=o.getTextContent();if(s||a!==l){if(a===""){if(Gt(null),Xa||Ai||$c)o.remove();else{const w=ut();setTimeout(()=>{w.update(()=>{o.isAttached()&&o.remove()})},20)}return}const c=o.getParent(),u=oa(),f=o.getTextContentSize(),h=Ns(),p=o.getKey();if(o.isToken()||h!==null&&p===h&&!i||Q(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===t.__key&&u.anchor.offset===0&&!o.canInsertTextBefore()&&!i||u.focus.key===t.__key&&u.focus.offset===f&&!o.canInsertTextAfter()&&!i))return void o.markDirty();const g=se();if(!Q(g)||n===null||r===null)return void Lw(o,a,g);if(g.setTextNodeRange(o,n,o,r),o.isSegmented()){const w=De(o.getTextContent());o.replace(w),o=w}Lw(o,a,g)}}}function Lw(t,e,n){if(t.setTextContent(e),Q(n)){const r=t.getKey();for(const s of["anchor","focus"]){const o=n[s];o.type==="text"&&o.key===r&&(o.offset=Rs(t,o.offset,"clamp"))}}}function oc(t,e,n){const r=e[n]||!1;return r==="any"||r===t[n]}function lE(t,e){return oc(t,e,"altKey")&&oc(t,e,"ctrlKey")&&oc(t,e,"shiftKey")&&oc(t,e,"metaKey")}function Xe(t,e,n){return lE(t,n)&&t.key.toLowerCase()===e.toLowerCase()}const ns={ctrlKey:!jr,metaKey:jr},Pw={altKey:jr,ctrlKey:!jr};function $w(t){return t.key==="Backspace"}function Fw(t){return Xe(t,"a",ns)}function sv(t){const e=Be();if(Q(t)){const n=t.anchor,r=t.focus,s=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(s.getKey(),0,"element"),r.set(s.getKey(),s.getChildrenSize(),"element"),Ya(t),t}{const n=e.select(0,e.getChildrenSize());return Zt(Ya(n)),n}}function xi(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(r!==void 0)return r;const s=t[e];if(typeof s=="string"){const o=Fc(s);return n[e]=o,o}return s}function kp(t,e,n,r,s){if(n.size===0)return;const o=r.__type,i=r.__key,a=e.get(o);a===void 0&&le(33,o);const l=a.klass;let c=t.get(l);c===void 0&&(c=new Map,t.set(l,c));const u=c.get(i),f=u==="destroyed"&&s==="created";(u===void 0||f)&&c.set(i,f?"updated":s)}function Bw(t,e,n){const r=t.getParent();let s=n,o=t;return r!==null&&(e&&n===0?(s=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(s=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?s-1:s)}function qf(t,e){const n=t.offset;if(t.type==="element")return Bw(t.getNode(),e,n);{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const s=e?r.getPreviousSibling():r.getNextSibling();return s===null?Bw(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):s}}return null}function ov(t){const e=Zn(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function pe(t,e,n){return function(r,s,o){const i=xp(r);for(let a=4;a>=0;a--)for(let l=0;l<i.length;l++){const c=i[l],u=c._commands.get(s);if(u!==void 0){const f=u[a];if(f!==void 0){const h=Array.from(f),p=h.length;let g=!1;if(Un(c,()=>{for(let w=0;w<p;w++)if(h[w](o,r))return void(g=!0)}),g)return g}}}return!1}(t,e,n)}function Hu(t){return!Jt(t)&&!t.isLastChild()&&!t.isInline()}function Ii(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&le(75,e),n}function Dl(t){const e=t.assignedSlot||t.parentElement;return Vf(e)?e.host:e}function iv(t){return iE(t)?t:et(t)?t.ownerDocument:null}function cE(t){return ut()._updateTags.has(t)}function av(t){Wt(),ut()._updateTags.add(t)}function uE(t){Wt(),ut()._deferred.push(t)}function Uf(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function Ep(t){const e=iv(t);return e?e.defaultView:null}function Zn(t){const e=t._window;return e===null&&le(78),e}function dE(t){return X(t)&&t.isInline()||Ke(t)&&t.isInline()}function fE(t){let e=t.getParentOrThrow();for(;e!==null;){if(Gr(e))return e;e=e.getParentOrThrow()}return e}function Gr(t){return Jt(t)||X(t)&&t.isShadowRoot()}function nt(t){const e=ut(),n=t.getType(),r=bp(e,n);r===void 0&&le(200,t.constructor.name,n);const{replace:s,replaceWithKlass:o}=r;if(s!==null){const i=s(t),a=i.constructor;return o!==null?i instanceof o||le(201,o.name,o.getType(),a.name,a.getType(),t.constructor.name,n):i instanceof t.constructor&&a!==t.constructor||le(202,a.name,a.getType(),t.constructor.name,n),i.__key===t.__key&&le(203,t.constructor.name,n,a.name,a.getType()),i}return t}function Vd(t,e){!Jt(t.getParent())||X(e)||Ke(e)||le(99)}function hE(t){const e=Te(t);return e===null&&le(63,t),e}function Hd(t){return(Ke(t)||X(t)&&!t.canBeEmpty())&&!t.isInline()}function zf(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function pr(t){return _r?(t||window).getSelection():null}function pE(t){const e=Ep(t);return e?e.getSelection():null}function lv(t){return et(t)&&t.tagName==="A"}function et(t){return ti(t)&&t.nodeType===tk}function ti(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function Vf(t){return ti(t)&&t.nodeType===sk}function Hf(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function Qc(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function Jn(t){if(Ke(t)&&!t.isInline())return!0;if(!X(t)||Gr(t))return!1;const e=t.getFirstChild(),n=e===null||vo(e)||ne(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function Kd(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function Ku(){return ut()}const qw=new WeakMap,gE=new Map;function Uw(t){if(!t._readOnly&&t.isEmpty())return gE;t._readOnly||le(192);let e=qw.get(t);return e||(e=function(n){const r=new Map;for(const[s,o]of n._nodeMap){const i=o.__type;let a=r.get(i);a||(a=new Map,r.set(i,a)),a.set(s,o)}return r}(t),qw.set(t,e)),e}function Sp(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function wE(t,e){const n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r)}function mE(t){t.__lexicalUnmanaged=!0}function bE(t){return t.__lexicalUnmanaged===!0}function Ea(t,e){return function(n,r){return Object.prototype.hasOwnProperty.call(n,r)}(t,e)&&t[e]!==sa[e]}function Np(t){const e=ew in t.prototype?t.prototype[ew]():void 0,n=function(i){return i===Qs||i===cn||i===sa}(t),r=!n&&Ea(t,"getType")?t.getType():void 0;let s,o=r;if(e)if(r)s=e[r];else for(const[i,a]of Object.entries(e))o=i,s=a;if(!n&&o&&(Ea(t,"getType")||(t.getType=()=>o),Ea(t,"clone")||(t.clone=i=>(mp(i),new t)),Ea(t,"importJSON")||(t.importJSON=s&&s.$importJSON||(i=>new t().updateFromJSON(i))),!Ea(t,"importDOM")&&s)){const{importDOM:i}=s;i&&(t.importDOM=()=>i)}return{ownNodeConfig:s,ownNodeType:o}}const yE={next:"previous",previous:"next"};let Tp=class{constructor(e){this.origin=e}[Symbol.iterator](){return Wu({hasNext:jo,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Ot(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Ot(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,n){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,n)),this}splice(e,n,r="next"){const s=r===this.direction?n:Array.from(n).reverse();let o=this;const i=this.getParentAtCaret(),a=new Map;for(let l=o.getAdjacentCaret();l!==null&&a.size<e;l=l.getAdjacentCaret()){const c=l.origin.getWritable();a.set(c.getKey(),c)}for(const l of s){if(a.size>0){const c=o.getNodeAtCaret();if(c){if(a.delete(c.getKey()),a.delete(l.getKey()),!(c.is(l)||o.origin.is(l))){const u=l.getParent();u&&u.is(i)&&l.remove(),c.replace(l)}}else c===null&&le(263,Array.from(a).join(" "))}else o.insert(l);o=Ot(l,this.direction)}for(const l of a.values())l.remove();return this}},Kf=class cv extends Tp{constructor(){super(...arguments);Wn(this,"type","child")}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:gr(n,this.direction)}getParentCaret(n="root"){return Ot(Ap(this.getParentAtCaret(),n),this.direction)}getFlipped(){const n=aa(this.direction);return Ot(this.getNodeAtCaret(),n)||gr(this.origin,n)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(n){return n instanceof cv&&this.direction===n.direction&&this.origin.is(n.origin)}isSamePointCaret(n){return this.isSameNodeCaret(n)}};const vE={root:Jt,shadowRoot:Gr};function aa(t){return yE[t]}function Ap(t,e="root"){return vE[e](t)?null:t}let Zc=class Wf extends Tp{constructor(){super(...arguments);Wn(this,"type","sibling")}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:Ot(n,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return X(this.origin)?gr(this.origin,this.direction):null}getParentCaret(n="root"){return Ot(Ap(this.getParentAtCaret(),n),this.direction)}getFlipped(){const n=aa(this.direction);return Ot(this.getNodeAtCaret(),n)||gr(this.origin.getParentOrThrow(),n)}isSamePointCaret(n){return n instanceof Wf&&this.direction===n.direction&&this.origin.is(n.origin)}isSameNodeCaret(n){return(n instanceof Wf||n instanceof eu)&&this.direction===n.direction&&this.origin.is(n.origin)}},eu=class Gf extends Tp{constructor(n,r){super(n);Wn(this,"type","text");this.offset=r}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:Io(n,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(n="root"){return Ot(Ap(this.getParentAtCaret(),n),this.direction)}getFlipped(){return Io(this.origin,aa(this.direction),this.offset)}isSamePointCaret(n){return n instanceof Gf&&this.direction===n.direction&&this.origin.is(n.origin)&&this.offset===n.offset}isSameNodeCaret(n){return(n instanceof Zc||n instanceof Gf)&&this.direction===n.direction&&this.origin.is(n.origin)}getSiblingCaret(){return Ot(this.origin,this.direction)}};function Os(t){return t instanceof eu}function jo(t){return t instanceof Zc}function dr(t){return t instanceof Kf}const xE={next:class extends eu{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends eu{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},_E={next:class extends Zc{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Zc{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},CE={next:class extends Kf{constructor(){super(...arguments);Wn(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Kf{constructor(){super(...arguments);Wn(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Ot(t,e){return t?new _E[e](t):null}function Io(t,e,n){return t?new xE[e](t,Rs(t,n)):null}function Rs(t,e,n="error"){const r=t.getTextContentSize();let s=e==="next"?r:e==="previous"?0:e;return(s<0||s>r)&&(n!=="clamp"&&function(o,...i){const a=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",o);for(const c of i)l.append("v",c);a.search=l.toString(),console.warn(`Minified Lexical warning #${o}; visit ${a.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(r),t.getKey()),s=s<0?0:r),s}function zw(t,e){return new SE(t,e)}function gr(t,e){return X(t)?new CE[e](t):null}function kE(t){return t&&t.getChildCaret()||t}function nl(t){return t&&kE(t.getAdjacentCaret())}let EE=class uv{constructor(e,n,r){Wn(this,"type","node-caret-range");this.anchor=e,this.focus=n,this.direction=r}getLatest(){const e=this.anchor.getLatest(),n=this.focus.getLatest();return e===this.anchor&&n===this.focus?this:new uv(e,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const o=this[s].getLatest();return Os(o)?function(i,a){const{direction:l,origin:c}=i,u=Rs(c,a==="focus"?aa(l):l);return zw(i,u-i.offset)}(o,s):null},n=e("anchor"),r=e("focus");if(n&&r){const{caret:s}=n,{caret:o}=r;if(s.isSameNodeCaret(o))return[zw(s,o.offset-s.offset),null]}return[n,r]}iterNodeCarets(e="root"){const n=Os(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),s=Os(r),o=i=>i.isSameNodeCaret(r)?null:nl(i)||i.getParentCaret(e);return Wu({hasNext:i=>i!==null&&!(s&&r.isSameNodeCaret(i)),initial:n.isSameNodeCaret(r)?null:o(n),map:i=>i,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}},SE=class{constructor(e,n){Wn(this,"type","slice");this.caret=e,this.distance=n}getSliceIndices(){const{distance:e,caret:{offset:n}}=this,r=n+e;return r<n?[r,n]:[n,r]}getTextContent(){const[e,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:n}}=this,[r,s]=this.getSliceIndices(),o=e.getTextContent();return Io(e.setTextContent(o.slice(0,r)+o.slice(s)),n,r)}};function Dp(t){return Bs(t,Ot(Be(),t.direction))}function NE(t){return Bs(t,t)}function Bs(t,e){return t.direction!==e.direction&&le(265),new EE(t,e,t.direction)}function Wu(t){const{initial:e,hasNext:n,step:r,map:s}=t;let o=e;return{[Symbol.iterator](){return this},next(){if(!n(o))return{done:!0,value:void 0};const i={done:!1,value:s(o)};return o=r(o),i}}}function dv(t,e){const n=Ua(t.origin,e.origin);switch(n===null&&le(275,t.origin.getKey(),e.origin.getKey()),n.type){case"same":{const r=t.type==="text",s=e.type==="text";return r&&s?function(o,i){return Math.sign(o-i)}(t.offset,e.offset):t.type===e.type?0:r?-1:s?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return fv(n)}}function fv(t){const{a:e,b:n}=t,r=e.__key,s=n.__key;let o=e,i=n;for(;o&&i;o=o.getNextSibling(),i=i.getNextSibling()){if(o.__key===s)return-1;if(i.__key===r)return 1}return o===null?1:-1}function ic(t,e){return e.is(t)}function Vw(t){return X(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function Ua(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const n=new Map;for(let[r,s]=Vw(t);r;s=r,r=r.getParent())n.set(r,s);for(let[r,s]=Vw(e);r;s=r,r=r.getParent()){const o=n.get(r);if(o!==void 0)return o===null?(ic(t,r)||le(276),{commonAncestor:r,type:"ancestor"}):s===null?(ic(e,r)||le(277),{commonAncestor:r,type:"descendant"}):((X(o)||ic(t,o))&&(X(s)||ic(e,s))&&r.is(o.getParent())&&r.is(s.getParent())||le(278),{a:o,b:s,commonAncestor:r,type:"branch"})}return null}function ds(t,e){const{type:n,key:r,offset:s}=t,o=hE(t.key);return n==="text"?(ne(o)||le(266,o.getType(),r),Io(o,e,s)):(X(o)||le(267,o.getType(),r),DE(o,t.offset,e))}function rl(t,e){const{origin:n,direction:r}=e,s=r==="next";Os(e)?t.set(n.getKey(),e.offset,"text"):jo(e)?ne(n)?t.set(n.getKey(),Rs(n,r),"text"):t.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(s?1:0),"element"):(dr(e)&&X(n)||le(268),t.set(n.getKey(),s?0:n.getChildrenSize(),"element"))}function TE(t){const e=se(),n=Q(e)?e:Tl();return Nc(n,t),Zt(n),n}function Nc(t,e){rl(t.anchor,e.anchor),rl(t.focus,e.focus)}function Hw(t){const{anchor:e,focus:n}=t,r=ds(e,"next"),s=ds(n,"next"),o=dv(r,s)<=0?"next":"previous";return Bs(Li(r,o),Li(s,o))}function Gu(t){const{direction:e,origin:n}=t,r=Ot(n,aa(e)).getNodeAtCaret();return r?Ot(r,e):gr(n.getParentOrThrow(),e)}function Kw(t,e="root"){const n=[t];for(let r=dr(t)?t.getParentCaret(e):t.getSiblingCaret();r!==null;r=r.getParentCaret(e))n.push(Gu(r));return n}function Wd(t){return!!t&&t.origin.isAttached()}function AE(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const n="root",r="next";let s=e;const o=pv(t,r),i=Kw(o.anchor,n),a=Kw(o.focus.getFlipped(),n),l=new Set,c=[];for(const g of o.iterNodeCarets(n))if(dr(g))l.add(g.origin.getKey());else if(jo(g)){const{origin:w}=g;X(w)&&!l.has(w.getKey())||c.push(w)}for(const g of c)g.remove();for(const g of o.getTextSlices()){if(!g)continue;const{origin:w}=g.caret,y=w.getTextContentSize(),_=Gu(Ot(w,r)),v=w.getMode();if(Math.abs(g.distance)===y&&s==="removeEmptySlices"||v==="token"&&g.distance!==0)_.remove();else if(g.distance!==0){s="removeEmptySlices";let C=g.removeTextSlice();const M=g.caret.origin;if(v==="segmented"){const j=C.origin,S=De(j.getTextContent()).setStyle(j.getStyle()).setFormat(j.getFormat());_.replaceOrInsert(S),C=Io(S,r,C.offset)}M.is(i[0].origin)&&(i[0]=C),M.is(a[0].origin)&&(a[0]=C.getFlipped())}}let u,f;for(const g of i)if(Wd(g)){u=Fr(g);break}for(const g of a)if(Wd(g)){f=Fr(g);break}const h=function(g,w,y){if(!g||!w)return null;const _=g.getParentAtCaret(),v=w.getParentAtCaret();if(!_||!v)return null;const C=_.getParents().reverse();C.push(_);const M=v.getParents().reverse();M.push(v);const j=Math.min(C.length,M.length);let S;for(S=0;S<j&&C[S]===M[S];S++);const L=(F,E)=>{let I;for(let T=S;T<F.length;T++){const P=F[T];if(Gr(P))return;!I&&E(P)&&(I=P)}return I},A=L(C,Jn),O=A&&L(M,F=>y.has(F.getKey())&&Jn(F));return A&&O?[A,O]:null}(u,f,l);if(h){const[g,w]=h;gr(g,"previous").splice(0,w.getChildren()),w.remove()}const p=[u,f,...i,...a].find(Wd);if(p)return NE(Li(Fr(p),t.direction));le(269,JSON.stringify(i.map(g=>g.origin.__key)))}function Fr(t){const e=function(s){let o=s;for(;dr(o);){const i=nl(o);if(!dr(i))break;o=i}return o}(t.getLatest()),{direction:n}=e;if(ne(e.origin))return Os(e)?e:Io(e.origin,n,n);const r=e.getAdjacentCaret();return jo(r)&&ne(r.origin)?Io(r.origin,n,aa(n)):e}function hv(t){return Os(t)&&t.offset!==Rs(t.origin,t.direction)}function Li(t,e){return t.direction===e?t:t.getFlipped()}function pv(t,e){return t.direction===e?t:Bs(Li(t.focus,e),Li(t.anchor,e))}function DE(t,e,n){let r=gr(t,"next");for(let s=0;s<e;s++){const o=r.getAdjacentCaret();if(o===null)break;r=o}return Li(r,n)}const ME=new Map;function Ww(t){let e=t;for(;e!=null;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function Gw(t){const e=t.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function OE(t,e,n,r,s){const o=e.getKey(),i=r.getKey(),a=document.createRange();let l=t.getElementByKey(o),c=t.getElementByKey(i),u=n,f=s;if(ne(e)&&(l=Ww(l)),ne(r)&&(c=Ww(c)),e===void 0||r===void 0||l===null||c===null)return null;l.nodeName==="BR"&&([l,u]=Gw(l)),c.nodeName==="BR"&&([c,f]=Gw(c));const h=l.firstChild;l===c&&h!=null&&h.nodeName==="BR"&&u===0&&f===0&&(f=1);try{a.setStart(l,u),a.setEnd(c,f)}catch{return null}return!a.collapsed||u===f&&o===i||(a.setStart(c,f),a.setEnd(l,u)),a}function RE(t,e){const n=t.getRootElement();if(n===null)return[];const r=n.getBoundingClientRect(),s=getComputedStyle(n),o=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i=Array.from(e.getClientRects());let a,l=i.length;i.sort((c,u)=>{const f=c.top-u.top;return Math.abs(f)<=3?c.left-u.left:f});for(let c=0;c<l;c++){const u=i[c],f=a&&a.top<=u.top&&a.top+a.height>u.top&&a.left+a.width>u.left,h=u.width+o===r.width;f||h?(i.splice(c--,1),l--):a=u}return i}function jE(t){const e={};if(!t)return e;const n=t.split(";");for(const r of n)if(r!==""){const[s,o]=r.split(/:([^]+)/);s&&o&&(e[s.trim()]=o.trim())}return e}function gv(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!rs(e)&&n!==null){const[r,s]=n,o=t.isBackward(),i=r.getNode(),a=s.getNode(),l=e.is(i),c=e.is(a);if(l||c){const[u,f]=Pf(t),h=i.is(a),p=e.is(o?a:i),g=e.is(o?i:a);let w,y=0;h?(y=u>f?f:u,w=u>f?u:f):p?(y=o?f:u,w=void 0):g&&(y=0,w=o?u:f),e.__text=e.__text.slice(y,w)}}return e}function IE(t){const e=t.getStyle(),n=jE(e);ME.set(e,n)}function LE(t,e){const n=t.getFormatType(),r=t.getIndent();n!==e.getFormatType()&&e.setFormat(n),r!==e.getIndent()&&e.setIndent(r)}function PE(t,e,n=LE){if(t===null)return;const r=t.getStartEndPoints(),s=new Map;let o=null;if(r){const[i,a]=r;o=Tl(),o.anchor.set(i.key,i.offset,i.type),o.focus.set(a.key,a.offset,a.type);const l=Gd(i.getNode(),Jn),c=Gd(a.getNode(),Jn);X(l)&&s.set(l.getKey(),l),X(c)&&s.set(c.getKey(),c)}for(const i of t.getNodes())if(X(i)&&Jn(i))s.set(i.getKey(),i);else if(r===null){const a=Gd(i,Jn);X(a)&&s.set(a.getKey(),a)}for(const[i,a]of s){const l=e();n(a,l),a.replace(l,!0),o&&(i===o.anchor.key&&o.anchor.set(l.getKey(),o.anchor.offset,o.anchor.type),i===o.focus.key&&o.focus.set(l.getKey(),o.focus.offset,o.focus.type))}o&&t.is(se())&&Zt(o)}function wv(t){const e=t.anchor.getNode(),n=Jt(e)?e:e.getParentOrThrow(),r=Ku().getElementByKey(n.getKey());if(r===null)return!1;const s=r.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(r).writingMode==="vertical-rl"}function tu(t,e){let n=wv(t)?!e:e;mv(t)&&(n=!n);const r=ds(t.focus,n?"previous":"next");if(hv(r))return!1;for(const s of Dp(r)){if(dr(s))return!s.origin.isInline();if(!X(s.origin)){if(Ke(s.origin))return!0;break}}return!1}function $E(t,e,n,r){t.modify(e?"extend":"move",n,r)}function mv(t){const e=t.anchor.getNode();return(Jt(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function nu(t,e,n){const r=mv(t);let s;s=wv(t)||r?!n:n,$E(t,e,s,"character")}function Gd(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function FE(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const s of e)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Ml=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,BE=Ml&&"documentMode"in document?document.documentMode:null,qE=Ml&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),UE=Ml&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!Ml||!("InputEvent"in window)||BE)&&"getTargetRanges"in new window.InputEvent("input");function bv(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}function Rt(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}const zE=Ml,Jf=qE,VE=UE;function rn(t,...e){const n=bv(...e);n.length>0&&t.classList.add(...n)}function ko(t,...e){const n=bv(...e);n.length>0&&t.classList.remove(...n)}function Ol(t,e){return Array.from(HE(t))}function HE(t,e){return KE("next",t)}function KE(t,e,n){const r=Be(),s=e||r,o=X(s)?gr(s,t):Ot(s,t),i=WE(s),a=function(c,u){const f=Xw(Ot(c,u));return f&&f[0]}(s,t);let l=i;return Wu({hasNext:c=>c!==null,initial:o,map:c=>({depth:l,node:c.origin}),step:c=>{if(c.isSameNodeCaret(a))return null;dr(c)&&l++;const u=Xw(c);return!u||u[0].isSameNodeCaret(a)?null:(l+=u[1],u[0])}})}function WE(t){let e=-1;for(let n=t;n!==null;n=n.getParent())e++;return e}function GE(t){const e=wr(t,n=>X(n)&&!n.isInline());return X(e)||FE(4,t.__key),e}const wr=(t,e)=>{let n=t;for(;n!==Be()&&n!=null;){if(e(n))return n;n=n.getParent()}return null};function yv(t,e,n,r){const s=o=>o instanceof e;return t.registerNodeTransform(e,o=>{const i=(a=>{const l=a.getChildren();for(let f=0;f<l.length;f++){const h=l[f];if(s(h))return null}let c=a,u=a;for(;c!==null;)if(u=c,c=c.getParent(),s(c))return{child:u,parent:c};return null})(o);if(i!==null){const{child:a,parent:l}=i;if(a.is(o)){r(l,o);const c=a.getNextSiblings(),u=c.length;if(l.insertAfter(a),u!==0){const f=n(l);a.insertAfter(f);for(let h=0;h<u;h++)f.append(c[h])}l.canBeEmpty()||l.getChildrenSize()!==0||l.remove()}}})}function ls(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}let Jd=!(VE||!zE)&&void 0;function JE(t){let e=1;if(function(){if(Jd===void 0){const n=document.createElement("div");n.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(n);const r=n.getBoundingClientRect();n.style.setProperty("zoom","2"),Jd=n.getBoundingClientRect().width===r.width,document.body.removeChild(n)}return Jd}())for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}function vv(t,e){const n=[],r=Array.from(t).reverse();for(let s=r.pop();s!==void 0;s=r.pop())if(e(s))n.push(s);else if(X(s))for(const o of XE(s))r.push(o);return n}function XE(t){return YE(gr(t,"previous"))}function YE(t){return Wu({hasNext:jo,initial:t.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function Jw(t){Gu(Ot(t,"next")).splice(1,t.getChildren())}function Xw(t,e="root"){let n=0,r=t,s=nl(r);for(;s===null;){if(n--,s=r.getParentCaret(e),!s)return null;r=s,s=nl(r)}return s&&[s,n]}var ac={exports:{}},Xd,Yw;function QE(){if(Yw)return Xd;Yw=1;var t=-1,e=1,n=0;function r(E,I,T,P,D){if(E===I)return E?[[n,E]]:[];if(T!=null){var R=O(E,I,T);if(R)return R}var q=a(E,I),V=E.substring(0,q);E=E.substring(q),I=I.substring(q),q=c(E,I);var J=E.substring(E.length-q);E=E.substring(0,E.length-q),I=I.substring(0,I.length-q);var H=s(E,I);return V&&H.unshift([n,V]),J&&H.push([n,J]),v(H,D),P&&f(H),H}function s(E,I){var T;if(!E)return[[e,I]];if(!I)return[[t,E]];var P=E.length>I.length?E:I,D=E.length>I.length?I:E,R=P.indexOf(D);if(R!==-1)return T=[[e,P.substring(0,R)],[n,D],[e,P.substring(R+D.length)]],E.length>I.length&&(T[0][0]=T[2][0]=t),T;if(D.length===1)return[[t,E],[e,I]];var q=u(E,I);if(q){var V=q[0],J=q[1],H=q[2],G=q[3],te=q[4],re=r(V,H),ee=r(J,G);return re.concat([[n,te]],ee)}return o(E,I)}function o(E,I){for(var T=E.length,P=I.length,D=Math.ceil((T+P)/2),R=D,q=2*D,V=new Array(q),J=new Array(q),H=0;H<q;H++)V[H]=-1,J[H]=-1;V[R+1]=0,J[R+1]=0;for(var G=T-P,te=G%2!==0,re=0,ee=0,Y=0,ce=0,he=0;he<D;he++){for(var ge=-he+re;ge<=he-ee;ge+=2){var me=R+ge,be;ge===-he||ge!==he&&V[me-1]<V[me+1]?be=V[me+1]:be=V[me-1]+1;for(var _e=be-ge;be<T&&_e<P&&E.charAt(be)===I.charAt(_e);)be++,_e++;if(V[me]=be,be>T)ee+=2;else if(_e>P)re+=2;else if(te){var ue=R+G-ge;if(ue>=0&&ue<q&&J[ue]!==-1){var Me=T-J[ue];if(be>=Me)return i(E,I,be,_e)}}}for(var qe=-he+Y;qe<=he-ce;qe+=2){var ue=R+qe,Me;qe===-he||qe!==he&&J[ue-1]<J[ue+1]?Me=J[ue+1]:Me=J[ue-1]+1;for(var ae=Me-qe;Me<T&&ae<P&&E.charAt(T-Me-1)===I.charAt(P-ae-1);)Me++,ae++;if(J[ue]=Me,Me>T)ce+=2;else if(ae>P)Y+=2;else if(!te){var me=R+G-qe;if(me>=0&&me<q&&V[me]!==-1){var be=V[me],_e=R+be-me;if(Me=T-Me,be>=Me)return i(E,I,be,_e)}}}}return[[t,E],[e,I]]}function i(E,I,T,P){var D=E.substring(0,T),R=I.substring(0,P),q=E.substring(T),V=I.substring(P),J=r(D,R),H=r(q,V);return J.concat(H)}function a(E,I){if(!E||!I||E.charAt(0)!==I.charAt(0))return 0;for(var T=0,P=Math.min(E.length,I.length),D=P,R=0;T<D;)E.substring(R,D)==I.substring(R,D)?(T=D,R=T):P=D,D=Math.floor((P-T)/2+T);return C(E.charCodeAt(D-1))&&D--,D}function l(E,I){var T=E.length,P=I.length;if(T==0||P==0)return 0;T>P?E=E.substring(T-P):T<P&&(I=I.substring(0,T));var D=Math.min(T,P);if(E==I)return D;for(var R=0,q=1;;){var V=E.substring(D-q),J=I.indexOf(V);if(J==-1)return R;q+=J,(J==0||E.substring(D-q)==I.substring(0,q))&&(R=q,q++)}}function c(E,I){if(!E||!I||E.slice(-1)!==I.slice(-1))return 0;for(var T=0,P=Math.min(E.length,I.length),D=P,R=0;T<D;)E.substring(E.length-D,E.length-R)==I.substring(I.length-D,I.length-R)?(T=D,R=T):P=D,D=Math.floor((P-T)/2+T);return M(E.charCodeAt(E.length-D))&&D--,D}function u(E,I){var T=E.length>I.length?E:I,P=E.length>I.length?I:E;if(T.length<4||P.length*2<T.length)return null;function D(ee,Y,ce){for(var he=ee.substring(ce,ce+Math.floor(ee.length/4)),ge=-1,me="",be,_e,ue,Me;(ge=Y.indexOf(he,ge+1))!==-1;){var qe=a(ee.substring(ce),Y.substring(ge)),ae=c(ee.substring(0,ce),Y.substring(0,ge));me.length<ae+qe&&(me=Y.substring(ge-ae,ge)+Y.substring(ge,ge+qe),be=ee.substring(0,ce-ae),_e=ee.substring(ce+qe),ue=Y.substring(0,ge-ae),Me=Y.substring(ge+qe))}return me.length*2>=ee.length?[be,_e,ue,Me,me]:null}var R=D(T,P,Math.ceil(T.length/4)),q=D(T,P,Math.ceil(T.length/2)),V;if(!R&&!q)return null;q?R?V=R[4].length>q[4].length?R:q:V=q:V=R;var J,H,G,te;E.length>I.length?(J=V[0],H=V[1],G=V[2],te=V[3]):(G=V[0],te=V[1],J=V[2],H=V[3]);var re=V[4];return[J,H,G,te,re]}function f(E){for(var I=!1,T=[],P=0,D=null,R=0,q=0,V=0,J=0,H=0;R<E.length;)E[R][0]==n?(T[P++]=R,q=J,V=H,J=0,H=0,D=E[R][1]):(E[R][0]==e?J+=E[R][1].length:H+=E[R][1].length,D&&D.length<=Math.max(q,V)&&D.length<=Math.max(J,H)&&(E.splice(T[P-1],0,[t,D]),E[T[P-1]+1][0]=e,P--,P--,R=P>0?T[P-1]:-1,q=0,V=0,J=0,H=0,D=null,I=!0)),R++;for(I&&v(E),_(E),R=1;R<E.length;){if(E[R-1][0]==t&&E[R][0]==e){var G=E[R-1][1],te=E[R][1],re=l(G,te),ee=l(te,G);re>=ee?(re>=G.length/2||re>=te.length/2)&&(E.splice(R,0,[n,te.substring(0,re)]),E[R-1][1]=G.substring(0,G.length-re),E[R+1][1]=te.substring(re),R++):(ee>=G.length/2||ee>=te.length/2)&&(E.splice(R,0,[n,G.substring(0,ee)]),E[R-1][0]=e,E[R-1][1]=te.substring(0,te.length-ee),E[R+1][0]=t,E[R+1][1]=G.substring(ee),R++),R++}R++}}var h=/[^a-zA-Z0-9]/,p=/\s/,g=/[\r\n]/,w=/\n\r?\n$/,y=/^\r?\n\r?\n/;function _(E){function I(ee,Y){if(!ee||!Y)return 6;var ce=ee.charAt(ee.length-1),he=Y.charAt(0),ge=ce.match(h),me=he.match(h),be=ge&&ce.match(p),_e=me&&he.match(p),ue=be&&ce.match(g),Me=_e&&he.match(g),qe=ue&&ee.match(w),ae=Me&&Y.match(y);return qe||ae?5:ue||Me?4:ge&&!be&&_e?3:be||_e?2:ge||me?1:0}for(var T=1;T<E.length-1;){if(E[T-1][0]==n&&E[T+1][0]==n){var P=E[T-1][1],D=E[T][1],R=E[T+1][1],q=c(P,D);if(q){var V=D.substring(D.length-q);P=P.substring(0,P.length-q),D=V+D.substring(0,D.length-q),R=V+R}for(var J=P,H=D,G=R,te=I(P,D)+I(D,R);D.charAt(0)===R.charAt(0);){P+=D.charAt(0),D=D.substring(1)+R.charAt(0),R=R.substring(1);var re=I(P,D)+I(D,R);re>=te&&(te=re,J=P,H=D,G=R)}E[T-1][1]!=J&&(J?E[T-1][1]=J:(E.splice(T-1,1),T--),E[T][1]=H,G?E[T+1][1]=G:(E.splice(T+1,1),T--))}T++}}function v(E,I){E.push([n,""]);for(var T=0,P=0,D=0,R="",q="",V;T<E.length;){if(T<E.length-1&&!E[T][1]){E.splice(T,1);continue}switch(E[T][0]){case e:D++,q+=E[T][1],T++;break;case t:P++,R+=E[T][1],T++;break;case n:var J=T-D-P-1;if(I){if(J>=0&&S(E[J][1])){var H=E[J][1].slice(-1);if(E[J][1]=E[J][1].slice(0,-1),R=H+R,q=H+q,!E[J][1]){E.splice(J,1),T--;var G=J-1;E[G]&&E[G][0]===e&&(D++,q=E[G][1]+q,G--),E[G]&&E[G][0]===t&&(P++,R=E[G][1]+R,G--),J=G}}if(j(E[T][1])){var H=E[T][1].charAt(0);E[T][1]=E[T][1].slice(1),R+=H,q+=H}}if(T<E.length-1&&!E[T][1]){E.splice(T,1);break}if(R.length>0||q.length>0){R.length>0&&q.length>0&&(V=a(q,R),V!==0&&(J>=0?E[J][1]+=q.substring(0,V):(E.splice(0,0,[n,q.substring(0,V)]),T++),q=q.substring(V),R=R.substring(V)),V=c(q,R),V!==0&&(E[T][1]=q.substring(q.length-V)+E[T][1],q=q.substring(0,q.length-V),R=R.substring(0,R.length-V)));var te=D+P;R.length===0&&q.length===0?(E.splice(T-te,te),T=T-te):R.length===0?(E.splice(T-te,te,[e,q]),T=T-te+1):q.length===0?(E.splice(T-te,te,[t,R]),T=T-te+1):(E.splice(T-te,te,[t,R],[e,q]),T=T-te+2)}T!==0&&E[T-1][0]===n?(E[T-1][1]+=E[T][1],E.splice(T,1)):T++,D=0,P=0,R="",q="";break}}E[E.length-1][1]===""&&E.pop();var re=!1;for(T=1;T<E.length-1;)E[T-1][0]===n&&E[T+1][0]===n&&(E[T][1].substring(E[T][1].length-E[T-1][1].length)===E[T-1][1]?(E[T][1]=E[T-1][1]+E[T][1].substring(0,E[T][1].length-E[T-1][1].length),E[T+1][1]=E[T-1][1]+E[T+1][1],E.splice(T-1,1),re=!0):E[T][1].substring(0,E[T+1][1].length)==E[T+1][1]&&(E[T-1][1]+=E[T+1][1],E[T][1]=E[T][1].substring(E[T+1][1].length)+E[T+1][1],E.splice(T+1,1),re=!0)),T++;re&&v(E,I)}function C(E){return E>=55296&&E<=56319}function M(E){return E>=56320&&E<=57343}function j(E){return M(E.charCodeAt(0))}function S(E){return C(E.charCodeAt(E.length-1))}function L(E){for(var I=[],T=0;T<E.length;T++)E[T][1].length>0&&I.push(E[T]);return I}function A(E,I,T,P){return S(E)||j(P)?null:L([[n,E],[t,I],[e,T],[n,P]])}function O(E,I,T){var P=typeof T=="number"?{index:T,length:0}:T.oldRange,D=typeof T=="number"?null:T.newRange,R=E.length,q=I.length;if(P.length===0&&(D===null||D.length===0)){var V=P.index,J=E.slice(0,V),H=E.slice(V),G=D?D.index:null;e:{var te=V+q-R;if(G!==null&&G!==te||te<0||te>q)break e;var re=I.slice(0,te),ee=I.slice(te);if(ee!==H)break e;var Y=Math.min(V,te),ce=J.slice(0,Y),he=re.slice(0,Y);if(ce!==he)break e;var ge=J.slice(Y),me=re.slice(Y);return A(ce,ge,me,H)}e:{if(G!==null&&G!==V)break e;var be=V,re=I.slice(0,be),ee=I.slice(be);if(re!==J)break e;var _e=Math.min(R-be,q-be),ue=H.slice(H.length-_e),Me=ee.slice(ee.length-_e);if(ue!==Me)break e;var ge=H.slice(0,H.length-_e),me=ee.slice(0,ee.length-_e);return A(J,ge,me,ue)}}if(P.length>0&&D&&D.length===0)e:{var ce=E.slice(0,P.index),ue=E.slice(P.index+P.length),Y=ce.length,_e=ue.length;if(q<Y+_e)break e;var he=I.slice(0,Y),Me=I.slice(q-_e);if(ce!==he||ue!==Me)break e;var ge=E.slice(Y,R-_e),me=I.slice(Y,q-_e);return A(ce,ge,me,ue)}return null}function F(E,I,T,P){return r(E,I,T,P,!0)}return F.INSERT=e,F.DELETE=t,F.EQUAL=n,Xd=F,Xd}var Ia={exports:{}};Ia.exports;var Qw;function xv(){return Qw||(Qw=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",f="[object GeneratorFunction]",h="[object Map]",p="[object Number]",g="[object Object]",w="[object Promise]",y="[object RegExp]",_="[object Set]",v="[object String]",C="[object Symbol]",M="[object WeakMap]",j="[object ArrayBuffer]",S="[object DataView]",L="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",F="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",T="[object Uint8ClampedArray]",P="[object Uint16Array]",D="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,V=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,H={};H[o]=H[i]=H[j]=H[S]=H[a]=H[l]=H[L]=H[A]=H[O]=H[F]=H[E]=H[h]=H[p]=H[g]=H[y]=H[_]=H[v]=H[C]=H[I]=H[T]=H[P]=H[D]=!0,H[c]=H[u]=H[M]=!1;var G=typeof Es=="object"&&Es&&Es.Object===Object&&Es,te=typeof self=="object"&&self&&self.Object===Object&&self,re=G||te||Function("return this")(),ee=e&&!e.nodeType&&e,Y=ee&&!0&&t&&!t.nodeType&&t,ce=Y&&Y.exports===ee;function he(m,N){return m.set(N[0],N[1]),m}function ge(m,N){return m.add(N),m}function me(m,N){for(var B=-1,Z=m?m.length:0;++B<Z&&N(m[B],B,m)!==!1;);return m}function be(m,N){for(var B=-1,Z=N.length,Ne=m.length;++B<Z;)m[Ne+B]=N[B];return m}function _e(m,N,B,Z){for(var Ne=-1,ye=m?m.length:0;++Ne<ye;)B=N(B,m[Ne],Ne,m);return B}function ue(m,N){for(var B=-1,Z=Array(m);++B<m;)Z[B]=N(B);return Z}function Me(m,N){return m==null?void 0:m[N]}function qe(m){var N=!1;if(m!=null&&typeof m.toString!="function")try{N=!!(m+"")}catch{}return N}function ae(m){var N=-1,B=Array(m.size);return m.forEach(function(Z,Ne){B[++N]=[Ne,Z]}),B}function ke(m,N){return function(B){return m(N(B))}}function Ie(m){var N=-1,B=Array(m.size);return m.forEach(function(Z){B[++N]=Z}),B}var Ve=Array.prototype,Ze=Function.prototype,pt=Object.prototype,dt=re["__core-js_shared__"],yt=function(){var m=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Re=Ze.toString,Et=pt.hasOwnProperty,rt=pt.toString,nr=RegExp("^"+Re.call(Et).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dn=ce?re.Buffer:void 0,yn=re.Symbol,Mn=re.Uint8Array,ve=ke(Object.getPrototypeOf,Object),Ge=Object.create,St=pt.propertyIsEnumerable,It=Ve.splice,On=Object.getOwnPropertySymbols,Rn=Dn?Dn.isBuffer:void 0,rr=ke(Object.keys,Object),jn=ar(re,"DataView"),In=ar(re,"Map"),Vt=ar(re,"Promise"),Ln=ar(re,"Set"),Pn=ar(re,"WeakMap"),vn=ar(Object,"create"),kr=fn(jn),Je=fn(In),ft=fn(Vt),un=fn(Ln),dn=fn(Pn),sr=yn?yn.prototype:void 0,vs=sr?sr.valueOf:void 0;function Kn(m){var N=-1,B=m?m.length:0;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function x(){this.__data__=vn?vn(null):{}}function k(m){return this.has(m)&&delete this.__data__[m]}function $(m){var N=this.__data__;if(vn){var B=N[m];return B===r?void 0:B}return Et.call(N,m)?N[m]:void 0}function K(m){var N=this.__data__;return vn?N[m]!==void 0:Et.call(N,m)}function ie(m,N){var B=this.__data__;return B[m]=vn&&N===void 0?r:N,this}Kn.prototype.clear=x,Kn.prototype.delete=k,Kn.prototype.get=$,Kn.prototype.has=K,Kn.prototype.set=ie;function de(m){var N=-1,B=m?m.length:0;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function je(){this.__data__=[]}function gt(m){var N=this.__data__,B=ai(N,m);if(B<0)return!1;var Z=N.length-1;return B==Z?N.pop():It.call(N,B,1),!0}function xt(m){var N=this.__data__,B=ai(N,m);return B<0?void 0:N[B][1]}function Ht(m){return ai(this.__data__,m)>-1}function Nt(m,N){var B=this.__data__,Z=ai(B,m);return Z<0?B.push([m,N]):B[Z][1]=N,this}de.prototype.clear=je,de.prototype.delete=gt,de.prototype.get=xt,de.prototype.has=Ht,de.prototype.set=Nt;function ct(m){var N=-1,B=m?m.length:0;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function $n(){this.__data__={hash:new Kn,map:new(In||de),string:new Kn}}function en(m){return ao(this,m).delete(m)}function or(m){return ao(this,m).get(m)}function xn(m){return ao(this,m).has(m)}function ir(m,N){return ao(this,m).set(m,N),this}ct.prototype.clear=$n,ct.prototype.delete=en,ct.prototype.get=or,ct.prototype.has=xn,ct.prototype.set=ir;function _t(m){this.__data__=new de(m)}function oo(){this.__data__=new de}function Ct(m){return this.__data__.delete(m)}function oi(m){return this.__data__.get(m)}function Er(m){return this.__data__.has(m)}function fd(m,N){var B=this.__data__;if(B instanceof de){var Z=B.__data__;if(!In||Z.length<n-1)return Z.push([m,N]),this;B=this.__data__=new ct(Z)}return B.set(m,N),this}_t.prototype.clear=oo,_t.prototype.delete=Ct,_t.prototype.get=oi,_t.prototype.has=Er,_t.prototype.set=fd;function ii(m,N){var B=ya(m)||ci(m)?ue(m.length,String):[],Z=B.length,Ne=!!Z;for(var ye in m)Et.call(m,ye)&&!(Ne&&(ye=="length"||Sd(ye,Z)))&&B.push(ye);return B}function Vl(m,N,B){var Z=m[N];(!(Et.call(m,N)&&Jl(Z,B))||B===void 0&&!(N in m))&&(m[N]=B)}function ai(m,N){for(var B=m.length;B--;)if(Jl(m[B][0],N))return B;return-1}function Sr(m,N){return m&&ba(N,xa(N),m)}function wa(m,N,B,Z,Ne,ye,He){var Ue;if(Z&&(Ue=ye?Z(m,Ne,ye,He):Z(m)),Ue!==void 0)return Ue;if(!Tr(m))return m;var kt=ya(m);if(kt){if(Ue=kd(m),!N)return xd(m,Ue)}else{var We=Yr(m),tn=We==u||We==f;if(Xl(m))return li(m,N);if(We==g||We==o||tn&&!ye){if(qe(m))return ye?m:{};if(Ue=Nr(tn?{}:m),!N)return _d(m,Sr(Ue,m))}else{if(!H[We])return ye?m:{};Ue=Ed(m,We,wa,N)}}He||(He=new _t);var _n=He.get(m);if(_n)return _n;if(He.set(m,Ue),!kt)var Tt=B?Cd(m):xa(m);return me(Tt||m,function(nn,Kt){Tt&&(Kt=nn,nn=m[Kt]),Vl(Ue,Kt,wa(nn,N,B,Z,Kt,m,He))}),Ue}function hd(m){return Tr(m)?Ge(m):{}}function pd(m,N,B){var Z=N(m);return ya(m)?Z:be(Z,B(m))}function gd(m){return rt.call(m)}function wd(m){if(!Tr(m)||Td(m))return!1;var N=va(m)||qe(m)?nr:V;return N.test(fn(m))}function md(m){if(!Wl(m))return rr(m);var N=[];for(var B in Object(m))Et.call(m,B)&&B!="constructor"&&N.push(B);return N}function li(m,N){if(N)return m.slice();var B=new m.constructor(m.length);return m.copy(B),B}function ma(m){var N=new m.constructor(m.byteLength);return new Mn(N).set(new Mn(m)),N}function io(m,N){var B=N?ma(m.buffer):m.buffer;return new m.constructor(B,m.byteOffset,m.byteLength)}function Hl(m,N,B){var Z=N?B(ae(m),!0):ae(m);return _e(Z,he,new m.constructor)}function Kl(m){var N=new m.constructor(m.source,q.exec(m));return N.lastIndex=m.lastIndex,N}function bd(m,N,B){var Z=N?B(Ie(m),!0):Ie(m);return _e(Z,ge,new m.constructor)}function yd(m){return vs?Object(vs.call(m)):{}}function vd(m,N){var B=N?ma(m.buffer):m.buffer;return new m.constructor(B,m.byteOffset,m.length)}function xd(m,N){var B=-1,Z=m.length;for(N||(N=Array(Z));++B<Z;)N[B]=m[B];return N}function ba(m,N,B,Z){B||(B={});for(var Ne=-1,ye=N.length;++Ne<ye;){var He=N[Ne],Ue=void 0;Vl(B,He,Ue===void 0?m[He]:Ue)}return B}function _d(m,N){return ba(m,Xr(m),N)}function Cd(m){return pd(m,xa,Xr)}function ao(m,N){var B=m.__data__;return Nd(N)?B[typeof N=="string"?"string":"hash"]:B.map}function ar(m,N){var B=Me(m,N);return wd(B)?B:void 0}var Xr=On?ke(On,Object):Dd,Yr=gd;(jn&&Yr(new jn(new ArrayBuffer(1)))!=S||In&&Yr(new In)!=h||Vt&&Yr(Vt.resolve())!=w||Ln&&Yr(new Ln)!=_||Pn&&Yr(new Pn)!=M)&&(Yr=function(m){var N=rt.call(m),B=N==g?m.constructor:void 0,Z=B?fn(B):void 0;if(Z)switch(Z){case kr:return S;case Je:return h;case ft:return w;case un:return _;case dn:return M}return N});function kd(m){var N=m.length,B=m.constructor(N);return N&&typeof m[0]=="string"&&Et.call(m,"index")&&(B.index=m.index,B.input=m.input),B}function Nr(m){return typeof m.constructor=="function"&&!Wl(m)?hd(ve(m)):{}}function Ed(m,N,B,Z){var Ne=m.constructor;switch(N){case j:return ma(m);case a:case l:return new Ne(+m);case S:return io(m,Z);case L:case A:case O:case F:case E:case I:case T:case P:case D:return vd(m,Z);case h:return Hl(m,Z,B);case p:case v:return new Ne(m);case y:return Kl(m);case _:return bd(m,Z,B);case C:return yd(m)}}function Sd(m,N){return N=N??s,!!N&&(typeof m=="number"||J.test(m))&&m>-1&&m%1==0&&m<N}function Nd(m){var N=typeof m;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?m!=="__proto__":m===null}function Td(m){return!!yt&&yt in m}function Wl(m){var N=m&&m.constructor,B=typeof N=="function"&&N.prototype||pt;return m===B}function fn(m){if(m!=null){try{return Re.call(m)}catch{}try{return m+""}catch{}}return""}function Gl(m){return wa(m,!0,!0)}function Jl(m,N){return m===N||m!==m&&N!==N}function ci(m){return Ad(m)&&Et.call(m,"callee")&&(!St.call(m,"callee")||rt.call(m)==o)}var ya=Array.isArray;function ui(m){return m!=null&&Yl(m.length)&&!va(m)}function Ad(m){return Ql(m)&&ui(m)}var Xl=Rn||Md;function va(m){var N=Tr(m)?rt.call(m):"";return N==u||N==f}function Yl(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=s}function Tr(m){var N=typeof m;return!!m&&(N=="object"||N=="function")}function Ql(m){return!!m&&typeof m=="object"}function xa(m){return ui(m)?ii(m):md(m)}function Dd(){return[]}function Md(){return!1}t.exports=Gl}(Ia,Ia.exports)),Ia.exports}var La={exports:{}};La.exports;var Zw;function _v(){return Zw||(Zw=1,function(t,e){var n=200,r="__lodash_hash_undefined__",s=1,o=2,i=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",w="[object Map]",y="[object Number]",_="[object Null]",v="[object Object]",C="[object Promise]",M="[object Proxy]",j="[object RegExp]",S="[object Set]",L="[object String]",A="[object Symbol]",O="[object Undefined]",F="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",D="[object Int8Array]",R="[object Int16Array]",q="[object Int32Array]",V="[object Uint8Array]",J="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,Y={};Y[T]=Y[P]=Y[D]=Y[R]=Y[q]=Y[V]=Y[J]=Y[H]=Y[G]=!0,Y[a]=Y[l]=Y[E]=Y[u]=Y[I]=Y[f]=Y[h]=Y[p]=Y[w]=Y[y]=Y[v]=Y[j]=Y[S]=Y[L]=Y[F]=!1;var ce=typeof Es=="object"&&Es&&Es.Object===Object&&Es,he=typeof self=="object"&&self&&self.Object===Object&&self,ge=ce||he||Function("return this")(),me=e&&!e.nodeType&&e,be=me&&!0&&t&&!t.nodeType&&t,_e=be&&be.exports===me,ue=_e&&ce.process,Me=function(){try{return ue&&ue.binding&&ue.binding("util")}catch{}}(),qe=Me&&Me.isTypedArray;function ae(m,N){for(var B=-1,Z=m==null?0:m.length,Ne=0,ye=[];++B<Z;){var He=m[B];N(He,B,m)&&(ye[Ne++]=He)}return ye}function ke(m,N){for(var B=-1,Z=N.length,Ne=m.length;++B<Z;)m[Ne+B]=N[B];return m}function Ie(m,N){for(var B=-1,Z=m==null?0:m.length;++B<Z;)if(N(m[B],B,m))return!0;return!1}function Ve(m,N){for(var B=-1,Z=Array(m);++B<m;)Z[B]=N(B);return Z}function Ze(m){return function(N){return m(N)}}function pt(m,N){return m.has(N)}function dt(m,N){return m==null?void 0:m[N]}function yt(m){var N=-1,B=Array(m.size);return m.forEach(function(Z,Ne){B[++N]=[Ne,Z]}),B}function Re(m,N){return function(B){return m(N(B))}}function Et(m){var N=-1,B=Array(m.size);return m.forEach(function(Z){B[++N]=Z}),B}var rt=Array.prototype,nr=Function.prototype,Dn=Object.prototype,yn=ge["__core-js_shared__"],Mn=nr.toString,ve=Dn.hasOwnProperty,Ge=function(){var m=/[^.]+$/.exec(yn&&yn.keys&&yn.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),St=Dn.toString,It=RegExp("^"+Mn.call(ve).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),On=_e?ge.Buffer:void 0,Rn=ge.Symbol,rr=ge.Uint8Array,jn=Dn.propertyIsEnumerable,In=rt.splice,Vt=Rn?Rn.toStringTag:void 0,Ln=Object.getOwnPropertySymbols,Pn=On?On.isBuffer:void 0,vn=Re(Object.keys,Object),kr=Xr(ge,"DataView"),Je=Xr(ge,"Map"),ft=Xr(ge,"Promise"),un=Xr(ge,"Set"),dn=Xr(ge,"WeakMap"),sr=Xr(Object,"create"),vs=fn(kr),Kn=fn(Je),x=fn(ft),k=fn(un),$=fn(dn),K=Rn?Rn.prototype:void 0,ie=K?K.valueOf:void 0;function de(m){var N=-1,B=m==null?0:m.length;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function je(){this.__data__=sr?sr(null):{},this.size=0}function gt(m){var N=this.has(m)&&delete this.__data__[m];return this.size-=N?1:0,N}function xt(m){var N=this.__data__;if(sr){var B=N[m];return B===r?void 0:B}return ve.call(N,m)?N[m]:void 0}function Ht(m){var N=this.__data__;return sr?N[m]!==void 0:ve.call(N,m)}function Nt(m,N){var B=this.__data__;return this.size+=this.has(m)?0:1,B[m]=sr&&N===void 0?r:N,this}de.prototype.clear=je,de.prototype.delete=gt,de.prototype.get=xt,de.prototype.has=Ht,de.prototype.set=Nt;function ct(m){var N=-1,B=m==null?0:m.length;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function $n(){this.__data__=[],this.size=0}function en(m){var N=this.__data__,B=li(N,m);if(B<0)return!1;var Z=N.length-1;return B==Z?N.pop():In.call(N,B,1),--this.size,!0}function or(m){var N=this.__data__,B=li(N,m);return B<0?void 0:N[B][1]}function xn(m){return li(this.__data__,m)>-1}function ir(m,N){var B=this.__data__,Z=li(B,m);return Z<0?(++this.size,B.push([m,N])):B[Z][1]=N,this}ct.prototype.clear=$n,ct.prototype.delete=en,ct.prototype.get=or,ct.prototype.has=xn,ct.prototype.set=ir;function _t(m){var N=-1,B=m==null?0:m.length;for(this.clear();++N<B;){var Z=m[N];this.set(Z[0],Z[1])}}function oo(){this.size=0,this.__data__={hash:new de,map:new(Je||ct),string:new de}}function Ct(m){var N=ar(this,m).delete(m);return this.size-=N?1:0,N}function oi(m){return ar(this,m).get(m)}function Er(m){return ar(this,m).has(m)}function fd(m,N){var B=ar(this,m),Z=B.size;return B.set(m,N),this.size+=B.size==Z?0:1,this}_t.prototype.clear=oo,_t.prototype.delete=Ct,_t.prototype.get=oi,_t.prototype.has=Er,_t.prototype.set=fd;function ii(m){var N=-1,B=m==null?0:m.length;for(this.__data__=new _t;++N<B;)this.add(m[N])}function Vl(m){return this.__data__.set(m,r),this}function ai(m){return this.__data__.has(m)}ii.prototype.add=ii.prototype.push=Vl,ii.prototype.has=ai;function Sr(m){var N=this.__data__=new ct(m);this.size=N.size}function wa(){this.__data__=new ct,this.size=0}function hd(m){var N=this.__data__,B=N.delete(m);return this.size=N.size,B}function pd(m){return this.__data__.get(m)}function gd(m){return this.__data__.has(m)}function wd(m,N){var B=this.__data__;if(B instanceof ct){var Z=B.__data__;if(!Je||Z.length<n-1)return Z.push([m,N]),this.size=++B.size,this;B=this.__data__=new _t(Z)}return B.set(m,N),this.size=B.size,this}Sr.prototype.clear=wa,Sr.prototype.delete=hd,Sr.prototype.get=pd,Sr.prototype.has=gd,Sr.prototype.set=wd;function md(m,N){var B=ci(m),Z=!B&&Jl(m),Ne=!B&&!Z&&ui(m),ye=!B&&!Z&&!Ne&&Ql(m),He=B||Z||Ne||ye,Ue=He?Ve(m.length,String):[],kt=Ue.length;for(var We in m)ve.call(m,We)&&!(He&&(We=="length"||Ne&&(We=="offset"||We=="parent")||ye&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||Ed(We,kt)))&&Ue.push(We);return Ue}function li(m,N){for(var B=m.length;B--;)if(Gl(m[B][0],N))return B;return-1}function ma(m,N,B){var Z=N(m);return ci(m)?Z:ke(Z,B(m))}function io(m){return m==null?m===void 0?O:_:Vt&&Vt in Object(m)?Yr(m):Wl(m)}function Hl(m){return Tr(m)&&io(m)==a}function Kl(m,N,B,Z,Ne){return m===N?!0:m==null||N==null||!Tr(m)&&!Tr(N)?m!==m&&N!==N:bd(m,N,B,Z,Kl,Ne)}function bd(m,N,B,Z,Ne,ye){var He=ci(m),Ue=ci(N),kt=He?l:Nr(m),We=Ue?l:Nr(N);kt=kt==a?v:kt,We=We==a?v:We;var tn=kt==v,_n=We==v,Tt=kt==We;if(Tt&&ui(m)){if(!ui(N))return!1;He=!0,tn=!1}if(Tt&&!tn)return ye||(ye=new Sr),He||Ql(m)?ba(m,N,B,Z,Ne,ye):_d(m,N,kt,B,Z,Ne,ye);if(!(B&s)){var nn=tn&&ve.call(m,"__wrapped__"),Kt=_n&&ve.call(N,"__wrapped__");if(nn||Kt){var xs=nn?m.value():m,Qr=Kt?N.value():N;return ye||(ye=new Sr),Ne(xs,Qr,B,Z,ye)}}return Tt?(ye||(ye=new Sr),Cd(m,N,B,Z,Ne,ye)):!1}function yd(m){if(!Yl(m)||Nd(m))return!1;var N=Xl(m)?It:re;return N.test(fn(m))}function vd(m){return Tr(m)&&va(m.length)&&!!Y[io(m)]}function xd(m){if(!Td(m))return vn(m);var N=[];for(var B in Object(m))ve.call(m,B)&&B!="constructor"&&N.push(B);return N}function ba(m,N,B,Z,Ne,ye){var He=B&s,Ue=m.length,kt=N.length;if(Ue!=kt&&!(He&&kt>Ue))return!1;var We=ye.get(m);if(We&&ye.get(N))return We==N;var tn=-1,_n=!0,Tt=B&o?new ii:void 0;for(ye.set(m,N),ye.set(N,m);++tn<Ue;){var nn=m[tn],Kt=N[tn];if(Z)var xs=He?Z(Kt,nn,tn,N,m,ye):Z(nn,Kt,tn,m,N,ye);if(xs!==void 0){if(xs)continue;_n=!1;break}if(Tt){if(!Ie(N,function(Qr,lo){if(!pt(Tt,lo)&&(nn===Qr||Ne(nn,Qr,B,Z,ye)))return Tt.push(lo)})){_n=!1;break}}else if(!(nn===Kt||Ne(nn,Kt,B,Z,ye))){_n=!1;break}}return ye.delete(m),ye.delete(N),_n}function _d(m,N,B,Z,Ne,ye,He){switch(B){case I:if(m.byteLength!=N.byteLength||m.byteOffset!=N.byteOffset)return!1;m=m.buffer,N=N.buffer;case E:return!(m.byteLength!=N.byteLength||!ye(new rr(m),new rr(N)));case u:case f:case y:return Gl(+m,+N);case h:return m.name==N.name&&m.message==N.message;case j:case L:return m==N+"";case w:var Ue=yt;case S:var kt=Z&s;if(Ue||(Ue=Et),m.size!=N.size&&!kt)return!1;var We=He.get(m);if(We)return We==N;Z|=o,He.set(m,N);var tn=ba(Ue(m),Ue(N),Z,Ne,ye,He);return He.delete(m),tn;case A:if(ie)return ie.call(m)==ie.call(N)}return!1}function Cd(m,N,B,Z,Ne,ye){var He=B&s,Ue=ao(m),kt=Ue.length,We=ao(N),tn=We.length;if(kt!=tn&&!He)return!1;for(var _n=kt;_n--;){var Tt=Ue[_n];if(!(He?Tt in N:ve.call(N,Tt)))return!1}var nn=ye.get(m);if(nn&&ye.get(N))return nn==N;var Kt=!0;ye.set(m,N),ye.set(N,m);for(var xs=He;++_n<kt;){Tt=Ue[_n];var Qr=m[Tt],lo=N[Tt];if(Z)var Lg=He?Z(lo,Qr,Tt,N,m,ye):Z(Qr,lo,Tt,m,N,ye);if(!(Lg===void 0?Qr===lo||Ne(Qr,lo,B,Z,ye):Lg)){Kt=!1;break}xs||(xs=Tt=="constructor")}if(Kt&&!xs){var Zl=m.constructor,ec=N.constructor;Zl!=ec&&"constructor"in m&&"constructor"in N&&!(typeof Zl=="function"&&Zl instanceof Zl&&typeof ec=="function"&&ec instanceof ec)&&(Kt=!1)}return ye.delete(m),ye.delete(N),Kt}function ao(m){return ma(m,xa,kd)}function ar(m,N){var B=m.__data__;return Sd(N)?B[typeof N=="string"?"string":"hash"]:B.map}function Xr(m,N){var B=dt(m,N);return yd(B)?B:void 0}function Yr(m){var N=ve.call(m,Vt),B=m[Vt];try{m[Vt]=void 0;var Z=!0}catch{}var Ne=St.call(m);return Z&&(N?m[Vt]=B:delete m[Vt]),Ne}var kd=Ln?function(m){return m==null?[]:(m=Object(m),ae(Ln(m),function(N){return jn.call(m,N)}))}:Dd,Nr=io;(kr&&Nr(new kr(new ArrayBuffer(1)))!=I||Je&&Nr(new Je)!=w||ft&&Nr(ft.resolve())!=C||un&&Nr(new un)!=S||dn&&Nr(new dn)!=F)&&(Nr=function(m){var N=io(m),B=N==v?m.constructor:void 0,Z=B?fn(B):"";if(Z)switch(Z){case vs:return I;case Kn:return w;case x:return C;case k:return S;case $:return F}return N});function Ed(m,N){return N=N??i,!!N&&(typeof m=="number"||ee.test(m))&&m>-1&&m%1==0&&m<N}function Sd(m){var N=typeof m;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?m!=="__proto__":m===null}function Nd(m){return!!Ge&&Ge in m}function Td(m){var N=m&&m.constructor,B=typeof N=="function"&&N.prototype||Dn;return m===B}function Wl(m){return St.call(m)}function fn(m){if(m!=null){try{return Mn.call(m)}catch{}try{return m+""}catch{}}return""}function Gl(m,N){return m===N||m!==m&&N!==N}var Jl=Hl(function(){return arguments}())?Hl:function(m){return Tr(m)&&ve.call(m,"callee")&&!jn.call(m,"callee")},ci=Array.isArray;function ya(m){return m!=null&&va(m.length)&&!Xl(m)}var ui=Pn||Md;function Ad(m,N){return Kl(m,N)}function Xl(m){if(!Yl(m))return!1;var N=io(m);return N==p||N==g||N==c||N==M}function va(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=i}function Yl(m){var N=typeof m;return m!=null&&(N=="object"||N=="function")}function Tr(m){return m!=null&&typeof m=="object"}var Ql=qe?Ze(qe):vd;function xa(m){return ya(m)?md(m):xd(m)}function Dd(){return[]}function Md(){return!1}t.exports=Ad}(La,La.exports)),La.exports}var lc={},em;function ZE(){if(em)return lc;em=1,Object.defineProperty(lc,"__esModule",{value:!0});const t=xv(),e=_v();var n;return function(r){function s(l={},c={},u=!1){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});let f=t(c);u||(f=Object.keys(f).reduce((h,p)=>(f[p]!=null&&(h[p]=f[p]),h),{}));for(const h in l)l[h]!==void 0&&c[h]===void 0&&(f[h]=l[h]);return Object.keys(f).length>0?f:void 0}r.compose=s;function o(l={},c={}){typeof l!="object"&&(l={}),typeof c!="object"&&(c={});const u=Object.keys(l).concat(Object.keys(c)).reduce((f,h)=>(e(l[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f),{});return Object.keys(u).length>0?u:void 0}r.diff=o;function i(l={},c={}){l=l||{};const u=Object.keys(c).reduce((f,h)=>(c[h]!==l[h]&&l[h]!==void 0&&(f[h]=c[h]),f),{});return Object.keys(l).reduce((f,h)=>(l[h]!==c[h]&&c[h]===void 0&&(f[h]=null),f),u)}r.invert=i;function a(l,c,u=!1){if(typeof l!="object")return c;if(typeof c!="object")return;if(!u)return c;const f=Object.keys(c).reduce((h,p)=>(l[p]===void 0&&(h[p]=c[p]),h),{});return Object.keys(f).length>0?f:void 0}r.transform=a}(n||(n={})),lc.default=n,lc}var cc={},tm;function Cv(){if(tm)return cc;tm=1,Object.defineProperty(cc,"__esModule",{value:!0});var t;return function(e){function n(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=n}(t||(t={})),cc.default=t,cc}var uc={},nm;function eS(){if(nm)return uc;nm=1,Object.defineProperty(uc,"__esModule",{value:!0});const t=Cv();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const s=this.ops[this.index];if(s){const o=this.offset,i=t.default.length(s);if(r>=i-o?(r=i-o,this.index+=1,this.offset=0):this.offset+=r,typeof s.delete=="number")return{delete:r};{const a={};return s.attributes&&(a.attributes=s.attributes),typeof s.retain=="number"?a.retain=r:typeof s.retain=="object"&&s.retain!==null?a.retain=s.retain:typeof s.insert=="string"?a.insert=s.insert.substr(o,r):a.insert=s.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,s=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=r,this.index=s,[o].concat(i)}}else return[]}}return uc.default=e,uc}var rm;function tS(){return rm||(rm=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=QE(),r=xv(),s=_v(),o=ZE();e.AttributeMap=o.default;const i=Cv();e.Op=i.default;const a=eS();e.OpIterator=a.default;const l="\0",c=(f,h)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const p=Object.keys(f)[0];if(!p||p!==Object.keys(h)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(h)[0]}`);return[p,f[p],h[p]]};class u{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,p){this.handlers[h]=p}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const p=this.handlers[h];if(!p)throw new Error(`no handlers for embed type "${h}"`);return p}insert(h,p){const g={};return typeof h=="string"&&h.length===0?this:(g.insert=h,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,p){if(typeof h=="number"&&h<=0)return this;const g={retain:h};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(h){let p=this.ops.length,g=this.ops[p-1];if(h=r(h),typeof g=="object"){if(typeof h.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+h.delete},this;if(typeof g.delete=="number"&&h.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(h),this;if(s(h.attributes,g.attributes)){if(typeof h.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+h.insert},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+h.retain},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this}}return p===this.ops.length?this.ops.push(h):this.ops.splice(p,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const p=[],g=[];return this.forEach(w=>{(h(w)?p:g).push(w)}),[p,g]}reduce(h,p){return this.ops.reduce(h,p)}changeLength(){return this.reduce((h,p)=>p.insert?h+i.default.length(p):p.delete?h-p.delete:h,0)}length(){return this.reduce((h,p)=>h+i.default.length(p),0)}slice(h=0,p=1/0){const g=[],w=new a.default(this.ops);let y=0;for(;y<p&&w.hasNext();){let _;y<h?_=w.next(h-y):(_=w.next(p-y),g.push(_)),y+=i.default.length(_)}return new u(g)}compose(h){const p=new a.default(this.ops),g=new a.default(h.ops),w=[],y=g.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let v=y.retain;for(;p.peekType()==="insert"&&p.peekLength()<=v;)v-=p.peekLength(),w.push(p.next());y.retain-v>0&&g.next(y.retain-v)}const _=new u(w);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")_.push(g.next());else if(p.peekType()==="delete")_.push(p.next());else{const v=Math.min(p.peekLength(),g.peekLength()),C=p.next(v),M=g.next(v);if(M.retain){const j={};if(typeof C.retain=="number")j.retain=typeof M.retain=="number"?v:M.retain;else if(typeof M.retain=="number")C.retain==null?j.insert=C.insert:j.retain=C.retain;else{const L=C.retain==null?"insert":"retain",[A,O,F]=c(C[L],M.retain),E=u.getHandler(A);j[L]={[A]:E.compose(O,F,L==="retain")}}const S=o.default.compose(C.attributes,M.attributes,typeof C.retain=="number");if(S&&(j.attributes=S),_.push(j),!g.hasNext()&&s(_.ops[_.ops.length-1],j)){const L=new u(p.rest());return _.concat(L).chop()}}else typeof M.delete=="number"&&(typeof C.retain=="number"||typeof C.retain=="object"&&C.retain!==null)&&_.push(M)}return _.chop()}concat(h){const p=new u(this.ops.slice());return h.ops.length>0&&(p.push(h.ops[0]),p.ops=p.ops.concat(h.ops.slice(1))),p}diff(h,p){if(this.ops===h.ops)return new u;const g=[this,h].map(C=>C.map(M=>{if(M.insert!=null)return typeof M.insert=="string"?M.insert:l;const j=C===h?"on":"with";throw new Error("diff() called "+j+" non-document")}).join("")),w=new u,y=n(g[0],g[1],p,!0),_=new a.default(this.ops),v=new a.default(h.ops);return y.forEach(C=>{let M=C[1].length;for(;M>0;){let j=0;switch(C[0]){case n.INSERT:j=Math.min(v.peekLength(),M),w.push(v.next(j));break;case n.DELETE:j=Math.min(M,_.peekLength()),_.next(j),w.delete(j);break;case n.EQUAL:j=Math.min(_.peekLength(),v.peekLength(),M);const S=_.next(j),L=v.next(j);s(S.insert,L.insert)?w.retain(j,o.default.diff(S.attributes,L.attributes)):w.push(L).delete(j);break}M-=j}}),w.chop()}eachLine(h,p=`
`){const g=new a.default(this.ops);let w=new u,y=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const _=g.peek(),v=i.default.length(_)-g.peekLength(),C=typeof _.insert=="string"?_.insert.indexOf(p,v)-v:-1;if(C<0)w.push(g.next());else if(C>0)w.push(g.next(C));else{if(h(w,g.next(1).attributes||{},y)===!1)return;y+=1,w=new u}}w.length()>0&&h(w,{},y)}invert(h){const p=new u;return this.reduce((g,w)=>{if(w.insert)p.delete(i.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return p.retain(w.retain),g+w.retain;if(w.delete||typeof w.retain=="number"){const y=w.delete||w.retain;return h.slice(g,g+y).forEach(v=>{w.delete?p.push(v):w.retain&&w.attributes&&p.retain(i.default.length(v),o.default.invert(w.attributes,v.attributes))}),g+y}else if(typeof w.retain=="object"&&w.retain!==null){const y=h.slice(g,g+1),_=new a.default(y.ops).next(),[v,C,M]=c(w.retain,_.insert),j=u.getHandler(v);return p.retain({[v]:j.invert(C,M)},o.default.invert(w.attributes,_.attributes)),g+1}}return g},0),p.chop()}transform(h,p=!1){if(p=!!p,typeof h=="number")return this.transformPosition(h,p);const g=h,w=new a.default(this.ops),y=new a.default(g.ops),_=new u;for(;w.hasNext()||y.hasNext();)if(w.peekType()==="insert"&&(p||y.peekType()!=="insert"))_.retain(i.default.length(w.next()));else if(y.peekType()==="insert")_.push(y.next());else{const v=Math.min(w.peekLength(),y.peekLength()),C=w.next(v),M=y.next(v);if(C.delete)continue;if(M.delete)_.push(M);else{const j=C.retain,S=M.retain;let L=typeof S=="object"&&S!==null?S:v;if(typeof j=="object"&&j!==null&&typeof S=="object"&&S!==null){const A=Object.keys(j)[0];if(A===Object.keys(S)[0]){const O=u.getHandler(A);O&&(L={[A]:O.transform(j[A],S[A],p)})}}_.retain(L,o.default.transform(C.attributes,M.attributes,p))}}return _.chop()}transformPosition(h,p=!1){p=!!p;const g=new a.default(this.ops);let w=0;for(;g.hasNext()&&w<=h;){const y=g.peekLength(),_=g.peekType();if(g.next(),_==="delete"){h-=Math.min(y,h-w);continue}else _==="insert"&&(w<h||!p)&&(h+=y);w+=y}return h}}u.Op=i.default,u.OpIterator=a.default,u.AttributeMap=o.default,u.handlers={},e.default=u,t.exports=u,t.exports.default=u}(ac,ac.exports)),ac.exports}var nS=tS();const Pa=zC(nS);var rS=Object.getOwnPropertyNames,sS=Object.getOwnPropertySymbols,oS=Object.prototype.hasOwnProperty;function sm(t,e){return function(r,s,o){return t(r,s,o)&&e(r,s,o)}}function dc(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);var o=s.cache,i=o.get(n),a=o.get(r);if(i&&a)return i===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,s);return o.delete(n),o.delete(r),l}}function om(t){return rS(t).concat(sS(t))}var iS=Object.hasOwn||function(t,e){return oS.call(t,e)};function ni(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var aS="__v",lS="__o",cS="_owner",im=Object.getOwnPropertyDescriptor,am=Object.keys;function uS(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function dS(t,e){return ni(t.getTime(),e.getTime())}function fS(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function hS(t,e){return t===e}function lm(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=t.entries(),i,a,l=0;(i=o.next())&&!i.done;){for(var c=e.entries(),u=!1,f=0;(a=c.next())&&!a.done;){if(s[f]){f++;continue}var h=i.value,p=a.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=s[f]=!0;break}f++}if(!u)return!1;l++}return!0}var pS=ni;function gS(t,e,n){var r=am(t),s=r.length;if(am(e).length!==s)return!1;for(;s-- >0;)if(!kv(t,e,n,r[s]))return!1;return!0}function Sa(t,e,n){var r=om(t),s=r.length;if(om(e).length!==s)return!1;for(var o,i,a;s-- >0;)if(o=r[s],!kv(t,e,n,o)||(i=im(t,o),a=im(e,o),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable)))return!1;return!0}function wS(t,e){return ni(t.valueOf(),e.valueOf())}function mS(t,e){return t.source===e.source&&t.flags===e.flags}function cm(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=t.values(),i,a;(i=o.next())&&!i.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!s[u]&&n.equals(i.value,a.value,i.value,a.value,t,e,n)){c=s[u]=!0;break}u++}if(!c)return!1}return!0}function bS(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yS(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kv(t,e,n,r){return(r===cS||r===lS||r===aS)&&(t.$$typeof||e.$$typeof)?!0:iS(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var vS="[object Arguments]",xS="[object Boolean]",_S="[object Date]",CS="[object Error]",kS="[object Map]",ES="[object Number]",SS="[object Object]",NS="[object RegExp]",TS="[object Set]",AS="[object String]",DS="[object URL]",MS=Array.isArray,um=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dm=Object.assign,OS=Object.prototype.toString.call.bind(Object.prototype.toString);function RS(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,s=t.areFunctionsEqual,o=t.areMapsEqual,i=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,w,y){if(g===w)return!0;if(g==null||w==null)return!1;var _=typeof g;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?i(g,w,y):_==="function"?s(g,w,y):!1;var v=g.constructor;if(v!==w.constructor)return!1;if(v===Object)return a(g,w,y);if(MS(g))return e(g,w,y);if(um!=null&&um(g))return f(g,w,y);if(v===Date)return n(g,w,y);if(v===RegExp)return c(g,w,y);if(v===Map)return o(g,w,y);if(v===Set)return u(g,w,y);var C=OS(g);return C===_S?n(g,w,y):C===NS?c(g,w,y):C===kS?o(g,w,y):C===TS?u(g,w,y):C===SS?typeof g.then!="function"&&typeof w.then!="function"&&a(g,w,y):C===DS?h(g,w,y):C===CS?r(g,w,y):C===vS?a(g,w,y):C===xS||C===ES||C===AS?l(g,w,y):!1}}function jS(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,s={areArraysEqual:r?Sa:uS,areDatesEqual:dS,areErrorsEqual:fS,areFunctionsEqual:hS,areMapsEqual:r?sm(lm,Sa):lm,areNumbersEqual:pS,areObjectsEqual:r?Sa:gS,arePrimitiveWrappersEqual:wS,areRegExpsEqual:mS,areSetsEqual:r?sm(cm,Sa):cm,areTypedArraysEqual:r?Sa:bS,areUrlsEqual:yS};if(n&&(s=dm({},s,n(s))),e){var o=dc(s.areArraysEqual),i=dc(s.areMapsEqual),a=dc(s.areObjectsEqual),l=dc(s.areSetsEqual);s=dm({},s,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:l})}return s}function IS(t){return function(e,n,r,s,o,i,a){return t(e,n,a)}}function LS(t){var e=t.circular,n=t.comparator,r=t.createState,s=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return n(l,c,{cache:h,equals:s,meta:p,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var i={cache:void 0,equals:s,meta:void 0,strict:o};return function(l,c){return n(l,c,i)}}var os=eo();eo({strict:!0});eo({circular:!0});eo({circular:!0,strict:!0});eo({createInternalComparator:function(){return ni}});eo({strict:!0,createInternalComparator:function(){return ni}});eo({circular:!0,createInternalComparator:function(){return ni}});eo({circular:!0,createInternalComparator:function(){return ni},strict:!0});function eo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,s=t.createState,o=t.strict,i=o===void 0?!1:o,a=jS(t),l=RS(a),c=r?r(l):IS(l);return LS({circular:n,comparator:l,createState:s,equals:c,strict:i})}const Ev=b.createContext(null);function PS(t,e){return{getTheme:function(){return e??null}}}function Oe(){const t=b.useContext(Ev);return t==null&&function(e,...n){const r=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const o of n)s.append("v",o);throw r.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),t}function $S(t,e){const n=e.body?e.body.childNodes:[];let r=[];const s=[];for(let o=0;o<n.length;o++){const i=n[o];if(!Tv.has(i.nodeName)){const a=Av(i,t,s,!1);a!==null&&(r=r.concat(a))}}return function(o){for(const i of o)i.getNextSibling()instanceof gp&&i.insertAfter(Ro());for(const i of o){const a=i.getChildren();for(const l of a)i.insertBefore(l);i.remove()}}(s),r}function Sv(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=Be().getChildren();for(let s=0;s<r.length;s++)Nv(t,r[s],n,e);return n.innerHTML}function Nv(t,e,n,r=null){let s=r===null||e.isSelected(r);const o=X(e)&&e.excludeFromCopy("html");let i=e;if(r!==null){let p=Sp(e);p=ne(p)&&r!==null?gv(r,p):p,i=p}const a=X(i)?i.getChildren():[],l=bp(t,i.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(t,i):i.exportDOM(t);const{element:u,after:f}=c;if(!u)return!1;const h=document.createDocumentFragment();for(let p=0;p<a.length;p++){const g=a[p],w=Nv(t,g,h,r);!s&&X(e)&&w&&e.extractWithChild(g,r,"html")&&(s=!0)}if(s&&!o){if((et(u)||Vf(u))&&u.append(h),n.append(u),f){const p=f.call(i,u);p&&(Vf(u)?u.replaceChildren(p):u.replaceWith(p))}}else n.append(h);return s}const Tv=new Set(["STYLE","SCRIPT"]);function Av(t,e,n,r,s=new Map,o){let i=[];if(Tv.has(t.nodeName))return i;let a=null;const l=function(g,w){const{nodeName:y}=g,_=w._htmlConversions.get(y.toLowerCase());let v=null;if(_!==void 0)for(const C of _){const M=C(g);M!==null&&(v===null||(v.priority||0)<=(M.priority||0))&&(v=M)}return v!==null?v.conversion:null}(t,e),c=l?l(t):null;let u=null;if(c!==null){u=c.after;const g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(const[,w]of s)if(a=w(a,o),!a)break;a&&i.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&s.set(t.nodeName,c.forChild)}const f=t.childNodes;let h=[];const p=(a==null||!Gr(a))&&(a!=null&&$f(a)||r);for(let g=0;g<f.length;g++)h.push(...Av(f[g],e,n,p,new Map(s),a));return u!=null&&(h=u(h)),Qc(t)&&(h=FS(t,h,p?()=>{const g=new gp;return n.push(g),g}:Vn)),a==null?h.length>0?i=i.concat(h):Qc(t)&&function(g){return g.nextSibling==null||g.previousSibling==null?!1:Hf(g.nextSibling)&&Hf(g.previousSibling)}(t)&&(i=i.concat(Ro())):X(a)&&a.append(...h),i}function FS(t,e,n){const r=t.style.textAlign,s=[];let o=[];for(let i=0;i<e.length;i++){const a=e[i];if($f(a))r&&!a.getFormat()&&a.setFormat(r),s.push(a);else if(o.push(a),i===e.length-1||i<e.length-1&&$f(e[i+1])){const l=n();l.setFormat(r),l.append(...o),s.push(l),o=[]}}return s}const BS=new Set(["http:","https:","mailto:","sms:","tel:"]);let Dv=class Mv extends cn{static getType(){return"link"}static clone(e){return new Mv(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",n={},r){super(r);const{target:s=null,rel:o=null,title:i=null}=n;this.__url=e,this.__target=s,this.__rel=o,this.__title=i}createDOM(e){const n=document.createElement("a");return this.updateLinkDOM(null,n,e),rn(n,e.theme.link),n}updateLinkDOM(e,n,r){if(lv(n)){e&&e.__url===this.__url||(n.href=this.sanitizeUrl(this.__url));for(const s of["target","rel","title"]){const o=`__${s}`,i=this[o];e&&e[o]===i||(i?n[s]=i:n.removeAttribute(s))}}}updateDOM(e,n,r){return this.updateLinkDOM(e,n,r),!1}static importDOM(){return{a:e=>({conversion:qS,priority:1})}}static importJSON(e){return Xf().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=fm(e);try{const n=new URL(fm(e));if(!BS.has(n.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const n=this.getWritable();return n.__url=e,n}getTarget(){return this.getLatest().__target}setTarget(e){const n=this.getWritable();return n.__target=e,n}getRel(){return this.getLatest().__rel}setRel(e){const n=this.getWritable();return n.__rel=e,n}getTitle(){return this.getLatest().__title}setTitle(e){const n=this.getWritable();return n.__title=e,n}insertNewAfter(e,n=!0){const r=Xf(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n,r){if(!Q(n))return!1;const s=n.anchor.getNode(),o=n.focus.getNode();return this.isParentOf(s)&&this.isParentOf(o)&&n.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function qS(t){let e=null;if(lv(t)){const n=t.textContent;(n!==null&&n!==""||t.children.length>0)&&(e=Xf(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:e}}function Xf(t="",e){return nt(new Dv(t,e))}function US(t){return t instanceof Dv}const zS=/^\+?[0-9\s()-]{5,}$/;function fm(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?`mailto:${t}`:zS.test(t)?`tel:${t}`:`https://${t}`}const Ov=[];let Rv=class jv extends cn{static getType(){return"mark"}static clone(e){return new jv(e.__ids,e.__key)}static importDOM(){return null}static importJSON(e){return hm().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIDs(e.ids)}exportJSON(){return{...super.exportJSON(),ids:this.getIDs()}}constructor(e=Ov,n){super(n),this.__ids=e}createDOM(e){const n=document.createElement("mark");return rn(n,e.theme.mark),this.__ids.length>1&&rn(n,e.theme.markOverlap),n}updateDOM(e,n,r){const s=e.__ids,o=this.__ids,i=s.length,a=o.length,l=r.theme.markOverlap;return i!==a&&(i===1?a===2&&rn(n,l):a===1&&ko(n,l)),!1}hasID(e){return this.getIDs().includes(e)}getIDs(){return Array.from(this.getLatest().__ids)}setIDs(e){const n=this.getWritable();return n.__ids=e,n}addID(e){const n=this.getWritable();return n.__ids.includes(e)?n:n.setIDs([...n.__ids,e])}deleteID(e){const n=this.getWritable(),r=n.__ids.indexOf(e);if(r===-1)return n;const s=Array.from(n.__ids);return s.splice(r,1),n.setIDs(s)}insertNewAfter(e,n=!0){const r=hm(this.__ids);return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n,r){if(!Q(n)||r==="html")return!1;const s=n.anchor,o=n.focus,i=s.getNode(),a=o.getNode(),l=n.isBackward()?s.offset-o.offset:o.offset-s.offset;return this.isParentOf(i)&&this.isParentOf(a)&&this.getTextContent().length===l}excludeFromCopy(e){return e!=="clone"}};function hm(t=Ov){return nt(new Rv(t))}function VS(t){return t instanceof Rv}function ru(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const s of e)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Iv(t,e=se()){return e==null&&ru(166),Q(e)&&e.isCollapsed()||e.getNodes().length===0?"":Sv(t,e)}function HS(t,e=se()){return e==null&&ru(166),Q(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(KS(t,e))}function pm(t,e){const n=t.getData("text/plain")||t.getData("text/uri-list");n!=null&&e.insertRawText(n)}function gm(t,e,n){const r=t.getData("application/x-lexical-editor");if(r)try{const a=JSON.parse(r);if(a.namespace===n._config.namespace&&Array.isArray(a.nodes))return wm(n,WS(a.nodes),e)}catch{}const s=t.getData("text/html"),o=t.getData("text/plain");if(s&&o!==s)try{const a=new DOMParser().parseFromString(function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(l):l}(s),"text/html");return wm(n,$S(n,a),e)}catch{}const i=o||t.getData("text/uri-list");if(i!=null)if(Q(e)){const a=i.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const c=se();if(Q(c)){const u=a[l];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([Nl()]):c.insertText(u)}}}else e.insertRawText(i)}function wm(t,e,n){t.dispatchCommand(Tk,{nodes:e,selection:n})||(n.insertNodes(e),function(r){if(Q(r)&&r.isCollapsed()){const s=r.anchor;let o=null;const i=ds(s,"previous");if(i)if(Os(i))o=i.origin;else{const a=Bs(i,gr(Be(),"next").getFlipped());for(const l of a){if(ne(l.origin)){o=l.origin;break}if(X(l.origin)&&!l.origin.isInline())break}}if(o&&ne(o)){const a=o.getFormat(),l=o.getStyle();r.format===a&&r.style===l||(r.format=a,r.style=l,r.dirty=!0)}}}(n))}function Lv(t,e,n,r=[]){let s=e===null||n.isSelected(e);const o=X(n)&&n.excludeFromCopy("html");let i=n;if(e!==null){let c=Sp(n);c=ne(c)&&e!==null?gv(e,c):c,i=c}const a=X(i)?i.getChildren():[],l=function(c){const u=c.exportJSON(),f=c.constructor;if(u.type!==f.getType()&&ru(58,f.name),X(c)){const h=u.children;Array.isArray(h)||ru(59,f.name)}return u}(i);if(ne(i)){const c=i.__text;c.length>0?l.text=c:s=!1}for(let c=0;c<a.length;c++){const u=a[c],f=Lv(t,e,u,l.children);!s&&X(n)&&f&&n.extractWithChild(u,e,"clone")&&(s=!0)}if(s&&!o)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];r.push(u)}return s}function KS(t,e){const n=[],r=Be().getChildren();for(let s=0;s<r.length;s++)Lv(t,e,r[s],n);return{namespace:t._config.namespace,nodes:n}}function WS(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],s=V0(r);ne(s)&&IE(s),e.push(s)}return e}let fi=null;async function mm(t,e,n){if(fi!==null)return!1;if(e!==null)return new Promise((c,u)=>{t.update(()=>{c(bm(t,e,n))})});const r=t.getRootElement(),s=t._window||window,o=window.document,i=pr(s);if(r===null||i===null)return!1;const a=o.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(o.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),i.removeAllRanges(),i.addRange(l),new Promise((c,u)=>{const f=t.registerCommand(Xs,h=>(ls(h,ClipboardEvent)&&(f(),fi!==null&&(window.clearTimeout(fi),fi=null),c(bm(t,h,n))),!0),vi);fi=window.setTimeout(()=>{f(),fi=null,c(!1)},50),o.execCommand("copy"),a.remove()})}function bm(t,e,n){if(n===void 0){const s=pr(t._window);if(!s)return!1;const o=s.anchorNode,i=s.focusNode;if(o!==null&&i!==null&&!Al(t,o,i))return!1;const a=se();if(a===null)return!1;n=JS(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(XS(r,n),!0)}const GS=[["text/html",Iv],["application/x-lexical-editor",HS]];function JS(t=se()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=Ku();for(const[r,s]of GS){const o=s(n,t);o!==null&&(e[r]=o)}}return e}function XS(t,e){for(const n in e){const r=e[n];r!==void 0&&t.setData(n,r)}}const Mp=/^(\d+(?:\.\d+)?)px$/,_i={BOTH:3,NO_STATUS:0,ROW:1};let Op=class Pv extends cn{static getType(){return"tablecell"}static clone(e){return new Pv(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:ym,priority:0}),th:e=>({conversion:ym,priority:0})}}static importJSON(e){return $v().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=_i.NO_STATUS,n=1,r,s){super(s),this.__colSpan=n,this.__rowSpan=1,this.__headerState=e,this.__width=r,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(n.style.backgroundColor=this.__backgroundColor),Yf(this.__verticalAlign)&&(n.style.verticalAlign=this.__verticalAlign),rn(n,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),n}exportDOM(e){const n=super.exportDOM(e);if(et(n.element)){const r=n.element;r.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),r.style.border="1px solid black",this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),r.style.width=`${this.getWidth()||75}px`,r.style.verticalAlign=this.getVerticalAlign()||"top",r.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(r.style.backgroundColor="#f2f3f5")}return n}exportJSON(){return{...super.exportJSON(),...Yf(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const n=this.getWritable();return n.__colSpan=e,n}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const n=this.getWritable();return n.__rowSpan=e,n}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,n=_i.BOTH){const r=this.getWritable();return r.__headerState=e&n|r.__headerState&~n,r}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const n=this.getWritable();return n.__width=e,n}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const n=this.getWritable();return n.__backgroundColor=e,n}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const n=this.getWritable();return n.__verticalAlign=e||void 0,n}toggleHeaderStyle(e){const n=this.getWritable();return(n.__headerState&e)===e?n.__headerState-=e:n.__headerState+=e,n}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==_i.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function Yf(t){return t==="middle"||t==="bottom"}function ym(t){const e=t,n=t.nodeName.toLowerCase();let r;Mp.test(e.style.width)&&(r=parseFloat(e.style.width));const s=$v(n==="th"?_i.ROW:_i.NO_STATUS,e.colSpan,r);s.__rowSpan=e.rowSpan;const o=e.style.backgroundColor;o!==""&&(s.__backgroundColor=o);const i=e.style.verticalAlign;Yf(i)&&(s.__verticalAlign=i);const a=e.style,l=(a&&a.textDecoration||"").split(" "),c=a.fontWeight==="700"||a.fontWeight==="bold",u=l.includes("line-through"),f=a.fontStyle==="italic",h=l.includes("underline");return{after:p=>{const g=[];let w=null;const y=()=>{if(w){const _=w.getFirstChild();vo(_)&&w.getChildrenSize()===1&&_.remove()}};for(const _ of p)dE(_)||ne(_)||vo(_)?(ne(_)&&(c&&_.toggleFormat("bold"),u&&_.toggleFormat("strikethrough"),f&&_.toggleFormat("italic"),h&&_.toggleFormat("underline")),w?w.append(_):(w=Vn().append(_),g.push(w))):(g.push(_),y(),w=null);return y(),g.length===0&&g.push(Vn()),g},node:s}}function $v(t=_i.NO_STATUS,e=1,n){return nt(new Op(t,e,n))}function zn(t){return t instanceof Op}function Dt(t,...e){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",t);for(const s of e)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Fv=class Bv extends cn{static getType(){return"tablerow"}static clone(e){return new Bv(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:YS,priority:0})}}static importJSON(e){return qv().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,n){super(n),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),rn(n,e.theme.tableRow),n}extractWithChild(e,n,r){return r==="html"}isShadowRoot(){return!0}setHeight(e){const n=this.getWritable();return n.__height=e,n}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function YS(t){const e=t;let n;return Mp.test(e.style.height)&&(n=parseFloat(e.style.height)),{after:r=>vv(r,zn),node:qv(n)}}function qv(t){return nt(new Fv(t))}function Rl(t){return t instanceof Fv}const Uv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,QS=Uv&&"documentMode"in document?document.documentMode:null;Uv&&"InputEvent"in window&&!QS&&new window.InputEvent("input");function ZS(t,e,n){const[r,s,o]=zv(t,e,n);return s===null&&Dt(207),o===null&&Dt(208),[r,s,o]}function zv(t,e,n){const r=[];let s=null,o=null;function i(l){let c=r[l];return c===void 0&&(r[l]=c=[]),c}const a=t.getChildren();for(let l=0;l<a.length;l++){const c=a[l];Rl(c)||Dt(209);const u=i(l);for(let f=c.getFirstChild(),h=0;f!=null;f=f.getNextSibling()){for(zn(f)||Dt(147);u[h]!==void 0;)h++;const p={cell:f,startColumn:h,startRow:l},{__rowSpan:g,__colSpan:w}=f;for(let y=0;y<g&&!(l+y>=a.length);y++){const _=i(l+y);for(let v=0;v<w;v++)_[h+v]=p}e!==null&&s===null&&e.is(f)&&(s=p),n!==null&&o===null&&n.is(f)&&(o=p)}}return[r,s,o]}function eN(t){let e;if(t instanceof Op)e=t;else if("__type"in t){const s=wr(t,zn);zn(s)||Dt(148),e=s}else{const s=wr(t.getNode(),zn);zn(s)||Dt(148),e=s}const n=e.getParent();Rl(n)||Dt(149);const r=n.getParent();return Jv(r)||Dt(210),[e,n,r]}function tN(t,e,n){let r,s=Math.min(e.startColumn,n.startColumn),o=Math.min(e.startRow,n.startRow),i=Math.max(e.startColumn+e.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),a=Math.max(e.startRow+e.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let l=0;l<t.length;l++)for(let c=0;c<t[0].length;c++){const u=t[l][c];if(!u)continue;const f=u.startColumn+u.cell.__colSpan-1,h=u.startRow+u.cell.__rowSpan-1,p=u.startColumn<=i&&f>=s,g=u.startRow<=a&&h>=o;if(p&&g){const w=Math.min(s,u.startColumn),y=Math.max(i,f),_=Math.min(o,u.startRow),v=Math.max(a,h);w===s&&y===i&&_===o&&v===a||(s=w,i=y,o=_,a=v,r=!0)}}}while(r);return{maxColumn:i,maxRow:a,minColumn:s,minRow:o}}function vm(t){const[e,,n]=eN(t),r=n.getChildren(),s=r.length,o=r[0].getChildren().length,i=new Array(s);for(let a=0;a<s;a++)i[a]=new Array(o);for(let a=0;a<s;a++){const l=r[a].getChildren();let c=0;for(let u=0;u<l.length;u++){for(;i[a][c];)c++;const f=l[u],h=f.__rowSpan||1,p=f.__colSpan||1;for(let g=0;g<h;g++)for(let w=0;w<p;w++)i[a+g][c+w]=f;if(e===f)return{colSpan:p,columnIndex:c,rowIndex:a,rowSpan:h};c+=p}}return null}function xm(t){const[[e,n,r,s],[o,i,a,l]]=["anchor","focus"].map(c=>{const u=t[c].getNode(),f=wr(u,zn);zn(f)||Dt(238,c,u.getKey(),u.getType());const h=f.getParent();Rl(h)||Dt(239,c);const p=h.getParent();return Jv(p)||Dt(240,c),[u,f,h,p]});return s.is(l)||Dt(241),{anchorCell:n,anchorNode:e,anchorRow:r,anchorTable:s,focusCell:i,focusNode:o,focusRow:a,focusTable:l}}let nN=class Vv{constructor(e,n,r){this.anchor=n,this.focus=r,n._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Hv(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,n,r){this.dirty=this.dirty||e!==this.tableKey||n!==this.anchor.key||r!==this.focus.key,this.tableKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Vv(this.tableKey,Sn(this.anchor.key,this.anchor.offset,this.anchor.type),Sn(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let n=0;this.getNodes().filter(zn).forEach(s=>{const o=s.getFirstChild();wp(o)&&(n|=o.getTextFormat())});const r=Ps[e];return!!(n&r)}insertNodes(e){const n=this.focus.getNode();X(n)||Dt(151),Ya(n.select(0,n.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:n}=xm(this),r=vm(e);r===null&&Dt(153);const s=vm(n);s===null&&Dt(155);const o=Math.min(r.columnIndex,s.columnIndex),i=Math.max(r.columnIndex+r.colSpan-1,s.columnIndex+s.colSpan-1),a=Math.min(r.rowIndex,s.rowIndex),l=Math.max(r.rowIndex+r.rowSpan-1,s.rowIndex+s.rowSpan-1);return{fromX:Math.min(o,i),fromY:Math.min(a,l),toX:Math.max(o,i),toY:Math.max(a,l)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:n,anchorCell:r,focusCell:s}=xm(this),o=s.getParents()[1];if(o!==n){if(n.isParentOf(s)){const y=o.getParent();y==null&&Dt(159),this.set(this.tableKey,s.getKey(),y.getKey())}else{const y=n.getParent();y==null&&Dt(158),this.set(this.tableKey,y.getKey(),s.getKey())}return this.getNodes()}const[i,a,l]=ZS(n,r,s),{minColumn:c,maxColumn:u,minRow:f,maxRow:h}=tN(i,a,l),p=new Map([[n.getKey(),n]]);let g=null;for(let y=f;y<=h;y++)for(let _=c;_<=u;_++){const{cell:v}=i[y][_],C=v.getParent();Rl(C)||Dt(160),C!==g&&(p.set(C.getKey(),C),g=C),p.has(v.getKey())||rN(v,M=>{p.set(M.getKey(),M)})}const w=Array.from(p.values());return ia()||(this._cachedNodes=w),w}getTextContent(){const e=this.getNodes().filter(r=>zn(r));let n="";for(let r=0;r<e.length;r++){const s=e[r],o=s.__parent,i=(e[r+1]||{}).__parent;n+=s.getTextContent()+(i!==o?`
`:"	")}return n}};function Hv(t){return t instanceof nN}function rN(t,e){const n=[[t]];for(let r=n.at(-1);r!==void 0&&n.length>0;r=n.at(-1)){const s=r.pop();s===void 0?n.pop():e(s)!==!1&&X(s)&&n.push(s.getChildren())}}function Na(t){return et(t)&&t.nodeName==="TABLE"}function sN(t,e){for(let n=e,r=null;n!==null;n=n.getParent()){if(t.is(n))return r;zn(n)&&(r=n)}return null}function oN(t,e,n){return sN(t,Fs(e,n))}function _m(t,e,n){if(!e.theme.tableAlignment)return;const r=[],s=[];for(const o of["center","right"]){const i=e.theme.tableAlignment[o];i&&(o===n?s:r).push(i)}ko(t,...r),rn(t,...s)}const iN=new WeakSet;function Cm(t=Ku()){return iN.has(t)}let Kv=class Wv extends cn{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const n=this.getWritable();return n.__colWidths=e,n}static clone(e){return new Wv(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:aN,priority:1})}}static importJSON(e){return Gv().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,n,r){return r==="html"}getDOMSlot(e){const n=Na(e)?e:e.querySelector("table");return Na(n)||Dt(229),super.getDOMSlot(e).withElement(n).withAfter(n.querySelector("colgroup"))}createDOM(e,n){const r=document.createElement("table");this.__style&&(r.style.cssText=this.__style);const s=document.createElement("colgroup");if(r.appendChild(s),mE(s),rn(r,e.theme.table),this.updateTableElement(null,r,e),Cm(n)){const o=document.createElement("div"),i=e.theme.tableScrollableWrapper;return i?rn(o,i):o.style.cssText="overflow-x: auto;",o.appendChild(r),this.updateTableWrapper(null,o,r,e),o}return r}updateTableWrapper(e,n,r,s){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(o,i,a,l){l>0?(rn(o,a.theme.tableFrozenColumn),i.setAttribute("data-lexical-frozen-column","true")):(ko(o,a.theme.tableFrozenColumn),i.removeAttribute("data-lexical-frozen-column"))}(n,r,s,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(o,i,a,l){l>0?(rn(o,a.theme.tableFrozenRow),i.setAttribute("data-lexical-frozen-row","true")):(ko(o,a.theme.tableFrozenRow),i.removeAttribute("data-lexical-frozen-row"))}(n,r,s,this.__frozenRowCount)}updateTableElement(e,n,r){this.__style!==(e?e.__style:"")&&(n.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(s,o,i){i?(rn(s,o.theme.tableRowStriping),s.setAttribute("data-lexical-row-striping","true")):(ko(s,o.theme.tableRowStriping),s.removeAttribute("data-lexical-row-striping"))}(n,r,this.__rowStriping),function(s,o,i,a){const l=s.querySelector("colgroup");if(!l)return;const c=[];for(let u=0;u<i;u++){const f=document.createElement("col"),h=a&&a[u];h&&(f.style.width=`${h}px`),c.push(f)}l.replaceChildren(...c)}(n,0,this.getColumnCount(),this.getColWidths()),_m(n,r,this.getFormatType())}updateDOM(e,n,r){const s=this.getDOMSlot(n).element;return n===s===Cm()||(et(o=n)&&o.nodeName==="DIV"&&this.updateTableWrapper(e,n,s,r),this.updateTableElement(e,s,r),!1);var o}exportDOM(e){const n=super.exportDOM(e),{element:r}=n;return{after:s=>{if(n.after&&(s=n.after(s)),!Na(s)&&et(s)&&(s=s.querySelector("table")),!Na(s))return null;_m(s,e._config,this.getFormatType());const[o]=zv(this,null,null),i=new Map;for(const u of o)for(const f of u){const h=f.cell.getKey();i.has(h)||i.set(h,{colSpan:f.cell.getColSpan(),startColumn:f.startColumn})}const a=new Set;for(const u of s.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const f=u.getAttribute("data-temporary-table-cell-lexical-key");if(f){const h=i.get(f);if(u.removeAttribute("data-temporary-table-cell-lexical-key"),h){i.delete(f);for(let p=0;p<h.colSpan;p++)a.add(p+h.startColumn)}}}const l=s.querySelector(":scope > colgroup");if(l){const u=Array.from(s.querySelectorAll(":scope > colgroup > col")).filter((f,h)=>a.has(h));l.replaceChildren(...u)}const c=s.querySelectorAll(":scope > tr");if(c.length>0){const u=document.createElement("tbody");for(const f of c)u.appendChild(f);s.append(u)}return s},element:!Na(r)&&et(r)?r.querySelector("table"):r}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,n){const{rows:r,domRows:s}=n;for(let o=0;o<r;o++){const i=s[o];if(i!=null)for(let a=0;a<i.length;a++){const l=i[a];if(l==null)continue;const{elem:c}=l,u=oN(this,c);if(u!==null&&e.is(u))return{x:a,y:o}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,n,r){const{domRows:s}=r,o=s[n];if(o==null)return null;const i=o[e<o.length?e:o.length-1];return i??null}getDOMCellFromCordsOrThrow(e,n,r){const s=this.getDOMCellFromCords(e,n,r);if(!s)throw new Error("Cell not found at cords.");return s}getCellNodeFromCords(e,n,r){const s=this.getDOMCellFromCords(e,n,r);if(s==null)return null;const o=Fs(s.elem);return zn(o)?o:null}getCellNodeFromCordsOrThrow(e,n,r){const s=this.getCellNodeFromCords(e,n,r);if(!s)throw new Error("Node at cords not TableCellNode.");return s}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const n=this.getWritable();return n.__rowStriping=e,n}setFrozenColumns(e){const n=this.getWritable();return n.__frozenColumnCount=e,n}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const n=this.getWritable();return n.__frozenRowCount=e,n}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let n=0;return e.getChildren().forEach(r=>{zn(r)&&(n+=r.getColSpan())}),n}};function aN(t){const e=Gv();t.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),t.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),t.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const n=t.querySelector(":scope > colgroup");if(n){let r=[];for(const s of n.querySelectorAll(":scope > col")){let o=s.style.width||"";if(!Mp.test(o)&&(o=s.getAttribute("width")||"",!/^\d+$/.test(o))){r=void 0;break}r.push(parseFloat(o))}r&&e.setColWidths(r)}return{after:r=>vv(r,Rl),node:e}}function Gv(){return nt(new Kv)}function Jv(t){return t instanceof Kv}const Xv=Object.freeze({"	":"\\t","\n":"\\n"}),km=new RegExp(Object.keys(Xv).join("|"),"g"),Ir=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"â”œ",isLastChild:"â””",selectedChar:"^",selectedLine:">"}),lN=[t=>t.hasFormat("bold")&&"Bold",t=>t.hasFormat("code")&&"Code",t=>t.hasFormat("italic")&&"Italic",t=>t.hasFormat("strikethrough")&&"Strikethrough",t=>t.hasFormat("subscript")&&"Subscript",t=>t.hasFormat("superscript")&&"Superscript",t=>t.hasFormat("underline")&&"Underline",t=>t.hasFormat("highlight")&&"Highlight"],cN=[t=>t.hasTextFormat("bold")&&"Bold",t=>t.hasTextFormat("code")&&"Code",t=>t.hasTextFormat("italic")&&"Italic",t=>t.hasTextFormat("strikethrough")&&"Strikethrough",t=>t.hasTextFormat("subscript")&&"Subscript",t=>t.hasTextFormat("superscript")&&"Superscript",t=>t.hasTextFormat("underline")&&"Underline",t=>t.hasTextFormat("highlight")&&"Highlight"],uN=[t=>t.isDirectionless()&&"Directionless",t=>t.isUnmergeable()&&"Unmergeable"],dN=[t=>t.isToken()&&"Token",t=>t.isSegmented()&&"Segmented"];function fN(t,e,n,r,s=!1){const o=t.getEditorState(),i=t._config,a=t._compositionKey,l=t._editable;if(n){let h="";return o.read(()=>{h=function(p){const g=document.createElement("div");return g.innerHTML=p.trim(),Qv(g,0).innerHTML}(Sv(t))}),h}let c=` root
`;const u=o.read(()=>{const h=se();return Yv(Be(),(p,g)=>{const w=`(${p.getKey()})`,y=p.getType()||"",_=p.isSelected();c+=`${_?Ir.selectedLine:" "} ${g.join(" ")} ${w} ${y} ${function(v,C,M=!1){const j=C?C(v,M):void 0;if(j!==void 0&&j.length>0)return j;if(ne(v)){const S=v.getTextContent(),L=S.length===0?"(empty)":`"${Em(S,M)}"`,A=function(O){return[Sm(O),hN(O),pN(O),Nm(O)].filter(Boolean).join(", ")}(v);return[L,A.length!==0?`{ ${A} }`:null].filter(Boolean).join(" ").trim()}if(US(v)){const S=v.getURL(),L=S.length===0?"(empty)":`"${Em(S,M)}"`,A=function(O){return[gN(O),wN(O),mN(O),Nm(O)].filter(Boolean).join(", ")}(v);return[L,A.length!==0?`{ ${A} }`:null].filter(Boolean).join(" ").trim()}if(VS(v))return`ids: [ ${v.getIDs().join(", ")} ]`;if(wp(v)){const S=function(A){let O=cN.map(F=>F(A)).filter(Boolean).join(", ").toLocaleLowerCase();return O!==""&&(O="format: "+O),O}(v);let L=S!==""?`{ ${S} }`:"";return L+=v.__style?`(${v.__style})`:"",L}return""}(p,r,s)}
`,c+=function({indent:v,isSelected:C,node:M,nodeKeyDisplay:j,selection:S,typeDisplay:L}){if(!ne(M)||!Q(S)||!C||X(M))return"";const A=S.anchor,O=S.focus;if(M.getTextContent()===""||A.getNode()===S.focus.getNode()&&A.offset===O.offset)return"";const[F,E]=function(V,J){const H=J.getStartEndPoints();if(hn(J)||H===null)return[-1,-1];const[G,te]=H,re=V.getTextContent(),ee=re.length;let Y=-1,ce=-1;if(G.type==="text"&&te.type==="text"){const me=G.getNode(),be=te.getNode();me===be&&V===me&&G.offset!==te.offset?[Y,ce]=G.offset<te.offset?[G.offset,te.offset]:[te.offset,G.offset]:[Y,ce]=V===me?me.isBefore(be)?[G.offset,ee]:[0,G.offset]:V===be?be.isBefore(me)?[te.offset,ee]:[0,te.offset]:[0,ee]}const he=(re.slice(0,Y).match(km)||[]).length,ge=(re.slice(Y,ce).match(km)||[]).length;return[Y+he,ce+he+ge]}(M,S);if(F===E)return"";const I=v[v.length-1]===Ir.hasNextSibling?Ir.ancestorHasNextSibling:Ir.ancestorIsLastChild,T=[...v.slice(0,v.length-1),I],P=Array(F+1).fill(" "),D=Array(E-F).fill(Ir.selectedChar),R=L.length+2,q=Array(j.length+R).fill(" ");return[Ir.selectedLine,T.join(" "),[...q,...P,...D].join("")].join(" ")+`
`}({indent:g,isSelected:_,node:p,nodeKeyDisplay:w,selection:h,typeDisplay:y})}),h===null?": null":Q(h)?function(p){let g="";const w=Sm(p);g+=`: range ${w!==""?`{ ${w} }`:""} ${p.style!==""?`{ style: ${p.style} } `:""}`;const y=p.anchor,_=p.focus,v=y.offset,C=_.offset;return g+=`
  â”œ anchor { key: ${y.key}, offset: ${v===null?"null":v}, type: ${y.type} }`,g+=`
  â”” focus { key: ${_.key}, offset: ${C===null?"null":C}, type: ${_.type} }`,g}(h):Hv(h)?function(p){return`: table
  â”” { table: ${p.tableKey}, anchorCell: ${p.anchor.key}, focusCell: ${p.focus.key} }`}(h):function(p){return hn(p)?`: node
  â”” [${Array.from(p._nodes).join(", ")}]`:""}(h)});if(c+=`
 selection`+u,c+=`

 commands:`,e.length)for(const{index:h,type:p,payload:g}of e)c+=`
  â”” ${h}. { type: ${p}, payload: ${g instanceof Event?g.constructor.name:g} }`;else c+=`
  â”” None dispatched.`;const{version:f}=t.constructor;return c+=`

 editor${f?` (v${f})`:""}:`,c+=`
  â”” namespace ${i.namespace}`,a!==null&&(c+=`
  â”” compositionKey ${a}`),c+=`
  â”” editable ${String(l)}`,c}function Yv(t,e,n=[]){const r=t.getChildren(),s=r.length;r.forEach((o,i)=>{e(o,n.concat(i===s-1?Ir.isLastChild:Ir.hasNextSibling)),X(o)&&Yv(o,e,n.concat(i===s-1?Ir.ancestorIsLastChild:Ir.ancestorHasNextSibling))})}function Em(t,e=!1){const n=Object.entries(Xv).reduce((r,[s,o])=>r.replace(new RegExp(s,"g"),String(o)),t);return e?n.replace(/[^\s]/g,"*"):n}function hN(t){let e=uN.map(n=>n(t)).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="detail: "+e),e}function pN(t){let e=dN.map(n=>n(t)).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="mode: "+e),e}function Sm(t){let e=lN.map(n=>n(t)).filter(Boolean).join(", ").toLocaleLowerCase();return e!==""&&(e="format: "+e),e}function gN(t){let e=t.getTarget();return e!=null&&(e="target: "+e),e}function wN(t){let e=t.getRel();return e!=null&&(e="rel: "+e),e}function mN(t){let e=t.getTitle();return e!=null&&(e="title: "+e),e}function Nm(t){if(!t.__state)return!1;const e=[];for(const[r,s]of t.__state.knownState.entries()){if(r.isEqual(s,r.defaultValue))continue;const o=JSON.stringify(r.unparse(s));e.push(`[${r.key}: ${o}]`)}let n=e.join(",");return n!==""&&(n="state: "+n),n}function Qv(t,e){const n=new Array(1+e++).join("  "),r=new Array(e-1).join("  ");let s;for(let o=0;o<t.children.length;o++)s=document.createTextNode(`
`+n),t.insertBefore(s,t.children[o]),Qv(t.children[o],e),t.lastElementChild===t.children[o]&&(s=document.createTextNode(`
`+r),t.appendChild(s));return t}const bN=b.forwardRef(function({treeTypeButtonClassName:t,timeTravelButtonClassName:e,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:r,viewClassName:s,timeTravelPanelClassName:o,editorState:i,setEditorState:a,setEditorReadOnly:l,generateContent:c,commandsLog:u=[]},f){const[h,p]=b.useState([]),[g,w]=b.useState(""),[y,_]=b.useState(!1),[v,C]=b.useState(!1),M=b.useRef(0),j=b.useRef(null),[S,L]=b.useState(!1),[A,O]=b.useState(!1),[F,E]=b.useState(!1),I=b.useRef(),T=b.useRef([]),P=b.useRef(0),D=b.useCallback(q=>{const V=++P.current;c(q).then(J=>{V===P.current&&w(J)}).catch(J=>{V===P.current&&w(`Error rendering tree: ${J.message}

Stack:
${J.stack}`)})},[c]);b.useEffect(()=>{if(!(!F&&i._nodeMap.size>1e3&&(O(!0),!F))&&(I.current!==i||T.current!==u)){const q=I.current!==i;I.current=i,T.current=u,D(v),!y&&q&&p(V=>[...V,[Date.now(),i]])}},[i,D,v,F,y,u]);const R=h.length;return b.useEffect(()=>{if(S){let q;const V=()=>{const J=M.current;if(J===R-1)return void L(!1);const H=h[J][0],G=h[J+1][0];q=setTimeout(()=>{M.current++;const te=M.current,re=j.current;re!==null&&(re.value=String(te)),a(h[te][1]),V()},G-H)};return V(),()=>{clearTimeout(q)}}},[h,S,R,a]),d.jsxs("div",{className:s,children:[!F&&A?d.jsxs("div",{style:{padding:20},children:[d.jsx("span",{style:{marginRight:20},children:"Detected large EditorState, this can impact debugging performance."}),d.jsx("button",{onClick:()=>{E(!0)},style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer",padding:5},children:"Show full tree"})]}):null,F?null:d.jsx("button",{onClick:()=>(D(!v),void C(!v)),className:t,type:"button",children:v?"Tree":"Export DOM"}),!y&&(F||!A)&&R>2&&d.jsx("button",{onClick:()=>{l(!0),M.current=R-1,_(!0)},className:e,type:"button",children:"Time Travel"}),(F||!A)&&d.jsx("pre",{ref:f,children:g}),y&&(F||!A)&&d.jsxs("div",{className:o,children:[d.jsx("button",{className:r,onClick:()=>{M.current===R-1&&(M.current=1),L(!S)},type:"button",children:S?"Pause":"Play"}),d.jsx("input",{className:n,ref:j,onChange:q=>{const V=Number(q.target.value),J=h[V];J&&(M.current=V,a(J[1]))},type:"range",min:"1",max:R-1}),d.jsx("button",{className:r,onClick:()=>{l(!1);const q=h.length-1,V=h[q];a(V[1]);const J=j.current;J!==null&&(J.value=String(q)),_(!1),L(!1)},type:"button",children:"Exit"})]})]})});function yN(t,e){const n=new Set;let r=0;for(const[s]of t._commands)n.add(t.registerCommand(s,o=>(e(i=>{r+=1;const a=[...i];return a.push({index:r,payload:o,type:s.type?s.type:"UNKNOWN"}),a.length>10&&a.shift(),a}),!1),vi));return()=>n.forEach(s=>s())}function vN(t){const[e,n]=b.useState([]);return b.useEffect(()=>yN(t,n),[t]),b.useMemo(()=>e,[e])}function xN({treeTypeButtonClassName:t,timeTravelButtonClassName:e,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:r,timeTravelPanelClassName:s,viewClassName:o,editor:i,customPrintNode:a}){const l=mi.createRef(),[c,u]=b.useState(i.getEditorState()),f=vN(i);return b.useEffect(()=>Rt(i.registerUpdateListener(({editorState:h})=>{u(h)}),i.registerEditableListener(()=>{u(i.getEditorState())})),[i]),b.useEffect(()=>{const h=l.current;if(h!==null)return h.__lexicalEditor=i,()=>{h.__lexicalEditor=null}},[i,l]),d.jsx(bN,{treeTypeButtonClassName:t,timeTravelButtonClassName:e,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:r,viewClassName:o,timeTravelPanelClassName:s,setEditorReadOnly:h=>{const p=i.getRootElement();p!=null&&(p.contentEditable=h?"false":"true")},editorState:c,setEditorState:h=>i.setEditorState(h),generateContent:async function(h){return fN(i,f,h,a)},ref:l,commandsLog:f})}const Zv=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,_N=Zv?b.useLayoutEffect:b.useEffect,fc={tag:xo};function ex({initialConfig:t,children:e}){const n=b.useMemo(()=>{const{theme:r,namespace:s,nodes:o,onError:i,editorState:a,html:l}=t,c=PS(null,r),u=rE({editable:t.editable,html:l,namespace:s,nodes:o,onError:f=>i(f,u),theme:r});return function(f,h){if(h!==null){if(h===void 0)f.update(()=>{const p=Be();if(p.isEmpty()){const g=Vn();p.append(g);const w=Zv?document.activeElement:null;(se()!==null||w!==null&&w===f.getRootElement())&&g.select()}},fc);else if(h!==null)switch(typeof h){case"string":{const p=f.parseEditorState(h);f.setEditorState(p,fc);break}case"object":f.setEditorState(h,fc);break;case"function":f.update(()=>{Be().isEmpty()&&h(f)},fc)}}}(u,a),[u,c]},[]);return _N(()=>{const r=t.editable,[s]=n;s.setEditable(r===void 0||r)},[]),d.jsx(Ev.Provider,{value:n,children:e})}function tx(){return Be().getTextContent()}function nx(t,e=!0){if(t)return!1;let n=tx();return e&&(n=n.trim()),n===""}function CN(t){if(!nx(t,!1))return!1;const e=Be().getChildren(),n=e.length;if(n>1)return!1;for(let r=0;r<n;r++){const s=e[r];if(Ke(s))return!1;if(X(s)){if(!wp(s)||s.__indent!==0)return!1;const o=s.getChildren(),i=o.length;for(let a=0;a<i;a++){const l=o[r];if(!ne(l))return!1}}}return!0}function Rp(t){return()=>CN(t)}const rx=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function kN({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:o,ariaExpanded:i,ariaInvalid:a,ariaLabel:l,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:f,ariaRequired:h,autoCapitalize:p,className:g,id:w,role:y="textbox",spellCheck:_=!0,style:v,tabIndex:C,"data-testid":M,...j},S){const[L,A]=b.useState(t.isEditable()),O=b.useCallback(E=>{E&&E.ownerDocument&&E.ownerDocument.defaultView?t.setRootElement(E):t.setRootElement(null)},[t]),F=b.useMemo(()=>function(...E){return I=>{E.forEach(T=>{typeof T=="function"?T(I):T!=null&&(T.current=I)})}}(S,O),[O,S]);return rx(()=>(A(t.isEditable()),t.registerEditableListener(E=>{A(E)})),[t]),d.jsx("div",{"aria-activedescendant":L?e:void 0,"aria-autocomplete":L?n:"none","aria-controls":L?r:void 0,"aria-describedby":s,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":L&&y==="combobox"?!!i:void 0,...a!=null?{"aria-invalid":a}:{},"aria-label":l,"aria-labelledby":c,"aria-multiline":u,"aria-owns":L?f:void 0,"aria-readonly":!L||void 0,"aria-required":h,autoCapitalize:p,className:g,contentEditable:L,"data-testid":M,id:w,ref:F,role:y,spellCheck:_,style:v,tabIndex:C,...j})}const EN=b.forwardRef(kN);function Tm(t){return t.getEditorState().read(Rp(t.isComposing()))}const sx=b.forwardRef(SN);function SN(t,e){const{placeholder:n,...r}=t,[s]=Oe();return d.jsxs(d.Fragment,{children:[d.jsx(EN,{editor:s,...r,ref:e}),n!=null&&d.jsx(NN,{editor:s,content:n})]})}function NN({content:t,editor:e}){const n=function(i){const[a,l]=b.useState(()=>Tm(i));return rx(()=>{function c(){const u=Tm(i);l(u)}return c(),Rt(i.registerUpdateListener(()=>{c()}),i.registerEditableListener(()=>{c()}))},[i]),a}(e),[r,s]=b.useState(e.isEditable());if(b.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(i=>{s(i)})),[e]),!n)return null;let o=null;return typeof t=="function"?o=t(r):t!==null&&(o=t),o===null?null:d.jsx("div",{"aria-hidden":!0,children:o})}function ox({editorRef:t}){const[e]=Oe();return mi.useEffect(()=>{typeof t=="function"?t(e):typeof t=="object"&&(t.current=e)},[e]),null}function Qf(t,e){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qf(t,e)}var Am={error:null},TN=function(t){var e,n;function r(){for(var o,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(o=t.call.apply(t,[this].concat(a))||this).state=Am,o.resetErrorBoundary=function(){for(var c,u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];o.props.onReset==null||(c=o.props).onReset.apply(c,f),o.reset()},o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Qf(e,n),r.getDerivedStateFromError=function(o){return{error:o}};var s=r.prototype;return s.reset=function(){this.setState(Am)},s.componentDidCatch=function(o,i){var a,l;(a=(l=this.props).onError)==null||a.call(l,o,i)},s.componentDidUpdate=function(o,i){var a,l,c,u,f=this.state.error,h=this.props.resetKeys;f!==null&&i.error!==null&&((c=o.resetKeys)===void 0&&(c=[]),(u=h)===void 0&&(u=[]),c.length!==u.length||c.some(function(p,g){return!Object.is(p,u[g])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,o.resetKeys,h),this.reset())},s.render=function(){var o=this.state.error,i=this.props,a=i.fallbackRender,l=i.FallbackComponent,c=i.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(mi.isValidElement(c))return c;if(typeof a=="function")return a(u);if(l)return mi.createElement(l,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(mi.Component);function ix({children:t,onError:e}){return d.jsx(TN,{fallback:d.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const hc=0,Zf=1,eh=2,lr=0,AN=1,Dm=2,DN=3,MN=4;function ON(t,e,n,r,s){if(t===null||n.size===0&&r.size===0&&!s)return lr;const o=e._selection,i=t._selection;if(s)return AN;if(!(Q(o)&&Q(i)&&i.isCollapsed()&&o.isCollapsed()))return lr;const a=function(_,v,C){const M=_._nodeMap,j=[];for(const S of v){const L=M.get(S);L!==void 0&&j.push(L)}for(const[S,L]of C){if(!L)continue;const A=M.get(S);A===void 0||Jt(A)||j.push(A)}return j}(e,n,r);if(a.length===0)return lr;if(a.length>1){const _=e._nodeMap,v=_.get(o.anchor.key),C=_.get(i.anchor.key);return v&&C&&!t._nodeMap.has(v.__key)&&ne(v)&&v.__text.length===1&&o.anchor.offset===1?Dm:lr}const l=a[0],c=t._nodeMap.get(l.__key);if(!ne(c)||!ne(l)||c.__mode!==l.__mode)return lr;const u=c.__text,f=l.__text;if(u===f)return lr;const h=o.anchor,p=i.anchor;if(h.key!==p.key||h.type!=="text")return lr;const g=h.offset,w=p.offset,y=f.length-u.length;return y===1&&w===g-1?Dm:y===-1&&w===g+1?DN:y===-1&&w===g?MN:lr}function RN(t,e){let n=Date.now(),r=lr;return(s,o,i,a,l,c)=>{const u=Date.now();if(c.has(Ff))return r=lr,n=u,eh;const f=ON(s,o,a,l,t.isComposing()),h=(()=>{const p=i===null||i.editor===t,g=c.has(Qk);if(!g&&p&&c.has(xo))return hc;if(s===null)return Zf;const w=o._selection;return a.size>0||l.size>0?g===!1&&f!==lr&&f===r&&u<n+e&&p||a.size===1&&function(y,_,v){const C=_._nodeMap.get(y),M=v._nodeMap.get(y),j=_._selection,S=v._selection;return!(Q(j)&&Q(S)&&j.anchor.type==="element"&&j.focus.type==="element"&&S.anchor.type==="text"&&S.focus.type==="text"||!ne(C)||!ne(M)||C.__parent!==M.__parent)&&JSON.stringify(_.read(()=>C.exportJSON()))===JSON.stringify(v.read(()=>M.exportJSON()))}(Array.from(a)[0],s,o)?hc:Zf:w!==null?hc:eh})();return n=u,r=f,h}}function Mm(t){t.undoStack=[],t.redoStack=[],t.current=null}function jN(t,e,n){const r=RN(t,n);return Rt(t.registerCommand(Cl,()=>(function(o,i){const a=i.redoStack,l=i.undoStack;if(l.length!==0){const c=i.current,u=l.pop();c!==null&&(a.push(c),o.dispatchCommand(Ra,!0)),l.length===0&&o.dispatchCommand(ja,!1),i.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:Ff})}}(t,e),!0),xe),t.registerCommand(kl,()=>(function(o,i){const a=i.redoStack,l=i.undoStack;if(a.length!==0){const c=i.current;c!==null&&(l.push(c),o.dispatchCommand(ja,!0));const u=a.pop();a.length===0&&o.dispatchCommand(Ra,!1),i.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:Ff})}}(t,e),!0),xe),t.registerCommand(cp,()=>(Mm(e),!1),xe),t.registerCommand(x0,()=>(Mm(e),t.dispatchCommand(Ra,!1),t.dispatchCommand(ja,!1),!0),xe),t.registerUpdateListener(({editorState:o,prevEditorState:i,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const u=e.current,f=e.redoStack,h=e.undoStack,p=u===null?null:u.editorState;if(u!==null&&o===p)return;const g=r(i,o,u,a,l,c);if(g===Zf)f.length!==0&&(e.redoStack=[],t.dispatchCommand(Ra,!1)),u!==null&&(h.push({...u}),t.dispatchCommand(ja,!0));else if(g===eh)return;e.current={editor:t,editorState:o}}))}function IN(){return{current:null,redoStack:[],undoStack:[]}}function ax({delay:t,externalHistoryState:e}){const[n]=Oe();return function(r,s,o=1e3){const i=b.useMemo(()=>s||IN(),[s]);b.useEffect(()=>jN(r,i,o),[o,r,i])}(n,e,t),null}const LN=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function PN(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function lx(){return function(t){const[e]=Oe(),n=b.useMemo(()=>t(e),[e,t]),[r,s]=b.useState(()=>n.initialValueFn()),o=b.useRef(r);return LN(()=>{const{initialValueFn:i,subscribe:a}=n,l=i();return o.current!==l&&(o.current=l,s(l)),a(c=>{o.current=c,s(c)})},[n,t]),r}(PN)}function cx(t){const e=window.location.origin,n=r=>{if(r.origin!==e)return;const s=t.getRootElement();if(document.activeElement!==s)return;const o=r.data;if(typeof o=="string"){let i;try{i=JSON.parse(o)}catch{return}if(i&&i.protocol==="nuanria_messaging"&&i.type==="request"){const a=i.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,u,f,h,p,g]=l;t.update(()=>{const w=se();if(Q(w)){const y=w.anchor;let _=y.getNode(),v=0,C=0;if(ne(_)&&c>=0&&u>=0&&(v=c,C=c+u,w.setTextNodeRange(_,v,_,C)),v===C&&f===""||(w.insertRawText(f),_=y.getNode()),ne(_)){v=h,C=h+p;const M=_.getTextContentSize();v=v>M?M:v,C=C>M?M:C,w.setTextNodeRange(_,v,_,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}function Om(t,e){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(t,e);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(t,e);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const la=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,$N=la&&"documentMode"in document?document.documentMode:null,FN=!(!la||!("InputEvent"in window)||$N)&&"getTargetRanges"in new window.InputEvent("input"),BN=la&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Rm=la&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,qN=la&&/^(?=.*Chrome).*/i.test(navigator.userAgent),UN=la&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!qN,jm=Ce("DRAG_DROP_PASTE_FILE");function pc(t){let e=null;if(ls(t,DragEvent)?e=t.dataTransfer:ls(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const n=e.types,r=n.includes("Files"),s=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),s]}function Im(t){const e=se();if(!Q(e))return!1;const n=new Set,r=e.getNodes();for(let s=0;s<r.length;s++){const o=r[s],i=o.getKey();if(n.has(i))continue;const a=wr(o,c=>X(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!n.has(l)&&(n.add(l),t(a))}return n.size>0}function Lm(t){const e=Fs(t);return Ke(e)}function Yd(t){for(const e of["lowercase","uppercase","capitalize"])t.hasFormat(e)&&t.toggleFormat(e)}function zN(t){return Rt(t.registerCommand(b0,e=>{const n=se();return!!hn(n)&&(n.clear(),!0)},xe),t.registerCommand(Br,e=>{const n=se();return Q(n)?(n.deleteCharacter(e),!0):!!hn(n)&&(n.deleteNodes(),!0)},xe),t.registerCommand(Mi,e=>{const n=se();return!!Q(n)&&(n.deleteWord(e),!0)},xe),t.registerCommand(Oi,e=>{const n=se();return!!Q(n)&&(n.deleteLine(e),!0)},xe),t.registerCommand(yo,e=>{const n=se();if(typeof e=="string")n!==null&&n.insertText(e);else{if(n===null)return!1;const r=e.dataTransfer;if(r!=null)gm(r,n,t);else if(Q(n)){const s=e.data;return s&&n.insertText(s),!0}}return!0},xe),t.registerCommand(Hc,()=>{const e=se();return!!Q(e)&&(e.removeText(),!0)},xe),t.registerCommand(Ss,e=>{const n=se();return!!Q(n)&&(n.formatText(e),!0)},xe),t.registerCommand(Rk,e=>{const n=se();if(!Q(n)&&!hn(n))return!1;const r=n.getNodes();for(const s of r){const o=wr(s,i=>X(i)&&!i.isInline());o!==null&&o.setFormat(e)}return!0},xe),t.registerCommand(Ms,e=>{const n=se();return!!Q(n)&&(n.insertLineBreak(e),!0)},xe),t.registerCommand(tl,()=>{const e=se();return!!Q(e)&&(e.insertParagraph(),!0)},xe),t.registerCommand(Mk,()=>(Gk([Nl()]),!0),xe),t.registerCommand(Ok,()=>Im(e=>{const n=e.getIndent();e.setIndent(n+1)}),xe),t.registerCommand(uw,()=>Im(e=>{const n=e.getIndent();n>0&&e.setIndent(Math.max(0,n-1))}),xe),t.registerCommand(rp,e=>{const n=se();if(hn(n)){const r=n.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(Q(n)){const r=qf(n.focus,!0);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},xe),t.registerCommand(sp,e=>{const n=se();if(hn(n)){const r=n.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(Q(n)){if(function(s){const o=s.focus;return o.key==="root"&&o.offset===Be().getChildrenSize()}(n))return e.preventDefault(),!0;const r=qf(n.focus,!1);if(!e.shiftKey&&Ke(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},xe),t.registerCommand(np,e=>{const n=se();if(hn(n)){const r=n.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!Q(n))return!1;if(tu(n,!0)){const r=e.shiftKey;return e.preventDefault(),nu(n,r,!0),!0}return!1},xe),t.registerCommand(tp,e=>{const n=se();if(hn(n)){const s=n.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!Q(n))return!1;const r=e.shiftKey;return!!tu(n,!1)&&(e.preventDefault(),nu(n,r,!1),!0)},xe),t.registerCommand(op,e=>{if(Lm(e.target))return!1;const n=se();if(Q(n)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:s}=r;if(s.offset!==0)return!1;const o=s.getNode();if(Jt(o))return!1;const i=GE(o);return i.getIndent()>0&&(i.is(o)||o.is(i.getFirstDescendant()))}(n))return e.preventDefault(),t.dispatchCommand(uw,void 0);if(Rm&&navigator.language==="ko-KR")return!1}else if(!hn(n))return!1;return e.preventDefault(),t.dispatchCommand(Br,!0)},xe),t.registerCommand(ip,e=>{if(Lm(e.target))return!1;const n=se();return!(!Q(n)&&!hn(n))&&(e.preventDefault(),t.dispatchCommand(Br,!1))},xe),t.registerCommand(Ri,e=>{const n=se();if(!Q(n))return!1;if(Yd(n),e!==null){if((Rm||BN||UN)&&FN)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(Ms,!1)}return t.dispatchCommand(tl,void 0)},xe),t.registerCommand(Pu,()=>{const e=se();return!!Q(e)&&(t.blur(),!0)},xe),t.registerCommand($u,e=>{const[,n]=pc(e);if(n.length>0){const s=Om(e.clientX,e.clientY);if(s!==null){const{offset:o,node:i}=s,a=Fs(i);if(a!==null){const l=Tl();if(ne(a))l.anchor.set(a.getKey(),o,"text"),l.focus.set(a.getKey(),o,"text");else{const u=a.getParentOrThrow().getKey(),f=a.getIndexWithinParent()+1;l.anchor.set(u,f,"element"),l.focus.set(u,f,"element")}const c=Ya(l);Zt(c)}t.dispatchCommand(jm,n)}return e.preventDefault(),!0}const r=se();return!!Q(r)},xe),t.registerCommand(lp,e=>{const[n]=pc(e),r=se();return!(n&&!Q(r))},xe),t.registerCommand(v0,e=>{const[n]=pc(e),r=se();if(n&&!Q(r))return!1;const s=Om(e.clientX,e.clientY);if(s!==null){const o=Fs(s.node);Ke(o)&&e.preventDefault()}return!0},xe),t.registerCommand(Kc,()=>(sv(),!0),xe),t.registerCommand(Xs,e=>(mm(t,ls(e,ClipboardEvent)?e:null),!0),xe),t.registerCommand(Qo,e=>(async function(n,r){await mm(r,ls(n,ClipboardEvent)?n:null),r.update(()=>{const s=se();Q(s)?s.removeText():hn(s)&&s.getNodes().forEach(o=>o.remove())})}(e,t),!0),xe),t.registerCommand(Yo,e=>{const[,n,r]=pc(e);return n.length>0&&!r?(t.dispatchCommand(jm,n),!0):ti(e.target)&&yp(e.target)?!1:se()!==null&&(function(s,o){s.preventDefault(),o.update(()=>{const i=se(),a=ls(s,InputEvent)||ls(s,KeyboardEvent)?null:s.clipboardData;a!=null&&i!==null&&gm(a,i,o)},{tag:G0})}(e,t),!0)},xe),t.registerCommand(y0,e=>{const n=se();return Q(n)&&Yd(n),!1},xe),t.registerCommand(ap,e=>{const n=se();return Q(n)&&Yd(n),!1},xe))}const th=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function Pm(t){return t.getEditorState().read(Rp(t.isComposing()))}function VN({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Oe(),s=function(o,i){const[a,l]=b.useState(()=>o.getDecorators());return th(()=>o.registerDecoratorListener(c=>{Xn.flushSync(()=>{l(c)})}),[o]),b.useEffect(()=>{l(o.getDecorators())},[o]),b.useMemo(()=>{const c=[],u=Object.keys(a);for(let f=0;f<u.length;f++){const h=u[f],p=d.jsx(i,{onError:w=>o._onError(w),children:d.jsx(b.Suspense,{fallback:null,children:a[h]})}),g=o.getElementByKey(h);g!==null&&c.push(Xn.createPortal(p,g,h))}return c},[i,a,o])}(r,n);return function(o){th(()=>Rt(zN(o),cx(o)),[o])}(r),d.jsxs(d.Fragment,{children:[t,d.jsx(HN,{content:e}),s]})}function HN({content:t}){const[e]=Oe(),n=function(s){const[o,i]=b.useState(()=>Pm(s));return th(()=>{function a(){const l=Pm(s);i(l)}return a(),Rt(s.registerUpdateListener(()=>{a()}),s.registerEditableListener(()=>{a()}))},[s]),o}(e),r=lx();return n?typeof t=="function"?t(r):t:null}const su=Math.min,Eo=Math.max,ou=Math.round,gc=Math.floor,qr=t=>({x:t,y:t}),KN={left:"right",right:"left",bottom:"top",top:"bottom"},WN={start:"end",end:"start"};function $m(t,e,n){return Eo(t,su(e,n))}function jp(t,e){return typeof t=="function"?t(e):t}function Pi(t){return t.split("-")[0]}function Ip(t){return t.split("-")[1]}function ux(t){return t==="x"?"y":"x"}function dx(t){return t==="y"?"height":"width"}const GN=new Set(["top","bottom"]);function mo(t){return GN.has(Pi(t))?"y":"x"}function fx(t){return ux(mo(t))}function JN(t,e,n){n===void 0&&(n=!1);const r=Ip(t),s=fx(t),o=dx(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=iu(i)),[i,iu(i)]}function XN(t){const e=iu(t);return[nh(t),e,nh(e)]}function nh(t){return t.replace(/start|end/g,e=>WN[e])}const Fm=["left","right"],Bm=["right","left"],YN=["top","bottom"],QN=["bottom","top"];function ZN(t,e,n){switch(t){case"top":case"bottom":return n?e?Bm:Fm:e?Fm:Bm;case"left":case"right":return e?YN:QN;default:return[]}}function eT(t,e,n,r){const s=Ip(t);let o=ZN(Pi(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(nh)))),o}function iu(t){return t.replace(/left|right|bottom|top/g,e=>KN[e])}function tT(t){return{top:0,right:0,bottom:0,left:0,...t}}function nT(t){return typeof t!="number"?tT(t):{top:t,right:t,bottom:t,left:t}}function au(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function qm(t,e,n){let{reference:r,floating:s}=t;const o=mo(e),i=fx(e),a=dx(i),l=Pi(e),c=o==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ip(e)){case"start":p[i]-=h*(n&&c?-1:1);break;case"end":p[i]+=h*(n&&c?-1:1);break}return p}const rT=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let c=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:f}=qm(c,r,l),h=r,p={},g=0;for(let w=0;w<a.length;w++){const{name:y,fn:_}=a[w],{x:v,y:C,data:M,reset:j}=await _({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:t,floating:e}});u=v??u,f=C??f,p={...p,[y]:{...p[y],...M}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(c=j.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:u,y:f}=qm(c,h,l)),w=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:p}};async function hx(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=jp(e,t),g=nT(p),y=a[h?f==="floating"?"reference":"floating":f],_=au(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),M=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},j=au(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:C,strategy:l}):v);return{top:(_.top-j.top+g.top)/M.y,bottom:(j.bottom-_.bottom+g.bottom)/M.y,left:(_.left-j.left+g.left)/M.x,right:(j.right-_.right+g.right)/M.x}}const sT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:w=!0,...y}=jp(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Pi(s),v=mo(a),C=Pi(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),j=h||(C||!w?[iu(a)]:XN(a)),S=g!=="none";!h&&S&&j.push(...eT(a,w,g,M));const L=[a,...j],A=await hx(e,y),O=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(A[_]),f){const P=JN(s,i,M);O.push(A[P[0]],A[P[1]])}if(F=[...F,{placement:s,overflows:O}],!O.every(P=>P<=0)){var E,I;const P=(((E=o.flip)==null?void 0:E.index)||0)+1,D=L[P];if(D&&(!(f==="alignment"?v!==mo(D):!1)||F.every(V=>mo(V.placement)===v?V.overflows[0]>0:!0)))return{data:{index:P,overflows:F},reset:{placement:D}};let R=(I=F.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:I.placement;if(!R)switch(p){case"bestFit":{var T;const q=(T=F.filter(V=>{if(S){const J=mo(V.placement);return J===v||J==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(J=>J>0).reduce((J,H)=>J+H,0)]).sort((V,J)=>V[1]-J[1])[0])==null?void 0:T[0];q&&(R=q);break}case"initialPlacement":R=a;break}if(s!==R)return{reset:{placement:R}}}return{}}}},oT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:_,y:v}=y;return{x:_,y:v}}},...l}=jp(t,e),c={x:n,y:r},u=await hx(e,l),f=mo(Pi(s)),h=ux(f);let p=c[h],g=c[f];if(o){const y=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=p+u[y],C=p-u[_];p=$m(v,p,C)}if(i){const y=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=g+u[y],C=g-u[_];g=$m(v,g,C)}const w=a.fn({...e,[h]:p,[f]:g});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:o,[f]:i}}}}}};function Ju(){return typeof window<"u"}function ca(t){return px(t)?(t.nodeName||"").toLowerCase():"#document"}function Hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jr(t){var e;return(e=(px(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function px(t){return Ju()?t instanceof Node||t instanceof Hn(t).Node:!1}function mr(t){return Ju()?t instanceof Element||t instanceof Hn(t).Element:!1}function Kr(t){return Ju()?t instanceof HTMLElement||t instanceof Hn(t).HTMLElement:!1}function Um(t){return!Ju()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hn(t).ShadowRoot}const iT=new Set(["inline","contents"]);function jl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=br(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iT.has(s)}const aT=new Set(["table","td","th"]);function lT(t){return aT.has(ca(t))}const cT=[":popover-open",":modal"];function Xu(t){return cT.some(e=>{try{return t.matches(e)}catch{return!1}})}const uT=["transform","translate","scale","rotate","perspective"],dT=["transform","translate","scale","rotate","perspective","filter"],fT=["paint","layout","strict","content"];function Lp(t){const e=Pp(),n=mr(t)?br(t):t;return uT.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dT.some(r=>(n.willChange||"").includes(r))||fT.some(r=>(n.contain||"").includes(r))}function hT(t){let e=qs(t);for(;Kr(e)&&!$i(e);){if(Lp(e))return e;if(Xu(e))return null;e=qs(e)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pT=new Set(["html","body","#document"]);function $i(t){return pT.has(ca(t))}function br(t){return Hn(t).getComputedStyle(t)}function Yu(t){return mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qs(t){if(ca(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Um(t)&&t.host||Jr(t);return Um(e)?e.host:e}function gx(t){const e=qs(t);return $i(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kr(e)&&jl(e)?e:gx(e)}function sl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=gx(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Hn(s);if(o){const a=rh(i);return e.concat(i,i.visualViewport||[],jl(s)?s:[],a&&n?sl(a):[])}return e.concat(s,sl(s,[],n))}function rh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wx(t){const e=br(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Kr(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=ou(n)!==o||ou(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function $p(t){return mr(t)?t:t.contextElement}function Ci(t){const e=$p(t);if(!Kr(e))return qr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=wx(e);let i=(o?ou(n.width):n.width)/r,a=(o?ou(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const gT=qr(0);function mx(t){const e=Hn(t);return!Pp()||!e.visualViewport?gT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=$p(t);let i=qr(1);e&&(r?mr(r)&&(i=Ci(r)):i=Ci(t));const a=wT(o,n,r)?mx(o):qr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const h=Hn(o),p=r&&mr(r)?Hn(r):r;let g=h,w=rh(g);for(;w&&r&&p!==g;){const y=Ci(w),_=w.getBoundingClientRect(),v=br(w),C=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*y.x,M=_.top+(w.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=C,c+=M,g=Hn(w),w=rh(g)}}return au({width:u,height:f,x:l,y:c})}function Qu(t,e){const n=Yu(t).scrollLeft;return e?e.left+n:Lo(Jr(t)).left+n}function bx(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Qu(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function mT(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Jr(r),a=e?Xu(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=qr(1);const u=qr(0),f=Kr(r);if((f||!f&&!o)&&((ca(r)!=="body"||jl(i))&&(l=Yu(r)),Kr(r))){const p=Lo(r);c=Ci(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=i&&!f&&!o?bx(i,l):qr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function bT(t){return Array.from(t.getClientRects())}function yT(t){const e=Jr(t),n=Yu(t),r=t.ownerDocument.body,s=Eo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Eo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qu(t);const a=-n.scrollTop;return br(r).direction==="rtl"&&(i+=Eo(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const zm=25;function vT(t,e){const n=Hn(t),r=Jr(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const u=Pp();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Qu(r);if(c<=0){const u=r.ownerDocument,f=u.body,h=getComputedStyle(f),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-p);g<=zm&&(o-=g)}else c<=zm&&(o+=c);return{width:o,height:i,x:a,y:l}}const xT=new Set(["absolute","fixed"]);function _T(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Kr(t)?Ci(t):qr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Vm(t,e,n){let r;if(e==="viewport")r=vT(t,n);else if(e==="document")r=yT(Jr(t));else if(mr(e))r=_T(e,n);else{const s=mx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return au(r)}function yx(t,e){const n=qs(t);return n===e||!mr(n)||$i(n)?!1:br(n).position==="fixed"||yx(n,e)}function CT(t,e){const n=e.get(t);if(n)return n;let r=sl(t,[],!1).filter(a=>mr(a)&&ca(a)!=="body"),s=null;const o=br(t).position==="fixed";let i=o?qs(t):t;for(;mr(i)&&!$i(i);){const a=br(i),l=Lp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&xT.has(s.position)||jl(i)&&!l&&yx(t,i))?r=r.filter(u=>u!==i):s=a,i=qs(i)}return e.set(t,r),r}function kT(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Xu(e)?[]:CT(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,u)=>{const f=Vm(e,u,s);return c.top=Eo(f.top,c.top),c.right=su(f.right,c.right),c.bottom=su(f.bottom,c.bottom),c.left=Eo(f.left,c.left),c},Vm(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ET(t){const{width:e,height:n}=wx(t);return{width:e,height:n}}function ST(t,e,n){const r=Kr(e),s=Jr(e),o=n==="fixed",i=Lo(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=qr(0);function c(){l.x=Qu(s)}if(r||!r&&!o)if((ca(e)!=="body"||jl(s))&&(a=Yu(e)),r){const p=Lo(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();o&&!r&&s&&c();const u=s&&!r&&!o?bx(s,a):qr(0),f=i.left+a.scrollLeft-l.x-u.x,h=i.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:i.width,height:i.height}}function Qd(t){return br(t).position==="static"}function Hm(t,e){if(!Kr(t)||br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jr(t)===n&&(n=n.ownerDocument.body),n}function vx(t,e){const n=Hn(t);if(Xu(t))return n;if(!Kr(t)){let s=qs(t);for(;s&&!$i(s);){if(mr(s)&&!Qd(s))return s;s=qs(s)}return n}let r=Hm(t,e);for(;r&&lT(r)&&Qd(r);)r=Hm(r,e);return r&&$i(r)&&Qd(r)&&!Lp(r)?n:r||hT(t)||n}const NT=async function(t){const e=this.getOffsetParent||vx,n=this.getDimensions,r=await n(t.floating);return{reference:ST(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TT(t){return br(t).direction==="rtl"}const AT={convertOffsetParentRelativeRectToViewportRelativeRect:mT,getDocumentElement:Jr,getClippingRect:kT,getOffsetParent:vx,getElementRects:NT,getClientRects:bT,getDimensions:ET,getScale:Ci,isElement:mr,isRTL:TT};function xx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DT(t,e){let n=null,r;const s=Jr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(a||e(),!h||!p)return;const g=gc(f),w=gc(s.clientWidth-(u+h)),y=gc(s.clientHeight-(f+p)),_=gc(u),C={rootMargin:-g+"px "+-w+"px "+-y+"px "+-_+"px",threshold:Eo(0,su(1,l))||1};let M=!0;function j(S){const L=S[0].intersectionRatio;if(L!==l){if(!M)return i();L?i(!1,L):r=setTimeout(()=>{i(!1,1e-7)},1e3)}L===1&&!xx(c,t.getBoundingClientRect())&&i(),M=!1}try{n=new IntersectionObserver(j,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,C)}n.observe(t)}return i(!0),o}function MT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$p(t),u=s||o?[...c?sl(c):[],...sl(e)]:[];u.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const f=c&&a?DT(c,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(_=>{let[v]=_;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=p)==null||C.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,w=l?Lo(t):null;l&&y();function y(){const _=Lo(t);w&&!xx(w,_)&&n(),w=_,g=requestAnimationFrame(y)}return n(),()=>{var _;u.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const OT=oT,RT=sT,jT=(t,e,n)=>{const r=new Map,s={platform:AT,...n},o={...s.platform,_c:r};return rT(t,e,{...s,platform:o})},sh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,IT=sh?b.useLayoutEffect:b.useEffect;let LT=class{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}};const Km=t=>{const e=document.getElementById("typeahead-menu");if(!e)return;const n=e.getBoundingClientRect();n.top+n.height>window.innerHeight&&e.scrollIntoView({block:"center"}),n.top<0&&e.scrollIntoView({block:"center"}),t.scrollIntoView({block:"nearest"})};function Wm(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function PT(t,e,n,r){const[s]=Oe();b.useEffect(()=>{if(e!=null&&t!=null){const o=s.getRootElement(),i=o!=null?function(f,h){let p=getComputedStyle(f);const g=p.position==="absolute",w=/(auto|scroll)/;if(p.position==="fixed")return document.body;for(let y=f;y=y.parentElement;)if(p=getComputedStyle(y),(!g||p.position!=="static")&&w.test(p.overflow+p.overflowY+p.overflowX))return y;return document.body}(o):document.body;let a=!1,l=Wm(e,i);const c=function(){a||(window.requestAnimationFrame(function(){n(),a=!1}),a=!0);const f=Wm(e,i);f!==l&&(l=f,r!=null&&r(f))},u=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",c,{capture:!0,passive:!0}),u.observe(e),()=>{u.unobserve(e),window.removeEventListener("resize",n),document.removeEventListener("scroll",c,!0)}}},[e,s,r,n,t])}const Gm=Ce("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function $T({close:t,editor:e,anchorElementRef:n,resolution:r,options:s,menuRenderFn:o,onSelectOption:i,shouldSplitNodeWithQuery:a=!1,commandPriority:l=ei,preselectFirstItem:c=!0}){const[u,f]=b.useState(null),h=r.match&&r.match.matchingString;b.useEffect(()=>{c&&f(0)},[h,c]);const p=b.useCallback(w=>{e.update(()=>{const y=r.match!=null&&a?function(_){const v=se();if(!Q(v)||!v.isCollapsed())return null;const C=v.anchor;if(C.type!=="text")return null;const M=C.getNode();if(!M.isSimpleText())return null;const j=C.offset,S=M.getTextContent().slice(0,j),L=_.replaceableString.length,A=j-function(F,E,I){let T=I;for(let P=T;P<=E.length;P++)F.slice(-P)===E.substring(0,P)&&(T=P);return T}(S,_.matchingString,L);if(A<0)return null;let O;return A===0?[O]=M.splitText(j):[,O]=M.splitText(A,j),O}(r.match):null;i(w,y,t,r.match?r.match.matchingString:"")})},[e,a,r.match,i,t]),g=b.useCallback(w=>{const y=e.getRootElement();y!==null&&(y.setAttribute("aria-activedescendant","typeahead-item-"+w),f(w))},[e]);return b.useEffect(()=>()=>{const w=e.getRootElement();w!==null&&w.removeAttribute("aria-activedescendant")},[e]),IT(()=>{s===null?f(null):u===null&&c&&g(0)},[s,u,g,c]),b.useEffect(()=>Rt(e.registerCommand(Gm,({option:w})=>!(!w.ref||w.ref.current==null)&&(Km(w.ref.current),!0),l)),[e,g,l]),b.useEffect(()=>Rt(e.registerCommand(sp,w=>{const y=w;if(s!==null&&s.length){const _=u===null?0:u!==s.length-1?u+1:0;g(_);const v=s[_];v.ref!=null&&v.ref.current&&e.dispatchCommand(Gm,{index:_,option:v}),y.preventDefault(),y.stopImmediatePropagation()}return!0},l),e.registerCommand(rp,w=>{const y=w;if(s!==null&&s.length){const _=u===null?s.length-1:u!==0?u-1:s.length-1;g(_);const v=s[_];v.ref!=null&&v.ref.current&&Km(v.ref.current),y.preventDefault(),y.stopImmediatePropagation()}return!0},l),e.registerCommand(Pu,w=>{const y=w;return y.preventDefault(),y.stopImmediatePropagation(),t(),!0},l),e.registerCommand(ap,w=>{const y=w;return s!==null&&u!==null&&s[u]!=null&&(y.preventDefault(),y.stopImmediatePropagation(),p(s[u]),!0)},l),e.registerCommand(Ri,w=>s!==null&&u!==null&&s[u]!=null&&(w!==null&&(w.preventDefault(),w.stopImmediatePropagation()),p(s[u]),!0),l)),[p,t,e,s,u,g,l]),o(n,b.useMemo(()=>({options:s,selectOptionAndCleanUp:p,selectedIndex:u,setHighlightedIndex:f}),[p,u,s]),r.match?r.match.matchingString:"")}function Jm(t,e){e!=null&&(t.className=e),t.setAttribute("aria-label","Typeahead menu"),t.setAttribute("role","listbox"),t.style.display="block",t.style.position="absolute"}function FT({options:t,onWillOpen:e,onClose:n,onOpen:r,onSelectOption:s,menuRenderFn:o,anchorClassName:i,commandPriority:a=ei,parent:l}){const[c]=Oe(),[u,f]=b.useState(null),h=mi.useRef(null),p=function(v,C,M,j=sh?document.body:void 0,S=!0){const[L]=Oe(),A=sh?document.createElement("div"):null,O=b.useRef(A),F=b.useCallback(()=>{if(O.current===null||j===void 0)return;O.current.style.top=O.current.style.bottom;const I=L.getRootElement(),T=O.current,P=T.firstChild;if(I!==null&&v!==null){const{left:D,top:R,width:q,height:V}=v.getRect(),J=O.current.offsetHeight;if(T.style.top=`${R+J+3+(S?window.pageYOffset:0)}px`,T.style.left=`${D+window.pageXOffset}px`,T.style.height=`${V}px`,T.style.width=`${q}px`,P!==null){P.style.top=`${R}`;const H=P.getBoundingClientRect(),G=H.height,te=H.width,re=I.getBoundingClientRect();D+te>re.right&&(T.style.left=`${re.right-te+window.pageXOffset}px`),(R+G>window.innerHeight||R+G>re.bottom)&&R-re.top>G+V&&(T.style.top=`${R-G-V+(S?window.pageYOffset:0)}px`)}T.isConnected||(Jm(T,M),j.append(T)),T.setAttribute("id","typeahead-menu"),I.setAttribute("aria-controls","typeahead-menu")}},[L,v,S,M,j]);b.useEffect(()=>{const I=L.getRootElement();return v!==null&&F(),()=>{I!==null&&I.removeAttribute("aria-controls");const T=O.current;T!==null&&T.isConnected&&(T.remove(),T.removeAttribute("id"))}},[L,F,v]);const E=b.useCallback(I=>{v!==null&&(I||C(null))},[v,C]);return PT(v,O.current,F,E),A!=null&&A===O.current&&(Jm(A,M),j!=null&&j.append(A)),O}(u,f,i,l),g=b.useCallback(()=>{f(null),n!=null&&u!==null&&n()},[n,u]),w=b.useCallback(v=>{f(v),r!=null&&u===null&&r(v)},[r,u]),y=b.useCallback(v=>{v.preventDefault(),e!=null&&e(v);const C=JE(v.target);w({getRect:()=>new DOMRect(v.clientX/C,v.clientY/C,1,1)})},[w,e]),_=b.useCallback(v=>{u!==null&&h.current!=null&&v.target!=null&&ti(v.target)&&!h.current.contains(v.target)&&g()},[g,u]);return b.useEffect(()=>{const v=c.getRootElement();if(v)return v.addEventListener("contextmenu",y),()=>v.removeEventListener("contextmenu",y)},[c,y]),b.useEffect(()=>(document.addEventListener("click",_),()=>document.removeEventListener("click",_)),[c,_]),p.current===null||u===null||c===null?null:d.jsx($T,{close:g,resolution:u,editor:c,anchorElementRef:p,options:t,menuRenderFn:(v,C)=>o(v,C,{setMenuRef:M=>{h.current=M}}),onSelectOption:s,commandPriority:a})}function BT({defaultSelection:t}){const[e]=Oe();return b.useEffect(()=>{e.focus(()=>{const n=document.activeElement,r=e.getRootElement();r===null||n!==null&&r.contains(n)||r.focus({preventScroll:!0})},{defaultSelection:t})},[t,e]),null}const qT=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function UT({onClear:t}){const[e]=Oe();return qT(()=>e.registerCommand(cp,n=>(e.update(()=>{if(t==null){const r=Be(),s=se(),o=Vn();r.clear(),r.append(o),s!==null&&o.select(),Q(s)&&(s.format=0)}else t()}),!0),xe),[e,t]),null}const Xm=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],Ym=Xm[Math.floor(Math.random()*Xm.length)],zT=b.createContext({clientID:0,color:Ym[1],isCollabActive:!1,name:Ym[0],yjsDocMap:new Map});function _x(t,e){return b.useContext(zT)}const VT=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function HT({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){const[r]=Oe();return VT(()=>{if(n)return r.registerUpdateListener(({editorState:s,dirtyElements:o,dirtyLeaves:i,prevEditorState:a,tags:l})=>{e&&o.size===0&&i.size===0||t&&l.has(xo)||a.isEmpty()||n(s,r,l)})},[r,t,e,n]),null}const ua=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,KT=ua&&"documentMode"in document?document.documentMode:null,WT=!(!ua||!("InputEvent"in window)||KT)&&"getTargetRanges"in new window.InputEvent("input"),GT=ua&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Qm=ua&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,JT=ua&&/^(?=.*Chrome).*/i.test(navigator.userAgent),XT=ua&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!JT;function Zm(t,e){e.update(()=>{if(t!==null){const n=ls(t,KeyboardEvent)?null:t.clipboardData,r=se();if(r!==null&&n!=null){t.preventDefault();const s=Iv(e);s!==null&&n.setData("text/html",s),n.setData("text/plain",r.getTextContent())}}})}function YT(t){return Rt(t.registerCommand(Br,e=>{const n=se();return!!Q(n)&&(n.deleteCharacter(e),!0)},xe),t.registerCommand(Mi,e=>{const n=se();return!!Q(n)&&(n.deleteWord(e),!0)},xe),t.registerCommand(Oi,e=>{const n=se();return!!Q(n)&&(n.deleteLine(e),!0)},xe),t.registerCommand(yo,e=>{const n=se();if(!Q(n))return!1;if(typeof e=="string")n.insertText(e);else{const r=e.dataTransfer;if(r!=null)pm(r,n);else{const s=e.data;s&&n.insertText(s)}}return!0},xe),t.registerCommand(Hc,()=>{const e=se();return!!Q(e)&&(e.removeText(),!0)},xe),t.registerCommand(Ms,e=>{const n=se();return!!Q(n)&&(n.insertLineBreak(e),!0)},xe),t.registerCommand(tl,()=>{const e=se();return!!Q(e)&&(e.insertLineBreak(),!0)},xe),t.registerCommand(np,e=>{const n=se();if(!Q(n))return!1;const r=e,s=r.shiftKey;return!!tu(n,!0)&&(r.preventDefault(),nu(n,s,!0),!0)},xe),t.registerCommand(tp,e=>{const n=se();if(!Q(n))return!1;const r=e,s=r.shiftKey;return!!tu(n,!1)&&(r.preventDefault(),nu(n,s,!1),!0)},xe),t.registerCommand(op,e=>{const n=se();return!!Q(n)&&(!Qm||navigator.language!=="ko-KR")&&(e.preventDefault(),t.dispatchCommand(Br,!0))},xe),t.registerCommand(ip,e=>{const n=se();return!!Q(n)&&(e.preventDefault(),t.dispatchCommand(Br,!1))},xe),t.registerCommand(Ri,e=>{const n=se();if(!Q(n))return!1;if(e!==null){if((Qm||GT||XT)&&WT)return!1;e.preventDefault()}return t.dispatchCommand(Ms,!1)},xe),t.registerCommand(Kc,()=>(sv(),!0),xe),t.registerCommand(Xs,e=>{const n=se();return!!Q(n)&&(Zm(e,t),!0)},xe),t.registerCommand(Qo,e=>{const n=se();return!!Q(n)&&(function(r,s){Zm(r,s),s.update(()=>{const o=se();Q(o)&&o.removeText()})}(e,t),!0)},xe),t.registerCommand(Yo,e=>{const n=se();return!!Q(n)&&(function(r,s){r.preventDefault(),s.update(()=>{const o=se(),i=ls(r,ClipboardEvent)?r.clipboardData:null;i!=null&&Q(o)&&pm(i,o)},{tag:G0})}(e,t),!0)},xe),t.registerCommand($u,e=>{const n=se();return!!Q(n)&&(e.preventDefault(),!0)},xe),t.registerCommand(lp,e=>{const n=se();return!!Q(n)&&(e.preventDefault(),!0)},xe))}const oh=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?b.useLayoutEffect:b.useEffect;function eb(t){return t.getEditorState().read(Rp(t.isComposing()))}function QT({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Oe(),s=function(o,i){const[a,l]=b.useState(()=>o.getDecorators());return oh(()=>o.registerDecoratorListener(c=>{Xn.flushSync(()=>{l(c)})}),[o]),b.useEffect(()=>{l(o.getDecorators())},[o]),b.useMemo(()=>{const c=[],u=Object.keys(a);for(let f=0;f<u.length;f++){const h=u[f],p=d.jsx(i,{onError:w=>o._onError(w),children:d.jsx(b.Suspense,{fallback:null,children:a[h]})}),g=o.getElementByKey(h);g!==null&&c.push(Xn.createPortal(p,g,h))}return c},[i,a,o])}(r,n);return function(o){oh(()=>Rt(YT(o),cx(o)),[o])}(r),d.jsxs(d.Fragment,{children:[t,d.jsx(ZT,{content:e}),s]})}function ZT({content:t}){const[e]=Oe(),n=function(s){const[o,i]=b.useState(()=>eb(s));return oh(()=>{function a(){const l=eb(s);i(l)}return a(),Rt(s.registerUpdateListener(()=>{a()}),s.registerEditableListener(()=>{a()}))},[s]),o}(e),r=lx();return n?typeof t=="function"?t(r):t:null}const Ur=()=>new Map,ih=t=>{const e=Ur();return t.forEach((n,r)=>{e.set(r,n)}),e},da=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},eA=(t,e)=>{const n=[];for(const[r,s]of t)n.push(e(s,r));return n},tA=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Fi=()=>new Set,Zd=t=>t[t.length-1],Bi=Array.from,nA=Array.isArray;class rA{constructor(){this._observers=Ur()}on(e,n){return da(this._observers,e,Fi).add(n),n}once(e,n){const r=(...s)=>{this.off(e,r),n(...s)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Bi((this._observers.get(e)||Ur()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ur()}}const Po=Math.floor,Tc=Math.abs,Cx=(t,e)=>t<e?t:e,fa=(t,e)=>t>e?t:e,sA=t=>t!==0?t<0:1/t<0,tb=1,nb=2,ef=4,tf=8,oA=32,kx=64,lu=128,iA=31,rb=63,za=127,aA=2147483647,lA=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Po(t)===t),cA=t=>t.toLowerCase(),uA=/^\s*/g,dA=t=>t.replace(uA,""),fA=/([A-Z])/g,sb=(t,e)=>dA(t.replace(fA,n=>`${e}${cA(n)}`)),hA=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.codePointAt(s);return r},ol=typeof TextEncoder<"u"?new TextEncoder:null,pA=t=>ol.encode(t),gA=ol?pA:hA;let nf=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});nf&&nf.decode(new Uint8Array).length===1&&(nf=null);class Il{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Fp=()=>new Il,wA=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},cs=t=>{const e=new Uint8Array(wA(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},mA=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(fa(n,e)*2),t.cpos=0)},Pt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},ah=Pt,tt=(t,e)=>{for(;e>za;)Pt(t,lu|za&e),e=Po(e/128);Pt(t,za&e)},Bp=(t,e)=>{const n=sA(e);for(n&&(e=-e),Pt(t,(e>rb?lu:0)|(n?kx:0)|rb&e),e=Po(e/64);e>0;)Pt(t,(e>za?lu:0)|za&e),e=Po(e/128)},lh=new Uint8Array(3e4),bA=lh.length/3,yA=(t,e)=>{if(e.length<bA){const n=ol.encodeInto(e,lh).written||0;tt(t,n);for(let r=0;r<n;r++)Pt(t,lh[r])}else Bn(t,gA(e))},vA=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;tt(t,r);for(let s=0;s<r;s++)Pt(t,n.codePointAt(s))},ki=ol&&ol.encodeInto?yA:vA,qp=(t,e)=>{const n=t.cbuf.length,r=t.cpos,s=Cx(n-r,e.length),o=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,o>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(fa(n*2,o)),t.cbuf.set(e.subarray(s)),t.cpos=o)},Bn=(t,e)=>{tt(t,e.byteLength),qp(t,e)},Up=(t,e)=>{mA(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},xA=(t,e)=>Up(t,4).setFloat32(0,e,!1),_A=(t,e)=>Up(t,8).setFloat64(0,e,!1),CA=(t,e)=>Up(t,8).setBigInt64(0,e,!1),ob=new DataView(new ArrayBuffer(4)),kA=t=>(ob.setFloat32(0,t),ob.getFloat32(0)===t),il=(t,e)=>{switch(typeof e){case"string":Pt(t,119),ki(t,e);break;case"number":lA(e)&&Tc(e)<=aA?(Pt(t,125),Bp(t,e)):kA(e)?(Pt(t,124),xA(t,e)):(Pt(t,123),_A(t,e));break;case"bigint":Pt(t,122),CA(t,e);break;case"object":if(e===null)Pt(t,126);else if(nA(e)){Pt(t,117),tt(t,e.length);for(let n=0;n<e.length;n++)il(t,e[n])}else if(e instanceof Uint8Array)Pt(t,116),Bn(t,e);else{Pt(t,118);const n=Object.keys(e);tt(t,n.length);for(let r=0;r<n.length;r++){const s=n[r];ki(t,s),il(t,e[s])}}break;case"boolean":Pt(t,e?120:121);break;default:Pt(t,127)}};class ib extends Il{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&tt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const ab=t=>{t.count>0&&(Bp(t.encoder,t.count===1?t.s:-t.s),t.count>1&&tt(t.encoder,t.count-2))};class Ac{constructor(){this.encoder=new Il,this.s=0,this.count=0}write(e){this.s===e?this.count++:(ab(this),this.count=1,this.s=e)}toUint8Array(){return ab(this),cs(this.encoder)}}const lb=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Bp(t.encoder,e),t.count>1&&tt(t.encoder,t.count-2)}};class rf{constructor(){this.encoder=new Il,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(lb(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return lb(this),cs(this.encoder)}}class EA{constructor(){this.sarr=[],this.s="",this.lensE=new Ac}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Il;return this.sarr.push(this.s),this.s="",ki(e,this.sarr.join("")),qp(e,this.lensE.toUint8Array()),cs(e)}}const qi=t=>new Error(t),zr=()=>{throw qi("Method unimplemented")},$o=()=>{throw qi("Unexpected case")},SA=crypto.getRandomValues.bind(crypto),Ex=()=>SA(new Uint32Array(1))[0],NA="10000000-1000-4000-8000"+-1e11,TA=()=>NA.replace(/[018]/g,t=>(t^Ex()&15>>t/4).toString(16)),cb=t=>new Promise(t);Promise.all.bind(Promise);const ub=t=>t===void 0?null:t;class AA{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let Sx=new AA,DA=!0;try{typeof localStorage<"u"&&localStorage&&(Sx=localStorage,DA=!1)}catch{}const MA=Sx,OA=Object.assign,RA=Object.keys,jA=(t,e)=>{for(const n in t)e(t[n],n)},db=t=>RA(t).length,IA=t=>{for(const e in t)return!1;return!0},LA=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},PA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),$A=(t,e)=>t===e||db(t)===db(e)&&LA(t,(n,r)=>(n!==void 0||PA(e,r))&&e[r]===n),FA=Object.freeze,Nx=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&Nx(t[e])}return FA(t)},zp=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&zp(t,e,n+1)}},BA=(t,e)=>e.includes(t),al=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Ar;const qA=()=>{if(Ar===void 0)if(al){Ar=Ur();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Ar.set(e,""),e=r):e!==null&&(Ar.set(e,r),e=null)}e!==null&&Ar.set(e,"")}else typeof location=="object"?(Ar=Ur(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Ar.set(`--${sb(e,"-")}`,n),Ar.set(`-${sb(e,"-")}`,n)}})):Ar=Ur();return Ar},ch=t=>qA().has(t),cu=t=>ub(al?process.env[t.toUpperCase().replaceAll("-","_")]:MA.getItem(t)),Tx=t=>ch("--"+t)||cu(t)!==null;Tx("production");const UA=al&&BA(process.env.FORCE_COLOR,["true","1","2"]),zA=UA||!ch("--no-colors")&&!Tx("no-color")&&(!al||process.stdout.isTTY)&&(!al||ch("--color")||cu("COLORTERM")!==null||(cu("TERM")||"").includes("color"));class VA{constructor(e,n){this.left=e,this.right=n}}const ts=(t,e)=>new VA(t,e);typeof DOMParser<"u"&&new DOMParser;const HA=t=>eA(t,(e,n)=>`${n}:${e};`).join(""),ms=Symbol,Ax=ms(),Dx=ms(),KA=ms(),WA=ms(),GA=ms(),Mx=ms(),JA=ms(),Vp=ms(),XA=ms(),YA=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const o=t[r];if(o===void 0)break;if(o.constructor===String||o.constructor===Number)e.push(o);else if(o.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const o=t[r];o instanceof Symbol||n.push(o)}return n},QA={[Ax]:ts("font-weight","bold"),[Dx]:ts("font-weight","normal"),[KA]:ts("color","blue"),[GA]:ts("color","green"),[WA]:ts("color","grey"),[Mx]:ts("color","red"),[JA]:ts("color","purple"),[Vp]:ts("color","orange"),[XA]:ts("color","black")},ZA=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Ur();let s=[],o=0;for(;o<t.length;o++){const a=t[o],l=QA[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=HA(r);o>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(o>0&&(s=n,s.unshift(e.join("")));o<t.length;o++){const a=t[o];a instanceof Symbol||s.push(a)}return s},Ox=zA?ZA:YA,eD=(...t)=>{console.log(...Ox(t)),Rx.forEach(e=>e.print(t))},tD=(...t)=>{console.warn(...Ox(t)),t.unshift(Vp),Rx.forEach(e=>e.print(t))},Rx=Fi(),jx=t=>({[Symbol.iterator](){return this},next:t}),nD=(t,e)=>jx(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),sf=(t,e)=>jx(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class rD{constructor(e,n){this.clock=e,this.len=n}}class sD{constructor(){this.clients=new Map}}const Ix=(t,e,n)=>e.clients.forEach((r,s)=>{const o=t.doc.store.clients.get(s);if(o!=null){const i=o[o.length-1],a=i.id.clock+i.length;for(let l=0,c=r[l];l<r.length&&c.clock<a;c=r[++l])Ux(t,o,c.clock,c.len,n)}}),oD=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=Po((n+r)/2),o=t[s],i=o.clock;if(i<=e){if(e<i+o.len)return s;n=s+1}else r=s-1}return null},Lx=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&oD(n,e.clock)!==null},Px=t=>{t.clients.forEach(e=>{e.sort((s,o)=>s.clock-o.clock);let n,r;for(n=1,r=1;n<e.length;n++){const s=e[r-1],o=e[n];s.clock+s.len>=o.clock?s.len=fa(s.len,o.clock+o.len-s.clock):(r<n&&(e[r]=o),r++)}e.length=r})},$x=(t,e,n,r)=>{da(t.clients,e,()=>[]).push(new rD(n,r))},iD=(t,e)=>{tt(t.restEncoder,e.clients.size),Bi(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),tt(t.restEncoder,n);const s=r.length;tt(t.restEncoder,s);for(let o=0;o<s;o++){const i=r[o];t.writeDsClock(i.clock),t.writeDsLen(i.len)}})},Fx=Ex;class Ll extends rA{constructor({guid:e=TA(),collectionid:n=null,gc:r=!0,gcFilter:s=()=>!0,meta:o=null,autoLoad:i=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=Fx(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new wD,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=i,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=cb(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>cb(c=>{const u=f=>{(f===void 0||f===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&st(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Bi(this.subdocs).map(e=>e.guid))}transact(e,n=null){return st(this,e,n)}get(e,n=Yt){const r=da(this.share,e,()=>{const o=new n;return o._integrate(this,null),o}),s=r.constructor;if(n!==Yt&&s!==n)if(s===Yt){const o=new n;o._map=r._map,r._map.forEach(i=>{for(;i!==null;i=i.left)i.parent=o}),o._start=r._start;for(let i=o._start;i!==null;i=i.right)i.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,So)}getText(e=""){return this.get(e,fu)}getMap(e=""){return this.get(e,Ui)}getXmlElement(e=""){return this.get(e,ul)}getXmlFragment(e=""){return this.get(e,zi)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Bi(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Ll({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,st(e.parent.doc,r=>{const s=n.doc;e.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class aD{constructor(){this.restEncoder=Fp()}toUint8Array(){return cs(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){tt(this.restEncoder,e)}writeDsLen(e){tt(this.restEncoder,e)}}class lD extends aD{writeLeftID(e){tt(this.restEncoder,e.client),tt(this.restEncoder,e.clock)}writeRightID(e){tt(this.restEncoder,e.client),tt(this.restEncoder,e.clock)}writeClient(e){tt(this.restEncoder,e)}writeInfo(e){ah(this.restEncoder,e)}writeString(e){ki(this.restEncoder,e)}writeParentInfo(e){tt(this.restEncoder,e?1:0)}writeTypeRef(e){tt(this.restEncoder,e)}writeLen(e){tt(this.restEncoder,e)}writeAny(e){il(this.restEncoder,e)}writeBuf(e){Bn(this.restEncoder,e)}writeJSON(e){ki(this.restEncoder,JSON.stringify(e))}writeKey(e){ki(this.restEncoder,e)}}class cD{constructor(){this.restEncoder=Fp(),this.dsCurrVal=0}toUint8Array(){return cs(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,tt(this.restEncoder,n)}writeDsLen(e){e===0&&$o(),tt(this.restEncoder,e-1),this.dsCurrVal+=e}}class uD extends cD{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new rf,this.clientEncoder=new Ac,this.leftClockEncoder=new rf,this.rightClockEncoder=new rf,this.infoEncoder=new ib(ah),this.stringEncoder=new EA,this.parentInfoEncoder=new ib(ah),this.typeRefEncoder=new Ac,this.lenEncoder=new Ac}toUint8Array(){const e=Fp();return tt(e,0),Bn(e,this.keyClockEncoder.toUint8Array()),Bn(e,this.clientEncoder.toUint8Array()),Bn(e,this.leftClockEncoder.toUint8Array()),Bn(e,this.rightClockEncoder.toUint8Array()),Bn(e,cs(this.infoEncoder)),Bn(e,this.stringEncoder.toUint8Array()),Bn(e,cs(this.parentInfoEncoder)),Bn(e,this.typeRefEncoder.toUint8Array()),Bn(e,this.lenEncoder.toUint8Array()),qp(e,cs(this.restEncoder)),cs(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){il(this.restEncoder,e)}writeBuf(e){Bn(this.restEncoder,e)}writeJSON(e){il(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const dD=(t,e,n,r)=>{r=fa(r,e[0].id.clock);const s=fs(e,r);tt(t.restEncoder,e.length-s),t.writeClient(n),tt(t.restEncoder,r);const o=e[s];o.write(t,r-o.id.clock);for(let i=s+1;i<e.length;i++)e[i].write(t,0)},fD=(t,e,n)=>{const r=new Map;n.forEach((s,o)=>{kn(e,o)>s&&r.set(o,s)}),Hp(e).forEach((s,o)=>{n.has(o)||r.set(o,0)}),tt(t.restEncoder,r.size),Bi(r.entries()).sort((s,o)=>o[0]-s[0]).forEach(([s,o])=>{dD(t,e.clients.get(s),s,o)})},hD=(t,e)=>fD(t,e.doc.store,e.beforeState);class pD{constructor(){this.l=[]}}const fb=()=>new pD,hb=(t,e)=>t.l.push(e),pb=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(s=>e!==s),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Bx=(t,e,n)=>zp(t.l,[e,n]);class Dc{constructor(e,n){this.client=e,this.clock=n}}const wc=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,mt=(t,e)=>new Dc(t,e),gD=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw $o()},pi=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Lx(e.ds,t.id),uh=(t,e)=>{const n=da(t.meta,uh,Fi),r=t.doc.store;n.has(e)||(e.sv.forEach((s,o)=>{s<kn(r,o)&&Us(t,mt(o,s))}),Ix(t,e.ds,s=>{}),n.add(e))};class wD{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Hp=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const s=n[n.length-1];e.set(r,s.id.clock+s.length)}),e},kn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},qx=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw $o()}n.push(e)},fs=(t,e)=>{let n=0,r=t.length-1,s=t[r],o=s.id.clock;if(o===e)return r;let i=Po(e/(o+s.length-1)*r);for(;n<=r;){if(s=t[i],o=s.id.clock,o<=e){if(e<o+s.length)return i;n=i+1}else r=i-1;i=Po((n+r)/2)}throw $o()},mD=(t,e)=>{const n=t.clients.get(e.client);return n[fs(n,e.clock)]},of=mD,dh=(t,e,n)=>{const r=fs(e,n),s=e[r];return s.id.clock<n&&s instanceof sn?(e.splice(r+1,0,a_(t,s,n-s.id.clock)),r+1):r},Us=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[dh(t,n,e.clock)]},gb=(t,e,n)=>{const r=e.clients.get(n.client),s=fs(r,n.clock),o=r[s];return n.clock!==o.id.clock+o.length-1&&o.constructor!==ks&&r.splice(s+1,0,a_(t,o,n.clock-o.id.clock+1)),o},bD=(t,e,n)=>{const r=t.clients.get(e.id.client);r[fs(r,e.id.clock)]=n},Ux=(t,e,n,r,s)=>{if(r===0)return;const o=n+r;let i=dh(t,e,n),a;do a=e[i++],o<a.id.clock+a.length&&dh(t,e,o),s(a);while(i<e.length&&e[i].id.clock<o)};class yD{constructor(e,n,r){this.doc=e,this.deleteSet=new sD,this.beforeState=Hp(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const wb=(t,e)=>e.deleteSet.clients.size===0&&!tA(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Px(e.deleteSet),hD(t,e),iD(t,e.deleteSet),!0),mb=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&da(t.changed,e,Fi).add(n)},Mc=(t,e)=>{let n=t[e],r=t[e-1],s=e;for(;s>0;n=r,r=t[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof sn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=e-s;return o&&t.splice(e+1-o,o),o},vD=(t,e,n)=>{for(const[r,s]of t.clients.entries()){const o=e.clients.get(r);for(let i=s.length-1;i>=0;i--){const a=s[i],l=a.clock+a.len;for(let c=fs(o,a.clock),u=o[c];c<o.length&&u.id.clock<l;u=o[++c]){const f=o[c];if(a.clock+a.len<=f.id.clock)break;f instanceof sn&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},xD=(t,e)=>{t.clients.forEach((n,r)=>{const s=e.clients.get(r);for(let o=n.length-1;o>=0;o--){const i=n[o],a=Cx(s.length-1,1+fs(s,i.clock+i.len-1));for(let l=a,c=s[l];l>0&&c.id.clock>=i.clock;c=s[l])l-=1+Mc(s,l)}})},zx=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,s=r.store,o=n.deleteSet,i=n._mergeStructs;try{Px(o),n.afterState=Hp(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,f)=>u.path.length-f.path.length),Bx(c._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),zp(a,[]),n._needFormattingCleanup&&OD(n)}finally{r.gc&&vD(o,s,r.gcFilter),xD(o,s),n.afterState.forEach((u,f)=>{const h=n.beforeState.get(f)||0;if(h!==u){const p=s.clients.get(f),g=fa(fs(p,h),1);for(let w=p.length-1;w>=g;)w-=1+Mc(p,w)}});for(let u=i.length-1;u>=0;u--){const{client:f,clock:h}=i[u].id,p=s.clients.get(f),g=fs(p,h);g+1<p.length&&Mc(p,g+1)>1||g>0&&Mc(p,g)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(eD(Vp,Ax,"[yjs] ",Dx,Mx,"Changed the client-id because another client seems to be using it."),r.clientID=Fx()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new lD;wb(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new uD;wb(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):zx(t,e+1)}}},st=(t,e,n=null,r=!0)=>{const s=t._transactionCleanups;let o=!1,i=null;t._transaction===null&&(o=!0,t._transaction=new yD(t,n,r),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{i=e(t._transaction)}finally{if(o){const a=t._transaction===s[0];t._transaction=null,a&&zx(s,0)}}return i},bb="You must not compute changes after the event-handler fired.";class Zu{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=_D(this.currentTarget,this.target))}deletes(e){return Lx(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw qi(bb);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const o=n._map.get(s);let i,a;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))i="delete",a=Zd(l.content.getContent());else return;else l!==null&&this.deletes(l)?(i="update",a=Zd(l.content.getContent())):(i="add",a=void 0)}else if(this.deletes(o))i="delete",a=Zd(o.content.getContent());else return;e.set(s,{action:i,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw qi(bb);const n=this.target,r=Fi(),s=Fi(),o=[];if(e={added:r,deleted:s,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&o.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,s.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const _D=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(r+=s.length),s=s.right;n.unshift(r)}e=e._item.parent}return n},ln=()=>{tD("Invalid access: Add Yjs type to a document before reading data.")},Vx=80;let Kp=0;class CD{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Kp++}}const kD=t=>{t.timestamp=Kp++},Hx=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Kp++},ED=(t,e,n)=>{if(t.length>=Vx){const r=t.reduce((s,o)=>s.timestamp<o.timestamp?s:o);return Hx(r,e,n),r}else{const r=new CD(e,n);return t.push(r),r}},ed=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((o,i)=>Tc(e-o.index)<Tc(e-i.index)?o:i);let r=t._start,s=0;for(n!==null&&(r=n.p,s=n.index,kD(n));r.right!==null&&s<e;){if(!r.deleted&&r.countable){if(e<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>e;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&Tc(n.index-s)<r.parent.length/Vx?(Hx(n,r,s),n):ED(t._searchMarker,r,s)},ll=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const s=t[r];if(n>0){let o=s.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(s.index-=o.length);if(o===null||o.marker===!0){t.splice(r,1);continue}s.p=o,o.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=fa(e,s.index+n))}},td=(t,e,n)=>{const r=t,s=e.changedParentTypes;for(;da(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;Bx(r._eH,n,e)};class Yt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=fb(),this._dEH=fb(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw zr()}clone(){throw zr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){hb(this._eH,e)}observeDeep(e){hb(this._dEH,e)}unobserve(e){pb(this._eH,e)}unobserveDeep(e){pb(this._dEH,e)}toJSON(){}}const Kx=(t,e,n)=>{t.doc??ln(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const s=[];let o=t._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const i=o.content.getContent();if(i.length<=e)e-=i.length;else{for(let a=e;a<i.length&&r>0;a++)s.push(i[a]),r--;e=0}}o=o.right}return s},Wx=t=>{t.doc??ln();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)e.push(r[s])}n=n.right}return e},cl=(t,e)=>{let n=0,r=t._start;for(t.doc??ln();r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let o=0;o<s.length;o++)e(s[o],n++,t)}r=r.right}},Gx=(t,e)=>{const n=[];return cl(t,(r,s)=>{n.push(e(r,s,t))}),n},SD=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}}}},Jx=(t,e)=>{t.doc??ln();const n=ed(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},uu=(t,e,n,r)=>{let s=n;const o=t.doc,i=o.clientID,a=o.store,l=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(s=new sn(mt(i,kn(a,i)),s,s&&s.lastId,l,l&&l.id,e,null,new Vi(c)),s.integrate(t,0),c=[])};r.forEach(f=>{if(f===null)c.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(f);break;default:switch(u(),f.constructor){case Uint8Array:case ArrayBuffer:s=new sn(mt(i,kn(a,i)),s,s&&s.lastId,l,l&&l.id,e,null,new nd(new Uint8Array(f))),s.integrate(t,0);break;case Ll:s=new sn(mt(i,kn(a,i)),s,s&&s.lastId,l,l&&l.id,e,null,new rd(f)),s.integrate(t,0);break;default:if(f instanceof Yt)s=new sn(mt(i,kn(a,i)),s,s&&s.lastId,l,l&&l.id,e,null,new to(f)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},Xx=()=>qi("Length exceeded!"),Yx=(t,e,n,r)=>{if(n>e._length)throw Xx();if(n===0)return e._searchMarker&&ll(e._searchMarker,n,r.length),uu(t,e,null,r);const s=n,o=ed(e,n);let i=e._start;for(o!==null&&(i=o.p,n-=o.index,n===0&&(i=i.prev,n+=i&&i.countable&&!i.deleted?i.length:0));i!==null;i=i.right)if(!i.deleted&&i.countable){if(n<=i.length){n<i.length&&Us(t,mt(i.id.client,i.id.clock+n));break}n-=i.length}return e._searchMarker&&ll(e._searchMarker,s,r.length),uu(t,e,i,r)},ND=(t,e,n)=>{let s=(e._searchMarker||[]).reduce((o,i)=>i.index>o.index?i:o,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return uu(t,e,s,n)},Qx=(t,e,n,r)=>{if(r===0)return;const s=n,o=r,i=ed(e,n);let a=e._start;for(i!==null&&(a=i.p,n-=i.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Us(t,mt(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Us(t,mt(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw Xx();e._searchMarker&&ll(e._searchMarker,s,-o+r)},du=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Wp=(t,e,n,r)=>{const s=e._map.get(n)||null,o=t.doc,i=o.clientID;let a;if(r==null)a=new Vi([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new Vi([r]);break;case Uint8Array:a=new nd(r);break;case Ll:a=new rd(r);break;default:if(r instanceof Yt)a=new to(r);else throw new Error("Unexpected content type")}new sn(mt(i,kn(o.store,i)),s,s&&s.lastId,null,null,e,n,a).integrate(t,0)},Gp=(t,e)=>{t.doc??ln();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Zx=t=>{const e={};return t.doc??ln(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},e_=(t,e)=>{t.doc??ln();const n=t._map.get(e);return n!==void 0&&!n.deleted},TD=(t,e)=>{const n={};return t._map.forEach((r,s)=>{let o=r;for(;o!==null&&(!e.sv.has(o.id.client)||o.id.clock>=(e.sv.get(o.id.client)||0));)o=o.left;o!==null&&pi(o,e)&&(n[s]=o.content.getContent()[o.length-1])}),n},mc=t=>(t.doc??ln(),nD(t._map.entries(),e=>!e[1].deleted));class t_ extends Zu{}class So extends Yt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new So;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new So}clone(){const e=new So;return e.insert(0,this.toArray().map(n=>n instanceof Yt?n.clone():n)),e}get length(){return this.doc??ln(),this._length}_callObserver(e,n){super._callObserver(e,n),td(this,e,new t_(this,e))}insert(e,n){this.doc!==null?st(this.doc,r=>{Yx(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?st(this.doc,n=>{ND(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?st(this.doc,r=>{Qx(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return Jx(this,e)}toArray(){return Wx(this)}slice(e=0,n=this.length){return Kx(this,e,n)}toJSON(){return this.map(e=>e instanceof Yt?e.toJSON():e)}map(e){return Gx(this,e)}forEach(e){cl(this,e)}[Symbol.iterator](){return SD(this)}_write(e){e.writeTypeRef($D)}}class AD extends Zu{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Ui extends Yt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new Ui}clone(){const e=new Ui;return this.forEach((n,r)=>{e.set(r,n instanceof Yt?n.clone():n)}),e}_callObserver(e,n){td(this,e,new AD(this,e,n))}toJSON(){this.doc??ln();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];e[r]=s instanceof Yt?s.toJSON():s}}),e}get size(){return[...mc(this)].length}keys(){return sf(mc(this),e=>e[0])}values(){return sf(mc(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return sf(mc(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??ln(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?st(this.doc,n=>{du(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?st(this.doc,r=>{Wp(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Gp(this,e)}has(e){return e_(this,e)}clear(){this.doc!==null?st(this.doc,e=>{this.forEach(function(n,r,s){du(e,s,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(FD)}}const Ts=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&$A(t,e);class fh{constructor(e,n,r,s){this.left=e,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&$o(),this.right.content.constructor){case Bt:this.right.deleted||ha(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const yb=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Bt:e.right.deleted||ha(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Us(t,mt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},bc=(t,e,n,r)=>{const s=new Map,o=r?ed(e,n):null;if(o){const i=new fh(o.p.left,o.p,o.index,s);return yb(t,i,n-o.index)}else{const i=new fh(null,e._start,0,s);return yb(t,i,n)}},n_=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Bt&&Ts(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=t.doc,o=s.clientID;r.forEach((i,a)=>{const l=n.left,c=n.right,u=new sn(mt(o,kn(s.store,o)),l,l&&l.lastId,c,c&&c.id,e,null,new Bt(a,i));u.integrate(t,0),n.right=u,n.forward()})},ha=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},r_=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Bt&&Ts(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},s_=(t,e,n,r)=>{const s=t.doc,o=s.clientID,i=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!Ts(c,l)){i.set(a,c);const{left:u,right:f}=n;n.right=new sn(mt(o,kn(s.store,o)),u,u&&u.lastId,f,f&&f.id,e,null,new Bt(a,l)),n.right.integrate(t,0),n.forward()}}return i},af=(t,e,n,r,s)=>{n.currentAttributes.forEach((h,p)=>{s[p]===void 0&&(s[p]=null)});const o=t.doc,i=o.clientID;r_(n,s);const a=s_(t,e,n,s),l=r.constructor===String?new hs(r):r instanceof Yt?new to(r):new pa(r);let{left:c,right:u,index:f}=n;e._searchMarker&&ll(e._searchMarker,n.index,l.getLength()),u=new sn(mt(i,kn(o.store,i)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),n.right=u,n.index=f,n.forward(),n_(t,e,n,a)},vb=(t,e,n,r,s)=>{const o=t.doc,i=o.clientID;r_(n,s);const a=s_(t,e,n,s);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Bt));){if(!n.right.deleted)switch(n.right.content.constructor){case Bt:{const{key:l,value:c}=n.right.content,u=s[l];if(u!==void 0){if(Ts(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Us(t,mt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new sn(mt(i,kn(o.store,i)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new hs(l)),n.right.integrate(t,0),n.forward()}n_(t,e,n,a)},o_=(t,e,n,r,s)=>{let o=e;const i=Ur();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===Bt){const c=o.content;i.set(c.key,c)}o=o.right}let a=0,l=!1;for(;e!==o;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case Bt:{const{key:u,value:f}=c,h=r.get(u)??null;(i.get(u)!==c||h===f)&&(e.delete(t),a++,!l&&(s.get(u)??null)===f&&h!==f&&(h===null?s.delete(u):s.set(u,h))),!l&&!e.deleted&&ha(s,c);break}}}e=e.right}return a},DD=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Bt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},MD=t=>{let e=0;return st(t.doc,n=>{let r=t._start,s=t._start,o=Ur();const i=ih(o);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case Bt:ha(i,s.content);break;default:e+=o_(n,r,s,o,i),o=ih(i),r=s;break}s=s.right}}),e},OD=t=>{const e=new Set,n=t.doc;for(const[r,s]of t.afterState.entries()){const o=t.beforeState.get(r)||0;s!==o&&Ux(t,n.store.clients.get(r),o,s,i=>{!i.deleted&&i.content.constructor===Bt&&i.constructor!==ks&&e.add(i.parent)})}st(n,r=>{Ix(t,t.deleteSet,s=>{if(s instanceof ks||!s.parent._hasFormatting||e.has(s.parent))return;const o=s.parent;s.content.constructor===Bt?e.add(o):DD(r,s)});for(const s of e)MD(s)})},xb=(t,e,n)=>{const r=n,s=ih(e.currentAttributes),o=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case to:case pa:case hs:n<e.right.length&&Us(t,mt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}o&&o_(t,o,e.right,s,e.currentAttributes);const i=(e.left||e.right).parent;return i._searchMarker&&ll(i._searchMarker,e.index,-r+n),e};class RD extends Zu{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];st(e,r=>{const s=new Map,o=new Map;let i=this.target._start,a=null;const l={};let c="",u=0,f=0;const h=()=>{if(a!==null){let p=null;switch(a){case"delete":f>0&&(p={delete:f}),f=0;break;case"insert":(typeof c=="object"||c.length>0)&&(p={insert:c},s.size>0&&(p.attributes={},s.forEach((g,w)=>{g!==null&&(p.attributes[w]=g)}))),c="";break;case"retain":u>0&&(p={retain:u},IA(l)||(p.attributes=OA({},l))),u=0;break}p&&n.push(p),a=null}};for(;i!==null;){switch(i.content.constructor){case to:case pa:this.adds(i)?this.deletes(i)||(h(),a="insert",c=i.content.getContent()[0],h()):this.deletes(i)?(a!=="delete"&&(h(),a="delete"),f+=1):i.deleted||(a!=="retain"&&(h(),a="retain"),u+=1);break;case hs:this.adds(i)?this.deletes(i)||(a!=="insert"&&(h(),a="insert"),c+=i.content.str):this.deletes(i)?(a!=="delete"&&(h(),a="delete"),f+=i.length):i.deleted||(a!=="retain"&&(h(),a="retain"),u+=i.length);break;case Bt:{const{key:p,value:g}=i.content;if(this.adds(i)){if(!this.deletes(i)){const w=s.get(p)??null;Ts(w,g)?g!==null&&i.delete(r):(a==="retain"&&h(),Ts(g,o.get(p)??null)?delete l[p]:l[p]=g)}}else if(this.deletes(i)){o.set(p,g);const w=s.get(p)??null;Ts(w,g)||(a==="retain"&&h(),l[p]=w)}else if(!i.deleted){o.set(p,g);const w=l[p];w!==void 0&&(Ts(w,g)?w!==null&&i.delete(r):(a==="retain"&&h(),g===null?delete l[p]:l[p]=g))}i.deleted||(a==="insert"&&h(),ha(s,i.content));break}}i=i.right}for(h();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class fu extends Yt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??ln(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new fu}clone(){const e=new fu;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new RD(this,e,n);td(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??ln();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===hs&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?st(this.doc,r=>{const s=new fh(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const i=e[o];if(i.insert!==void 0){const a=!n&&typeof i.insert=="string"&&o===e.length-1&&s.right===null&&i.insert.slice(-1)===`
`?i.insert.slice(0,-1):i.insert;(typeof a!="string"||a.length>0)&&af(r,this,s,a,i.attributes||{})}else i.retain!==void 0?vb(r,this,s,i.retain,i.attributes||{}):i.delete!==void 0&&xb(r,s,i.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??ln();const s=[],o=new Map,i=this.doc;let a="",l=this._start;function c(){if(a.length>0){const f={};let h=!1;o.forEach((g,w)=>{h=!0,f[w]=g});const p={insert:a};h&&(p.attributes=f),s.push(p),a=""}}const u=()=>{for(;l!==null;){if(pi(l,e)||n!==void 0&&pi(l,n))switch(l.content.constructor){case hs:{const f=o.get("ychange");e!==void 0&&!pi(l,e)?(f===void 0||f.user!==l.id.client||f.type!=="removed")&&(c(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!pi(l,n)?(f===void 0||f.user!==l.id.client||f.type!=="added")&&(c(),o.set("ychange",r?r("added",l.id):{type:"added"})):f!==void 0&&(c(),o.delete("ychange")),a+=l.content.str;break}case to:case pa:{c();const f={insert:l.content.getContent()[0]};if(o.size>0){const h={};f.attributes=h,o.forEach((p,g)=>{h[g]=p})}s.push(f);break}case Bt:pi(l,e)&&(c(),ha(o,l.content));break}l=l.right}c()};return e||n?st(i,f=>{e&&uh(f,e),n&&uh(f,n),u()},"cleanup"):u(),s}insert(e,n,r){if(n.length<=0)return;const s=this.doc;s!==null?st(s,o=>{const i=bc(o,this,e,!r);r||(r={},i.currentAttributes.forEach((a,l)=>{r[l]=a})),af(o,this,i,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const s=this.doc;s!==null?st(s,o=>{const i=bc(o,this,e,!r);af(o,this,i,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?st(r,s=>{xb(s,bc(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const s=this.doc;s!==null?st(s,o=>{const i=bc(o,this,e,!1);i.right!==null&&vb(o,this,i,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?st(this.doc,n=>{du(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{Wp(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Gp(this,e)}getAttributes(){return Zx(this)}_write(e){e.writeTypeRef(BD)}}class lf{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??ln()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===ul||n.constructor===zi)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class zi extends Yt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new zi}clone(){const e=new zi;return e.insert(0,this.toArray().map(n=>n instanceof Yt?n.clone():n)),e}get length(){return this.doc??ln(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new lf(this,e)}querySelector(e){e=e.toUpperCase();const r=new lf(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Bi(new lf(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){td(this,e,new jD(this,n,e))}toString(){return Gx(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const s=e.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),cl(this,o=>{s.insertBefore(o.toDOM(e,n,r),null)}),s}insert(e,n){this.doc!==null?st(this.doc,r=>{Yx(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)st(this.doc,r=>{const s=e&&e instanceof Yt?e._item:e;uu(r,this,s,n)});else{const r=this._prelimContent,s=e===null?0:r.findIndex(o=>o===e)+1;if(s===0&&e!==null)throw qi("Reference item not found");r.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?st(this.doc,r=>{Qx(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return Wx(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Jx(this,e)}slice(e=0,n=this.length){return Kx(this,e,n)}forEach(e){cl(this,e)}_write(e){e.writeTypeRef(UD)}}class ul extends zi{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new ul(this.nodeName)}clone(){const e=new ul(this.nodeName),n=this.getAttributes();return jA(n,(r,s)=>{typeof r=="string"&&e.setAttribute(s,r)}),e.insert(0,this.toArray().map(r=>r instanceof Yt?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const s=r.length;for(let a=0;a<s;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const o=this.nodeName.toLocaleLowerCase(),i=n.length>0?" "+n.join(" "):"";return`<${o}${i}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?st(this.doc,n=>{du(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{Wp(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Gp(this,e)}hasAttribute(e){return e_(this,e)}getAttributes(e){return e?TD(this,e):Zx(this)}toDOM(e=document,n={},r){const s=e.createElement(this.nodeName),o=this.getAttributes();for(const i in o){const a=o[i];typeof a=="string"&&s.setAttribute(i,a)}return cl(this,i=>{s.appendChild(i.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(qD),e.writeKey(this.nodeName)}}class jD extends Zu{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class i_{constructor(e,n){this.id=e,this.length=n}get deleted(){throw zr()}mergeWith(e){return!1}write(e,n,r){throw zr()}integrate(e,n){throw zr()}}const ID=0;class ks extends i_{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),qx(e.doc.store,this)}write(e,n){e.writeInfo(ID),e.writeLen(this.length-n)}getMissing(e,n){return null}}class nd{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new nd(this.content)}splice(e){throw zr()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}class hu{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new hu(this.len)}splice(e){const n=new hu(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){$x(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const LD=(t,e)=>new Ll({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class rd{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new rd(LD(this.doc.guid,this.opts))}splice(e){throw zr()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class pa{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new pa(this.embed)}splice(e){throw zr()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}class Bt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Bt(this.key,this.value)}splice(e){throw zr()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const PD=cu("node_env")==="development";class Vi{constructor(e){this.arr=e,PD&&Nx(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Vi(this.arr)}splice(e){const n=new Vi(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const o=this.arr[s];e.writeAny(o)}}getRef(){return 8}}class hs{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new hs(this.str)}splice(e){const n=new hs(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"ï¿½",n.str="ï¿½"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const $D=0,FD=1,BD=2,qD=3,UD=4;class to{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new to(this.type._copy())}splice(e){throw zr()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const a_=(t,e,n)=>{const{client:r,clock:s}=e.id,o=new sn(mt(r,s+n),e,mt(r,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=mt(e.redone.client,e.redone.clock+n)),e.right=o,o.right!==null&&(o.right.left=o),t._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=n,o};class sn extends i_{constructor(e,n,r,s,o,i,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=o,this.parent=i,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?nb:0}set marker(e){(this.info&tf)>0!==e&&(this.info^=tf)}get marker(){return(this.info&tf)>0}get keep(){return(this.info&tb)>0}set keep(e){this.keep!==e&&(this.info^=tb)}get countable(){return(this.info&nb)>0}get deleted(){return(this.info&ef)>0}set deleted(e){this.deleted!==e&&(this.info^=ef)}markDeleted(){this.info|=ef}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=kn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=kn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Dc&&this.id.client!==this.parent.client&&this.parent.clock>=kn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=gb(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Us(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ks||this.right&&this.right.constructor===ks)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===sn?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===sn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Dc){const r=of(n,this.parent);r.constructor===ks?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=gb(e,e.doc.store,mt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const o=new Set,i=new Set;for(;s!==null&&s!==this.right;){if(i.add(s),o.add(s),wc(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,o.clear();else if(wc(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&i.has(of(e.doc.store,s.origin)))o.has(of(e.doc.store,s.origin))||(r=s,o.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),qx(e.doc.store,this),this.content.integrate(e,this),mb(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new ks(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:mt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&wc(e.origin,this.lastId)&&this.right===e&&wc(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),$x(e.deleteSet,this.id.client,this.id.clock,this.length),mb(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw $o();this.content.gc(e),n?bD(e,this,new ks(this.id,this.length)):this.content=new hu(this.length)}write(e,n){const r=n>0?mt(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,o=this.parentSub,i=this.content.getRef()&iA|(r===null?0:lu)|(s===null?0:kx)|(o===null?0:oA);if(e.writeInfo(i),r!==null&&e.writeLeftID(r),s!==null&&e.writeRightID(s),r===null&&s===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=gD(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Dc?(e.writeParentInfo(!1),e.writeLeftID(a)):$o();o!==null&&e.writeString(o)}this.content.write(e,n)}}const l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},c_="__ $YJS$ __";l_[c_]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");l_[c_]=!0;const zD=Ce("TOGGLE_CONNECT_COMMAND");var VD=Object.defineProperty,HD=(t,e,n)=>e in t?VD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,we=(t,e,n)=>HD(t,typeof e!="symbol"?e+"":e,n);const cf=t=>nt(V0(t)),Fo=l0("cid",{parse:t=>typeof t=="string"?t:void 0}),Bo=l0("segment",{parse:t=>typeof t=="string"?t:void 0}),hh="unknown",u_=1;class ri extends cn{constructor(e="",n,r,s){super(s),we(this,"__tag"),we(this,"__marker"),we(this,"__unknownAttributes"),this.__tag=e,this.__marker=n,this.__unknownAttributes=r}static getType(){return"unknown"}static clone(e){const{__tag:n,__marker:r,__unknownAttributes:s,__key:o}=e;return new ri(n,r,s,o)}static importDOM(){return{[hh]:e=>WD(e)?{conversion:KD,priority:1}:null}}static importJSON(e){return d_().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag).setMarker(e.marker).setUnknownAttributes(e.unknownAttributes)}setTag(e){if(this.__tag===e)return this;const n=this.getWritable();return n.__tag=e,n}getTag(){return this.getLatest().__tag}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement(hh);return e.style.display="none",e}updateDOM(){return!1}exportDOM(){return{element:null}}exportJSON(){return{...super.exportJSON(),type:this.getType(),tag:this.getTag(),marker:this.getMarker(),unknownAttributes:this.getUnknownAttributes(),version:u_}}canBeEmpty(){return!0}isInline(){return!0}extractWithChild(){return!1}excludeFromCopy(e){return e!=="clone"}}function KD(t){const e=t.getAttribute("data-tag")??"",n=t.getAttribute("data-marker")??"";return{node:d_(e,n)}}function d_(t,e,n){return nt(new ri(t,e,n))}function WD(t){return(t==null?void 0:t.tagName)===hh}function Pl(t){return t instanceof ri}const dl="id",f_=1;class er extends cn{constructor(e="",n,r){super(r),we(this,"__marker",dl),we(this,"__code"),we(this,"__unknownAttributes"),this.__code=e,this.__unknownAttributes=n}static getType(){return"book"}static clone(e){const{__code:n,__unknownAttributes:r,__key:s}=e;return new er(n,r,s)}static importJSON(e){const{code:n}=e;return h_(n).updateFromJSON(e)}static isValidBookCode(e){return JC(e)}updateFromJSON(e){return super.updateFromJSON(e).setCode(e.code).setUnknownAttributes(e.unknownAttributes)}getMarker(){return this.getLatest().__marker}setCode(e){if(this.__code===e)return this;const n=this.getWritable();return n.__code=e,n}getCode(){return this.getLatest().__code}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.__type,`usfm_${this.__marker}`),e.setAttribute("data-code",this.__code),e}updateDOM(){return!1}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),code:this.getCode(),unknownAttributes:this.getUnknownAttributes(),version:f_}}}function h_(t,e){return nt(new er(t,e))}function Vr(t){return t instanceof er}function GD(t){return(t==null?void 0:t.type)===er.getType()}const $e="Â ",ph="â€‹",Jp=`${$e}|`,sd="p",qo="+",Xp="-",pu="chapter",gh="verse",_b="invalid",JD="text-spacing",XD="formatted-font",YD="marker-",Yp="external-usj-mutation",p_="selection-change",wh="cursor-change",mh="annotation-change",bh="delta-change",QD=[Yp,p_,wh,mh,bh],gu="c",g_=1;class Cr extends cn{constructor(e="",n,r,s,o,i){super(i),we(this,"__marker"),we(this,"__number"),we(this,"__sid"),we(this,"__altnumber"),we(this,"__pubnumber"),we(this,"__unknownAttributes"),this.__marker=gu,this.__number=e,this.__sid=n,this.__altnumber=r,this.__pubnumber=s,this.__unknownAttributes=o}static getType(){return"chapter"}static clone(e){const{__number:n,__sid:r,__altnumber:s,__pubnumber:o,__unknownAttributes:i,__key:a}=e;return new Cr(n,r,s,o,i,a)}static importJSON(e){return w_().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setNumber(e.number).setSid(e.sid).setAltnumber(e.altnumber).setPubnumber(e.pubnumber).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setNumber(e){if(this.__number===e)return this;const n=this.getWritable();return n.__number=e,n}getNumber(){return this.getLatest().__number}setSid(e){if(this.__sid===e)return this;const n=this.getWritable();return n.__sid=e,n}getSid(){return this.getLatest().__sid}setAltnumber(e){if(this.__altnumber===e)return this;const n=this.getWritable();return n.__altnumber=e,n}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){if(this.__pubnumber===e)return this;const n=this.getWritable();return n.__pubnumber=e,n}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(pu,`usfm_${this.__marker}`),e.setAttribute("data-number",this.__number),e}updateDOM(){return!1}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),number:this.getNumber(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:g_}}}function w_(t,e,n,r,s){return nt(new Cr(t,e,n,r,s))}function Qp(t){return t instanceof Cr}function ZD(t){return(t==null?void 0:t.type)===Cr.getType()}const m_=["fr","fq","fqa","fk","ft","fl","fw","fp","fv","fdc","fm"],b_=["xo","xop","xk","xq","xt","xta","xot","xnt","xdc"],eM=["ca","cp","va","vp","add","bk","dc","em","jmp","k","nd","ord","pn","png","qt","rb","rq","sig","sls","tl","w","wa","wg","wh","wj","bd","it","bdit","no","sc","sup","ior","iqt","qac","qs","litl","lik","liv","liv1","liv2","liv3","liv4","liv5",...m_,...b_],y_=1;class ht extends cn{constructor(e="",n,r){super(r),we(this,"__marker"),we(this,"__unknownAttributes"),this.__marker=e,this.__unknownAttributes=n}static getType(){return"char"}static clone(e){const{__marker:n,__unknownAttributes:r,__key:s}=e;return new ht(n,r,s)}static isValidMarker(e){return e!==void 0&&eM.includes(e)}static isValidFootnoteMarker(e){return e!==void 0&&m_.includes(e)}static isValidCrossReferenceMarker(e){return e!==void 0&&b_.includes(e)}static importDOM(){return{span:e=>nM(e)?{conversion:tM,priority:1}:null}}static importJSON(e){return Lr().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.setAttribute("title",this.__marker),e.classList.add(this.__type,`usfm_${this.__marker}`),e}updateDOM(){return!1}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(this.getType(),`usfm_${this.getMarker()}`)),{element:n}}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),unknownAttributes:this.getUnknownAttributes(),version:y_}}insertNewAfter(e,n){const r=Lr(this.getMarker());return r.setTextFormat(e.format),r.setTextStyle(e.style),r.setDirection(this.getDirection()),r.setFormat(this.getFormatType()),r.setStyle(this.getTextStyle()),this.insertAfter(r,n),r}canBeEmpty(){return!1}isInline(){return!0}}function tM(t){const e=t.getAttribute("data-marker")??"f";return{node:Lr(e)}}function Lr(t,e){return nt(new ht(t,e))}function nM(t){if(!t)return!1;const e=t.getAttribute("data-marker")??"";return ht.isValidMarker(e)&&t.classList.contains(ht.getType())}function Qe(t){return t instanceof ht}function rM(t){return(t==null?void 0:t.type)===ht.getType()}const v_=1,sM="c",x_="span";class bs extends Qs{constructor(e="",n=!1,r,s,o,i,a){super(a),we(this,"__marker"),we(this,"__number"),we(this,"__showMarker"),we(this,"__sid"),we(this,"__altnumber"),we(this,"__pubnumber"),we(this,"__unknownAttributes"),this.__marker=sM,this.__number=e,this.__showMarker=n,this.__sid=r,this.__altnumber=s,this.__pubnumber=o,this.__unknownAttributes=i}static getType(){return"immutable-chapter"}static clone(e){const{__number:n,__showMarker:r,__sid:s,__altnumber:o,__pubnumber:i,__unknownAttributes:a,__key:l}=e;return new bs(n,r,s,o,i,a,l)}static importDOM(){return{span:e=>__(e)?{conversion:oM,priority:1}:null}}static importJSON(e){return Zp().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setNumber(e.number).setShowMarker(e.showMarker).setSid(e.sid).setAltnumber(e.altnumber).setPubnumber(e.pubnumber).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setNumber(e){if(this.__number===e)return this;const n=this.getWritable();return n.__number=e,n}getNumber(){return this.getLatest().__number}setShowMarker(e=!1){if(this.__showMarker===e)return this;const n=this.getWritable();return n.__showMarker=e,n}getShowMarker(){return this.getLatest().__showMarker}setSid(e){if(this.__sid===e)return this;const n=this.getWritable();return n.__sid=e,n}getSid(){return this.getLatest().__sid}setAltnumber(e){if(this.__altnumber===e)return this;const n=this.getWritable();return n.__altnumber=e,n}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){if(this.__pubnumber===e)return this;const n=this.getWritable();return n.__pubnumber=e,n}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement(x_);return e.setAttribute("data-marker",this.__marker),e.classList.add(pu,`usfm_${this.__marker}`),this.__showMarker&&e.classList.add("marker"),e.setAttribute("data-number",this.__number),e}updateDOM(){return!1}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(pu,`usfm_${this.getMarker()}`),n.setAttribute("data-number",this.getNumber())),{element:n}}decorate(){return this.getShowMarker()?Fl(this.getMarker(),this.getNumber()):this.getNumber()}exportJSON(){return{type:this.getType(),marker:this.getMarker(),number:this.getNumber(),showMarker:this.getShowMarker(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:v_}}isInline(){return!1}isKeyboardSelectable(){return!1}}function oM(t){const e=t.getAttribute("data-number")??"0";return{node:Zp(e)}}function Zp(t,e,n,r,s,o){return nt(new bs(t,e,n,r,s,o))}function __(t){return t?t.classList.contains(pu)&&t.tagName.toLowerCase()===x_:!1}function $l(t){return t instanceof bs}function iM(t){return(t==null?void 0:t.type)===bs.getType()}const C_=1;class zs extends Zs{static getType(){return"implied-para"}static clone(e){return new zs(e.__key)}static importJSON(e){return fr().updateFromJSON(e)}getMarker(){return sd}exportJSON(){return{...super.exportJSON(),type:this.getType(),version:C_}}insertNewAfter(e,n){const r=fr();return r.setTextFormat(e.format),r.setTextStyle(e.style),r.setDirection(this.getDirection()),r.setFormat(this.getFormatType()),r.setStyle(this.getTextStyle()),this.insertAfter(r,n),r}}function fr(){return nt(new zs)}function ps(t){return t instanceof zs}function eg(t){return(t==null?void 0:t.type)===zs.getType()}const Uo="zmsc-s",Ei="zmsc-e",aM=[Uo,Ei],lM=["ts-s","ts-e","t-s","t-e","ts","qt1-s","qt1-e","qt2-s","qt2-e","qt3-s","qt3-e","qt4-s","qt4-e","qt5-s","qt5-e","qt-s","qt-e",Uo,Ei],k_=1;class Wr extends Qs{constructor(e="",n,r,s,o){super(o),we(this,"__marker"),we(this,"__sid"),we(this,"__eid"),we(this,"__unknownAttributes"),this.__marker=e,this.__sid=n,this.__eid=r,this.__unknownAttributes=s}static getType(){return"ms"}static clone(e){const{__marker:n,__sid:r,__eid:s,__unknownAttributes:o,__key:i}=e;return new Wr(n,r,s,o,i)}static importJSON(e){return E_().updateFromJSON(e)}static isValidMarker(e){return e!==void 0&&(lM.includes(e)||e.startsWith("z"))}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setSid(e.sid).setEid(e.eid).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setSid(e){if(this.__sid===e)return this;const n=this.getWritable();return n.__sid=e,n}getSid(){return this.getLatest().__sid}setEid(e){if(this.__eid===e)return this;const n=this.getWritable();return n.__eid=e,n}getEid(){return this.getLatest().__eid}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.__type,`usfm_${this.__marker}`),e}updateDOM(){return!1}decorate(){return""}exportJSON(){return{type:this.getType(),marker:this.getMarker(),sid:this.getSid(),eid:this.getEid(),unknownAttributes:this.getUnknownAttributes(),version:k_}}isKeyboardSelectable(){return!1}}function cM(t){return aM.includes(t)}function E_(t,e,n,r){return nt(new Wr(t,e,n,r))}function od(t){return t instanceof Wr}const tg="f",uM=[tg,"fe","ef","efe","x","ex"],S_=1;class qt extends cn{constructor(e=tg,n,r=!0,s,o,i){super(i),we(this,"__marker"),we(this,"__caller"),we(this,"__isCollapsed"),we(this,"__category"),we(this,"__unknownAttributes"),this.__marker=e,this.__caller=n??(e==="x"||e==="ex"?Xp:qo),this.__isCollapsed=r,this.__category=s,this.__unknownAttributes=o}static getType(){return"note"}static clone(e){const{__marker:n,__caller:r,__isCollapsed:s,__category:o,__unknownAttributes:i,__key:a}=e;return new qt(n,r,s,o,i,a)}static importDOM(){return{span:e=>fM(e)?{conversion:dM,priority:1}:null}}static importJSON(e){return ng().updateFromJSON(e)}static isValidMarker(e){return e!==void 0&&uM.includes(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setCaller(e.caller).setIsCollapsed(e.isCollapsed).setCategory(e.category).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setCaller(e){if(this.__caller===e)return this;const n=this.getWritable();return n.__caller=e,n}getCaller(){return this.getLatest().__caller}setIsCollapsed(e){if(this.__isCollapsed===e)return this;const n=this.getWritable();return n.__isCollapsed=e,n}toggleIsCollapsed(){const e=this.getWritable();return e.__isCollapsed=!e.__isCollapsed,e}getIsCollapsed(){return this.getLatest().__isCollapsed}setCategory(e){if(this.__category===e)return this;const n=this.getWritable();return n.__category=e,n}getCategory(){return this.getLatest().__category}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.__type,`usfm_${this.__marker}`,this.__isCollapsed?"collapsed":"expanded"),e.setAttribute("data-caller",this.__caller),e}updateDOM(e){return e.__isCollapsed!==this.__isCollapsed}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(this.getType(),`usfm_${this.getMarker()}`,this.getIsCollapsed()?"collapsed":"expanded"),n.setAttribute("data-caller",this.getCaller())),{element:n}}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),caller:this.getCaller(),isCollapsed:this.getIsCollapsed(),category:this.getCategory(),unknownAttributes:this.getUnknownAttributes(),version:S_}}canBeEmpty(){return!1}isInline(){return!0}}function dM(t){const e=t.getAttribute("data-marker")??"f",n=t.getAttribute("data-caller")??"",r=t.classList.contains("collapsed");return{node:ng(e,n,r)}}function ng(t,e,n,r,s){return nt(new qt(t,e,n,r,s))}function fM(t){if(!t)return!1;const e=t.getAttribute("data-marker")??"";return qt.isValidMarker(e)&&t.classList.contains(qt.getType())}function Pe(t){return t instanceof qt}const hM=["ide","sts","rem","h","toc1","toc2","toc3","toca1","toca2","toca3","imt","imt1","imt2","imt3","imt4","is","is1","is2","ip","ipi","im","imi","ipq","imq","ipr","iq","iq1","iq2","iq3","ili","ili1","ili2","ib","iot","io","io1","io2","io3","io4","iex","imte","imte1","imte2","ie","mt","mt1","mt2","mt3","mt4","mte","mte1","mte2","cl","cd","ms","ms1","ms2","ms3","mr","s","s1","s2","s3","s4","sr","r","d","sp","sd","sd1","sd2","sd3","sd4",sd,"m","po","cls","pr","pc","pm","pmo","pmc","pmr","pi","pi1","pi2","pi3","mi","lit","nb","q","q1","q2","q3","q4","qr","qc","qa","qm","qm1","qm2","qm3","qd","b","lh","li","li1","li2","li3","li4","lf","lim","lim1","lim2","lim3","lim4","pb"],N_=1;class Nn extends Zs{constructor(e=sd,n,r){super(r),we(this,"__marker"),we(this,"__unknownAttributes"),this.__marker=e,this.__unknownAttributes=n}static getType(){return"para"}static clone(e){const{__marker:n,__unknownAttributes:r,__key:s}=e;return new Nn(n,r,s)}static isValidMarker(e){return e!==void 0&&hM.includes(e)}static importDOM(){return{p:()=>({conversion:pM,priority:1})}}static importJSON(e){return fl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.__type,`usfm_${this.__marker}`),e}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(this.getType(),`usfm_${this.getMarker()}`)),{element:n}}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),unknownAttributes:this.getUnknownAttributes(),version:N_}}insertNewAfter(e,n){const r=fl(this.getMarker());return r.setTextFormat(e.format),r.setTextStyle(e.style),r.setDirection(this.getDirection()),r.setFormat(this.getFormatType()),r.setStyle(this.getTextStyle()),this.insertAfter(r,n),r}}function pM(t){const e=t.getAttribute("data-marker")??void 0,n=fl(e);if(t.style){n.setFormat(t.style.textAlign);const r=parseInt(t.style.textIndent,10)/20;r>0&&n.setIndent(r)}return{node:n}}function fl(t,e){return nt(new Nn(t,e))}function on(t){return t instanceof Nn}function gM(t){return(t==null?void 0:t.type)===Nn.getType()}const wu="v",T_=1;class mn extends an{constructor(e="",n,r,s,o,i,a){super(n??e,a),we(this,"__marker"),we(this,"__number"),we(this,"__sid"),we(this,"__altnumber"),we(this,"__pubnumber"),we(this,"__unknownAttributes"),this.__marker=wu,this.__number=e,this.__sid=r,this.__altnumber=s,this.__pubnumber=o,this.__unknownAttributes=i}static getType(){return"verse"}static clone(e){const{__number:n,__text:r,__sid:s,__altnumber:o,__pubnumber:i,__unknownAttributes:a,__key:l}=e;return new mn(n,r,s,o,i,a,l)}static importJSON(e){return A_().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setNumber(e.number).setSid(e.sid).setAltnumber(e.altnumber).setPubnumber(e.pubnumber).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setNumber(e){if(this.__number===e)return this;const n=this.getWritable();return n.__number=e,n}getNumber(){return this.getLatest().__number}setSid(e){if(this.__sid===e)return this;const n=this.getWritable();return n.__sid=e,n}getSid(){return this.getLatest().__sid}setAltnumber(e){if(this.__altnumber===e)return this;const n=this.getWritable();return n.__altnumber=e,n}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){if(this.__pubnumber===e)return this;const n=this.getWritable();return n.__pubnumber=e,n}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(e){const n=super.createDOM(e);return n.setAttribute("data-marker",this.__marker),n.classList.add(gh,`usfm_${this.__marker}`),n.setAttribute("data-number",this.__number),n}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),number:this.getNumber(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:T_}}}function A_(t,e,n,r,s,o){return nt(new mn(t,e,n,r,s,o))}function rg(t){return t instanceof mn}function wM(t){return(t==null?void 0:t.type)===mn.getType()}function mM(t){return ZD(t)||iM(t)}function Yn(t){return Qp(t)||$l(t)}function bM(t,e){return t.find(n=>Yn(n)&&n.getNumber()===e.toString())}function yM(t,e=!1){return t.find((n,r)=>(!e||r>0)&&Yn(n))}function sg(t){var e;if(!t)return;if(Yn(t))return t;let n=(e=t.getTopLevelElement())==null?void 0:e.getPreviousSibling();for(;n&&!Yn(n);)n=n.getPreviousSibling();if(n&&Yn(n))return n}function D_(t){let e=t;for(;e!==null;){if(Pe(e))return e;e=e.getParent()}}function vM(t){return Vr(t)||Qp(t)||Qe(t)||$l(t)||ps(t)||od(t)||on(t)||Pe(t)||rg(t)||Pl(t)}function xM(t){var e;if(t.anchor.type==="element"){const r=t.anchor.getNode(),s=t.anchor.offset;if(s<r.getChildrenSize())return r.getChildAtIndex(s)}const n=t.anchor.getNode();return n.getNextSibling()??((e=n.getParent())==null?void 0:e.getNextSibling())??null}function _M(t){var e;const n=t.anchor.offset;if(t.anchor.type==="element"&&n>0)return t.anchor.getNode().getChildAtIndex(n-1);const r=t.anchor.getNode();return r.getPreviousSibling()??((e=r.getParent())==null?void 0:e.getPreviousSibling())??null}function cr(t){return on(t)||ps(t)}function CM(t,e){let n=t.getParent();for(;n;){if(n.getKey()===e)return!0;n=n.getParent()}return!1}function zo(t,e){const n=na(e,Fo),r=!!(t.cid&&n),s=!t.cid&&!n;return t.style===e.getMarker()&&(s||r&&t.cid===n)}function kM(t,e){const n=X(t)?t:t.getParent(),r=X(e)?e:e.getParent(),s=n&&r?Ua(n,r):void 0;return s?s.commonAncestor:void 0}function EM(t){const e=t.getStartEndPoints();if(!e)return;const[n,r]=e,s=t.isBackward()?n:r;t.focus.set(s.key,s.offset,s.type),t.anchor.set(s.key,s.offset,s.type)}function og(t){return(t==null?void 0:t.type)===an.getType()}function SM(t,e){if(!e)return;const n=t.findIndex(r=>r===e);n&&(t.length=n)}function NM(t,e){if(!e)return t;const n=e.getIndexWithinParent();return t.splice(n+1,t.length-n-1)}function ys(t){return`\\${t}`}function Hi(t){return`\\${t}*`}function M_(t,e,n){const r=ys(t);if(e!=null&&e.startsWith(r)){const s=parseInt(e.slice(r.length),10);isNaN(s)||(n=s.toString())}return n}function Fl(t,e){let n=ys(t);return e&&(n+=`${$e}${e}`),n+=" ",n}function O_(t){return og(t)&&t.text!==$e?t.text:rM(t)?t.children.map(e=>O_(e)).join(""):""}function TM(t){return t.map(e=>O_(e)).filter(e=>e.length>0).join(" ").trim()}function ig(t){return $e+t+" "}function ag(t){const e=[];for(const n of t){if(!Qe(n))continue;const r=n.getTextContent();r!==$e&&r.length>0&&e.push(r)}return e.join(" ").trim()}function Ut(t,e=GC){const n={...t};return e.forEach(r=>{Reflect.deleteProperty(n,r)}),Object.keys(n).length===0?void 0:n}function AM(t,e){const n=e.getElementByKey(t.getKey());return n?n.tagName.toLowerCase():void 0}function jt(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}function R_(t){if(!t)return;const e=t.getNodes();if(e.length>0)return t.isBackward()?e[e.length-1]:e[0]}function yh(t,e){if(!e)return(t+1).toString();const n=e.split("-");if(n.length===2)return parseInt(n[1])?`${parseInt(n[1])+1}`:`${parseInt(n[0])+1}`;const r=RegExp(/^(\d+)([a-yA-Y]{1,3})$/).exec(e);if(!r)return(parseInt(e)+1).toString();const s=String.fromCharCode(r[2].charCodeAt(0)+1);return`${r[1]}${s}`}function lg(t,e){if(!e)return!1;const n=e.split("-").map(r=>parseInt(r));if(n.length<1||n.length>2||n[0]>n[1])throw new Error("isVerseInRange: invalid range");return n.length===1?t===n[0]:n.length===2&&isNaN(n[1])?t>=n[0]:(n.length===2&&isNaN(n[0])||t>=n[0])&&t<=n[1]}function DM(t){return!!t&&t.includes("-")}const MM=1;class si extends an{constructor(e="",n="opening",r){super(uf(e,n),r),we(this,"__marker"),we(this,"__markerSyntax"),this.__marker=e,this.__markerSyntax=n}static getType(){return"marker"}static clone(e){return new si(e.__marker,e.__markerSyntax,e.__key)}static importJSON(e){return Ki().updateFromJSON(e)}updateFromJSON(e){const{marker:n,markerSyntax:r="opening"}=e;return super.updateFromJSON(e).setMarker(n).setMarkerSyntax(r)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n.__text=uf(e,n.__markerSyntax),n}getMarker(){return this.getLatest().__marker}setMarkerSyntax(e){if(this.__markerSyntax===e)return this;const n=this.getWritable();return n.__markerSyntax=e,n.__text=uf(n.__marker,e),n}getMarkerSyntax(){return this.getLatest().__markerSyntax}createDOM(e){const n=super.createDOM(e);return n.setAttribute("data-marker",this.__marker),n.classList.add(this.__markerSyntax),n}exportJSON(){return{...super.exportJSON(),type:this.getType(),text:this.getTextContent(),marker:this.getMarker(),markerSyntax:this.getMarkerSyntax(),version:MM}}}function Ki(t,e){return nt(new si(t,e))}function Bl(t){return t instanceof si}function uf(t,e){return e==="closing"?Hi(t):e==="selfClosing"?Hi(""):ys(t)}const As="internal-comment",OM=[As],RM={},jM=1;class Xt extends cn{constructor(e=RM,n){super(n),we(this,"__typedIDs"),this.__typedIDs=e}static getType(){return"typed-mark"}static clone(e){const n=JSON.parse(JSON.stringify(e.__typedIDs));return new Xt(n,e.__key)}static isReservedType(e){return OM.includes(e)}static importDOM(){return null}static importJSON(e){return hl().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),type:this.getType(),typedIDs:this.getTypedIDs(),version:jM}}createDOM(e){const n=document.createElement("mark");for(const[r,s]of Object.entries(this.__typedIDs))rn(n,yc(e.theme.typedMark,r)),s.length>1&&rn(n,yc(e.theme.typedMarkOverlap,r));return n}updateDOM(e,n,r){for(const[s,o]of Object.entries(this.__typedIDs)){const i=e.__typedIDs[s].length,a=o.length,l=yc(r.theme.typedMark,s),c=yc(r.theme.typedMarkOverlap,s);i!==a&&(i===0?a===1&&rn(n,l):a===0&&ko(n,l),i===1?a===2&&rn(n,c):a===1&&ko(n,c))}return!1}updateFromJSON(e){return super.updateFromJSON(e).setTypedIDs(e.typedIDs)}hasID(e,n){const r=this.getTypedIDs()[e];if(!r)return!1;for(const s of r)if(n===s)return!0;return!1}getTypedIDs(){const e=this.getLatest();return Qt(e)?e.__typedIDs:{}}setTypedIDs(e){const n=this.getWritable();return n.__typedIDs=e,n}addID(e,n){const r=this.getWritable();if(!Qt(r))return;const s=r.__typedIDs[e]??[];r.__typedIDs[e]=s;for(const o of s)if(n===o)return;s.push(n)}deleteID(e,n){const r=this.getWritable();if(!Qt(r))return;const s=r.__typedIDs[e];for(let o=0;o<s.length;o++)if(n===s[o]){s.splice(o,1);return}}hasNoIDsForEveryType(){return Object.values(this.getTypedIDs()).every(e=>e===void 0||e.length===0)}insertNewAfter(e,n=!0){const r=hl(this.__typedIDs);return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n,r){if(!Q(n)||r==="html")return!1;const s=n.anchor,o=n.focus,i=s.getNode(),a=o.getNode(),l=n.isBackward()?s.offset-o.offset:o.offset-s.offset;return this.isParentOf(i)&&this.isParentOf(a)&&this.getTextContent().length===l}excludeFromCopy(e){return e!=="clone"}}function yc(t,e){return`${t}-${e}`}function hl(t){return nt(new Xt(t))}function Qt(t){return t instanceof Xt}function IM(t){return(t==null?void 0:t.type)===Xt.getType()}function j_(t){const e=t.getChildren();let n=null;for(const r of e)n===null?t.insertBefore(r):n.insertAfter(r),n=r;t.remove()}function I_(t,e,n,r){const s=t.getNodes(),o=t.anchor.offset,i=t.focus.offset,a=s.length,l=t.isBackward(),c=l?i:o,u=l?o:i;let f,h;for(let p=0;p<a;p++){const g=s[p];if(X(h)&&h.isParentOf(g))continue;const w=p===0,y=p===a-1;let _=null;if(ne(g)){const v=g.getTextContentSize(),C=w?c:0,M=y?u:v;if(C===0&&M===0)continue;const j=g.splitText(C,M);_=j.length>1&&(j.length===3||w&&!y||M===v)?j[1]:j[0]}else{if(Qt(g))continue;X(g)&&g.isInline()&&(_=g)}if(_!==null){if(_&&_.is(f))continue;const v=_.getParent();(v==null||!v.is(f))&&(h=void 0),f=v,h===void 0&&(h=hl({[e]:[n]}),_.insertBefore(h)),h.append(_)}else f=void 0,h=void 0}e===As&&X(h)&&(l?h.selectStart():h.selectEnd())}function LM(t,e,n){let r=t;for(;r!==null;){if(Qt(r))return r.getTypedIDs()[e];if(ne(r)&&n===r.getTextContentSize()){const s=r.getNextSibling();if(Qt(s))return s.getTypedIDs()[e]}r=r.getParent()}}function Cb(t){return`external-${t}`}const L_=1;class no extends Qs{constructor(e="",n="",r){super(r),we(this,"__textType"),we(this,"__text"),this.__textType=e,this.__text=n}static getType(){return"immutable-typed-text"}static clone(e){const{__textType:n,__text:r,__key:s}=e;return new no(n,r,s)}static importDOM(){return{span:e=>$M(e)?{conversion:PM,priority:1}:null}}static importJSON(e){return Wi().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextType(e.textType).setTextContent(e.text)}setTextType(e){if(this.__textType===e)return this;const n=this.getWritable();return n.__textType=e,n}getTextType(){return this.getLatest().__textType}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}getTextContent(){return this.getLatest().__text}createDOM(){const e=document.createElement("span");return e.setAttribute("data-text-type",this.__textType),e.classList.add(this.__textType),e}updateDOM(){return!1}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&n.setAttribute("data-text-type",this.getTextType()),{element:n}}decorate(){return this.getTextContent()}exportJSON(){return{type:this.getType(),textType:this.getTextType(),text:this.getTextContent(),version:L_}}isKeyboardSelectable(){return!1}}function PM(t){const e=t.getAttribute("data-text-type")??"",n=t.textContent??"";return{node:Wi(e,n)}}function Wi(t,e){return nt(new no(t,e))}function $M(t){return(t==null?void 0:t.tagName)==="span"}function mu(t){return t instanceof no}function FM(t){return(t==null?void 0:t.type)===no.getType()}const bu="unmatched",P_=1;class ro extends Qs{constructor(e="",n){super(n),we(this,"__marker"),this.__marker=e}static getType(){return"unmatched"}static clone(e){const{__marker:n,__key:r}=e;return new ro(n,r)}static importDOM(){return{[bu]:e=>qM(e)?{conversion:BM,priority:1}:null}}static importJSON(e){return cg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}createDOM(){const e=document.createElement(bu);e.setAttribute("data-marker",this.__marker),e.classList.add(_b);const n=this.__marker.endsWith("*");return e.title=n?"This closing marker has no matching opening marker!":"This opening marker has no matching closing marker!",e}updateDOM(){return!1}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(_b)),{element:n}}decorate(){return`\\${this.getMarker()}${ph}`}exportJSON(){return{type:this.getType(),marker:this.getMarker(),version:P_}}isKeyboardSelectable(){return!1}}function BM(t){const e=t.getAttribute("data-marker")??"";return{node:cg(e)}}function cg(t){return nt(new ro(t))}function qM(t){return(t==null?void 0:t.tagName)===bu}function $_(t){return t instanceof ro}const UM=[er,bs,Cr,mn,ht,qt,Wr,si,ri,no,ro,Nn,zs,{replace:Zs,with:()=>fr(),withKlass:zs}];var z;(function(t){t.FileIdentification="FileIdentification",t.Headers="Headers",t.Remarks="Remarks",t.Introduction="Introduction",t.DivisionMarks="DivisionMarks",t.Paragraphs="Paragraphs",t.Poetry="Poetry",t.TitlesHeadings="TitlesHeadings",t.Tables="Tables",t.CenterTables="CenterTables",t.RightTables="RightTables",t.Lists="Lists",t.Footnotes="Footnotes",t.CrossReferences="CrossReferences",t.SpecialText="SpecialText",t.CharacterStyling="CharacterStyling",t.Breaks="Breaks",t.SpecialFeatures="SpecialFeatures",t.PeripheralReferences="PeripheralReferences",t.PeripheralMaterials="PeripheralMaterials",t.Uncategorized="Uncategorized"})(z||(z={}));var U;(function(t){t.Paragraph="Paragraph",t.Character="Character",t.Note="Note",t.Unknown="Unknown"})(U||(U={}));const zM={id:{category:z.FileIdentification,type:U.Paragraph,description:"File identification information (BOOKID, FILENAME, EDITOR, MODIFICATION DATE)",hasEndMarker:!1,children:{FileIdentification:["usfm","ide"],Headers:["h","h1","h2","h3","toc1","toc2","toc3"],Remarks:["rem","sts","restore"],Introduction:["imt","imt1","imt2","imt3","imt4","imte","imte1","imte2","is","is1","is2","iot","io","io1","io2","io3","io4","ior","ip","im","ipi","imi","ili","ili1","ili2","ipq","imq","ipr","ib","iq","iq1","iq2","iq3","iex","ie"],DivisionMarks:["c","cl"],TitlesHeadings:["mt","mt1","mt2","mt3","mt4"]}},usfm:{category:z.FileIdentification,type:U.Paragraph,description:"File markup version information",hasEndMarker:!1,children:void 0},ide:{category:z.FileIdentification,type:U.Paragraph,description:"File encoding information",hasEndMarker:!1,children:{Remarks:["rem","sts"]}},h:{category:z.Headers,type:U.Paragraph,description:"Running header text for a book (basic)",hasEndMarker:!1,children:{Headers:["toc1","toc2","toc3","toca1","toca2","toca3"]}},h1:{category:z.Headers,type:U.Paragraph,description:"Running header text",hasEndMarker:!1,children:{Headers:["toc1","toc2","toc3","toca1","toca2","toca3"]}},h2:{category:z.Headers,type:U.Paragraph,description:"Running header text, left side of page",hasEndMarker:!1,children:{Headers:["toc1","toc2","toc3","toca1","toca2","toca3"]}},h3:{category:z.Headers,type:U.Paragraph,description:"Running header text, right side of page",hasEndMarker:!1,children:{Headers:["toc1","toc2","toc3","toca1","toca2","toca3"]}},toc1:{category:z.Headers,type:U.Paragraph,description:"Long table of contents text",hasEndMarker:!1,children:void 0},toc2:{category:z.Headers,type:U.Paragraph,description:"Short table of contents text",hasEndMarker:!1,children:void 0},toc3:{category:z.Headers,type:U.Paragraph,description:"Book Abbreviation",hasEndMarker:!1,children:void 0},toca1:{category:z.Headers,type:U.Paragraph,description:"Alternative language long table of contents text",hasEndMarker:!1,children:void 0},toca2:{category:z.Headers,type:U.Paragraph,description:"Alternative language short table of contents text",hasEndMarker:!1,children:void 0},toca3:{category:z.Headers,type:U.Paragraph,description:"Alternative language book Abbreviation",hasEndMarker:!1,children:void 0},rem:{category:z.Remarks,type:U.Paragraph,description:"Comments and remarks",hasEndMarker:!1,children:void 0},sts:{category:z.Remarks,type:U.Paragraph,description:"Status of this file",hasEndMarker:!1,children:void 0},restore:{category:z.Remarks,type:U.Paragraph,description:"Project restore information",hasEndMarker:!1,children:void 0},imt:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title, level 1 (if single level) (basic)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imt1:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title, level 1 (if multiple levels)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imt2:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title, level 2",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imt3:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title, level 3",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imt4:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title, level 4 (usually within parenthesis)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imte:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title at introduction end, level 1 (if single level)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imte1:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title at introduction end, level 1 (if multiple levels)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},imte2:{category:z.Introduction,type:U.Paragraph,description:"Introduction major title at introduction end, level 2",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},is:{category:z.Introduction,type:U.Paragraph,description:"Introduction section heading, level 1 (if single level) (basic)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"],CharacterStyling:["no"]}},is1:{category:z.Introduction,type:U.Paragraph,description:"Introduction section heading, level 1 (if multiple levels)",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},is2:{category:z.Introduction,type:U.Paragraph,description:"Introduction section heading, level 2",hasEndMarker:!1,children:{Introduction:["iqt"],SpecialText:["bk"]}},iot:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline title (basic)",hasEndMarker:!1,children:{Introduction:["iqt"],CharacterStyling:["no"]}},io:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline text, level 1 (if single level)",hasEndMarker:!1,children:{Introduction:["ior","iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},io1:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline text, level 1 (if multiple levels) (basic)",hasEndMarker:!1,children:{Introduction:["ior","iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},io2:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline text, level 2",hasEndMarker:!1,children:{Introduction:["ior","iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},io3:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline text, level 3",hasEndMarker:!1,children:{Introduction:["ior","iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},io4:{category:z.Introduction,type:U.Paragraph,description:"Introduction outline text, level 4",hasEndMarker:!1,children:{Introduction:["ior","iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ior:{category:z.Introduction,type:U.Character,description:"Introduction references range for outline entry; for marking references separately",hasEndMarker:!0,children:void 0},ip:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph (basic)",hasEndMarker:!1,children:{Introduction:["iqt"],Footnotes:["f","fe","fm"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},im:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph, with no first line indent (may occur after poetry)",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ipi:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph, indented, with first line indent",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},imi:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph text, indented, with no first line indent",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ili:{category:z.Introduction,type:U.Paragraph,description:"A list entry, level 1 (if single level)",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ili1:{category:z.Introduction,type:U.Paragraph,description:"A list entry, level 1 (if multiple levels)",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ili2:{category:z.Introduction,type:U.Paragraph,description:"A list entry, level 2",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ipq:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph, quote from the body text",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},imq:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph, quote from the body text, with no first line indent",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},ipr:{category:z.Introduction,type:U.Paragraph,description:"Introduction prose paragraph, right aligned",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},ib:{category:z.Introduction,type:U.Paragraph,description:"Introduction blank line",hasEndMarker:!1,children:{Introduction:["iqt"]}},iq:{category:z.Introduction,type:U.Paragraph,description:"Introduction poetry text, level 1 (if single level)",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},iq1:{category:z.Introduction,type:U.Paragraph,description:"Introduction poetry text, level 1 (if multiple levels)",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},iq2:{category:z.Introduction,type:U.Paragraph,description:"Introduction poetry text, level 2",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},iq3:{category:z.Introduction,type:U.Paragraph,description:"Introduction poetry text, level 3",hasEndMarker:!1,children:{Introduction:["iqt"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},iex:{category:z.Introduction,type:U.Paragraph,description:"Introduction explanatory or bridge text (e.g. explanation of missing book in Short Old Testament)",hasEndMarker:!1,children:{Introduction:["iqt"],CharacterStyling:["no"]}},iqt:{category:z.Introduction,type:U.Character,description:"For quoted scripture text appearing in the introduction",hasEndMarker:!0,children:void 0},ie:{category:z.Introduction,type:U.Paragraph,description:"Introduction ending marker",hasEndMarker:!1,children:void 0},c:{category:z.DivisionMarks,type:U.Paragraph,description:"Chapter number",hasEndMarker:!1,children:{DivisionMarks:["ca","cp","cl","cd"],Paragraphs:["p","m","po","pr","cls","pi","pi1","pi2","pi3","pc","mi","nb"],Poetry:["q","q1","q2","q3","q4","qc","qr","qa","qd","b"],TitlesHeadings:["mte","ms","ms1","ms2","ms3","s","s1","s2","s3","s4","r","sp","d","sd","sd1","sd2","sd3","sd4"],Lists:["lh","li","li1","li2","li3","li4","lf","lim","lim1","lim2","lim3","lim4"],Footnotes:["f","fe"],SpecialText:["lit"],Breaks:["pb"]}},ca:{category:z.DivisionMarks,type:U.Character,description:"Second (alternate) chapter number (for coding dual versification; useful for places where different traditions of chapter breaks need to be supported in the same translation)",hasEndMarker:!0,children:void 0},cp:{category:z.DivisionMarks,type:U.Paragraph,description:"Published chapter number (chapter string that should appear in the published text)",hasEndMarker:!1,children:{Footnotes:["f"]}},cl:{category:z.DivisionMarks,type:U.Paragraph,description:"Chapter label used for translations that add a word such as 'Chapter' before chapter numbers (e.g. Psalms). The subsequent text is the chapter label.",hasEndMarker:!1,children:void 0},cd:{category:z.DivisionMarks,type:U.Paragraph,description:"Chapter Description (Publishing option D, e.g. in Russian Bibles)",hasEndMarker:!1,children:{DivisionMarks:["vp"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},v:{category:z.DivisionMarks,type:U.Character,description:"A verse number",hasEndMarker:!1,children:void 0},va:{category:z.DivisionMarks,type:U.Character,description:"Second (alternate) verse number (for coding dual numeration in Psalms; see also NRSV Exo 22.1-4)",hasEndMarker:!0,children:void 0},vp:{category:z.DivisionMarks,type:U.Character,description:"Published verse marker (verse string that should appear in the published text)",hasEndMarker:!0,children:void 0},p:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, with first line indent (basic)",hasEndMarker:!1,children:{Paragraphs:["pmo","pm","pmc","pmr"],Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},m:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, with no first line indent (may occur after poetry) (basic)",hasEndMarker:!1,children:{Paragraphs:["pmo","pm","pmc","pmr"],Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},po:{category:z.Paragraphs,type:U.Paragraph,description:"Letter opening",hasEndMarker:!1,children:{Paragraphs:["pmo","pm","pmc","pmr"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pr:{category:z.Paragraphs,type:U.Paragraph,description:"Text refrain (paragraph text, right aligned)",hasEndMarker:!1,children:{Paragraphs:["pmo","pm","pmc","pmr"],Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},cls:{category:z.Paragraphs,type:U.Paragraph,description:"Letter Closing",hasEndMarker:!1,children:{SpecialText:["tl","sig","pn","png","addpn","add"]}},pmo:{category:z.Paragraphs,type:U.Paragraph,description:"Embedded text opening",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pm:{category:z.Paragraphs,type:U.Paragraph,description:"Embedded text paragraph",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pmc:{category:z.Paragraphs,type:U.Paragraph,description:"Embedded text closing",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pmr:{category:z.Paragraphs,type:U.Paragraph,description:"Embedded text refrain (e.g. Then all the people shall say, 'Amen!')",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pi:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, level 1 indent (if single level), with first line indent; often used for discourse (basic)",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pi1:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, level 1 indent (if multiple levels), with first line indent; often used for discourse",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pi2:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, level 2 indent, with first line indent; often used for discourse",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pi3:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, level 3 indent, with first line indent; often used for discourse",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},pc:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, centered (for Inscription)",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},mi:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, indented, with no first line indent; often used for discourse",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},nb:{category:z.Paragraphs,type:U.Paragraph,description:"Paragraph text, with no break from previous paragraph text (at chapter boundary) (basic)",hasEndMarker:!1,children:{Poetry:["qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},q:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, level 1 indent (if single level)",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},q1:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, level 1 indent (if multiple levels) (basic)",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},q2:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, level 2 indent (basic)",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},q3:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, level 3 indent",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},q4:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, level 4 indent",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qc:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, centered",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qr:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, Right Aligned",hasEndMarker:!1,children:{Poetry:["qs","qac","qm","qm1","qm2","qm3"],TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qs:{category:z.Poetry,type:U.Character,description:"Poetry text, Selah",hasEndMarker:!0,children:{Footnotes:["f"],CrossReferences:["x"]}},qa:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, Acrostic marker/heading",hasEndMarker:!1,children:void 0},qac:{category:z.Poetry,type:U.Character,description:"Poetry text, Acrostic markup of the first character of a line of acrostic poetry",hasEndMarker:!0,children:void 0},qm:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, embedded, level 1 indent (if single level)",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qm1:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, embedded, level 1 indent (if multiple levels)",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qm2:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, embedded, level 2 indent",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qm3:{category:z.Poetry,type:U.Paragraph,description:"Poetry text, embedded, level 3 indent",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},qd:{category:z.Poetry,type:U.Paragraph,description:"A Hebrew musical performance annotation, similar in content to Hebrew descriptive title.",hasEndMarker:!1,children:{TitlesHeadings:["mte1"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},b:{category:z.Poetry,type:U.Paragraph,description:"Poetry text stanza break (e.g. stanza break) (basic)",hasEndMarker:!1,children:void 0},mt:{category:z.TitlesHeadings,type:U.Paragraph,description:"The main title of the book (if single level)",hasEndMarker:!1,children:{Footnotes:["f"],CrossReferences:["x"]}},mt1:{category:z.TitlesHeadings,type:U.Paragraph,description:"The main title of the book (if multiple levels) (basic)",hasEndMarker:!1,children:{Footnotes:["f"],CrossReferences:["x"]}},mt2:{category:z.TitlesHeadings,type:U.Paragraph,description:"A secondary title usually occurring before the main title (basic)",hasEndMarker:!1,children:{Footnotes:["f"],CrossReferences:["x"]}},mt3:{category:z.TitlesHeadings,type:U.Paragraph,description:"A secondary title occurring after the main title",hasEndMarker:!1,children:{Footnotes:["f"],CrossReferences:["x"]}},mt4:{category:z.TitlesHeadings,type:U.Paragraph,description:"A small secondary title sometimes occurring within parentheses",hasEndMarker:!1,children:void 0},mte:{category:z.TitlesHeadings,type:U.Paragraph,description:"The main title of the book repeated at the end of the book, level 1 (if single level)",hasEndMarker:!1,children:void 0},mte1:{category:z.TitlesHeadings,type:U.Paragraph,description:"The main title of the book repeated at the end of the book, level 1 (if multiple levels)",hasEndMarker:!1,children:{TitlesHeadings:["mte2"]}},mte2:{category:z.TitlesHeadings,type:U.Paragraph,description:"A secondary title occurring before or after the 'ending' main title",hasEndMarker:!1,children:void 0},ms:{category:z.TitlesHeadings,type:U.Paragraph,description:"A major section division heading, level 1 (if single level) (basic)",hasEndMarker:!1,children:{TitlesHeadings:["mr"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},ms1:{category:z.TitlesHeadings,type:U.Paragraph,description:"A major section division heading, level 1 (if multiple levels)",hasEndMarker:!1,children:{TitlesHeadings:["mr"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},ms2:{category:z.TitlesHeadings,type:U.Paragraph,description:"A major section division heading, level 2",hasEndMarker:!1,children:{TitlesHeadings:["mr"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},ms3:{category:z.TitlesHeadings,type:U.Paragraph,description:"A major section division heading, level 3",hasEndMarker:!1,children:{TitlesHeadings:["mr"],Footnotes:["f","fe"]}},mr:{category:z.TitlesHeadings,type:U.Paragraph,description:"A major section division references range heading (basic)",hasEndMarker:!1,children:void 0},s:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section heading, level 1 (if single level) (basic)",hasEndMarker:!1,children:{TitlesHeadings:["sr","r"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},s1:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section heading, level 1 (if multiple levels)",hasEndMarker:!1,children:{TitlesHeadings:["sr","r"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},s2:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section heading, level 2 (e.g. Proverbs 22-24)",hasEndMarker:!1,children:{TitlesHeadings:["sr","r"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},s3:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section heading, level 3 (e.g. Genesis 'The First Day')",hasEndMarker:!1,children:{TitlesHeadings:["sr","r"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["no","it","bd","bdit","em","sc","sup"]}},s4:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section heading, level 4",hasEndMarker:!1,children:{TitlesHeadings:["sr","r"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},sr:{category:z.TitlesHeadings,type:U.Paragraph,description:"A section division references range heading",hasEndMarker:!1,children:void 0},r:{category:z.TitlesHeadings,type:U.Paragraph,description:"Parallel reference(s) (basic)",hasEndMarker:!1,children:void 0},sp:{category:z.TitlesHeadings,type:U.Paragraph,description:"A heading, to identify the speaker (e.g. Job)",hasEndMarker:!1,children:{Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},d:{category:z.TitlesHeadings,type:U.Paragraph,description:"A Hebrew text heading, to provide description (e.g. Psalms)",hasEndMarker:!1,children:{Footnotes:["f","fe","fm"],CrossReferences:["x","xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},sd:{category:z.TitlesHeadings,type:U.Paragraph,description:"Vertical space used to divide the text into sections, level 1 (if single level)",hasEndMarker:!1,children:void 0},sd1:{category:z.TitlesHeadings,type:U.Paragraph,description:"Vertical space used to divide the text into sections, level 1 (if multiple levels)",hasEndMarker:!1,children:void 0},sd2:{category:z.TitlesHeadings,type:U.Paragraph,description:"Vertical space used to divide the text into sections, level 2",hasEndMarker:!1,children:void 0},sd3:{category:z.TitlesHeadings,type:U.Paragraph,description:"Vertical space used to divide the text into sections, level 3",hasEndMarker:!1,children:void 0},sd4:{category:z.TitlesHeadings,type:U.Paragraph,description:"Vertical space used to divide the text into sections, level 4",hasEndMarker:!1,children:void 0},lh:{category:z.Lists,type:U.Paragraph,description:"List header (introductory remark)",hasEndMarker:!1,children:{Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},li:{category:z.Lists,type:U.Paragraph,description:"A list entry, level 1 (if single level)",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},li1:{category:z.Lists,type:U.Paragraph,description:"A list entry, level 1 (if multiple levels)",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},li2:{category:z.Lists,type:U.Paragraph,description:"A list entry, level 2",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},li3:{category:z.Lists,type:U.Paragraph,description:"A list entry, level 3",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},li4:{category:z.Lists,type:U.Paragraph,description:"A list entry, level 4",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lf:{category:z.Lists,type:U.Paragraph,description:"List footer (concluding remark)",hasEndMarker:!1,children:{Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lim:{category:z.Lists,type:U.Paragraph,description:"An embedded list entry, level 1 (if single level)",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lim1:{category:z.Lists,type:U.Paragraph,description:"An embedded list entry, level 1 (if multiple levels)",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lim2:{category:z.Lists,type:U.Paragraph,description:"An embedded list entry, level 2",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lim3:{category:z.Lists,type:U.Paragraph,description:"An embedded list item, level 3",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},lim4:{category:z.Lists,type:U.Paragraph,description:"An embedded list entry, level 4",hasEndMarker:!1,children:{Lists:["litl","lik","liv","liv1","liv2","liv3","liv4","liv5"],Footnotes:["f","fe","fm"],CrossReferences:["x","xt","rq"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},litl:{category:z.Lists,type:U.Character,description:"List entry total text",hasEndMarker:!0,children:void 0},lik:{category:z.Lists,type:U.Character,description:"Structured list entry key text",hasEndMarker:!0,children:void 0},liv:{category:z.Lists,type:U.Character,description:"Structured list entry value 1 content (if single value)",hasEndMarker:!0,children:void 0},liv1:{category:z.Lists,type:U.Character,description:"Structured list entry value 1 content (if multiple values)",hasEndMarker:!0,children:void 0},liv2:{category:z.Lists,type:U.Character,description:"Structured list entry value 2 content",hasEndMarker:!0,children:void 0},liv3:{category:z.Lists,type:U.Character,description:"Structured list entry value 3 content",hasEndMarker:!0,children:void 0},liv4:{category:z.Lists,type:U.Character,description:"Structured list entry value 4 content",hasEndMarker:!0,children:void 0},liv5:{category:z.Lists,type:U.Character,description:"Structured list entry value 5 content",hasEndMarker:!0,children:void 0},f:{category:z.Footnotes,type:U.Note,description:"A Footnote text item (basic)",hasEndMarker:!0,children:{Footnotes:["fr","ft","fk","fq","fqa","fl","fw","fp","fv","fdc"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},fe:{category:z.Footnotes,type:U.Note,description:"An Endnote text item",hasEndMarker:!0,children:{Footnotes:["fr","ft","fk","fq","fqa","fl","fw","fp","fv","fdc"],CrossReferences:["xt"],SpecialText:["qt","nd","tl","dc","bk","sig","pn","png","addpn","wj","k","sls","ord","add"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},fr:{category:z.Footnotes,type:U.Character,description:"The origin reference for the footnote (basic)",hasEndMarker:!0,children:void 0},ft:{category:z.Footnotes,type:U.Character,description:"Footnote text, Protocanon (basic)",hasEndMarker:!0,children:void 0},fk:{category:z.Footnotes,type:U.Character,description:"A footnote keyword (basic)",hasEndMarker:!0,children:void 0},fq:{category:z.Footnotes,type:U.Character,description:"A footnote scripture quote or alternate rendering (basic)",hasEndMarker:!0,children:void 0},fqa:{category:z.Footnotes,type:U.Character,description:"A footnote alternate rendering for a portion of scripture text",hasEndMarker:!0,children:void 0},fl:{category:z.Footnotes,type:U.Character,description:"A footnote label text item, for marking or 'labelling' the type or alternate translation being provided in the note.",hasEndMarker:!0,children:void 0},fw:{category:z.Footnotes,type:U.Character,description:"A footnote witness list, for distinguishing a list of sigla representing witnesses in critical editions.",hasEndMarker:!0,children:void 0},fp:{category:z.Footnotes,type:U.Character,description:"A Footnote additional paragraph marker",hasEndMarker:!0,children:void 0},fv:{category:z.Footnotes,type:U.Character,description:"A verse number within the footnote text",hasEndMarker:!0,children:void 0},fdc:{category:z.Footnotes,type:U.Character,description:"Footnote text, applies to Deuterocanon only",hasEndMarker:!0,children:void 0},fm:{category:z.Footnotes,type:U.Character,description:"An additional footnote marker location for a previous footnote",hasEndMarker:!0,children:void 0},x:{category:z.CrossReferences,type:U.Note,description:"A list of cross references (basic)",hasEndMarker:!0,children:{CrossReferences:["xo","xop","xt","xta","xk","xq","xot","xnt","xdc"],CharacterStyling:["it","bd","bdit","em","sc","sup"]}},xo:{category:z.CrossReferences,type:U.Character,description:"The cross reference origin reference (basic)",hasEndMarker:!0,children:void 0},xop:{category:z.CrossReferences,type:U.Character,description:"Published cross reference origin reference (origin reference that should appear in the published text)",hasEndMarker:!0,children:void 0},xt:{category:z.CrossReferences,type:U.Character,description:"The cross reference target reference(s), protocanon only (basic)",hasEndMarker:!0,children:void 0},xta:{category:z.CrossReferences,type:U.Character,description:"Cross reference target references added text",hasEndMarker:!0,children:void 0},xk:{category:z.CrossReferences,type:U.Character,description:"A cross reference keyword",hasEndMarker:!0,children:void 0},xq:{category:z.CrossReferences,type:U.Character,description:"A cross-reference quotation from the scripture text",hasEndMarker:!0,children:void 0},xot:{category:z.CrossReferences,type:U.Character,description:"Cross-reference target reference(s), Old Testament only",hasEndMarker:!0,children:void 0},xnt:{category:z.CrossReferences,type:U.Character,description:"Cross-reference target reference(s), New Testament only",hasEndMarker:!0,children:void 0},xdc:{category:z.CrossReferences,type:U.Character,description:"Cross-reference target reference(s), Deuterocanon only",hasEndMarker:!0,children:void 0},rq:{category:z.CrossReferences,type:U.Character,description:"A cross-reference indicating the source text for the preceding quotation.",hasEndMarker:!0,children:void 0},qt:{category:z.SpecialText,type:U.Character,description:"For Old Testament quoted text appearing in the New Testament (basic)",hasEndMarker:!0,children:void 0},nd:{category:z.SpecialText,type:U.Character,description:"For name of deity (basic)",hasEndMarker:!0,children:void 0},tl:{category:z.SpecialText,type:U.Character,description:"For transliterated words",hasEndMarker:!0,children:void 0},dc:{category:z.SpecialText,type:U.Character,description:"Deuterocanonical/LXX additions or insertions in the Protocanonical text",hasEndMarker:!0,children:void 0},bk:{category:z.SpecialText,type:U.Character,description:"For the quoted name of a book",hasEndMarker:!0,children:void 0},sig:{category:z.SpecialText,type:U.Character,description:"For the signature of the author of an Epistle",hasEndMarker:!0,children:void 0},pn:{category:z.SpecialText,type:U.Character,description:"For a proper name",hasEndMarker:!0,children:void 0},png:{category:z.SpecialText,type:U.Character,description:"For a geographic proper name",hasEndMarker:!0,children:void 0},addpn:{category:z.SpecialText,type:U.Character,description:"For chinese words to be dot underline & underline",hasEndMarker:!0,children:void 0},wj:{category:z.SpecialText,type:U.Character,description:"For marking the words of Jesus",hasEndMarker:!0,children:void 0},k:{category:z.SpecialText,type:U.Character,description:"For a keyword",hasEndMarker:!0,children:void 0},sls:{category:z.SpecialText,type:U.Character,description:"To represent where the original text is in a secondary language or from an alternate text source",hasEndMarker:!0,children:void 0},ord:{category:z.SpecialText,type:U.Character,description:"For the text portion of an ordinal number",hasEndMarker:!0,children:void 0},add:{category:z.SpecialText,type:U.Character,description:"For a translational addition to the text",hasEndMarker:!0,children:void 0},lit:{category:z.SpecialText,type:U.Paragraph,description:"For a comment or note inserted for liturgical use",hasEndMarker:!1,children:void 0},no:{category:z.CharacterStyling,type:U.Character,description:"A character style, use normal text",hasEndMarker:!0,children:void 0},it:{category:z.CharacterStyling,type:U.Character,description:"A character style, use italic text",hasEndMarker:!0,children:void 0},bd:{category:z.CharacterStyling,type:U.Character,description:"A character style, use bold text",hasEndMarker:!0,children:void 0},bdit:{category:z.CharacterStyling,type:U.Character,description:"A character style, use bold + italic text",hasEndMarker:!0,children:void 0},em:{category:z.CharacterStyling,type:U.Character,description:"A character style, use emphasized text style",hasEndMarker:!0,children:void 0},sc:{category:z.CharacterStyling,type:U.Character,description:"A character style, for small capitalization text",hasEndMarker:!0,children:void 0},sup:{category:z.CharacterStyling,type:U.Character,description:"A character style, for superscript text. Typically for use in critical edition footnotes.",hasEndMarker:!0,children:void 0},pb:{category:z.Breaks,type:U.Paragraph,description:"Page Break used for new reader portions and children's bibles where content is controlled by the page",hasEndMarker:!1,children:void 0}},fo={DivisionMarks:{add:["v","c"],remove:[]},Paragraphs:{add:["p"],remove:[]},Poetry:{add:["q","q1","q2","q3","q4","b"],remove:[]},TitlesHeadings:{add:["mte","ms","ms1","ms2","ms3","s","s1","s2","s3","s4","r","sp","d","sd","sd1","sd2","sd3","sd4"],remove:[]}},VM={p:{children:fo},q:{children:fo},q1:{children:fo},q2:{children:fo},q3:{children:fo},q4:{children:fo},b:{children:fo},qm:{children:{Paragraphs:{add:["p"],remove:[]}}},c:{type:U.Paragraph,children:null},v:{children:null}};function kb(t){const e=zM[t],n=VM[t];if(!e)return;if(!n)return e;let r=e.children?{...e.children}:void 0;if(n.children===null&&(r=void 0),n.children){r=r||{};for(const[s,o]of Object.entries(n.children)){const i=s;if(o===null)Reflect.deleteProperty(r,i);else{let a=r[i]||[];o.remove&&(a=a.filter(l=>!o.remove.includes(l))),o.add&&(a=[...new Set([...a,...o.add])]),a.length>0?r[i]=a:Reflect.deleteProperty(r,i)}}Object.keys(r).length===0&&(r=void 0)}return{...e,...n,children:r}}function Eb(t,e,n){const r={type:Ga,version:Ja,content:t},s=e.serializeEditorState(r,n);return eg(s.root.children[0])?s.root.children[0].children[0]:s.root.children[0]}function vh(t,e){if(!t||!ne(t))return[void 0,void 0];const n=t.getTextContent();if(e>=0&&e<n.length)return[t,e];let r=t.getNextSibling();if(!r){const o=t.getParent();Qt(o)&&(r=o.getNextSibling())}if(!r||!Qt(r)&&!ne(r))return[void 0,void 0];const s=e-n.length;return r&&ne(r)?vh(r,s):vh(r.getFirstChild()??void 0,s)}function Sb(t){const e=YC(t.jsonPath);let n=Be();for(const r of e){if(!n||!X(n))return[void 0,void 0];n=n.getChildAtIndex(r)??void 0}return vh(n,t.offset)}function Nb(t){return X(t)?"element":"text"}function ug(t){const{start:e}=t;let{end:n}=t;n===void 0&&(n=e);const[r,s]=Sb(e),[o,i]=Sb(n);if(!r||!o||s===void 0||i===void 0)return;const a=Tl();return a.anchor=Sn(r.getKey(),s,Nb(r)),a.focus=Sn(o.getKey(),i,Nb(o)),a}function Tb(t,e){const n=[];let r=t;for(;r!=null&&r.getParent();){const s=r.getParent();if(s){const o=s==null?void 0:s.getChildren().indexOf(r);o>=0&&n.unshift(o)}r=s}return{jsonPath:QC(n),offset:e}}function F_(){const t=se();if(!t||!Q(t))return;const e=t.isBackward()?t.focus.getNode():t.anchor.getNode(),n=t.isBackward()?t.focus.offset:t.anchor.offset,r=Tb(e,n);if(t.isCollapsed())return{start:r};const s=t.isBackward()?t.anchor.getNode():t.focus.getNode(),o=t.isBackward()?t.anchor.offset:t.focus.offset,i=Tb(s,o);return{start:r,end:i}}const B_="v",q_=1;class bn extends Qs{constructor(e="",n=!1,r,s,o,i,a){super(a),we(this,"__marker"),we(this,"__number"),we(this,"__showMarker"),we(this,"__sid"),we(this,"__altnumber"),we(this,"__pubnumber"),we(this,"__unknownAttributes"),this.__marker=B_,this.__number=e,this.__showMarker=n,this.__sid=r,this.__altnumber=s,this.__pubnumber=o,this.__unknownAttributes=i}static getType(){return"immutable-verse"}static clone(e){const{__number:n,__showMarker:r,__sid:s,__altnumber:o,__pubnumber:i,__unknownAttributes:a,__key:l}=e;return new bn(n,r,s,o,i,a,l)}static importDOM(){return{span:e=>KM(e)?{conversion:HM,priority:1}:null}}static importJSON(e){return dg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setMarker(e.marker).setNumber(e.number).setShowMarker(e.showMarker).setSid(e.sid).setAltnumber(e.altnumber).setPubnumber(e.pubnumber).setUnknownAttributes(e.unknownAttributes)}setMarker(e){if(this.__marker===e)return this;const n=this.getWritable();return n.__marker=e,n}getMarker(){return this.getLatest().__marker}setNumber(e){if(this.__number===e)return this;const n=this.getWritable();return n.__number=e,n}getNumber(){return this.getLatest().__number}setShowMarker(e=!1){if(this.__showMarker===e)return this;const n=this.getWritable();return n.__showMarker=e,n}getShowMarker(){return this.getLatest().__showMarker}setSid(e){if(this.__sid===e)return this;const n=this.getWritable();return n.__sid=e,n}getSid(){return this.getLatest().__sid}setAltnumber(e){if(this.__altnumber===e)return this;const n=this.getWritable();return n.__altnumber=e,n}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){if(this.__pubnumber===e)return this;const n=this.getWritable();return n.__pubnumber=e,n}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const n=this.getWritable();return n.__unknownAttributes=e,n}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(gh,`usfm_${this.__marker}`),this.__showMarker&&e.classList.add("marker"),e.setAttribute("data-number",this.__number),e}updateDOM(){return!1}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.setAttribute("data-marker",this.getMarker()),n.classList.add(gh,`usfm_${this.getMarker()}`),n.setAttribute("data-number",this.getNumber())),{element:n}}decorate(){return d.jsx("span",{children:this.getShowMarker()?Fl(this.getMarker(),this.getNumber()):ph+this.getNumber()+ph})}exportJSON(){return{type:this.getType(),marker:this.getMarker(),number:this.getNumber(),showMarker:this.getShowMarker(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:q_}}isKeyboardSelectable(){return!1}}function HM(t){const e=t.getAttribute("data-number")??"0";return{node:dg(e)}}function dg(t,e,n,r,s,o){return nt(new bn(t,e,n,r,s,o))}function KM(t){return((t==null?void 0:t.getAttribute("data-marker"))??void 0)===B_}function ga(t){return t instanceof bn}function WM(t){return(t==null?void 0:t.type)===bn.getType()}function Qn(t){return rg(t)||ga(t)}function GM(t){return wM(t)||WM(t)}function JM(t,e,n,r,s,o,i){if(!qt.isValidMarker(t))throw new Error(`$insertNote: Invalid note marker '${t}'`);const a=n?ug(n):se();if(!Q(a))return;const l=XM(a,t,r,i);if(l===void 0)return;const c=z_(t,e,l,s,o);return U_(c,a,s),c}function U_(t,e,n){const r=(n==null?void 0:n.noteMode)==="collapsed";if(t.setIsCollapsed(r),e.isCollapsed()||EM(e),e.insertNodes([t]),!r){const s=t.getChildren().reverse().find(Qe);s==null||s.selectEnd()}}function XM(t,e,n,r){const s=[],{chapterNum:o,verseNum:i}=n??{};switch(e){case"f":case"fe":case"ef":case"efe":if(o!==void 0&&i!==void 0&&s.push(Lr("fr").append(De(`${o}:${i}`))),!t.isCollapsed()){const a=t.getTextContent().trim();if(a.length>0){const l=Lr("fq");l.append(De(a)),s.push(l)}}s.push(Lr("ft").append(De($e)));break;case"x":case"ex":o!==void 0&&i!==void 0&&s.push(Lr("xo").append(De(`${o}:${i}`))),s.push(Lr("xt").append(De($e)));break;default:r==null||r.warn(`$createNoteChildren: Unsupported note marker '${e}'`);return}return s}function z_(t,e,n,r,s,o){const i=(r==null?void 0:r.noteMode)!=="expanded",a=ng(t,e,i);o&&as(a,Bo,()=>o);let l,c;(r==null?void 0:r.markerMode)==="editable"?(l=Ki(t),c=Ki(t,"closing")):(r==null?void 0:r.markerMode)==="visible"&&(l=Wi("marker",ys(t)+$e),c=Wi("marker",Hi(t)+$e));let u;if(l&&a.append(l),(r==null?void 0:r.markerMode)==="editable")e===""?a.append(...n):(u=De(ig(a.__caller)),a.append(u,...n));else{const f=()=>De($e),h=n.flatMap(QM(f));if(e==="")a.append(...h);else{const p=ag(n);let g=()=>{};s!=null&&s.noteCallerOnClick&&(g=s.noteCallerOnClick),u=gg(a.__caller,p,g),a.append(u,f(),...h)}}return c&&a.append(c),a}function Ab(t){var e;if(typeof t=="string"){const s=Te(t);return Pe(s)?s:void 0}const n=Ol();if(n.length<=0)return;const r=(e=n.filter(s=>Pe(s.node))[t])==null?void 0:e.node;if(Pe(r))return r}function YM(t,e){const n=(e==null?void 0:e.noteMode)==="collapsed";if(t.setIsCollapsed(n),n){const r=t.getPreviousSibling();if(ga(r)||!r){const s=t.getParent();if(s){const o=t.getIndexWithinParent();s.select(o,o)}}else r.selectEnd()}else{const r=t.getChildren().reverse().find(Qe);r==null||r.selectEnd()}}function QM(t){return e=>mu(e)?[e]:[e,t()]}function ZM(t){return t.find(e=>on(e))}function eO(t,e){return X(t)?t.getChildren().find(n=>Qn(n)&&lg(e,n.getNumber())):void 0}function tO(t,e){return e===0?ZM(t):t.map(n=>eO(n,e)).filter(n=>n)[0]}function Db(t){return!t||!X(t)?void 0:t.getChildren().findLast(e=>Qn(e))}function V_(t){var e,n;if(!t||Yn(t))return;if(Qn(t))return t;let r=Qt(t.getParent())?(e=t.getParent())==null?void 0:e.getPreviousSibling():t.getPreviousSibling();for(;r&&!Qn(r)&&!Yn(r);)r=r.getPreviousSibling();if(r&&Qn(r))return r;let s=(n=t.getTopLevelElement())==null?void 0:n.getPreviousSibling(),o=Db(s),i=o;for(;s&&!o&&!Yn(s);)o=i,s=s.getPreviousSibling(),i=Db(s);if(!(!o&&Yn(s)))return o}function nO(t){return vM(t)||ga(t)}function fg(t){if(ne(t)){const e=t.getTextContent();!e.endsWith(" ")&&!e.endsWith($e)&&t.setTextContent(`${e} `)}}function H_(t){if(ne(t)){const e=t.getTextContent();e.startsWith(" ")&&t.setTextContent(e.trimStart())}}function hg(t,e){return t.getEditorState().read(()=>!Te(e))}const rO=["style"],sO=["style","code"],yu=["style","cid"],oO=["style","number","sid","altnumber","pubnumber"],iO=["style","number","sid","altnumber","pubnumber"],aO=["style","sid","eid"],lO=["style","caller","category","contents"],cO=["chapter","immutable-chapter","verse","immutable-verse","ms","note","unmatched"],pl=`
`;function uO(t,e){const n=Te(t);if(!yr(n))return;const r=K_(n);return r===void 0?void 0:[{retain:r},...e,{delete:1}]}function K_(t){if(!t)return;const e=Ol();let n=0;const r=[];let s,o;const i=t.getKey();let a;for(const l of e){const c=l.node;for(let u=r.length-1;u>=0;u--)if(gl(r[u],l)){const f=r[u];if(r.splice(u,1),n+=1,a&&f.getKey()===a.getKey())return n-1}if(s&&gl(s,l)&&(s=void 0,o=void 0),s){if(c.getKey()===i)return o;continue}if(c.getKey()===i){if(ne(c)||yr(c))return n;tr(c)&&(a=c)}if(tr(c)&&(r.includes(c)||r.push(c)),Pe(c)){s=c,o=n,n+=1;continue}n+=W_(c)}if(a)return n}function Mb(t,e){if(t.length<2||!hO(t[0])||!fO(t[1]))return;const n=t[0].retain;return e.read(()=>{const r=dO(n);return r==null?void 0:r.getKey()})}function dO(t){const e=Ol();let n=0;const r=[];let s,o;for(const i of e){const a=i.node;for(let c=r.length-1;c>=0;c--)if(gl(r[c],i)){const u=r[c];if(r.splice(c,1),n===t)return u;n+=1}if(s&&gl(s,i)&&(s=void 0,o=void 0),s){if(o===t)return s;continue}if(tr(a)&&(r.includes(a)||r.push(a)),Pe(a)){if(s=a,o=n,n===t)return a;n+=1;continue}const l=W_(a);if(ne(a)&&l>0&&t>=n&&t<n+l||yr(a)&&n===t)return a;n+=l}for(const i of r){if(n===t)return i;n+=1}}function gl(t,e){return t?e?!CM(e.node,t.getKey()):!0:!1}function yr(t){return Yn(t)||Qn(t)||od(t)||Pe(t)||$_(t)}function tr(t){return cr(t)||Vr(t)}function Ta(t,e){return e.insert!=null&&typeof e.insert=="object"&&t in e.insert}function fO(t){if(t.insert==null||typeof t.insert!="object")return!1;const e=Object.keys(t.insert)[0];return t.insert!=null&&typeof t.insert=="object"&&e in t.insert&&cO.includes(e)}function hO(t){return t.retain!=null&&typeof t.retain=="number"}function W_(t){return ne(t)?t.getTextContentSize():yr(t)?1:0}function xh(t,e){const n={insert:t.__text},r=na(t,Bo);if(r&&(n.attributes={segment:r}),e&&e.length>0){const s=G_(e);s&&(n.attributes={...n.attributes,char:s})}return n}function Ob(t){const e=new Pa;return t.isEmpty()||t.read(()=>{const n=Be();if(!n||n.isEmpty())return;const r=n.getChildren();if(r.length===1&&ps(r[0])&&(!r[0].getChildren()||r[0].getChildrenSize()===0))return;const s=pO();for(const o of s)e.push(o)}),e}function pg(t,e){const n=[],r=Ol(t),s=[],o=[],i={children:[],contentsOps:[]},a=new Set;for(let l=0;l<r.length;l++){const c=r[l].node;n.push(...Rb(c,l,r,s,o,i,a))}for(const l of s)n.push(...Rb(l,r.length,r,s,o,i,a));return n}function pO(){return pg()}function Rb(t,e,n,r,s,o,i){if(!t)return[];const a=[];return gO(t,a,r),wO(t,a,s,o,i),mO(t,e,n,s,i,o,a),Yn(t)&&a.push(vO(t)),Qn(t)&&a.push(_O(t)),od(t)&&a.push(CO(t)),$_(t)&&a.push(kO(t)),bO(t,a,o),a}function gO(t,e,n){if(!t.isInline()){const r=n.pop();Vr(r)?e.push(yO(r)):on(r)?e.push(xO(r)):ps(r)&&e.push({insert:pl})}tr(t)&&(n.includes(t)||n.push(t))}function wO(t,e,n,r,s){var o;if(!ne(t))return;const i=t.getParent();if(Pe(i)&&i.getFirstChild()===t)return;const a=t.getTextContent(),l=a.startsWith(Jp),c=Qe(i)?i:void 0,u=!!c&&a===$e&&c.getChildrenSize()===1,f=xh(t,n);if(r.children.includes(t)){if(!a||a===$e||l)return;(o=r.contentsOps)==null||o.push(f)}else u||l&&c||e.push(f);const h=a!==""&&!u&&!(l&&c);if(n.length>0&&h)for(const p of n)s.add(p)}function mO(t,e,n,r,s,o,i){var a;Qe(t)&&!r.includes(t)&&r.push(t);const l=n[e+1];for(const c of r.toReversed())if(gl(c,l)){if(r.pop(),!s.has(c)){const u=SO(c);o.children.includes(c)?(a=o.contentsOps)==null||a.push(u):i.push(u)}s.delete(c)}}function bO(t,e,n){var r,s;if(!Pe(t))return;Ol(t).forEach(i=>n.children.push(i.node));const o=EO(t);n.contentsOps=(s=(r=o.insert.note)==null?void 0:r.contents)==null?void 0:s.ops,e.push(o)}function yO(t){const e={style:dl,code:t.__code};return{insert:pl,attributes:{book:e}}}function vO(t){const e={style:gu,number:t.__number};return t.__sid&&(e.sid=t.__sid),t.__altnumber&&(e.altnumber=t.__altnumber),t.__pubnumber&&(e.pubnumber=t.__pubnumber),{insert:{chapter:e}}}function xO(t){const e={style:t.__marker};return{insert:pl,attributes:{para:e}}}function _O(t){const e={style:wu,number:t.__number};return t.__sid&&(e.sid=t.__sid),t.__altnumber&&(e.altnumber=t.__altnumber),t.__pubnumber&&(e.pubnumber=t.__pubnumber),{insert:{verse:e}}}function CO(t){const e={style:t.__marker};return t.__sid&&(e.sid=t.__sid),t.__eid&&(e.eid=t.__eid),{insert:{milestone:e}}}function kO(t){return{insert:{unmatched:{marker:t.__marker}}}}function EO(t){const e={style:t.__marker,caller:t.__caller};t.__category&&(e.category=t.__category),t.getChildrenSize()>1&&(e.contents={ops:[]});const n={insert:{note:e}},r=na(t,Bo);return r&&(n.attributes={segment:r}),n}function SO(t){const e={insert:""},n=G_([t]);return n&&(e.attributes={char:n}),e}function G_(t){if(t.length===0)return;const e=t.map(NO);return e.length===1?e[0]:e}function NO(t){const e={style:t.__marker},n=na(t,Fo);n&&(e.cid=n);const r=t.getUnknownAttributes();return r&&Object.keys(r).length>0&&Object.assign(e,r),e}const J_=1;class hr extends Qs{constructor(e=qo,n="",r,s){super(s),we(this,"__caller"),we(this,"__previewText"),we(this,"__onClick"),this.__caller=e,this.__previewText=n,this.__onClick=r??(()=>{})}static getType(){return"immutable-note-caller"}static clone(e){const{__caller:n,__previewText:r,__onClick:s,__key:o}=e;return new hr(n,r,s,o)}static importDOM(){return{span:e=>AO(e)?{conversion:TO,priority:1}:null}}static importJSON(e){return gg().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setCaller(e.caller).setPreviewText(e.previewText).setOnClick(e.onClick)}setCaller(e){if(this.__caller===e)return this;const n=this.getWritable();return n.__caller=e,n}getCaller(){return this.getLatest().__caller}setPreviewText(e){if(this.__previewText===e)return this;const n=this.getWritable();return n.__previewText=e,n}getPreviewText(){return this.getLatest().__previewText}setOnClick(e){if(this.__onClick===e)return this;const n=this.getWritable();return n.__onClick=e,n}getOnClick(){return this.getLatest().__onClick}createDOM(){const e=document.createElement("span");return e.classList.add(this.__type),e.setAttribute("data-caller",this.__caller),e.setAttribute("data-preview-text",this.__previewText),e}updateDOM(e){return e.__caller!==this.__caller}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&et(n)&&(n.classList.add(this.getType()),n.setAttribute("data-caller",this.getCaller()),n.setAttribute("data-preview-text",this.getPreviewText())),{element:n}}decorate(e){const n=this.getParent();if(!n)return null;const r=n.getKey(),s=n.getIsCollapsed(),o=this.__key,i=l=>{var c;return(c=this.__onClick)==null?void 0:c.call(this,l,r,s,()=>DO(e,r),u=>MO(e,r,o,u),()=>OO(e,r))},a=`${this.__caller}_${this.__previewText}}`.replace(/\s+/g,"").substring(0,25);return d.jsx("button",{onClick:i,title:this.__previewText,"data-caller-id":a,children:this.__caller===qo&&s?"":this.__caller})}exportJSON(){return{type:this.getType(),caller:this.getCaller(),previewText:this.getPreviewText(),onClick:this.getOnClick(),version:J_}}isKeyboardSelectable(){return!1}}function TO(t){const e=t.getAttribute("data-caller")??"",n=t.getAttribute("data-preview-text")??"";return{node:gg(e,n)}}function gg(t,e,n){return nt(new hr(t,e,n))}function AO(t){return t?t.classList.contains(hr.getType()):!1}function so(t){return t instanceof hr}function DO(t,e){return t.read(()=>{const n=Te(e);if(!Pe(n))throw new Error(`getNoteCaller: Note node not found: ${e}`);return n.getCaller()})}function MO(t,e,n,r){t.update(()=>{const s=Te(e);if(!Pe(s))throw new Error(`setNoteCaller: Note node not found: ${e}`);s.setCaller(r);const o=Te(n);if(!so(o))throw new Error(`setNoteCaller: Caller node not found: ${n}`);o.setCaller(r)})}function OO(t,e){return t.read(()=>{const n=Te(e);if(!Pe(n))throw new Error(`getNoteOps: Note node not found: ${e}`);return pg(n)})}const RO=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],jO=[hr,bn,...UM],IO=b.forwardRef((t,e)=>{const{coords:n,children:r,style:s,...o}=t,i=n!==void 0;return d.jsx("div",{ref:e,className:"floating-box","aria-hidden":!i,style:{...s,position:"absolute",zIndex:1e3,top:n==null?void 0:n.y,left:n==null?void 0:n.x,visibility:i?"visible":"hidden",opacity:i?1:0},...o,children:r})});function LO(){const[t,e]=b.useState(void 0),[n,r]=b.useState(),s=b.useRef(null),o=b.useCallback((a,l)=>{s.current&&s.current();const c=a.commonAncestorContainer.nodeType===a.commonAncestorContainer.TEXT_NODE?a:a.commonAncestorContainer;s.current=MT(c,l,()=>{jT(c,l,{placement:"bottom-start",middleware:[OT(),RT()]}).then(u=>{r(u.placement),e(f=>(f==null?void 0:f.x)===u.x&&(f==null?void 0:f.y)===u.y?f:{x:u.x,y:u.y})}).catch(()=>{e(void 0)})})},[]),i=b.useCallback(()=>{s.current&&(e(void 0),s.current(),s.current=null)},[]);return b.useEffect(()=>i,[i]),{coords:t,placement:n,updatePosition:o,cleanup:i}}function PO({isOpen:t,floatingBoxRef:e}){const{coords:n,updatePosition:r,cleanup:s,placement:o}=LO();return b.useEffect(()=>{var i;if(!t||!e.current){s();return}const a=(i=window.getSelection())==null?void 0:i.getRangeAt(0);if(!a){s();return}return r(a,e.current),s},[s,t,e,r]),{coords:n,placement:o}}const $O=document.body,FO=b.memo(IO);function BO({isOpen:t=!1,children:e}){const n=b.useRef(null),{coords:r,placement:s}=PO({isOpen:t,floatingBoxRef:n}),o=b.useMemo(()=>r?typeof e=="function"?e:()=>e:()=>null,[e,r]);return Xn.createPortal(d.jsx(FO,{ref:n,coords:r,style:r?void 0:{display:"none"},children:o({isOpen:t,placement:s})}),$O)}const X_=b.createContext(void 0);function wg(){const t=b.useContext(X_);if(!t)throw new Error("useMenuContext must be used within a MenuProvider");return t}function qO(t,e){const[n,r]=b.useState(0),[s,o]=b.useState(-1),i=b.useMemo(()=>t??[],[t]),a={menuItems:i,activeIndex:n,selectedIndex:s,onSelectOption:e??(()=>{})},l=b.useCallback(()=>{r(f=>{const h=i.length;return h?(f-1+h)%h:0})},[i.length]),c=b.useCallback(()=>{r(f=>{const h=i.length;return h?(f+1)%h:0})},[i.length]),u=b.useCallback(()=>{const f=i.length;if(n>=0&&n<f){const h=i[n];e==null||e(h),o(n)}},[n,i,e]);return{state:a,moveUp:l,moveDown:c,select:u,setActiveIndex:r,setSelectedIndex:o}}function UO({children:t,menuItems:e,onSelectOption:n,...r}){const s=qO(e,n);return d.jsx(X_.Provider,{value:s,children:d.jsx("div",{...r,children:t})})}const Y_=b.forwardRef(({index:t,children:e,onMouseEnter:n,onClick:r,...s},o)=>{const{state:{activeIndex:i},setActiveIndex:a,setSelectedIndex:l,select:c}=wg(),u=b.useCallback(h=>{c(),l(-1),r==null||r(h)},[r,c,l]),f=b.useCallback(h=>{a(t),n==null||n(h)},[t,a,n]);return d.jsx("button",{ref:o,role:"menuitem",...s,onClick:u,onMouseEnter:f,"aria-selected":t!==void 0&&i===t?"true":void 0,tabIndex:-1,children:e})});function zO({children:t,autoIndex:e=!0,...n}){const r=b.useRef(null),{state:{activeIndex:s,menuItems:o}}=wg(),i=b.useMemo(()=>o?typeof t=="function"?t:()=>t:()=>null,[t,o]),a=b.useMemo(()=>{const l=i(o);return e?b.Children.map(l,(c,u)=>b.isValidElement(c)&&c.type===Y_&&c.props.index===void 0?b.cloneElement(c,{index:u}):c):l},[i,e,o]);return b.useEffect(()=>{if(r.current){const l=r.current,c=l.children[s];if(c){const u=l.getBoundingClientRect(),f=c.getBoundingClientRect();f.bottom>u.bottom?l.scrollTop+=f.bottom-u.bottom:f.top<u.top&&(l.scrollTop-=u.top-f.top)}}},[s]),d.jsx("div",{ref:r,role:"menu",...n,children:a})}const df={Root:UO,Options:zO,Option:Y_},VO=(t,e,n)=>Oc(t,n).toLowerCase().includes(e.toLowerCase()),jb=t=>Object.keys(t).find(e=>typeof t[e]=="string")||"",Oc=(t,e)=>{const n=t[e];return typeof n=="string"?n:String(n)};function HO(t){const{query:e,items:n,filterBy:r,filter:s,sortBy:o,sortingOptions:i}=t,{caseSensitive:a=!1,priorityOrder:l=["exact","startsWith","contains"]}=i||{},c=a?e:e.toLowerCase();let u,f;s?(f=s,u=n.length>0?jb(n[0]):""):(u=r||(n.length>0?jb(n[0]):""),f=(g,w)=>VO(g,w,u));const h=o||u,p=new Map;return n.filter(g=>{try{return f(g,e)}catch(w){return console.warn("Error filtering item:",g,w),!1}}).sort((g,w)=>{const y=C=>(p.has(C)||p.set(C,Oc(C,h).toLowerCase()),p.get(C)??""),_=a?Oc(g,h):y(g),v=a?Oc(w,h):y(w);for(const C of l)switch(C){case"exact":if(_===c&&v!==c)return-1;if(v===c&&_!==c)return 1;break;case"startsWith":if(_.startsWith(c)&&!v.startsWith(c))return-1;if(v.startsWith(c)&&!_.startsWith(c))return 1;break;case"contains":{const M=_.indexOf(c),j=v.indexOf(c);if(M!==-1&&j===-1)return-1;if(j!==-1&&M===-1)return 1;if(M!==-1&&j!==-1)return M-j;break}}return _.localeCompare(v)})}function KO(t){const{query:e,items:n,filterBy:r,filter:s,sortBy:o,sortingOptions:i}=t;return b.useMemo(()=>HO({query:e,items:n,filterBy:r,filter:s,sortBy:o,sortingOptions:i}),[e,n,r,s,o,i])}function WO(){const{moveUp:t,moveDown:e,select:n}=wg();return b.useMemo(()=>({moveUp:t,moveDown:e,select:n}),[t,e,n])}const GO=()=>{const t=WO(),[e]=Oe();b.useEffect(()=>{const n=r=>{const s={ArrowDown:()=>t==null?void 0:t.moveDown(),ArrowUp:()=>t==null?void 0:t.moveUp(),Enter:()=>t==null?void 0:t.select(),Tab:()=>t==null?void 0:t.select()}[r.key];return s?(s(),r.preventDefault(),r.stopPropagation(),!0):!1};return e.registerCommand(ra,n,qu)},[e,t])};function JO(){return GO(),null}function XO(t){const{options:e,onSelectOption:n,onClose:r,inverse:s,query:o,menuOpenKey:i}=t,[a]=Oe(),l=o!==void 0,[c,u]=b.useState(""),f=l?o??"":c,h=KO({query:f,items:e,filterBy:"name"}),p=g=>{r==null||r(),n?n(g):g.action(a)};return b.useEffect(()=>a.registerCommand(ra,g=>{if(l)return!1;const w={Escape:()=>r==null?void 0:r(),Backspace:()=>{f.length===0?r==null||r():u(y=>y.slice(0,-1))}}[g.key];return w?(g.stopPropagation(),g.preventDefault(),w(),!0):g.key.length===1?(g.stopPropagation(),g.preventDefault(),g.key!==i&&u(y=>y+g.key),!0):!1},qu),[a,l,f,i,r]),d.jsxs(df.Root,{className:`autocomplete-menu-container ${s?"inverse":""}`,menuItems:h,onSelectOption:g=>p(g),children:[!l&&d.jsx("input",{value:f,type:"text",disabled:!0}),d.jsx(JO,{}),d.jsx(df.Options,{className:"autocomplete-menu-options",autoIndex:!1,children:g=>g.map((w,y)=>d.jsxs(df.Option,{index:y,children:[d.jsx("span",{className:"label",children:w.label??w.name}),d.jsx("span",{className:"description",children:w.description})]},w.name))})]})}function YO({trigger:t,items:e}){const[n]=Oe(),[r,s]=b.useState(!1),o=b.useCallback(i=>{i.key==="Escape"&&r?(s(!1),n.focus()):i.key===t&&!r&&(i.preventDefault(),s(!0))},[n,t,r]);return b.useEffect(()=>n.registerRootListener(i=>{if(i)return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}}),[n,o]),b.useEffect(()=>n.registerUpdateListener(({prevEditorState:i,editorState:a})=>{const l=i.read(()=>{const c=se();if(Q(c))return c});a.read(()=>{const c=se();!Q(c)||l!=null&&l.is(c)||s(!1)})}),[n]),e&&d.jsx(BO,{isOpen:r,children:({placement:i})=>d.jsx(XO,{options:e,onClose:()=>s(!1),inverse:i==="top-start",menuOpenKey:t})})}function QO({scriptureReference:t,contextMarker:e,getMarkerAction:n}){return{markersMenuItems:b.useMemo(()=>{if(!e||!t)return;const r=kb(e);if(r!=null&&r.children)return Object.values(r.children).flatMap(s=>s.map(o=>{const i=kb(o),{action:a}=n(o,i);return{name:o,label:o,description:(i==null?void 0:i.description)??"",action:l=>{a({editor:l,reference:t})}}}))},[e,n,t])}}function Rc(t,e){return`${t}:${e}`}function ZO(t,e){b.useEffect(()=>{if(!t.hasNodes([Xt]))throw new Error("AnnotationPlugin: TypedMarkNode not registered on editor!");const n=new Map;return Rt(yv(t,Xt,r=>hl(r.getTypedIDs()),(r,s)=>{for(const[o,i]of Object.entries(r.getTypedIDs()))i.forEach(a=>{s.addID(o,a)})}),t.registerMutationListener(Xt,r=>{t.getEditorState().read(()=>{for(const[s,o]of r){const i=Te(s);let a={};o==="destroyed"?a=n.get(s)??{}:Qt(i)&&(a=i.getTypedIDs());for(const[l,c]of Object.entries(a))if(!Xt.isReservedType(l))for(const u of c){let f=e.get(Rc(l,u));a[l]=c,n.set(s,a),o==="destroyed"?f!==void 0&&(f.delete(s),f.size===0&&e.delete(Rc(l,u))):(f===void 0&&(f=new Set,e.set(Rc(l,u),f)),f.has(s)||f.add(s))}}})},{skipInitialization:!0}))},[t,e])}const eR=b.forwardRef(function({logger:t},e){const[n]=Oe(),r=b.useMemo(()=>new Map,[]);return ZO(n,r),b.useImperativeHandle(e,()=>({addAnnotation(s,o,i){if(Xt.isReservedType(o))throw new Error(`addAnnotation: Can't directly add this reserved annotation type '${o}'. Use the appropriate plugin instead.`);n.update(()=>{const a=ug(s);if(a===void 0){t==null||t.error("Failed to find start or end node of the annotation.");return}I_(a,o,i)},{tag:mh})},removeAnnotation(s,o){if(Xt.isReservedType(s))throw new Error(`removeAnnotation: Can't directly remove this reserved annotation type '${s}'. Use the appropriate plugin instead.`);const i=r.get(Rc(s,o));i!==void 0&&setTimeout(()=>{n.update(()=>{for(const a of i){const l=Te(a);Qt(l)&&(l.deleteID(s,o),l.hasNoIDsForEveryType()&&j_(l))}},{tag:mh})})}})),null});function tR({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){const[r]=Oe();return b.useLayoutEffect(()=>{if(n)return r.registerUpdateListener(s=>{const{editorState:o,dirtyElements:i,dirtyLeaves:a,prevEditorState:l,tags:c}=s;if(e&&i.size===0&&a.size===0||t&&c.has(xo)||l.isEmpty())return;const u=nR(r,s);u.length!==0&&n(o,r,c,u)})},[r,t,e,n]),null}function nR(t,{dirtyLeaves:e,prevEditorState:n}){let r=new Pa;return t.getEditorState().read(()=>{const s=e.values().next().value??"";if(e.size===1&&ne(Te(s))){const o=Te(s),i=K_(o);if(ne(o)&&i!==void 0){const a=n.read(()=>{const u=Te(s);return new Pa([ne(u)?xh(u):{insert:""}])}),l=new Pa([xh(o)]),c=new Pa(i>0?[{retain:i}]:[]);r=r.concat(c).concat(a.diff(l))}}else{const o=Ob(n),i=Ob(t.getEditorState());r=o.diff(i)}}),r.ops}function rR(t,e,n,r){let s=0;t.forEach(o=>{if("retain"in o)s+=sR(o,s,e,r);else if("delete"in o){if(typeof o.delete!="number"||o.delete<=0){r==null||r.error(`Invalid delete operation: ${JSON.stringify(o)}`);return}r==null||r.debug(`Delete: ${o.delete}`),iR(s,o.delete,r)}else"insert"in o?typeof o.insert=="string"?(r==null||r.debug(`Insert: '${o.insert}'`),s+=aR(s,o.insert,o.attributes,e,r)):typeof o.insert=="object"&&o.insert!==null?(r==null||r.debug(`Insert embed: ${JSON.stringify(o.insert)}`),cR(s,o,e,n,r)?s+=1:r==null||r.error(`Failed to process insert embed operation: ${JSON.stringify(o.insert)} at index ${s}. Document may be inconsistent.`)):r==null||r.error(`Insert of unknown type: ${JSON.stringify(o.insert)}`):r==null||r.error(`Unknown operation: ${JSON.stringify(o)}`)})}function sR(t,e,n,r){return typeof t.retain!="number"||t.retain<0?(r==null||r.error(`Invalid retain operation: ${JSON.stringify(t)}`),0):(r==null||r.debug(`Retain: ${t.retain}`),t.attributes&&(r==null||r.debug(`Retain attributes: ${JSON.stringify(t.attributes)}`),oR(e,t.retain,t.attributes,n,r)),t.retain)}function oR(t,e,n,r,s){s==null||s.debug(`Applying attributes for range [${t}, ${t+e-1}] with attributes: ${JSON.stringify(n)}`);let o=e,i=0,a=-1;const l=Be();function c(u){if(o<=0)return!0;if(ne(u)){const f=u.getTextContentSize();if(t<i+f&&i<t+e){const h=Math.max(0,t-i),p=f-h,g=Math.min(o,p);if(g>0){let w=u;const y=h>0,_=g<f-h;if(y&&_){const[,v]=u.splitText(h);[w]=v.splitText(g)}else y?[,w]=u.splitText(h):_&&([w]=u.splitText(g));if(Vo(n)){const v=w.getParent();if(Qe(v)){const C=n.char;let M;Array.isArray(C)?a>=0&&a<=C.length-1&&(M=C[a]):a===0&&(M=C);const j=M?zo(M,v):!1;if(j&&Array.isArray(C)&&C.length>1){const S=De("");w.replace(S);const L=typeof n.segment=="string"?n.segment:void 0,A=ql(C.slice(1),r,w,L);let O=S;for(const F of A)O.insertAfter(F),O=F;S.remove(),Gn(n,w)}else if(j)Gn(n,w);else{w.remove();const S=Ib(w,n,r,s);if(S&&S.length>0){let L=v;for(const A of S)L.insertAfter(A),L=A}}}else{const C=De("");w.replace(C);const M=Ib(w,n,r,s);if(M&&M.length>0){let j=C;for(const S of M)j.insertAfter(S),j=S;C.remove()}else C.replace(w)}}else Gn(n,w);o-=g}}i+=f}else if(yr(u))t<=i&&i<t+e&&o>0&&(Lb(u,n),o-=1),i+=1;else if(Qe(u)){a+=1;let f=!1;if(t<=i&&i<t+e&&o>0)if(Vo(n)){const h=n.char;let p;if(Array.isArray(h)?a>=0&&a<=h.length-1&&(p=h[a]):a===0&&(p=h),p){u.setMarker(p.style),typeof p.cid=="string"&&as(u,Fo,()=>p.cid);const g=Ut(p,yu);g&&Object.keys(g).length>0?u.setUnknownAttributes({...u.getUnknownAttributes()??{},...g}):u.setUnknownAttributes(void 0)}}else(n.char===!1||n.char===null||mR(n.char))&&(f=!0);if(o>0){const h=u.getChildren();for(const p of h){if(o<=0)break;if(c(p)&&o<=0)return f&&Jw(u),!0}}f&&Jw(u),a-=1}else if(tr(u)){const f=u.getChildren();for(const p of f){if(o<=0)break;if(c(p)&&o<=0)return!0}const h=1;if(t<=i&&i<t+o&&o>0){if(!ps(u))Lb(u,n);else if(mg(n)){const p=Z_(n.para);p&&u.replace(p,!0)}o-=h}i+=h}else if(X(u)){const f=u.getChildren();for(const h of f){if(o<=0)break;if(c(h)&&o<=0)return!0}}return o<=0}c(l),o>0&&(s==null||s.warn(`$applyAttributes: Not all characters in the retain operation (length ${e}) could be processed. Remaining: ${o}. targetIndex: ${t}, final currentIndex: ${i}`))}function Ib(t,e,n,r){var s;const o=typeof e.segment=="string"?e.segment:void 0,i=ql(e.char,n,t,o),a=i.find(Qe);if(!a){r==null||r.error(`Failed to create CharNode for text transformation. Style: ${Array.isArray(e.char)?e.char[0].style:(s=e.char)==null?void 0:s.style}. Falling back to standard text attributes.`),Gn(e,t);return}const l={};e2.forEach(f=>{t.hasFormat(f)&&(l[f]="true")});const c={};Object.entries(e).forEach(([f,h])=>{f==="segment"||f==="char"||(typeof h=="string"?c[f]=h:h===!0?c[f]="true":h===!1&&(c[f]="false"))});const u={...a.getUnknownAttributes()??{},...l,...c};return Object.keys(u).length>0&&a.setUnknownAttributes(u),Gn(e,t),i}function Lb(t,e){for(const n of Object.keys(e)){const r=e[n];if(n==="char"&&Qe(t)&&Vo(e)){const s=r;if(t.setMarker(s.style),typeof s.cid=="string"){const i=s.cid;as(t,Fo,()=>i)}const o=Ut(s,yu);o&&Object.keys(o).length>0&&t.setUnknownAttributes({...t.getUnknownAttributes()??{},...o});continue}typeof r=="string"&&(Yn(t)||Qn(t)||od(t)||Pe(t)||Pl(t)?t.setUnknownAttributes({...t.getUnknownAttributes()??{},[n]:r}):(Vr(t)||on(t)||Qe(t))&&(n==="style"&&!Vr(t)?t.setMarker(r):n==="code"&&Vr(t)?t.setCode(r):t.setUnknownAttributes({...t.getUnknownAttributes()??{},[n]:r})),n==="segment"&&as(t,Bo,()=>r))}}function iR(t,e,n){if(e<=0)return;const r=Be();let s=0,o=e;function i(a){if(o<=0)return!0;if(ne(a)){let l=a.getTextContentSize();if(t<s+l&&s<t+o){const c=Math.max(0,t-s),u=l-c,f=Math.min(o,u);f>0&&(a.spliceText(c,f,""),a.getTextContentSize()===0&&a.remove(),n==null||n.debug(`Deleted ${f} length from TextNode (key: ${a.getKey()}) at nodeOffset ${c}. Original targetIndex: ${t}, current currentIndex: ${s}.`),o-=f,l-=f)}s+=l}else if(yr(a))t<=s&&s<t+o?(a.remove(),n==null||n.debug(`Deleted embed node (key: ${a.getKey()}) at currentIndex: ${s}. Original targetIndex: ${t}, remainingToDelete: ${o}.`),o-=1):s+=1;else if(tr(a)){const l=a.getChildren().slice(),c=a.getChildren();for(const u of c){if(o<=0)break;if(i(u)&&o<=0)return!0}if(t<=s&&s<t+o&&tr(a)){o-=1;const u=a.getChildren().length;if(l.length>0&&u===0){const f=a.getParent();((f==null?void 0:f.getChildren())??[]).length>1?(a.remove(),n==null||n.debug(`Removed entire ParaNode that had all its content deleted at currentIndex: ${s}. Original targetIndex: ${t}, remainingToDelete: ${o}.`)):(a.replace(fr(),!0),n==null||n.debug(`Replaced last ParaNode with ImpliedParaNode at currentIndex: ${s}. Original targetIndex: ${t}, remainingToDelete: ${o}.`))}else if(o>0){const f=a.getNextSibling();if(f&&cr(f)){let h=s+1;const p=f.getChildren();for(const w of p){if(o<=0)break;const y=s;if(s=h,i(w)){s=y;break}ne(w)?h+=w.getTextContentSize():yr(w)&&(h+=1),s=y}const g=f.getChildren();for(const w of g)w.remove(),a.append(w);f.remove(),n==null||n.debug(`Merged next paragraph into current one after deleting symbolic close at currentIndex: ${s}. Original targetIndex: ${t}, remainingToDelete: ${o}.`)}else a.replace(fr(),!0)}else on(a)?a.replace(fr(),!0):a.remove()}s+=1}else if(X(a)){const l=a.getChildren();for(const c of l){if(o<=0)break;if(i(c)&&o<=0)return!0}}return o<=0}i(r),o>0&&(n==null||n.warn(`Delete operation could not remove all requested characters. Remaining to delete: ${o}. Original targetIndex: ${t}, OT length: ${e}. Final currentIndex: ${s}`))}function aR(t,e,n,r,s){if(e===pl)return Pb(t,n,s);if(e.endsWith(pl)&&!mg(n)){const o=e.slice(0,-1);let i=0;if(o.length>0){if(Vo(n))throw new Error("Text + LF should not have char attributes");i+=vu(t,o,n,s)}return i+=Pb(t+i,n,s),i}else return Vo(n)?lR(t,e,n,r,s):vu(t,e,n,s)}function lR(t,e,n,r,s){s==null||s.debug(`Attempting to insert CharNode with text "${e}" and attributes ${JSON.stringify(n.char)} at index ${t}`);const o=De(e===""?$e:e);Gn(n,o);let i;{let p=function(y){if(ne(y)){const _=y.getTextContentSize();if(t>=w&&t<w+_){const v=y.getParent();return Qe(v)&&(i=v),!0}w+=_}else if(yr(y))w+=1;else if(Qe(y)){const _=y.getChildren();for(const v of _)if(p(v))return!0}else if(X(y)){const _=y.getChildren();for(const v of _)if(p(v))return!0;tr(y)&&(w+=1)}return!1};const g=Be();let w=0;p(g)}let a=n.char;if(Array.isArray(a)){if(i){const p=a[0];p&&zo(p,i)?(a=a.slice(1),a.length===1&&(a=a[0])):i=void 0}}else i&&(zo(a,i)||(i=void 0));const l=typeof n.segment=="string"?n.segment:void 0,c=ql(a,r,o,l,i?[i]:void 0);if(c.length===0)return e.length;const u=c.find(Qe);if(!u)return s==null||s.error(`CharNode style is missing for text "${e}". Attributes: ${JSON.stringify(n.char)}. Falling back to rich text insertion.`),vu(t,e,void 0,s);const f={};for(const[p,g]of Object.entries(n))p!=="char"&&p!=="segment"&&typeof g=="string"&&(f[p]=g);Object.keys(f).length>0&&u.setUnknownAttributes(f);let h=!0;for(const p of c)if(!Q_(t,p,s)){h=!1;break}return h?e.length:(s==null||s.error(`Failed to insert CharNode with text "${e}" at index ${t}. Falling back to rich text.`),vu(t,e,void 0,s))}function vu(t,e,n,r){if(e.length<=0)return r==null||r.debug("Attempted to insert empty string. No action taken."),0;const s=Be();let o=0,i=!1;function a(l){if(i)return!0;if(ne(l)){const c=l.getTextContentSize();if(t>=o&&t<=o+c){const u=t-o,f=De(e);if(Gn(n,f),u===0)l.insertBefore(f);else if(u===c){const h=l.getParent();Qe(h)&&!Vo(n)?h.insertAfter(f):l.insertAfter(f)}else{const[,h]=l.splitText(u);h.insertBefore(f)}return r==null||r.debug(`Inserted text "${e}" in/around TextNode (key: ${l.getKey()}) at nodeOffset ${u}. Original targetIndex: ${t}, currentIndex at node start: ${o}.`),i=!0,!0}o+=c}else if(yr(l))o+=1;else if(Qe(l)){if(!i&&t===o){const u=De(e);Gn(n,u);const f=l.getFirstChild();return f?f.insertBefore(u):l.append(u),r==null||r.debug(`Inserted text "${e}" at beginning of CharNode ${l.getType()} (key: ${l.getKey()}).`),i=!0,!0}const c=l.getChildren();for(const u of c){if(a(u))return!0;if(i)break}if(!i&&t===o){const u=De(e);return Gn(n,u),l.append(u),r==null||r.debug(`Appended text "${e}" to end of CharNode ${l.getType()} (key: ${l.getKey()}).`),i=!0,!0}}else if(tr(l)){if(!i&&t===o){const u=De(e);Gn(n,u);const f=l.getFirstChild();return f?f.insertBefore(u):l.append(u),r==null||r.debug(`Inserted text "${e}" at beginning of container ${l.getType()} (key: ${l.getKey()}).`),i=!0,!0}const c=l.getChildren();for(const u of c){if(a(u))return!0;if(i)break}if(!i&&t===o){const u=De(e);return Gn(n,u),l.append(u),r==null||r.debug(`Appended text "${e}" to end of container ${l.getType()} (key: ${l.getKey()}).`),i=!0,!0}o+=1}else if(X(l)){const c=l.getChildren();for(const u of c){if(a(u))return!0;if(i)break}}return i}if(a(s),!i&&t===o){r==null||r.debug(`Insertion point matches end of document (targetIndex: ${t}, final currentIndex: ${o}). Appending text to new ParaNode.`);const l=De(e);Gn(n,l);const c=fr().append(l);s.append(c),i=!0}return i?e.length:(r==null||r.warn(`$insertRichText: Could not find insertion point for text "${e}" at targetIndex ${t}. Final currentIndex: ${o}. Text not inserted.`),0)}function Q_(t,e,n){const r=Be();let s=0,o=!1;function i(a){if(o)return!0;if(a===r&&t===0&&!r.getFirstChild())return e.isInline()?(n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting inline node ${e.getType()} into empty root, wrapped in ImpliedParaNode. targetIndex: ${t}`),r.append(fr().append(e))):(n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting block node ${e.getType()} directly into empty root. targetIndex: ${t}`),r.append(e)),o=!0,!0;if(!X(a))return!1;const l=a.getChildren();for(const c of l){if(t===s&&!o){if(a===r&&e.isInline())if(cr(c)){n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting inline node ${e.getType()} into existing ${c.getType()} at beginning. targetIndex: ${t}`);const u=c.getFirstChild();u?u.insertBefore(e):c.append(e)}else n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting inline node ${e.getType()} into root before ${c.getType()}, wrapping in ImpliedParaNode. targetIndex: ${t}`),c.insertBefore(fr().append(e));else c.insertBefore(e),n==null||n.debug(`$insertNodeAtCharacterOffset: Inserted node ${e.getType()} (key: ${e.getKey()}) before child ${c.getType()} (key: ${c.getKey()}) in ${a.getType()} (key: ${a.getKey()}). targetIndex: ${t}, currentIndex: ${s}`);return o=!0,!0}if(ne(c)){const u=c.getTextContentSize();if(!o&&t>s&&t<s+u){const f=t-s,[h]=c.splitText(f);return h.insertAfter(e),n==null||n.debug(`$insertNodeAtCharacterOffset: Inserted node ${e.getType()} (key: ${e.getKey()}) by splitting TextNode (key: ${c.getKey()}) at offset ${f}. targetIndex: ${t}, currentIndex at node start: ${s}`),o=!0,!0}s+=u}else if(yr(c))s+=1;else if(Qe(c)){if(i(c))return!0}else if(tr(c)){const u=c;if(i(u))return!0;const f=s;if(ps(u)&&tr(e)&&t===f&&!o)return n==null||n.debug(`$insertNodeAtCharacterOffset: Replacing ImpliedParaNode (key: ${u.getKey()}) with block node '${e.getType()}' (key: ${e.getKey()}) at OT index ${t}.`),c.replace(e,!0),s=f+1,o=!0,!0;s+=1}else if(X(c)&&i(c))return!0;if(o)return!0}return X(a)&&!o&&(t===s||a===r&&t>s)?a===r?(e.isInline()?(n==null||n.debug(`$insertNodeAtCharacterOffset: Appending inline node ${e.getType()} to root. Wrapping in new ImpliedParaNode. targetIndex: ${t}, current document OT length: ${s}.`),r.append(fr().append(e))):(n==null||n.debug(`$insertNodeAtCharacterOffset: Appending block node ${e.getType()} to root. targetIndex: ${t}, current document OT length: ${s}.`),r.append(e)),o=!0,!0):cr(a)?ps(a)&&on(e)&&t===s?(n==null||n.debug(`$insertNodeAtCharacterOffset: Replacing ImpliedParaNode container (key: ${a.getKey()}) with ParaNode ${e.getType()} (key: ${e.getKey()}) via append logic. targetIndex: ${t}`),a.replace(e,!0),o=!0,!0):e.isInline()||!cr(e)?(n==null||n.debug(`$insertNodeAtCharacterOffset: Appending node ${e.getType()} to existing container ${a.getType()} (key: ${a.getKey()}). targetIndex: ${t}, container end OT index: ${s}.`),a.append(e),o=!0,!0):(n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting block node ${e.getType()} after container ${a.getType()} (key: ${a.getKey()}). targetIndex: ${t}, container end OT index: ${s}.`),a.insertAfter(e),o=!0,!0):(Qe(a)?(n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting node ${e.getType()} after CharNode (key: ${a.getKey()}). targetIndex: ${t}, element end OT index: ${s}.`),a.insertAfter(e)):e.isInline()||!cr(e)?(n==null||n.debug(`$insertNodeAtCharacterOffset: Appending node ${e.getType()} to generic element ${a.getType()} (key: ${a.getKey()}). targetIndex: ${t}, element end OT index: ${s}.`),a.append(e)):(n==null||n.debug(`$insertNodeAtCharacterOffset: Inserting block node ${e.getType()} after generic element ${a.getType()} (key: ${a.getKey()}). targetIndex: ${t}, element end OT index: ${s}.`),a.insertAfter(e)),o=!0,!0):o}return i(r),o||n==null||n.warn(`$insertNodeAtCharacterOffset: Could not find insertion point for node ${e.getType()} (key: ${e.getKey()}) at targetIndex ${t}. Final currentIndex: ${s}. Node not inserted.`),o}function cR(t,e,n,r,s){let o;return Ta("chapter",e)?o=uR(e.insert.chapter,n):Ta("verse",e)?o=dR(e.insert.verse,n):Ta("ms",e)?o=fR(e.insert.ms):Ta("unmatched",e)?o=hR(e.insert.unmatched):Ta("note",e)&&(o=pR(e,n,r,s)),o?Q_(t,o,s):(s==null||s.error(`$insertEmbedAtCurrentIndex: Cannot create LexicalNode for embed object: ${JSON.stringify(e.insert)}`),!1)}function Pb(t,e,n){let r;mg(e)?r=Z_(e.para):wR(e)&&(r=gR(e.book)),r??(r=fr());const s=r,o=on(s),i=ps(s);let a=0,l=!1;function c(u){if(l)return!0;if(ne(u)){const f=u.getTextContentSize();if(t>=a&&t<=a+f){const h=u.getParent();if(on(h)&&(o||i)){n==null||n.debug(`Splitting ParaNode (marker: ${h.getMarker()}) with LF attributes at targetIndex ${t}`);const p=t-a,[g]=p>0?u.splitText(p):[void 0];let w=g==null?void 0:g.getPreviousSibling();for(;w;){const y=w;w=w.getPreviousSibling();const _=s.getFirstChild();_?_.insertBefore(y):s.append(y)}return g&&s.append(g),h.insertBefore(s),l=!0,!0}}a+=f}else if(yr(u))a+=1;else if(tr(u)){const f=u.getChildren();for(const h of f){if(c(h))return!0;if(l)break}if(t===a){if(ps(u)&&s)return n==null||n.debug(`Replacing ImpliedParaNode (key: ${u.getKey()}) with ParaNode at targetIndex ${t}`),u.replace(s,!0),l=!0,!0;if(on(u)&&s){const h=u;return n==null||n.debug(`Creating new block node with LF attributes after existing ParaNode (marker: ${h.getMarker()}) at targetIndex ${t}`),h.insertAfter(s),l=!0,!0}}if(a+=1,t===a&&on(u)&&s)return n==null||n.debug(`Creating new block node after existing ParaNode (marker: ${u.getMarker()}) at targetIndex ${t}`),u.insertAfter(s),l=!0,!0}else if(X(u)){const f=u.getChildren();for(const h of f){if(c(h))return!0;if(l)break}}return l}return c(Be()),l||n==null||n.warn(`Could not find location to handle newline with para attributes at targetIndex ${t}. Final currentIndex: ${a}.`),1}function uR(t,e){if(!t)return;const{number:n,sid:r,altnumber:s,pubnumber:o}=t;if(!n)return;const i=Ut(t,oO);let a;if(e.markerMode==="editable")a=w_(n,r,s,o,i);else{const l=e.markerMode==="visible";a=Zp(n,l,r,s,o,i)}return a}function dR(t,e){if(!t)return;const{style:n,number:r,sid:s,altnumber:o,pubnumber:i}=t;if(!r)return;const a=Ut(t,iO);let l;if(e.markerMode==="editable"){if(!n)return;const c=Fl(n,r);l=A_(r,c,s,o,i,a)}else{const c=e.markerMode==="visible";l=dg(r,c,s,o,i,a)}return l}function fR(t){if(!t)return;const{style:e,sid:n,eid:r}=t;if(!e)return;const s=Ut(t,aO);return E_(e,n,r,s)}function hR(t){if(!t)return;const{marker:e}=t;if(e)return cg(e)}function pR(t,e,n,r){var s;const o=t.insert;if(!o.note)return;const{style:i,caller:a,category:l,contents:c}=o.note;if(!i||a==null)return;a===""&&(r==null||r.warn("Note has empty caller. Only use for note editing."));const u=Ut(o.note,lO),f=(s=t.attributes)==null?void 0:s.segment;let h;f&&typeof f=="string"&&(h=f);const p=[];for(const g of(c==null?void 0:c.ops)??[])if(typeof g.insert=="string")if(Vo(g.attributes)){const w=ql(g.attributes.char,e,De(g.insert),void 0,p);p.push(...w)}else p.push(De(g.insert));return z_(i,a,p,e,n,h).setCategory(l).setUnknownAttributes(u)}function gR(t){const{style:e,code:n}=t;if(!e||e!==dl||!n||!er.isValidBookCode(n))return;const r=Ut(t,sO);return h_(n,r)}function Z_(t){const{style:e}=t;if(!e)return;const n=Ut(t,rO);return fl(e,n)}function ql(t,e,n,r,s){if(ne(n)&&n.getTextContentSize()===0&&n.setTextContent($e),Array.isArray(t)){if(t.length===0)throw new Error("Empty charAttr array");const o=t[0],i=s==null?void 0:s[s.length-1];if(Qe(i)&&zo(o,i))return t.length>1?ql(t.slice(1),e,n).forEach(u=>i.append(u)):n&&i.append(n),[];const a=t.reduceRight((u,f,h)=>{const p=Lr(f.style,Ut(f,yu));if(typeof f.cid=="string"&&as(p,Fo,()=>f.cid),r&&h===t.length-1&&as(p,Bo,()=>r),u)if(Qe(u)){const g=u.getMarker(),w=[];ff(g,w,e),w.forEach(_=>p.append(_)),p.append(u);const y=[];hf(g,y,e),y.forEach(_=>p.append(_))}else p.append(u);return p},n),l=[],c=t[0];return ff(c.style,l,e),l.push(a),hf(c.style,l,e),l}else{const o=s==null?void 0:s[s.length-1];if(Qe(o)&&zo(t,o))return n&&o.append(n),[];const i=[];ff(t.style,i,e);const a=Lr(t.style,Ut(t,yu));return typeof t.cid=="string"&&as(a,Fo,()=>t.cid),r&&as(a,Bo,()=>r),n&&a.append(n),i.push(a),hf(t.style,i,e),i}}function ff(t,e,n){(n==null?void 0:n.markerMode)==="editable"?e.push(Ki(t)):(n==null?void 0:n.markerMode)==="visible"&&e.push(Wi("marker",ys(t)))}function hf(t,e,n,r=!1){ht.isValidFootnoteMarker(t)||ht.isValidCrossReferenceMarker(t)||((n==null?void 0:n.markerMode)==="editable"?r?e.push(Ki("","selfClosing")):e.push(Ki(t,"closing")):(n==null?void 0:n.markerMode)==="visible"&&e.push(Wi("marker",Hi(r?"":t))))}function wR(t){return!!t&&!!t.book&&typeof t.book=="object"&&t.book!==null&&"style"in t.book&&typeof t.book.style=="string"&&"code"in t.book&&typeof t.book.code=="string"}function mg(t){return!!t&&!!t.para&&typeof t.para=="object"&&t.para!==null&&"style"in t.para&&typeof t.para.style=="string"}function Vo(t){return!!t&&!!t.char&&typeof t.char=="object"&&t.char!==null&&(!Array.isArray(t.char)&&"style"in t.char&&typeof t.char.style=="string"||Array.isArray(t.char)&&t.char.length>0&&"style"in t.char[0]&&typeof t.char[0].style=="string")}function mR(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&Object.keys(t).length===0}function Gn(t,e){if(t)for(const n of Object.keys(t)){if(n==="segment"&&typeof t[n]=="string"){const r=t[n];as(e,Bo,()=>r);continue}if(bR(n)){const r=!!t[n],s=n,o=e.hasFormat(s);(r&&!o||!r&&o)&&e.toggleFormat(s)}}}const e2=["bold","underline","strikethrough","italic","highlight","code","subscript","superscript","lowercase","uppercase","capitalize"];function bR(t){return e2.includes(t)}function yR({viewOptions:t}){const[e]=Oe();return vR(e,t),null}function vR(t,e){b.useEffect(()=>{if(!t.hasNodes([bs,bn,qt]))throw new Error("ArrowNavigationPlugin: ImmutableChapterNode, ImmutableVerseNode or NoteNode not registered on editor!");const n=r=>{if(r.key!=="ArrowLeft"&&r.key!=="ArrowRight")return!1;const s=se();if(!Q(s)||!s.isCollapsed())return!1;const o=t.getRootElement();if(!o)return!1;const i=o.dir||"ltr";let a=!1;return xR(i,r.key)?a=CR(s):_R(i,r.key)&&(a=kR(s,e)),a&&r.preventDefault(),a};return t.registerCommand(ra,n,qu)},[t,e])}function xR(t,e){return t==="ltr"&&e==="ArrowRight"||t==="rtl"&&e==="ArrowLeft"}function _R(t,e){return t==="ltr"&&e==="ArrowLeft"||t==="rtl"&&e==="ArrowRight"}function CR(t){var e,n,r;const s=t.anchor.getNode(),o=xM(t);if(Pe(o)&&!Bl(o.getFirstChild())){if(cr(s)){if(t.anchor.offset===s.getChildrenSize())return!1}else if(t.anchor.offset!==s.getTextContentSize())return!1;if(o.getIsCollapsed()){if(o.is((e=o.getParent())==null?void 0:e.getLastChild()))return(r=(n=o.getParent())==null?void 0:n.getNextSibling())==null||r.selectStart(),!0}else return mu(o.getFirstChild())?o.select(2,2):o.select(1,1),!0}if(cr(s)&&Pe(o)&&o.getIsCollapsed()){const a=o.getNextSibling();return a?a.selectStart():o.selectEnd(),!0}const i=o==null?void 0:o.getParent();if(mu(o)&&Pe(i)&&o.is(i==null?void 0:i.getLastChild())){const a=i.getNextSibling();return a?a.selectStart():i.selectEnd(),!0}return!1}function kR(t,e){const n=_M(t);if($l(n)&&!n.getPreviousSibling())return!0;if(t.anchor.offset!==0)return!1;const r=t.anchor.getNode();if(Vr(r.getParent()))return!0;if(Pe(n)&&n.getIsCollapsed()){const o=n.getPreviousSibling();if(!ga(o))return!1;const i=n.getParent();if(!i)return!1;const a=n.getIndexWithinParent();return i.select(a,a),!0}if(cr(n)&&(e==null?void 0:e.noteMode)==="collapsed"){const o=n.getLastChild();if(!o)return!1;const i=wr(o,a=>Pe(a));if(Pe(i)&&i.getIsCollapsed()){const a=i.getParent();if(!a)return!1;const l=i.getIndexWithinParent();return a.select(l,l),!0}}const s=D_(r);if(!s||s.getIsCollapsed())return!1;if(so(n)){const o=s.getParent();if(!o)return!1;const i=s.getIndexWithinParent();return o.select(i,i),!0}return!1}function ER(){const[t]=Oe();return SR(t),null}function SR(t){b.useEffect(()=>{if(!t.hasNodes([ht]))throw new Error("CharNodePlugin: CharNode not registered on editor!");return Rt(t.registerNodeTransform(ht,NR),t.registerNodeTransform(an,TR))},[t])}function NR(t){if(!Qe(t))return;if(t.isEmpty()){t.remove();return}const e=t.getMarker(),n=na(t,Fo),r=t.getUnknownAttributes(),s=t.getNextSibling();Qe(s)&&zo({style:e,cid:n},s)&&os(r,s.getUnknownAttributes())&&(t.append(...s.getChildren()),s.remove());const o=t.getPreviousSibling();Qe(o)&&zo({style:e,cid:n},o)&&os(r,o.getUnknownAttributes())&&(o.append(...t.getChildren()),t.remove())}function TR(t){const e=t.getParent();if(!Qe(e)||e.getChildrenSize()!==1)return;const n=t.getTextContent();n.length>1&&n.startsWith($e)&&(t.setTextContent(n.slice(1)),t.selectEnd())}function t2(t){return t.replaceAll("	"," ")}const bg=t=>{navigator.clipboard.read().then(async e=>{if((await navigator.permissions.query({name:"clipboard-read"})).state==="denied"){alert("Not allowed to paste from clipboard.");return}const n=new DataTransfer,r=e[0];for(const o of r.types){const i=await(await r.getType(o)).text();n.setData(o,t2(i))}const s=new ClipboardEvent("paste",{clipboardData:n});t.dispatchCommand(Yo,s)})},yg=t=>{navigator.clipboard.read().then(async()=>{if((await navigator.permissions.query({name:"clipboard-read"})).state==="denied"){alert("Not allowed to paste from clipboard.");return}const e=new DataTransfer,n=await navigator.clipboard.readText();e.setData("text/plain",t2(n));const r=new ClipboardEvent("paste",{clipboardData:e});t.dispatchCommand(Yo,r)})};function AR(){const[t]=Oe();return b.useEffect(()=>{const e=n=>{const{key:r,shiftKey:s,metaKey:o,ctrlKey:i,altKey:a}=n;!(Jf?o:i)||a||(!s&&r.toLowerCase()==="c"?(n.preventDefault(),t.dispatchCommand(Xs,null)):!s&&r.toLowerCase()==="x"?(n.preventDefault(),t.dispatchCommand(Qo,null)):r.toLowerCase()==="v"&&(n.preventDefault(),s?yg(t):bg(t)))};return t.registerRootListener((n,r)=>{r!==null&&r.removeEventListener("keydown",e),n!==null&&n.addEventListener("keydown",e)})},[t]),null}function DR({logger:t}){const[e]=Oe();return b.useEffect(()=>Rt(e.registerCommand(ra,n=>n.key!=="\\"&&n.key!=="/"?!1:(n.preventDefault(),!0),Sc),e.registerCommand(Yo,n=>{var r;const s=(r=n.clipboardData)==null?void 0:r.getData("text/plain");return!s||!s.includes("\\")&&!s.includes("/")?!1:(t==null||t.info("CommandMenuPlugin: paste containing backslash or forward slash ignored."),n.preventDefault(),!0)},Sc),e.registerCommand($u,n=>{var r;const s=(r=n.dataTransfer)==null?void 0:r.getData("text/plain");return!s||!s.includes("\\")&&!s.includes("/")?!1:(t==null||t.info("CommandMenuPlugin: drag containing backslash or forward slash ignored."),n.preventDefault(),!0)},Sc)),[e,t]),null}function MR({index:t,isSelected:e,onClick:n,onMouseEnter:r,option:s}){let o="item";return e&&(o+=" selected"),s.isDisabled&&(o+=" disabled"),d.jsx("li",{tabIndex:-1,className:o,ref:s.setRefElement,role:"option","aria-selected":e,"aria-disabled":s.isDisabled,id:"typeahead-item-"+t,onMouseEnter:r,onClick:s.isDisabled?void 0:n,children:d.jsx("span",{className:"text",children:s.title})},s.key)}function OR({options:t,selectedItemIndex:e,onOptionClick:n,onOptionMouseEnter:r}){return d.jsx("div",{className:"typeahead-popover",children:d.jsx("ul",{children:t.map((s,o)=>d.jsx(MR,{index:o,isSelected:e===o,onClick:()=>n(s,o),onMouseEnter:()=>r(o),option:s},s.key))})})}class vc extends LT{constructor(e,n){super(e),we(this,"title"),we(this,"onSelect"),we(this,"isDisabled"),this.title=e,this.onSelect=n.onSelect.bind(this),this.isDisabled=n.isDisabled||!1}}function RR(t,e="editor-input"){return t?t.classList.contains(e):!1}function jR(){const[t]=Oe(),[e,n]=b.useState(()=>!t.isEditable()),r=b.useRef(void 0),s=b.useRef(void 0),o=b.useRef(void 0),i=b.useMemo(()=>[new vc("Cut",{onSelect:()=>{t.dispatchCommand(Qo,null)},isDisabled:e}),new vc("Copy",{onSelect:()=>{t.dispatchCommand(Xs,null)}}),new vc("Paste",{onSelect:()=>{bg(t)},isDisabled:e}),new vc("Paste as Plain Text",{onSelect:()=>{yg(t)},isDisabled:e})],[t,e]),a=b.useCallback((l,c,u)=>{t.update(()=>{l==null||l.onSelect(c),u()})},[t]);return b.useEffect(()=>{var l;s.current=((l=t.getRootElement())==null?void 0:l.className)??""},[t]),b.useEffect(()=>{const l=()=>{var c;(c=o.current)==null||c.call(o)};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[]),b.useEffect(()=>t.registerEditableListener(l=>{n(!l)}),[t]),d.jsx(FT,{options:i,onSelectOption:a,onWillOpen:l=>{r.current=l.target},menuRenderFn:(l,{selectedIndex:c,options:u,selectOptionAndCleanUp:f,setHighlightedIndex:h},{setMenuRef:p})=>(o.current=()=>f(void 0),l.current&&!RR(r.current,s.current)&&!__(r.current)?J1.createPortal(d.jsx("div",{className:"typeahead-popover auto-embed-menu",style:{marginLeft:l.current.style.width,userSelect:"none",width:200},ref:p,children:d.jsx(OR,{options:i,selectedItemIndex:c,onOptionClick:(g,w)=>{g.isDisabled||(h(w),f(g))},onOptionMouseEnter:g=>{h(g)}})}),l.current):null)})}function IR({isEditable:t}){const[e]=Oe();return b.useLayoutEffect(()=>{e.setEditable(t)},[e,t]),null}function LR({scripture:t,nodeOptions:e,editorAdaptor:n,viewOptions:r,logger:s}){const[o]=Oe();return b.useEffect(()=>{var i;(i=n.initialize)==null||i.call(n,e,s)},[n,s,e]),b.useEffect(()=>{var i;(i=n.reset)==null||i.call(n);const a=n.serializeEditorState(t,r);if(a==null){s==null||s.warn("LoadStatePlugin: serializedEditorState was null or undefined. Skipping editor update.");return}try{const l=o.parseEditorState(a);queueMicrotask(()=>{o.update(()=>{o.setEditorState(l),o.dispatchCommand(x0,void 0)},{tag:Yp})})}catch{s==null||s.error("LoadStatePlugin: error parsing or setting editor state.")}},[o,n,s,t,r]),null}function PR({expandedNoteKeyRef:t,nodeOptions:e,viewOptions:n,logger:r}){const[s]=Oe();return $R(e,r),FR(s,t,n,r),null}function $R(t,e){const n=b.useRef(void 0),r=t.noteCallers;b.useEffect(()=>{let s=r;(!s||s.length<=0)&&(s=RO),n.current!==s&&(n.current=s,WR("note-callers",s,e))},[e,r])}function FR(t,e,n,r){b.useEffect(()=>{if(!t.hasNodes([ht,qt,hr]))throw new Error("NoteNodePlugin: CharNode, NoteNode or ImmutableNoteCallerNode not registered on editor!");const s=o=>t.update(()=>KR(o));return Rt(t.registerNodeTransform(qt,o=>BR(o,n)),t.registerNodeTransform(ht,qR),t.registerNodeTransform(an,UR),t.registerNodeTransform(hr,zR),t.registerMutationListener(hr,(o,{prevEditorState:i})=>VR(o,i)),t.registerCommand(Js,()=>HR(t,e,n,r),ei),t.registerRootListener((o,i)=>{i!==null&&i.removeEventListener("dblclick",s),o!==null&&o.addEventListener("dblclick",s)}))},[t,e,r,n])}function BR(t,e){const n=t.getChildren();if(!n.some(r=>so(r))&&(e==null?void 0:e.markerMode)!=="editable"&&t.getCaller()!==""&&t.remove(),n.length>0){const r=n[0];ne(r)&&!Bl(r)&&t.insertBefore(r)}}function qR(t){const e=t.getParentOrThrow(),n=e.getChildren(),r=n.find(i=>so(i));if(!Qe(t)||!Pe(e)||!r)return;const s=ag(n);r.getPreviewText()!==s&&r.setPreviewText(s);const o=t.getNextSibling();ne(o)?o.getTextContent()!==$e&&o.setTextContent($e):t.insertAfter(De($e))}function UR(t){const e=D_(t),n=e==null?void 0:e.getChildren(),r=n==null?void 0:n.find(i=>so(i));if(!ne(t)||!Pe(e)||!r||!n)return;const s=t.getParent();if(!Bl(t)&&Pe(s)&&t.getTextContent()!==$e&&(t.setTextContent($e),t.selectEnd()),Qe(s)&&s.getChildrenSize()===1){const i=t.getTextContent();i.length>1&&i.startsWith($e)&&(t.setTextContent(i.slice(1)),t.selectEnd())}const o=ag(n);r.getPreviewText()!==o&&r.setPreviewText(o)}function zR(t){if(!so(t))return;const e=t.getNextSibling();!ne(e)||Bl(e)?t.insertAfter(De($e)):e.getTextContent()!==$e&&e.setTextContent($e)}function VR(t,e){for(const[n,r]of t){if(r!=="destroyed")continue;const s=e.read(()=>{const i=Te(n),a=i==null?void 0:i.getParent();return so(i)&&Pe(a)&&a.getCaller()===qo}),o=document.querySelector(".editor-input");!s||!o||(o.classList.add("reset-counters"),o.offsetHeight,o.classList.remove("reset-counters"))}}function HR(t,e,n,r){var s;if((n==null?void 0:n.noteMode)!=="expandInline")return!1;const o=se();if(!Q(o)||!o.isCollapsed())return!1;const i=o.anchor,a=i.getNode();if(e.current){const l=wr(a,c=>Pe(c));if(l)e.current!==l.getKey()&&(e.current=l.getKey());else{const c=Te(e.current);c&&!c.getIsCollapsed()&&(r==null||r.debug("Cursor moved away from NoteNode, collapsing it"),Aa(t,e.current,r)),e.current=void 0}}if(i.offset===0){const l=a.getPreviousSibling();if(Pe(l)){r==null||r.debug("Cursor is just after a NoteNode");const c=l.getKey();l.getIsCollapsed()?e.current=c:e.current=void 0,Aa(t,c,r)}}if(i.offset===a.getTextContentSize()){const l=a.getNextSibling();if(Pe(l)){r==null||r.debug("Cursor is just before a NoteNode");const c=l.getKey();l.getIsCollapsed()?e.current=c:e.current=void 0,Aa(t,c,r)}else if(!l){const c=wr(a,u=>Pe(u));if(c&&c.getIsCollapsed()&&cr(c.getParent())&&c.is((s=c.getParent())==null?void 0:s.getLastChild())){r==null||r.debug("Cursor is at end of note at end of para");const u=c.getKey();e.current=u,Aa(t,u,r)}}}if(cr(a)){const l=a.getChildAtIndex(i.offset),c=l==null?void 0:l.getPreviousSibling();if(ga(c)&&Pe(l)){r==null||r.debug("Cursor is between verse and NoteNode");const u=l.getKey();l.getIsCollapsed()?e.current=u:e.current=void 0,Aa(t,u,r)}}return!1}function Aa(t,e,n){const r=Te(e);try{r==null||r.toggleIsCollapsed()}catch(s){if(s instanceof Error&&s.message.includes("read only"))n==null||n.warn("Fallback triggered after stabilization - edge case"),setTimeout(()=>{t.update(()=>{r==null||r.toggleIsCollapsed()})},0);else throw s}}function KR(t){const e=se();if(!Q(e))return;const n=e.anchor,r=e.focus,s=n.getNode(),o=r.getNode();if(Pe(s)&&ne(o)){t.preventDefault();const i=Tl();i.anchor.set(o.getKey(),0,"text"),i.focus.set(o.getKey(),r.offset,"text"),Zt(i)}}function WR(t,e,n){for(const r of document.styleSheets)try{const s=r.cssRules||r.rules;for(const o of s)if(GR(o,t)){const i=e.map(a=>`"${a}"`).join(" ");o.symbols=i;return}}catch{continue}n==null||n.warn(`Editor: counter style "${t}" not found.`)}function GR(t,e){return typeof t=="object"&&t!==null&&"name"in t&&t.name===e&&"symbols"in t&&typeof t.symbols=="string"}function JR({onChange:t}){const[e]=Oe();return b.useEffect(()=>e.registerCommand(Js,()=>{const n=e.read(()=>F_());return t==null||t(n),!1},ei),[e,t]),null}function XR(){const[t]=Oe();return YR(t),null}function YR(t){b.useEffect(()=>{if(!t.hasNodes([Nn]))throw new Error("ParaNodePlugin: ParaNode not registered on editor!");return t.registerNodeTransform(Nn,e=>QR(e,t))},[t])}function QR(t,e){hg(e,t.getKey())&&H_(t.getFirstChild()),!(!on(t)||t.getMarker()!=="b"||t.isEmpty()||!e.getEditorState().read(()=>{const n=Te(t.getKey());return on(n)&&((n==null?void 0:n.isEmpty())??!1)}))&&t.clear()}function n2({onStateChange:t}){const[e]=Oe(),[n,r]=b.useState(e),s=b.useRef(!1),o=b.useRef(!1),i=b.useRef(),a=b.useCallback(()=>{const l=se();if(Q(l)){const c=l.anchor.getNode();let u=c.getKey()==="root"?c:wr(c,h=>{const p=h.getParent();return p!==null&&Gr(p)});u===null&&(u=c.getTopLevelElementOrThrow());const f=u.getKey();n.getElementByKey(f)!==null&&(on(u)||Vr(u)||$l(u))&&(i.current=u.getMarker(),t==null||t(s.current,o.current,i.current))}},[n,t]);return b.useEffect(()=>e.registerCommand(Js,(l,c)=>(a(),r(c),!1),vi),[e,a]),b.useEffect(()=>Rt(n.registerUpdateListener(({editorState:l})=>{l.read(()=>{a()})}),n.registerCommand(ja,l=>(s.current=l,t==null||t(s.current,o.current,i.current),!1),vi),n.registerCommand(Ra,l=>(o.current=l,t==null||t(s.current,o.current,i.current),!1),vi)),[a,n,t]),null}function ZR({textDirection:t}){const[e]=Oe();return ej(e,t),tj(e),null}function ej(t,e){b.useEffect(()=>{function n(){const r=t.getRootElement();if(!r||e==="auto")return;r.dir=e;const s=t._config.theme.placeholder,o=document.getElementsByClassName(s)[0];o&&(o.dir=e)}return n(),t.registerUpdateListener(({dirtyElements:r})=>{r.size>0&&n()})},[t,e])}function tj(t){b.useEffect(()=>{const e=n=>{if(n.key!=="ArrowLeft"&&n.key!=="ArrowRight")return!1;const r=se();if(!Q(r))return!1;const s=r.anchor.getNode(),o=wr(s,f=>AM(f,t)==="p");if(!o)return!1;const i=t.getElementByKey(o.getKey());if(!i)return!1;const a=i.parentElement,l=i.dir||"ltr",c=((a==null?void 0:a.dir)??"")||"ltr";if(!a||l===c)return!1;const u=a.dir==="rtl"&&n.key==="ArrowLeft"||a.dir==="ltr"&&n.key==="ArrowRight";return r.modify("move",u,"character"),n.preventDefault(),!0};return t.registerCommand(ra,e,qu)},[t])}function nj(){const[t]=Oe();return rj(t),null}function rj(t){b.useEffect(()=>{if(!t.hasNodes([ht,bn,qt,an,mn]))throw new Error("TextSpacingPlugin: CharNode, ImmutableVerseNode, NoteNode, TextNode or VerseNode not registered on editor!");return Rt(t.registerNodeTransform(an,sj),t.registerNodeTransform(an,e=>oj(e,t)),t.registerNodeTransform(mn,$b),t.registerNodeTransform(bn,$b))},[t])}function sj(t){if(!t.isAttached())return;const e=t.getTextContent(),n=t.getNextSibling(),r=t.getParent();t.getMode()!=="normal"||e.endsWith(" ")&&e.length>1||Pe(n)||Qe(r)||Qt(r)||Pl(r)||(e===" "&&!Qn(n)?t.setTextContent(""):fg(t))}function oj(t,e){const n=t.getParent();!Pl(n)||!t.isAttached()||hg(e,t.getKey())&&n.insertAfter(t)}function $b(t){if(!t.isAttached())return;const e=t.getPreviousSibling();e&&!Qn(e)&&!ne(e)&&!Pl(e)&&t.insertBefore(De(" "))}function ij({trigger:t,scriptureReference:e,contextMarker:n,getMarkerAction:r}){const{markersMenuItems:s}=QO({scriptureReference:e,contextMarker:n,getMarkerAction:r});return d.jsx(YO,{trigger:t,items:s})}function aj({trigger:t,scrRef:e,getMarkerAction:n}){const{book:r,chapterNum:s,verseNum:o,verse:i}=e,a=b.useMemo(()=>e,[r,s,o,i]),[l]=Oe(),[c]=lj(l);return cj(l),d.jsx(ij,{trigger:t,scriptureReference:a,contextMarker:c,getMarkerAction:n})}function lj(t){const[e,n]=b.useState();return b.useEffect(()=>t.registerCommand(Js,()=>(t.read(()=>{const r=se();if(!Q(r)){e&&n(void 0);return}const s=Te(r.anchor.key),o=Te(r.focus.key);if(!s||!o){e&&n(void 0);return}const i=kM(s,o);if(!i||!nO(i)){e&&n(void 0);return}const a=i.getMarker();e!==a&&n(a)}),!1),ei),[e,t]),[e]}function cj(t){b.useEffect(()=>{if(!t.hasNodes([mn,bn]))throw new Error("UsjNodesMenuPlugin: VerseNode or ImmutableVerseNode not registered on editor!");const e={},n={};return Rt(t.registerNodeTransform(bn,r=>Fb(r,t,e)),t.registerNodeTransform(mn,r=>Fb(r,t,e)),t.registerMutationListener(bn,r=>zb(r,t,e,n)),t.registerMutationListener(mn,r=>zb(r,t,e,n)))},[t])}function Fb(t,e,n){cE(Yp)||hg(e,t.getKey())&&fj(t,n)}function Bb(t){return RegExp(/(\d+)([a-zA-Z]+)?(-(\d+)([a-zA-Z]+)?)?/).exec(t)}const qb=2,uj=3,Ub=4,dj=5;function fj(t,e){var n;const r=sg(t),s=r==null?void 0:r.getNumber();if(!s)return;const o=e[s];if(!o)return;let i=parseInt(t.getNumber()),a=((n=Bb(t.getNumber()))==null?void 0:n[qb])??"";o.forEach(l=>{const c=Te(l);if(!c)return;const u=c.getNumber(),f=parseInt(u),h=Bb(u),p=!!(h!=null&&h[uj]),g=p?parseInt(h[Ub]):f;if(g<i||f>i||g===i&&a)return;const w=(h==null?void 0:h[qb])??"",y=(h==null?void 0:h[dj])??"",_=p?yh(parseInt(h[Ub]),void 0):"";let v=`${w}`;v+=p?`-${_}${y}`:"";const C=yh(f,void 0);c.setNumber(`${C}${v}`),i=parseInt(p?_:C),a=p?y:w})}function zb(t,e,n,r){e.getEditorState().read(()=>{for(const[s,o]of t){const i=Te(s);if(Qn(i)){if(o==="created"){const a=sg(i);if(!a)continue;const l=a.getNumber();n[l]||(n[l]=[]),n[l].push(s),r[s]=l}else if(o==="destroyed"){const a=r[s],l=n[a];if(!l)continue;const c=l.findIndex(u=>u===s);if(c===-1)continue;l.splice(c,1),Reflect.deleteProperty(r,s)}}}})}const r2="formatted",hj="unformatted";let vg;function pj(t){const e=gj(t);if(!e)throw new Error(`Invalid view mode: ${t}`);vg=e}pj(r2);const xg=()=>vg;function gj(t){let e;switch(t){case r2:e={markerMode:"hidden",noteMode:"collapsed",hasSpacing:!0,isFormattedFont:!0};break;case hj:e={markerMode:"editable",noteMode:"expanded",hasSpacing:!1,isFormattedFont:!1};break}return e}function wj(t){if(t)return t.markerMode==="editable"?mn:bn}function mj(t){const e=[],n=t??vg;return n&&(e.push(`${YD}${n.markerMode}`),n.hasSpacing&&e.push(JD),n.isFormattedFont&&e.push(XD)),e}let _h;function bj(t){t&&(_h=t)}function yj(t){return t.isEmpty()?Kh:vj(t.toJSON())}function vj(t){if(!t.root||!t.root.children)return;const e=t.root.children;if(e.length===1&&eg(e[0])&&(!e[0].children||e[0].children.length===0))return Kh;const n=s2(e),r=_s(n);return r?{type:Ga,version:Ja,content:r}:void 0}function xj(t,e){const{type:n,marker:r,unknownAttributes:s}=t;let o;return t.code!==""&&(o=t.code),jt({type:n,marker:r,code:o,...s,content:e})}function _j(t){const{marker:e,number:n,sid:r,altnumber:s,pubnumber:o,unknownAttributes:i}=t;return jt({type:Cr.getType(),marker:e,number:n,sid:r,altnumber:s,pubnumber:o,...i})}function Cj(t,e){const{marker:n,sid:r,altnumber:s,pubnumber:o,unknownAttributes:i}=t,a=e&&typeof e[0]=="string"?e[0]:void 0;let{number:l}=t;return l=M_(n,a,l),jt({type:Cr.getType(),marker:n,number:l,sid:r,altnumber:s,pubnumber:o,...i})}function kj(t){const{marker:e,sid:n,altnumber:r,pubnumber:s,unknownAttributes:o}=t,{text:i}=t;let{number:a}=t;return a=M_(e,i,a),jt({type:mn.getType(),marker:e,number:a,sid:n,altnumber:r,pubnumber:s,...o})}function Ej(t,e){const{type:n,marker:r,unknownAttributes:s}=t,o=r===""?void 0:r;return e==null||e.forEach((i,a)=>{typeof i=="string"&&i.startsWith($e)&&(e[a]=i.slice(1))}),jt({type:n,marker:o,...s,content:e})}function Sj(t,e){const{type:n,marker:r,unknownAttributes:s}=t;return jt({type:n,marker:r,...s,content:e})}function Nj(t,e){const{type:n,marker:r,caller:s,category:o,unknownAttributes:i}=t;return jt({type:n,marker:r,caller:s,category:o,...i,content:e})}function gi(t){const{type:e,marker:n,sid:r,eid:s,unknownAttributes:o}=t;return jt({type:e,marker:n===""?void 0:n,sid:r,eid:s,...o})}function Tj(t){return t.text}function Aj(t,e){const{tag:n,marker:r,unknownAttributes:s}=t;return jt({type:n,marker:r,...s,content:e})}function Dj(t){const{marker:e}=t;return{type:bu,marker:e===""?void 0:e}}function Vb(t,e){const n=t[t.length-1];n&&typeof n=="string"?t[t.length-1]=n+e:t.push(e)}function Mj(t,e,n,r,s){const o=Wr.getType(),i=e.filter(a=>!n.includes(a));if(n.filter(a=>!e.includes(a)).forEach(a=>{const l=gi({type:o,marker:Ei,eid:a});s.push(l)}),i.forEach(a=>{const l=gi({type:o,marker:Uo,sid:a});s.push(l)}),e.length===0){const a=gi({type:o,marker:Uo});s.push(a)}if(s.push(...t),e.length===0){const a=gi({type:o,marker:Ei});s.push(a)}(!r||!IM(r))&&e.forEach(a=>{const l=gi({type:o,marker:Ei,eid:a});s.push(l)})}function _s(t,e){const n=[];let r,s=[];return t.forEach((o,i)=>{const a=o,l=o,c=o,u=o,f=o,h=o,p=o,g=o;switch(o.type){case er.getType():n.push(xj(a,_s(a.children)));break;case bs.getType():n.push(_j(o));break;case Cr.getType():n.push(Cj(l,_s(l.children)));break;case bn.getType():case mn.getType():n.push(kj(o));break;case ht.getType():n.push(Ej(c,_s(c.children)));break;case Nn.getType():n.push(Sj(u,_s(u.children)));break;case qt.getType():n.push(Nj(f,_s(f.children,f.caller)));break;case no.getType():case hr.getType():case El.getType():case si.getType():break;case Xt.getType():if(r=_s(p.children),r){const w=p.typedIDs[As];if(w)Mj(r,w,s,t[i+1],n),s=w;else{const y=r.shift();y&&(typeof y=="string"?Vb(n,y):n.push(y)),r.length>0&&n.push(...r)}}break;case Wr.getType():n.push(gi(o));break;case an.getType():h.text&&h.text!==$e&&!h.text.startsWith(Jp)&&(!e||h.text!==ig(e))&&Vb(n,Tj(h));break;case ri.getType():n.push(Aj(g,_s(g.children)));break;case ro.getType():n.push(Dj(o));break;default:_h==null||_h.error(`Unexpected node type '${o.type}'!`)}}),n&&n.length>0?n:void 0}function s2(t){const e=t.findIndex(n=>eg(n));if(e>=0){const n=t.slice(0,e),r=t[e].children,s=s2(t.slice(e+1));t=[...n,...r,...s]}return t}const pf={initialize:bj,deserializeEditorState:yj},Hb=o2([]),Oj={type:El.getType(),version:1};let xu=[],Ee,jc,Ch,ot;function Rj(t,e){xu=[],Lj(t),Pj(e)}function jj(t=0){}function Ij(t,e){Ee=e??xg();let n;return t?(t.type!==Ga&&(ot==null||ot.warn(`This USJ type '${t.type}' didn't match the expected type '${Ga}'.`)),t.version!==Ja&&(ot==null||ot.warn(`This USJ version '${t.version}' didn't match the expected version '${Ja}'.`)),t.content.length>0?n=Eh($a(t.content)):n=[Hb]):n=[Hb],Ch==null||Ch(xu),{root:{children:n,direction:null,format:"",indent:0,type:"root",version:1}}}function Lj(t){t&&(jc=t),t!=null&&t.addMissingComments&&(Ch=t.addMissingComments)}function Pj(t){t&&(ot=t)}function $j(t){return!t||t.length!==1||typeof t[0]!="string"?"":t[0]}function Fj(t){let{marker:e}=t;e!==dl&&(ot==null||ot.warn(`Unexpected book marker '${e}'!`)),e=e??dl;const{code:n}=t;(!n||!er.isValidBookCode(n))&&(ot==null||ot.warn(`Unexpected book code '${n}'!`));const r=[];((Ee==null?void 0:Ee.markerMode)==="editable"||(Ee==null?void 0:Ee.markerMode)==="visible")&&r.push(Ho("marker",ys(e)+" "+n+$e));const s=$j(t.content);s&&r.push(Vs(s));const o=Ut(t);return jt({type:er.getType(),marker:e,code:n??"",unknownAttributes:o,children:r,direction:null,format:"",indent:0,version:f_})}function Bj(t){let{marker:e}=t;e!==gu&&(ot==null||ot.warn(`Unexpected chapter marker '${e}'!`)),e=e??gu;const{number:n,sid:r,altnumber:s,pubnumber:o}=t,i=Ut(t);let a;return(Ee==null?void 0:Ee.markerMode)==="visible"&&(a=!0),(Ee==null?void 0:Ee.markerMode)==="editable"?jt({type:Cr.getType(),marker:e,number:n??"",sid:r,altnumber:s,pubnumber:o,unknownAttributes:i,children:[Vs(Fl(e,n)??"")],direction:null,format:"",indent:0,version:g_}):jt({type:bs.getType(),marker:e,number:n??"",showMarker:a,sid:r,altnumber:s,pubnumber:o,unknownAttributes:i,version:v_})}function qj(t){let{marker:e}=t;e!==wu&&(ot==null||ot.warn(`Unexpected verse marker '${e}'!`)),e=e??wu;const{number:n,sid:r,altnumber:s,pubnumber:o}=t,i=(wj(Ee)??bn).getType(),a=(Ee==null?void 0:Ee.markerMode)==="editable"?T_:q_;let l,c;(Ee==null?void 0:Ee.markerMode)==="editable"?l=Fl(e,n):(Ee==null?void 0:Ee.markerMode)==="visible"&&(c=!0);const u=Ut(t);return jt({type:i,text:l,marker:e,number:n??"",sid:r,altnumber:s,pubnumber:o,showMarker:c,unknownAttributes:u,version:a})}function Uj(t,e=[]){let{marker:n}=t;ht.isValidMarker(n)||ot==null||ot.warn(`Unexpected char marker '${n}'!`),n=n??"",(Ee==null?void 0:Ee.markerMode)==="editable"&&e.forEach(s=>{og(s)&&(s.text=$e+s.text)}),e.length===0&&e.push(Vs($e));const r=Ut(t);return jt({type:ht.getType(),marker:n,unknownAttributes:r,children:[...e],direction:null,format:"",indent:0,textFormat:0,textStyle:"",version:y_})}function o2(t){return{type:zs.getType(),children:t,direction:null,format:"",indent:0,textFormat:0,textStyle:"",version:C_}}function zj(t,e=[]){let{marker:n}=t;Nn.isValidMarker(n)||ot==null||ot.warn(`Unexpected para marker '${n}'!`),n=n??sd;const r=[];(Ee==null?void 0:Ee.markerMode)==="editable"?r.push(Gi(n),Vs($e)):(Ee==null?void 0:Ee.markerMode)==="visible"&&r.push(Ho("marker",ys(n)+$e)),r.push(...e);const s=Ut(t);return jt({type:Nn.getType(),marker:n,unknownAttributes:s,children:r,direction:null,format:"",indent:0,textFormat:0,textStyle:"",version:N_})}function Vj(t,e){const n=TM(e);let r=()=>{};return jc!=null&&jc.noteCallerOnClick&&(r=jc.noteCallerOnClick),jt({type:hr.getType(),caller:t,previewText:n,onClick:r,version:J_})}function Hj(t,e){let{marker:n}=t;qt.isValidMarker(n)||ot==null||ot.warn(`Unexpected note marker '${n}'!`),n=n??tg;const{category:r}=t,s=t.caller??"*",o=(Ee==null?void 0:Ee.noteMode)!=="expanded",i=Ut(t);let a,l;(Ee==null?void 0:Ee.markerMode)==="editable"?(a=Gi(n),l=Gi(n,"closing")):(Ee==null?void 0:Ee.markerMode)==="visible"&&(a=Ho("marker",ys(n)+$e),l=Ho("marker",Hi(n)+$e));const c=[];let u;if(a&&c.push(a),(Ee==null?void 0:Ee.markerMode)==="editable")u=Vs(ig(s)),c.push(u,...e);else{const f=Vs($e);u=Vj(s,e),c.push(u,f,...e.flatMap(Kj(f)))}return l&&c.push(l),jt({type:qt.getType(),marker:n,caller:s,isCollapsed:o,category:r,unknownAttributes:i,children:c,direction:null,format:"",indent:0,version:S_})}function Kj(t){return e=>FM(e)?[e]:[e,t]}function Wj(t){let{marker:e}=t;(!e||!Wr.isValidMarker(e))&&(ot==null||ot.warn(`Unexpected milestone marker '${e}'!`)),e=e??"";const{sid:n,eid:r}=t,s=Ut(t);return jt({type:Wr.getType(),marker:e,sid:n,eid:r,unknownAttributes:s,version:k_})}function Kb(t,e=[]){return{type:Xt.getType(),typedIDs:{[As]:e},children:t,direction:null,format:"",indent:0,version:1}}function Gj(t,e){const{marker:n}=t,r=t.type,s=Ut(t),o=[...e];return o.forEach(i=>{og(i)&&(i.mode="token")}),jt({type:ri.getType(),tag:r,marker:n,unknownAttributes:s,children:o,direction:null,format:"",indent:0,version:u_})}function Jj(t){return{type:ro.getType(),marker:t,version:P_}}function Gi(t,e="opening"){return{type:si.getType(),marker:t,markerSyntax:e,text:"",detail:0,format:0,mode:"normal",style:"",version:1}}function Vs(t,e="normal"){return{type:an.getType(),text:t,detail:0,format:0,mode:e,style:"",version:1}}function Ho(t,e){return{type:no.getType(),text:e,textType:t,version:L_}}function Wb(t,e){(Ee==null?void 0:Ee.markerMode)==="editable"?e.push(Gi(t)):(Ee==null?void 0:Ee.markerMode)==="visible"&&e.push(Ho("marker",ys(t)))}function Gb(t,e,n=!1){ht.isValidFootnoteMarker(t)||ht.isValidCrossReferenceMarker(t)||((Ee==null?void 0:Ee.markerMode)==="editable"?n?e.push(Gi("","selfClosing")):e.push(Gi(t,"closing")):(Ee==null?void 0:Ee.markerMode)==="visible"&&e.push(Ho("marker",Hi(n?"":t))))}function Xj(t,e){if(t.type!=="ms")return;const n=[];if(t.sid&&n.push(`sid="${t.sid}"`),t.eid&&n.push(`eid="${t.eid}"`),n.length<=0)return;const r=Jp+n.join(" ");(Ee==null?void 0:Ee.markerMode)==="editable"?e.push(Vs(r)):(Ee==null?void 0:Ee.markerMode)==="visible"&&e.push(Ho("attribute",r))}function Jb(t,e){return t.length<=0||e===0?t:t.map(n=>n-e)}function Yj(t,e){const n=t.indexOf(e,0);n>-1&&t.splice(n,1)}function Xb(t,e){e.marker===Uo&&e.sid!==void 0&&t.push(e.sid),e.marker===Ei&&e.eid!==void 0&&Yj(t,e.eid)}function kh(t,e,n=!1,r=[]){if(e.length<=0||e[0]>=t.length)return t;const s=e.shift(),o=e.length>0?e.shift():t.length-1;if(s===void 0||o===void 0||o>=t.length||t.length<=0)return t;const i=t.slice(0,s),a=n?[Kb(i,[...r])]:i,l=t[s];Xb(r,l);const c=kh(t.slice(s+1,o),Jb(e,s+1),l.marker===Uo,r),u=Kb(c,[...r]),f=t[o];Xb(r,f);const h=kh(t.slice(o+1),Jb(e,o+1),f.marker===Uo,r);return[...a,u,...h]}function $a(t){const e=[],n=[];return t==null||t.forEach(r=>{if(typeof r=="string")r&&n.push(Vs(r));else if(!r.type)ot==null||ot.error("Marker type is missing!");else switch(r.type){case er.getType():n.push(Fj(r));break;case Cr.getType():n.push(Bj(r));break;case mn.getType():Ee!=null&&Ee.hasSpacing||n.push(Oj),n.push(qj(r));break;case ht.getType():Wb(r.marker??"",n),n.push(Uj(r,$a(r.content))),Gb(r.marker??"",n);break;case Nn.getType():n.push(zj(r,$a(r.content)));break;case qt.getType():n.push(Hj(r,$a(r.content)));break;case Wr.getType():cM(r.marker??"")&&(e.push(n.length),r.sid!==void 0&&(xu==null||xu.push(r.sid))),n.push(Wj(r)),Wb(r.marker??"",n),Xj(r,n),Gb(r.marker??"",n,!0);break;case ro.getType():n.push(Jj(r.marker??""));break;default:ot==null||ot.warn(`Unknown type-marker '${r.type}-${r.marker}'!`),n.push(Gj(r,$a(r.content)))}}),kh(n,e)}function Eh(t){const e=t.findIndex(n=>GD(n)||mM(n)||gM(n));if(e>=0){const n=Eh(t.slice(0,e)),r=t[e],s=Eh(t.slice(e+1));return[...n,r,...s]}else if(t.some(n=>"text"in n&&"mode"in n||GM(n)))return[o2(t)];return t}const Sh={initialize:Rj,reset:jj,serializeEditorState:Ij},xc=t=>{if(!qt.isValidMarker(t)||!t.includes("f"))throw new Error(`Invalid footnote marker '${t}'`);return{action:e=>{const{chapterNum:n,verseNum:r}=e.reference,s=[];return n!==void 0&&r!==void 0&&s.push({type:"char",marker:"fr",content:[`${n}:${r}`]}),e.noteText&&s.push({type:"char",marker:"fq",content:[e.noteText]}),s.push({type:"char",marker:"ft"}),[{type:"note",marker:t,caller:qo,content:s}]}}},Yb=t=>{if(!qt.isValidMarker(t)||!t.includes("x"))throw new Error(`Invalid cross-reference marker '${t}'`);return{action:e=>{const{chapterNum:n,verseNum:r}=e.reference,s=[];return n!==void 0&&r!==void 0&&s.push({type:"char",marker:"xo",content:[`${n}:${r}`]}),s.push({type:"char",marker:"xt"}),[{type:"note",marker:t,caller:Xp,content:s}]}}},Qj={c:{action:t=>{const{chapterNum:e}=t.reference;return[{type:"chapter",marker:"c",number:`${e+1}`}]}},v:{action:t=>{const{verseNum:e,verse:n}=t.reference;return[{type:"verse",marker:"v",number:`${yh(e,n)}`}]}},f:xc("f"),fe:xc("fe"),ef:xc("ef"),efe:xc("efe"),x:Yb("x"),ex:Yb("ex")};function Zj(t,e,n,r,s){const o=eI(t);return{action:i=>{i.editor.update(()=>{var a;const l=se();Q(l)&&(i.noteText=l.getTextContent());const c=(a=o==null?void 0:o.action)==null?void 0:a.call(o,i);if(!c)return;const u=Eb(c,Sh,r),f=cf(u);if(Q(l)){const h=l.anchor.getNode();if(Pe(f))U_(f,l,r),f.getIsCollapsed()||(e.current=f.getKey());else if(l.getTextContent().length>0)tI(l,()=>cf(u));else if(X(f)&&!f.isInline()){const p=l.insertParagraph();if(p){const g=p.getChildren();f.append(...g),p.replace(f),f.selectStart()}}else if(ne(h)&&!Bl(h)&&Pe(h.getParent())&&l.isCollapsed()){let p=h.insertAfter(f);if(mu(f)){const g={...r||xg(),markerMode:"hidden"},w=Eb(c,Sh,g),y=cf(w);p=p.insertAfter(y)}p.insertAfter(De($e))}else{l.insertNodes([f]),iI(f);const p=f.getNextSibling();p?p.selectStart():f.selectStart()}}else l==null||l.insertNodes([f])},s)},label:o==null?void 0:o.label}}function eI(t){let e=Qj[t];return e||(Nn.isValidMarker(t)?e={action:()=>[{type:Nn.getType(),marker:t,content:[]}]}:ht.isValidMarker(t)&&(e={action:()=>[{type:ht.getType(),marker:t}]})),e}function tI(t,e){const n=t.getNodes(),[r,s]=nI(t);let o;n.forEach((i,a)=>{if(X(o)&&o.isParentOf(i))return;const l=rI(i,a===0,a===n.length-1,r,s);if(!l){o=void 0;return}o||(o=e(),l.insertBefore(o)),oI(l,o)}),(ne(o)||X(o))&&o.selectEnd()}function nI(t){const e=t.anchor.offset,n=t.focus.offset;return t.isBackward()?[n,e]:[e,n]}function rI(t,e,n,r,s){if(!(Qt(t)||Pe(t)||Pe(t.getParent()))){if(ne(t))return sI(t,e,n,r,s);if(X(t)&&t.isInline())return t}}function sI(t,e,n,r,s){const o=t.getTextContentSize(),i=e?r:0,a=n?s:o;if(i===0&&a===0)return;const l=t.splitText(i,a);return l.length===1?l[0]:l.length===3||a===o?l[1]:l[0]}function oI(t,e){var n;if(ne(e)){const r=Qb(t,e);e.setTextContent(r),t.remove()}else if(X(e)){const r=e.getChildrenSize();e.append(t);for(let s=0;s<r;s++)(n=e.getFirstChild())==null||n.remove();Qb(t,e)}}function Qb(t,e){let n=t.getTextContent();if(ne(t)&&e.isInline()&&n.startsWith(" ")){n=n.trimStart(),t.setTextContent(n);const r=e.getPreviousSibling();fg(r),ne(r)||e.insertBefore(De(" "))}return n}function iI(t){Qn(t)&&(fg(t.getPreviousSibling()),H_(t.getNextSibling()))}const i2={chapter:"chapter",verse:"verse",char:"char",para:"para",typedMark:"editor-typed-mark",typedMarkOverlap:"editor-typed-markOverlap",mark:"editor-mark",markOverlap:"editor-markOverlap",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough"}};function aI({options:t,editedUsjRef:e,usj:n,setUsj:r}){const{view:s,nodes:o}=t||{},{hasSpacing:i,isFormattedFont:a,markerMode:l}=s||{};return b.useEffect(()=>{e.current&&!os(e.current,n)&&r(e.current)},[e,i,a,l,o,r,n]),null}function lI({scrRef:t,onScrRefChange:e}){const[n]=Oe(),r=b.useRef(!1),s=b.useRef(!1),{book:o,chapterNum:i,verseNum:a}=t;return b.useEffect(()=>n.registerMutationListener(er,l=>{n.update(()=>{for(const[c,u]of l){const f=Te(c);f&&Vr(f)&&u==="created"&&Zb(i,a,s)}},{tag:wh})},{skipInitialization:!0}),[n,i,a]),b.useEffect(()=>{r.current?r.current=!1:n.update(()=>Zb(i,a,s),{tag:wh})},[n,i,a]),b.useEffect(()=>n.registerCommand(Js,()=>(s.current?s.current=!1:cI(o,i,a,e,r),!1),ei),[n,o,i,a,e]),null}function Zb(t,e,n){var r;const s=R_(se()),o=(r=V_(s))==null?void 0:r.getNumber();if(DM(o)&&lg(e,o))return;const i=Be().getChildren(),a=bM(i,t),l=NM(i,a),c=yM(l,!!a);if(c&&!a||!a)return;SM(l,c);const u=tO(l,e);if(u){if(on(u)){const f=u.getFirstChild();ne(f)?f.select(0,0):u.select(0,0)}else u.selectNext(0,0);n.current=!0}}function cI(t,e,n,r,s){const o=R_(se());if(!o)return;const i=sg(o),a=parseInt((i==null?void 0:i.getNumber())??"1",10),l=V_(o),c=l==null?void 0:l.getNumber(),u=parseInt(c??"0",10),f=c?lg(n,c):n===u;if(s.current=!!(i&&a!==e||!f),s.current){const h={book:t,chapterNum:a,verseNum:u};c!=null&&u.toString()!==c&&(h.verse=c),r(h)}}function uI(t){return Vr(t)?`${t.__code}`:Qp(t)?`${t.__marker} "${t.__number}"`:Qe(t)?`${t.__marker}`:$l(t)?`${t.__marker} "${t.__number}"`:so(t)?`${t.__caller}`:ga(t)?`${t.__marker} "${t.__number}"`:Pe(t)?`${t.__marker} "${t.__caller}"`+(t.__isCollapsed?" (collapsed)":" (expanded)"):on(t)?`${t.__marker}`:Qt(t)?`ids: [ ${JSON.stringify(t.getTypedIDs())} ]`:rg(t)?`${t.__marker} "${t.__number}"`:""}function dI(){const[t]=Oe();return d.jsx(xN,{viewClassName:"tree-view-output",treeTypeButtonClassName:"debug-treetype-button",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",customPrintNode:uI,editor:t})}const a2=b.createContext(null),ey=4;function fI({children:t,className:e,onClick:n,title:r}){const s=b.useRef(null),o=b.useContext(a2);if(o===null)throw new Error("DropDownItem must be used within a DropDown");const{registerItem:i}=o;return b.useEffect(()=>{s&&s.current&&i(s)},[s,i]),d.jsx("button",{className:e,onClick:n,ref:s,title:r,type:"button",children:t})}function hI({children:t,dropDownRef:e,onClose:n}){const[r,s]=b.useState(),[o,i]=b.useState(),a=b.useCallback(u=>{s(f=>f?[...f,u]:[u])},[s]),l=u=>{if(!r)return;const f=u.key;["Escape","ArrowUp","ArrowDown","Tab"].includes(f)&&u.preventDefault(),f==="Escape"||f==="Tab"?n():f==="ArrowUp"?i(h=>{if(!h)return r[0];const p=r.indexOf(h)-1;return r[p===-1?r.length-1:p]}):f==="ArrowDown"&&i(h=>h?r[r.indexOf(h)+1]:r[0])},c=b.useMemo(()=>({registerItem:a}),[a]);return b.useEffect(()=>{r&&!o&&i(r[0]),o&&o.current&&o.current.focus()},[r,o]),d.jsx(a2.Provider,{value:c,children:d.jsx("div",{className:"dropdown",ref:e,onKeyDown:l,children:t})})}function pI({disabled:t=!1,buttonLabel:e,buttonAriaLabel:n,buttonClassName:r,buttonIconClassName:s,children:o,stopCloseOnClickSelf:i}){const a=b.useRef(null),l=b.useRef(null),[c,u]=b.useState(!1),f=()=>{u(!1),l&&l.current&&l.current.focus()};return b.useEffect(()=>{const h=l.current,p=a.current;if(c&&h!==null&&p!==null){const{top:g,left:w}=h.getBoundingClientRect();p.style.top=`${g+h.offsetHeight+ey}px`,p.style.left=`${Math.min(w,window.innerWidth-p.offsetWidth-20)}px`}},[a,l,c]),b.useEffect(()=>{const h=l.current;if(h!==null&&c){const p=g=>{const w=g.target;i&&a.current&&a.current.contains(w)||h.contains(w)||u(!1)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}}return()=>{}},[a,l,c,i]),b.useEffect(()=>{const h=()=>{if(c){const p=l.current,g=a.current;if(p!==null&&g!==null){const{top:w}=p.getBoundingClientRect(),y=w+p.offsetHeight+ey;y!==g.getBoundingClientRect().top&&(g.style.top=`${y}px`)}}};return document.addEventListener("scroll",h),()=>{document.removeEventListener("scroll",h)}},[l,a,c]),d.jsxs(d.Fragment,{children:[d.jsxs("button",{type:"button",disabled:t,"aria-label":n||e,className:r,onClick:()=>u(!c),ref:l,children:[s&&d.jsx("span",{className:s}),e&&d.jsx("span",{className:"text dropdown-button-text",children:e}),d.jsx("i",{className:"chevron-down"})]}),c&&Xn.createPortal(d.jsx(hI,{dropDownRef:a,onClose:f,children:o}),document.body)]})}const Nh={m:"m - Paragraph - Margin - No First Line Indent",ms:"ms - Heading - Major Section Level 1",nb:"nb - Paragraph - No Break with Previous Paragraph",p:"p - Paragraph - Normal - First Line Indent",pi:"pi - Paragraph - Indented - Level 1 - First Line Indent",q1:"q1 - Poetry - Indent Level 1",q2:"q2 - Poetry - Indent Level 2",r:"r - Heading - Parallel References",s:"s - Heading - Section Level 1"},Th={...Nh,ide:"ide - File - Encoding",h:"h - File - Header",h1:"h1 - File - Header",h2:"h2 - File - Left Header",h3:"h3 - File - Right Header",toc1:"toc1 - File - Long Table of Contents Text",toc2:"toc2 - File - Short Table of Contents Text",toc3:"toc3 - File - Book Abbreviation",cl:"cl - Chapter - Publishing Label",mt:"mt - Title - Major Title Level 1",mt1:"mt1 - Title - Major Title Level 1",mt2:"mt2 - Title - Major Title Level 2",mt3:"mt3 - Title - Major Title Level 3",mt4:"mt4 - Title - Major Title Level 4",ms1:"ms1 - Heading - Major Section Level 1",ms2:"ms2 - Heading - Major Section Level 2",ms3:"ms3 - Heading - Major Section Level 3",b:"b - Poetry - Stanza Break (Blank Line)"};function gI({editorRef:t,blockMarker:e,disabled:n=!1}){return d.jsx(pI,{disabled:n,buttonClassName:"toolbar-item block-controls",buttonIconClassName:"icon block-marker "+wI(e),buttonLabel:mI(e),buttonAriaLabel:"Formatting options for block type",children:Object.keys(Nh).map(r=>d.jsxs(fI,{className:"item block-marker "+bI(e===r),onClick:()=>{var s;return(s=t.current)==null?void 0:s.formatPara(r)},children:[d.jsx("i",{className:"icon block-marker "+r}),d.jsx("span",{className:"text usfm_"+r,children:Nh[r]})]},r))})}function wI(t){return t&&t in Th?t:"ban"}function mI(t){return t&&t in Th?Th[t]:"No Style"}function bI(t){return t?"active dropdown-item-active":""}function ty(){return d.jsx("div",{className:"divider"})}const yI=b.forwardRef(function({editorRef:t,isReadonly:e=!1,onStateChange:n},r){const[s]=Oe(),[o,i]=b.useState(s),[a,l]=b.useState(),[c,u]=b.useState(!1),[f,h]=b.useState(!1),p=b.useCallback((g,w,y)=>{u(g),h(w),l(y),n==null||n(g,w,y)},[n]);return b.useEffect(()=>s.registerCommand(Js,(g,w)=>(i(w),!1),vi),[s]),d.jsxs(d.Fragment,{children:[d.jsx(n2,{onStateChange:p}),d.jsxs("div",{className:"toolbar",children:[d.jsx("button",{disabled:!c||e,onClick:()=>{o.dispatchCommand(Cl,void 0)},title:Jf?"Undo (âŒ˜Z)":"Undo (Ctrl+Z)",type:"button",className:"toolbar-item spaced","aria-label":"Undo",children:d.jsx("i",{className:"format undo"})}),d.jsx("button",{disabled:!f||e,onClick:()=>{o.dispatchCommand(kl,void 0)},title:Jf?"Redo (âŒ˜Y)":"Redo (Ctrl+Y)",type:"button",className:"toolbar-item","aria-label":"Redo",children:d.jsx("i",{className:"format redo"})}),d.jsx(ty,{}),o===s&&d.jsxs(d.Fragment,{children:[d.jsx(gI,{editorRef:t,blockMarker:a,disabled:e}),d.jsx(ty,{})]}),d.jsx("div",{ref:r,className:"end-container"})]})]})}),ny={namespace:"platformEditor",theme:i2,editable:!0,editorState:void 0,onError(t){throw t},nodes:[Xt,...jO]},vI=xg(),xI={},_I={};function CI(){return d.jsx("div",{className:"editor-placeholder",children:"Enter some Scripture..."})}const l2=b.forwardRef(function({defaultUsj:t,scrRef:e,onScrRefChange:n,onSelectionChange:r,onUsjChange:s,onStateChange:o,options:i,logger:a,children:l},c){const u=b.useRef(null),f=b.useRef(null),h=b.useRef(null),p=b.useRef(t),g=b.useRef(),[w,y]=b.useState(t),[_,v]=b.useState(0),{isReadonly:C=!1,hasExternalUI:M=!1,hasSpellCheck:j=!1,textDirection:S="ltr",markerMenuTrigger:L="\\",view:A=vI,nodes:O=xI,debug:F=!1}=i??_I;ny.editable=!C,pf.initialize(a),b.useImperativeHandle(c,()=>({focus(){var I;(I=u.current)==null||I.focus()},undo(){var I;(I=u.current)==null||I.dispatchCommand(Cl,void 0)},redo(){var I;(I=u.current)==null||I.dispatchCommand(kl,void 0)},cut(){var I;(I=u.current)==null||I.dispatchCommand(Qo,null)},copy(){var I;(I=u.current)==null||I.dispatchCommand(Xs,null)},paste(){u.current&&bg(u.current)},pastePlainText(){u.current&&yg(u.current)},getUsj(){return p.current},setUsj(I){if(!os(p.current,I)){p.current=I;const T=os(w,I);y(I),T&&v(P=>P+1)}},applyUpdate(I,T="remote"){var P,D;(P=u.current)==null||P.update(()=>{T==="remote"&&av(bh),rR(I,A,O,a)},{discrete:!0});const R=(D=u.current)==null?void 0:D.getEditorState();if(!R)return;const q=pf.deserializeEditorState(R);if(q){const V=!os(p.current,q);if(V&&(p.current=q),V||!os(w,q)){const J=Mb(I,R);s==null||s(q,I,T,J)}}},replaceEmbedUpdate(I,T){var P;const D=(P=u.current)==null?void 0:P.read(()=>uO(I,T));D&&this.applyUpdate(D)},getSelection(){var I;return(I=u.current)==null?void 0:I.read(F_)},setSelection(I){var T;(T=u.current)==null||T.update(()=>{const P=ug(I);P!==void 0&&Zt(P)},{tag:p_})},addAnnotation(I,T,P){var D;(D=f.current)==null||D.addAnnotation(I,Cb(T),P)},removeAnnotation(I,T){var P;(P=f.current)==null||P.removeAnnotation(Cb(I),T)},formatPara(I){var T;(T=u.current)==null||T.update(()=>{const P=se();Q(P)&&PE(P,()=>fl(I))})},getElementByKey(I){var T;return(T=u.current)==null?void 0:T.read(()=>{var P;return((P=u.current)==null?void 0:P.getElementByKey(I))??void 0})},insertNote(I,T,P){var D;(D=u.current)==null||D.update(()=>{const R=JM(I,T,P,e,A,O,a);R&&!R.getIsCollapsed()&&(g.current=R.getKey())})},selectNote(I){var T;(T=u.current)==null||T.update(()=>{const P=Ab(I);P&&(YM(P,A),P.getIsCollapsed()||(g.current=P.getKey()))})},getNoteOps(I){var T;return(T=u.current)==null?void 0:T.read(()=>{const P=Ab(I);if(P)return pg(P)})},get toolbarEndRef(){return h}}));const E=b.useCallback((I,T,P,D)=>{if(QD.some(q=>P.has(q)))return;const R=pf.deserializeEditorState(I);if(R){const q=!os(p.current,R);if(q&&(p.current=R),q||!os(w,R)){const V=P.has(bh)?"remote":"local",J=Mb(D,I);s==null||s(R,D,V,J)}}},[w,s]);return d.jsxs(ex,{initialConfig:ny,children:[d.jsx(IR,{isEditable:!C}),d.jsxs("div",{className:"editor-container",children:[M?d.jsx(n2,{onStateChange:o}):d.jsx("div",{className:"editor-toolbar-container"+(C?"-readonly":"-editable"),children:d.jsx(yI,{ref:h,editorRef:c,isReadonly:C,onStateChange:o})}),d.jsxs("div",{className:"editor-inner",children:[d.jsx(ox,{editorRef:u}),d.jsx(VN,{contentEditable:d.jsx(sx,{className:`editor-input usfm ${mj(A).join(" ")}`,spellCheck:j}),placeholder:d.jsx(CI,{}),ErrorBoundary:ix}),d.jsx(ax,{}),e&&n&&d.jsx(lI,{scrRef:e,onScrRefChange:n}),e&&d.jsx(aj,{trigger:L,scrRef:e,getMarkerAction:(I,T)=>Zj(I,g,T,A)}),d.jsx(aI,{options:{view:A,nodes:O},editedUsjRef:p,usj:w,setUsj:y}),d.jsx(LR,{scripture:w,nodeOptions:O,editorAdaptor:Sh,viewOptions:A,logger:a},_),d.jsx(JR,{onChange:r}),d.jsx(tR,{onChange:E,ignoreSelectionChange:!0,ignoreHistoryMergeTagChange:!0}),d.jsx(eR,{ref:f,logger:a}),d.jsx(yR,{viewOptions:A}),d.jsx(ER,{}),d.jsx(AR,{}),d.jsx(DR,{logger:a}),d.jsx(jR,{}),d.jsx(PR,{expandedNoteKeyRef:g,nodeOptions:O,viewOptions:A,logger:a}),d.jsx(XR,{}),d.jsx(ZR,{textDirection:S}),d.jsx(nj,{}),l]}),F&&d.jsx(dI,{})]})]})}),kI=b.forwardRef(function(t,e){const{children:n,...r}=t;return d.jsx(l2,{ref:e,...r})});function c2(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function _u(t,e,n,r,s){return{author:e,content:t,deleted:s===void 0?!1:s,id:n===void 0?c2():n,timeStamp:r===void 0?performance.timeOrigin+performance.now():r,type:"comment"}}function u2(t,e,n){return{comments:e,id:n===void 0?c2():n,quote:t,type:"thread"}}function ry(t){return{comments:Array.from(t.comments),id:t.id,quote:t.quote,type:"thread"}}function EI(t){return{author:t.author,content:"[Deleted Comment]",deleted:!0,id:t.id,timeStamp:t.timeStamp,type:"comment"}}function gf(t){const e=t._changeListeners;for(const n of e)n()}class SI{constructor(e,n){we(this,"_editor"),we(this,"_comments"),we(this,"_changeListeners"),we(this,"_collabProvider"),we(this,"logger"),this._comments=[],this._editor=e,this.logger=n,this._collabProvider=null,this._changeListeners=new Set}isCollaborative(){return this._collabProvider!==null}getComments(){return this._comments}setComments(e){this._comments=e,gf(this)}addComment(e,n,r){const s=Array.from(this._comments),o=this._getCollabComments();if(n!==void 0&&e.type==="comment")for(let i=0;i<s.length;i++){const a=s[i];if(a.type==="thread"&&a.id===n.id){const l=ry(a);s.splice(i,1,l);const c=r!==void 0?r:l.comments.length;if(this.isCollaborative()&&o!==null){const u=o.get(i).get("comments");this._withRemoteTransaction(()=>{const f=this._createCollabSharedMap(e);u.insert(c,[f])})}l.comments.splice(c,0,e);break}}else{const i=r!==void 0?r:s.length;this.isCollaborative()&&o!==null&&this._withRemoteTransaction(()=>{const a=this._createCollabSharedMap(e);o.insert(i,[a])}),s.splice(i,0,e)}this._comments=s,gf(this)}deleteCommentOrThread(e,n){const r=Array.from(this._comments),s=this._getCollabComments();let o=null;if(n!==void 0)for(let i=0;i<r.length;i++){const a=r[i];if(a.type==="thread"&&a.id===n.id){const l=ry(a);r.splice(i,1,l);const c=l.comments;if(o=c.indexOf(e),this.isCollaborative()&&s!==null){const u=s.get(i).get("comments"),f=o;this._withRemoteTransaction(()=>{u.delete(f)})}c.splice(o,1);break}}else o=r.indexOf(e),this.isCollaborative()&&s!==null&&this._withRemoteTransaction(()=>{s.delete(o)}),r.splice(o,1);return this._comments=r,gf(this),e.type==="comment"?{index:o,markedComment:EI(e)}:null}registerOnChange(e){const n=this._changeListeners;return n.add(e),()=>{n.delete(e)}}_withRemoteTransaction(e){const n=this._collabProvider;n!==null&&n.doc.transact(e,this)}_withLocalTransaction(e){const n=this._collabProvider;try{this._collabProvider=null,e()}finally{this._collabProvider=n}}_getCollabComments(){const e=this._collabProvider;return e!==null?e.doc.get("comments",So):null}_createCollabSharedMap(e){const n=new Ui,r=e.type,s=e.id;if(n.set("type",r),n.set("id",s),r==="comment")n.set("author",e.author),n.set("content",e.content),n.set("deleted",e.deleted),n.set("timeStamp",e.timeStamp);else{n.set("quote",e.quote);const o=new So;e.comments.forEach((i,a)=>{const l=this._createCollabSharedMap(i);o.insert(a,[l])}),n.set("comments",o)}return n}registerCollaboration(e){this._collabProvider=e;const n=this._getCollabComments(),r=()=>{e.connect()},s=()=>{try{e.disconnect()}catch{}},o=this._editor.registerCommand(zD,a=>{var l,c;return r!==void 0&&s!==void 0&&(a?((l=this.logger)==null||l.info("Comments connected!"),r()):((c=this.logger)==null||c.info("Comments disconnected!"),s())),!1},ei),i=(a,l)=>{if(l.origin!==this){for(const c of a)if(c instanceof t_){const u=c.target,f=c.delta;let h=0;for(const p of f){const g=p.insert,w=p.retain,y=p.delete,_=u.parent,v=u===n?void 0:_ instanceof Ui&&this._comments.find(C=>C.id===_.get("id"));if(Array.isArray(g)){const C=h;g.slice().reverse().forEach(M=>{const j=M.get("id"),S=M.get("type")==="thread"?u2(M.get("quote"),M.get("comments").toArray().map(L=>_u(L.get("content"),L.get("author"),L.get("id"),L.get("timeStamp"),L.get("deleted"))),j):_u(M.get("content"),M.get("author"),j,M.get("timeStamp"),M.get("deleted"));this._withLocalTransaction(()=>{this.addComment(S,v,C)})})}else if(typeof w=="number")h+=w;else if(typeof y=="number")for(let C=0;C<y;C++){const M=v===void 0||v===!1?this._comments[h]:v.comments[h];this._withLocalTransaction(()=>{this.deleteCommentOrThread(M,v)}),h++}}}}};return n===null?()=>null:(n.observeDeep(i),r(),()=>{n.unobserveDeep(i),o(),this._collabProvider=null})}}function NI(t){const[e,n]=b.useState(t.getComments());return b.useEffect(()=>t.registerOnChange(()=>{n(t.getComments())}),[t]),e}function TI({onClose:t,children:e,title:n,closeOnClickOutside:r}){const s=b.useRef(null);return b.useEffect(()=>{s.current!==null&&s.current.focus()},[]),b.useEffect(()=>{let o=null;const i=c=>{c.key==="Escape"&&t()},a=c=>{const u=c.target;s.current!==null&&!s.current.contains(u)&&r&&t()},l=s.current;return l!==null&&(o=l.parentElement,o!==null&&o.addEventListener("click",a)),window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i),o!==null&&(o==null||o.removeEventListener("click",a))}},[r,t]),d.jsx("div",{className:"Modal__overlay",role:"dialog",children:d.jsxs("div",{className:"Modal__modal",tabIndex:-1,ref:s,children:[d.jsx("h2",{className:"Modal__title",children:n}),d.jsx("button",{className:"Modal__closeButton","aria-label":"Close modal",type:"button",onClick:t,children:"X"}),d.jsx("div",{className:"Modal__content",children:e})]})})}function AI({onClose:t,children:e,title:n,closeOnClickOutside:r=!1}){return Xn.createPortal(d.jsx(TI,{onClose:t,title:n,closeOnClickOutside:r,children:e}),document.body)}function d2(){const[t,e]=b.useState(null),n=b.useCallback(()=>{e(null)},[]),r=b.useMemo(()=>{if(t===null)return null;const{title:o,content:i,closeOnClickOutside:a}=t;return d.jsx(AI,{onClose:n,title:o,closeOnClickOutside:a,children:i})},[t,n]),s=b.useCallback((o,i,a=!1)=>{e({closeOnClickOutside:a,content:i(n),title:o})},[n]);return[r,s]}const DI={...i2,paragraph:"CommentEditorTheme__paragraph"};function MI(...t){return t.filter(Boolean).join(" ")}function Hs({"data-test-id":t,children:e,className:n,onClick:r,disabled:s,small:o,title:i}){return d.jsx("button",{disabled:s,className:MI("Button__root",s&&"Button__disabled",o&&"Button__small",n),onClick:r,title:i,"aria-label":i,...t&&{"data-test-id":t},children:e})}function OI({className:t}){return d.jsx(sx,{className:t||"ContentEditable__root"})}function RI({children:t,className:e}){return d.jsx("div",{className:e||"Placeholder__root",children:t})}const sy=Ce("INSERT_INLINE_COMMAND");function jI({anchorKey:t,editor:e,showComments:n,onAddComment:r}){const s=b.useRef(null),o=b.useCallback(()=>{const i=s.current,a=e.getRootElement(),l=e.getElementByKey(t);if(i!==null&&a!==null&&l!==null){const{right:c}=a.getBoundingClientRect(),{top:u}=l.getBoundingClientRect();i.style.left=`${c-20}px`,i.style.top=`${u-30}px`}},[t,e]);return b.useEffect(()=>(window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[e,o]),b.useLayoutEffect(()=>{o()},[t,e,n,o]),d.jsx("div",{className:"CommentPlugin_AddCommentBox",ref:s,children:d.jsx("button",{className:"CommentPlugin_AddCommentBox_button",onClick:r,children:d.jsx("i",{className:"icon add-comment"})})})}function II({onEscape:t}){const[e]=Oe();return b.useEffect(()=>e.registerCommand(Pu,n=>t(n),Sc),[e,t]),null}function f2({className:t,autoFocus:e,onEscape:n,onChange:r,editorRef:s,placeholder:o="Type a comment..."}){return d.jsx(ex,{initialConfig:{namespace:"Commenting",nodes:[],onError:i=>{throw i},theme:DI},children:d.jsxs("div",{className:"CommentPlugin_CommentInputBox_EditorContainer",children:[d.jsx(QT,{contentEditable:d.jsx(OI,{className:t}),placeholder:d.jsx(RI,{children:o}),ErrorBoundary:ix}),d.jsx(HT,{onChange:r}),d.jsx(ax,{}),e!==!1&&d.jsx(BT,{}),d.jsx(II,{onEscape:n}),d.jsx(UT,{}),s!==void 0&&d.jsx(ox,{editorRef:s})]})})}function h2(t,e){return b.useCallback((n,r)=>{n.read(()=>{t(tx()),e(!nx(r.isComposing(),!0))})},[e,t])}function LI({editor:t,cancelAddComment:e,submitAddComment:n}){const[r,s]=b.useState(""),[o,i]=b.useState(!1),a=b.useRef(null),l=b.useMemo(()=>({container:document.createElement("div"),elements:[]}),[]),c=b.useRef(null),u=g2(),f=b.useCallback(()=>{t.getEditorState().read(()=>{const w=se();if(Q(w)){c.current=w.clone();const y=w.anchor,_=w.focus,v=OE(t,y.getNode(),y.offset,_.getNode(),_.offset),C=a.current;if(v!==null&&C!==null){const{left:M,bottom:j,width:S}=v.getBoundingClientRect(),L=RE(t,v);let A=L.length===1?M+S/2-125:M-125;A<10&&(A=10),C.style.left=`${A}px`,C.style.top=`${j+20+(window.pageYOffset||document.documentElement.scrollTop)}px`;const O=L.length,{container:F}=l,E=l.elements,I=E.length;for(let T=0;T<O;T++){const P=L[T];let D=E[T];D===void 0&&(D=document.createElement("span"),E[T]=D,F.appendChild(D));const R=`position:absolute;top:${P.top+(window.pageYOffset||document.documentElement.scrollTop)}px;left:${P.left}px;height:${P.height}px;width:${P.width}px;background-color:rgba(255, 212, 0, 0.3);pointer-events:none;z-index:5;`;D.style.cssText=R}for(let T=I-1;T>=O;T--){const P=E[T];F.removeChild(P),E.pop()}}}})},[t,l]);b.useLayoutEffect(()=>{f();const w=l.container,y=document.body;return y!==null?(y.appendChild(w),()=>{y.removeChild(w)}):()=>{}},[l.container,f]),b.useEffect(()=>(window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}),[f]);const h=w=>(w.preventDefault(),e(),!0),p=()=>{if(o){let w=t.getEditorState().read(()=>{const y=c.current;return y?y.getTextContent():""});w.length>100&&(w=w.slice(0,99)+"â€¦"),n(u2(w,[_u(r,u)]),!0,void 0,c.current),c.current=null}},g=h2(s,i);return d.jsxs("div",{className:"CommentPlugin_CommentInputBox",ref:a,children:[d.jsx(f2,{className:"CommentPlugin_CommentInputBox_Editor",onEscape:h,onChange:g}),d.jsxs("div",{className:"CommentPlugin_CommentInputBox_Buttons",children:[d.jsx(Hs,{onClick:e,className:"CommentPlugin_CommentInputBox_Button",children:"Cancel"}),d.jsx(Hs,{onClick:p,disabled:!o,className:"CommentPlugin_CommentInputBox_Button primary",children:"Comment"})]})]})}function PI({submitAddComment:t,thread:e,placeholder:n}){const[r,s]=b.useState(""),[o,i]=b.useState(!1),a=b.useRef(null),l=g2(),c=h2(s,i);return d.jsxs(d.Fragment,{children:[d.jsx(f2,{className:"CommentPlugin_CommentsPanel_Editor",autoFocus:!1,onEscape:()=>!0,onChange:c,editorRef:a,placeholder:n}),d.jsx(Hs,{className:"CommentPlugin_CommentsPanel_SendButton",onClick:()=>{if(o){t(_u(r,l),!1,e);const u=a.current;u!==null&&u.dispatchCommand(cp,void 0)}},disabled:!o,children:d.jsx("i",{className:"send"})})]})}function p2({commentOrThread:t,deleteCommentOrThread:e,onClose:n,thread:r=void 0}){return d.jsxs(d.Fragment,{children:["Are you sure you want to delete this ",t.type,"?",d.jsxs("div",{className:"Modal__content",children:[d.jsx(Hs,{onClick:()=>{e(t,r),n()},children:"Delete"})," ",d.jsx(Hs,{onClick:()=>{n()},children:"Cancel"})]})]})}function oy({comment:t,deleteComment:e,thread:n,rtf:r}){const s=Math.round((t.timeStamp-(performance.timeOrigin+performance.now()))/1e3),o=Math.round(s/60),[i,a]=d2();return d.jsxs("li",{className:"CommentPlugin_CommentsPanel_List_Comment",children:[d.jsxs("div",{className:"CommentPlugin_CommentsPanel_List_Details",children:[d.jsx("span",{className:"CommentPlugin_CommentsPanel_List_Comment_Author",children:t.author}),d.jsxs("span",{className:"CommentPlugin_CommentsPanel_List_Comment_Time",children:["Â· ",s>-10?"Just now":r.format(o,"minute")]})]}),d.jsx("p",{className:t.deleted?"CommentPlugin_CommentsPanel_DeletedComment":"",children:t.content}),!t.deleted&&d.jsxs(d.Fragment,{children:[d.jsx(Hs,{onClick:()=>{a("Delete Comment",l=>d.jsx(p2,{commentOrThread:t,deleteCommentOrThread:e,thread:n,onClose:l}))},className:"CommentPlugin_CommentsPanel_List_DeleteButton",children:d.jsx("i",{className:"delete"})}),i]})]})}function $I({activeIDs:t,comments:e,deleteCommentOrThread:n,listRef:r,submitAddComment:s,markNodeMap:o}){const[i]=Oe(),[a,l]=b.useState(0),[c,u]=d2(),f=b.useMemo(()=>new Intl.RelativeTimeFormat("en",{localeMatcher:"best fit",numeric:"auto",style:"short"}),[]);return b.useEffect(()=>{const h=setTimeout(()=>{l(a+1)},1e4);return()=>{clearTimeout(h)}},[a]),d.jsx("ul",{className:"CommentPlugin_CommentsPanel_List",ref:r,children:e.map(h=>{const p=h.id;return h.type==="thread"?d.jsxs("li",{onClick:()=>{const g=o.get(p);if(g!==void 0&&(t===null||t.indexOf(p)===-1)){const w=document.activeElement;i.update(()=>{const y=Array.from(g)[0],_=Te(y);Qt(_)&&_.selectStart()},{onUpdate(){w!==null&&w.focus()}})}},className:`CommentPlugin_CommentsPanel_List_Thread ${o.has(p)?"interactive":""} ${t.indexOf(p)===-1?"":"active"}`,children:[d.jsxs("div",{className:"CommentPlugin_CommentsPanel_List_Thread_QuoteBox",children:[d.jsxs("blockquote",{className:"CommentPlugin_CommentsPanel_List_Thread_Quote",children:["> ",d.jsx("span",{children:h.quote})]}),d.jsx(Hs,{onClick:()=>{u("Delete Thread",g=>d.jsx(p2,{commentOrThread:h,deleteCommentOrThread:n,onClose:g}))},className:"CommentPlugin_CommentsPanel_List_DeleteButton",children:d.jsx("i",{className:"delete"})}),c]}),d.jsx("ul",{className:"CommentPlugin_CommentsPanel_List_Thread_Comments",children:h.comments.map(g=>d.jsx(oy,{comment:g,deleteComment:n,thread:h,rtf:f},g.id))}),d.jsx("div",{className:"CommentPlugin_CommentsPanel_List_Thread_Editor",children:d.jsx(PI,{submitAddComment:s,thread:h,placeholder:"Reply to comment..."})})]},p):d.jsx(oy,{comment:h,deleteComment:n,rtf:f},p)})})}function FI({activeIDs:t,deleteCommentOrThread:e,comments:n,submitAddComment:r,markNodeMap:s}){const o=b.useRef(null),i=n.length===0;return d.jsxs("div",{className:"CommentPlugin_CommentsPanel",children:[d.jsx("h2",{className:"CommentPlugin_CommentsPanel_Heading",children:"Comments"}),i?d.jsx("div",{className:"CommentPlugin_CommentsPanel_Empty",children:"No Comments"}):d.jsx($I,{activeIDs:t,comments:n,deleteCommentOrThread:e,listRef:o,submitAddComment:r,markNodeMap:s})]})}function g2(){const t=_x(),{yjsDocMap:e,name:n}=t;return e.has("comments")?n:"Scripture User"}function BI({providerFactory:t,setCommentStore:e,onChange:n,showCommentsContainerRef:r,commentContainerRef:s,logger:o}){const i=_x(),[a]=Oe(),l=b.useMemo(()=>{const A=new SI(a,o);return n&&A.registerOnChange(n),e==null||e(A),A},[a,o,n,e]),c=NI(l),u=b.useMemo(()=>new Map,[]),[f,h]=b.useState(),[p,g]=b.useState([]),[w,y]=b.useState(!1),[_,v]=b.useState(!1),{yjsDocMap:C}=i;b.useEffect(()=>{if(t){const A=t("comments",C);return l.registerCollaboration(A)}return()=>{}},[l,t,C]);const M=b.useCallback(()=>{a.update(()=>{const A=se();A!==null&&(A.dirty=!0)}),y(!1)},[a]),j=b.useCallback((A,O)=>{if(A.type==="comment"){const F=l.deleteCommentOrThread(A,O);if(!F)return;const{markedComment:E,index:I}=F;l.addComment(E,O,I)}else{l.deleteCommentOrThread(A);const F=O!==void 0?O.id:A.id,E=u.get(F);E!==void 0&&setTimeout(()=>{a.update(()=>{for(const I of E){const T=Te(I);Qt(T)&&(T.deleteID(As,F),T.hasNoIDsForEveryType()&&j_(T))}})})}},[l,a,u]),S=b.useCallback((A,O,F,E)=>{l.addComment(A,F),O&&(a.update(()=>{Q(E)&&I_(E,As,A.id)}),y(!1))},[l,a]);b.useEffect(()=>{const A=[];for(const O of p){const F=u.get(O);if(F!==void 0)for(const E of F){const I=a.getElementByKey(E);I!==null&&(I.classList.add("selected"),A.push(I),v(!0))}}return()=>{for(const O of A)O.classList.remove("selected")}},[p,a,u]),b.useEffect(()=>{if(!a.hasNodes([Xt]))throw new Error("CommentPlugin: TypedMarkNode not registered on editor!");const A=new Map;return Rt(yv(a,Xt,O=>hl(O.getTypedIDs()),(O,F)=>{for(const[E,I]of Object.entries(O.getTypedIDs()))I.forEach(T=>{F.addID(E,T)})}),a.registerMutationListener(Xt,O=>{a.getEditorState().read(()=>{for(const[F,E]of O){const I=Te(F);let T=[];E==="destroyed"?T=A.get(F)??[]:Qt(I)&&(T=I.getTypedIDs()[As]??[]);for(const P of T){let D=u.get(P);A.set(F,T),E==="destroyed"?D!==void 0&&(D.delete(F),D.size===0&&u.delete(P)):(D===void 0&&(D=new Set,u.set(P,D)),D.has(F)||D.add(F))}}})},{skipInitialization:!1}),a.registerUpdateListener(({editorState:O,tags:F})=>{O.read(()=>{const E=se();let I=!1,T=!1;if(Q(E)){const P=E.anchor.getNode();if(ne(P)){const D=LM(P,As,E.anchor.offset)??[];D!==null&&(g(D),I=!0),E.isCollapsed()||(h(P.getKey()),T=!0)}}I||g(P=>P.length===0?P:[]),T||h(null),!F.has("collaboration")&&Q(E)&&y(!1)})}),a.registerCommand(sy,()=>{const O=window.getSelection();return O!==null&&O.removeAllRanges(),y(!0),!0},xe))},[a,u]);const L=()=>{a.dispatchCommand(sy,void 0)};return d.jsxs(d.Fragment,{children:[w&&Xn.createPortal(d.jsx(LI,{editor:a,cancelAddComment:M,submitAddComment:S}),document.body),f!=null&&!w&&Xn.createPortal(d.jsx(jI,{anchorKey:f,editor:a,showComments:_,onAddComment:L}),document.body),r!==null&&Xn.createPortal(d.jsx(Hs,{className:`CommentPlugin_ShowCommentsButton ${_?"active":""}`,onClick:()=>v(!_),title:_?"Hide Comments":"Show Comments",children:d.jsx("i",{className:"comments"})}),(r==null?void 0:r.current)??document.body),_&&Xn.createPortal(d.jsx(FI,{comments:c,submitAddComment:S,deleteCommentOrThread:j,activeIDs:p,markNodeMap:u}),(s==null?void 0:s.current)??document.body)]})}function qI(){const t=b.useRef(void 0),e=b.useCallback(n=>{t.current=n},[]);return[t,e]}function UI(t,e){var n,r;const s=((n=e.current)==null?void 0:n.getComments())??[],o=s==null?void 0:s.map(a=>a.id),i=t.map(a=>{const l=o.findIndex(c=>c===a);return l!==void 0&&l>=0?s[l]:{comments:[{author:"unknown",content:"Comment not found",deleted:!1,id:"",timeStamp:0,type:"comment"}],id:a,quote:"",type:"thread"}});s.forEach(a=>{t.includes(a.id)||i.push(a)}),i&&((r=e.current)==null||r.setComments(i))}function zI(t,e){b.useEffect(()=>{var n;t.options??(t.options={}),(n=t.options).nodes??(n.nodes={}),t.options.nodes.addMissingComments=r=>{UI(r,e)}},[e,t])}b.forwardRef(function(t,e){const n=b.useRef(null),r=b.useRef(!0),s=b.useRef(null),[o,i]=b.useState(null),{children:a,onCommentChange:l,onUsjChange:c,showCommentsContainerRef:u,...f}=t,{options:{isReadonly:h}={}}=t,[p,g]=qI();zI(f,p),b.useImperativeHandle(e,()=>({focus(){var _;(_=n.current)==null||_.focus()},undo(){var _;(_=n.current)==null||_.undo()},redo(){var _;(_=n.current)==null||_.redo()},cut(){var _;(_=n.current)==null||_.cut()},copy(){var _;(_=n.current)==null||_.copy()},paste(){var _;(_=n.current)==null||_.paste()},pastePlainText(){var _;(_=n.current)==null||_.pastePlainText()},getUsj(){var _;return(_=n.current)==null?void 0:_.getUsj()},setUsj(_){var v;(v=n.current)==null||v.setUsj(_)},applyUpdate(_,v){var C;(C=n.current)==null||C.applyUpdate(_,v)},replaceEmbedUpdate(_,v){var C;return(C=n.current)==null?void 0:C.replaceEmbedUpdate(_,v)},getSelection(){var _;return(_=n.current)==null?void 0:_.getSelection()},setSelection(_){var v;(v=n.current)==null||v.setSelection(_)},addAnnotation(_,v,C){var M;(M=n.current)==null||M.addAnnotation(_,v,C)},removeAnnotation(_,v){var C;(C=n.current)==null||C.removeAnnotation(_,v)},formatPara(_){var v;(v=n.current)==null||v.formatPara(_)},getElementByKey(_){var v;return(v=n.current)==null?void 0:v.getElementByKey(_)},insertNote(_,v,C){var M;(M=n.current)==null||M.insertNote(_,v,C)},selectNote(_){var v;(v=n.current)==null||v.selectNote(_)},getNoteOps(_){var v;return(v=n.current)==null?void 0:v.getNoteOps(_)},setComments(_){var v;(v=p.current)==null||v.setComments(_),r.current=!0},get toolbarEndRef(){return o}}));const w=b.useCallback((_,v,C,M)=>{var j;if(!c)return;const S=(j=p.current)==null?void 0:j.getComments();c(_,S,v,C,M)},[p,c]),y=b.useCallback(()=>{var _;if(!l||r.current){r.current=!1;return}const v=(_=p.current)==null?void 0:_.getComments();l(v)},[p,r,l]);return b.useEffect(()=>{var _;return i(((_=n.current)==null?void 0:_.toolbarEndRef)??null),()=>i(null)},[]),d.jsxs(l2,{ref:n,onUsjChange:w,...f,children:[d.jsx(BI,{setCommentStore:g,onChange:y,showCommentsContainerRef:h?null:u??o,commentContainerRef:s,logger:f.logger}),d.jsx("div",{ref:s,className:"comment-container"})]})});function VI({noteOps:t,onSave:e,onClose:n,scrRef:r,noteKey:s,viewOptions:o}){const i=b.useRef(null),a=b.createRef(),l=b.useMemo(()=>({isReadonly:!1,hasSpellCheck:!1,hasExternalUI:!0,textDirection:"auto",nodes:{noteCallerOnClick:(f,h,p,g,w)=>{p||(g()===qo?w(Xp):w(qo))}},view:{...o,noteMode:"expanded"}}),[o]);b.useEffect(()=>{var h,p;let f;return t&&!((p=(h=i.current)==null?void 0:h.getUsj())!=null&&p.content)&&(f=setTimeout(()=>{var g,w;(g=i.current)==null||g.setUsj(Kh),(w=i.current)==null||w.applyUpdate(t)},0)),()=>{f&&clearTimeout(f)}},[t,s]);const c=()=>{var h;const f=(h=i.current)==null?void 0:h.getNoteOps(0);f&&e(f)},u=()=>{var h;const f=(h=a.current)==null?void 0:h.getElementsByClassName("editor-input")[0];f!=null&&f.textContent&&navigator.clipboard.writeText(f.textContent)};return d.jsxs("div",{className:"footnote-editor tw-grid tw-gap-[12px]",children:[d.jsxs("div",{className:"tw-flex tw-w-full tw-justify-end tw-gap-4",children:[d.jsx(Se,{onClick:n,className:"tw-h-6 tw-w-6",size:"icon",variant:"secondary",children:d.jsx(fe.X,{})}),d.jsx(Se,{onClick:c,className:"tw-h-6 tw-w-6",size:"icon",variant:"default",children:d.jsx(fe.Check,{})})]}),d.jsxs("div",{ref:a,className:"tw-relative tw-rounded-[6px] tw-border-2 tw-border-ring",children:[d.jsx(kI,{options:l,onScrRefChange:()=>{},scrRef:r,ref:i}),d.jsx("div",{className:"tw-absolute tw-bottom-0 tw-right-0",children:d.jsx(Se,{onClick:u,className:"tw-h-6 tw-w-6",variant:"ghost",size:"icon",children:d.jsx(fe.Copy,{})})})]})]})}function w2(t,e){if(!e||e.length===0)return t??"empty";const n=e.find(s=>typeof s=="string");if(n)return`key-${t??"unknown"}-${n.slice(0,10)}`;const r=typeof e[0]=="string"?"impossible":e[0].marker??"unknown";return`key-${t??"unknown"}-${r}`}function HI(t,e,n=!0,r=void 0){if(!e||e.length===0)return;const s=[],o=[];let i=[];return e.forEach(a=>{typeof a!="string"&&a.marker==="fp"?(i.length>0&&o.push(i),i=[a]):i.push(a)}),i.length>0&&o.push(i),o.map((a,l)=>{const c=l===o.length-1;return d.jsxs("p",{className:"tw-mb-2",children:[_g(t,a,n,!0,s),c&&r]},w2(t,a))})}function _g(t,e,n=!0,r=!0,s=[]){if(!(!e||e.length===0))return e.map(o=>{if(typeof o=="string"){const i=`${t}-text-${o.slice(0,10)}`;if(r){const a=W(`usfm_${t}`);return d.jsx("span",{className:a,children:o},i)}return d.jsxs("span",{className:"tw-inline-flex tw-items-center tw-gap-1 tw-underline tw-decoration-destructive",children:[d.jsx(fe.AlertCircle,{className:"tw-h-4 tw-w-4 tw-fill-destructive"}),d.jsx("span",{children:o}),d.jsx(fe.AlertCircle,{className:"tw-h-4 tw-w-4 tw-fill-destructive"})]},i)}return KI(o,w2(`${t}\\${o.marker}`,[o]),n,[...s,t??"unknown"])})}function KI(t,e,n,r=[]){const{marker:s}=t;return d.jsxs("span",{children:[s?n&&d.jsx("span",{className:"marker",children:`\\${s} `}):d.jsx(fe.AlertCircle,{className:"tw-text-error tw-mr-1 tw-inline-block tw-h-4 tw-w-4","aria-label":"Missing marker"}),_g(s,t.content,n,!0,[...r,s??"unknown"])]},e)}function m2({footnote:t,layout:e="horizontal",formatCaller:n,showMarkers:r=!0}){const s=n?n(t.caller):t.caller,o=s!==t.caller;let i,a=t.content;Array.isArray(t.content)&&t.content.length>0&&typeof t.content[0]!="string"&&(t.content[0].marker==="fr"||t.content[0].marker==="xo")&&([i,...a]=t.content);const l=r?d.jsx("span",{className:"marker",children:`\\${t.marker} `}):void 0,c=r?d.jsx("span",{className:"marker",children:` \\${t.marker}*`}):void 0,u=d.jsxs(d.Fragment,{children:[s&&d.jsxs("span",{className:W("note-caller",{formatted:o}),children:[s," "]}),i&&d.jsxs(d.Fragment,{children:[_g(t.marker,[i],r,!1)," "]})]}),p=W(e==="horizontal"?"horizontal tw-table-cell":"vertical",r?"marker-visible":"");return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:W("textual-note-header tw-text-nowrap tw-pr-2",p),children:[l,u]}),d.jsx("div",{className:W("textual-note-body tw-pr-0.5",p),children:a&&a.length>0&&d.jsx(d.Fragment,{children:HI(t.marker,a,r,c)})})]})}const WI=["%webView_footnoteList_header%"],GI=(t,e)=>t[e]??e;function JI({className:t,classNameForItems:e,footnotes:n,layout:r="horizontal",listId:s,selectedFootnote:o,showMarkers:i=!0,suppressFormatting:a=!1,formatCaller:l,onFootnoteSelected:c,localizedStrings:u}){const f=u?GI(u,"%webView_footnoteList_header%"):"Footnotes",h=l??oe.getFormatCallerFunction(n,void 0),p=(C,M)=>{c==null||c(C,M,s)},g=o?n.findIndex(C=>C===o):0,[w,y]=b.useState(g),_=C=>{if(n.length)switch(C.key){case"ArrowDown":C.preventDefault(),y(M=>Math.min(M+1,n.length-1));break;case"ArrowUp":C.preventDefault(),y(M=>Math.max(M-1,0));break;case"Enter":case" ":C.preventDefault(),c==null||c(n[w],w,s);break}},v=b.useRef([]);return b.useEffect(()=>{var C;w>=0&&w<v.current.length&&((C=v.current[w])==null||C.focus())},[w]),d.jsxs(d.Fragment,{children:[r==="vertical"&&d.jsx("h2",{className:"tw-mb-1 tw-font-semibold",children:f}),d.jsx("div",{role:"listbox","aria-label":"Footnotes",tabIndex:0,className:W("tw-h-full tw-overflow-y-auto",t),onKeyDown:_,children:d.jsx("div",{className:W("tw-p-0.5 tw-pt-1",r==="horizontal"?"tw-table tw-min-w-full":"tw-flex tw-flex-col tw-gap-0.5",!a&&"formatted-font"),children:n.map((C,M)=>{const j=C===o,S=`${s}-${M}`;return d.jsxs(d.Fragment,{children:[d.jsx(Du,{ref:L=>{v.current[M]=L},role:"option","aria-selected":j,"data-marker":C.marker,"data-state":j?"selected":void 0,tabIndex:-1,className:W("data-[state=selected]:tw-bg-muted",c&&"hover:tw-bg-muted/50","tw-w-full tw-rounded-sm tw-border-0 tw-bg-transparent tw-shadow-none","focus:tw-outline-none focus-visible:tw-outline-none","focus-visible:tw-ring-offset-0.5 focus-visible:tw-relative focus-visible:tw-z-10 focus-visible:tw-ring-2 focus-visible:tw-ring-ring",r==="horizontal"?"horizontal tw-table-row":"vertical tw-block tw-text-sm",e),onClick:()=>p(C,M),children:d.jsx(m2,{footnote:C,layout:r,formatCaller:()=>h(C.caller,M),showMarkers:i})},S),M<n.length-1&&r==="vertical"&&d.jsx(Zi,{})]})})})})]})}function XI({occurrenceData:t,setScriptureReference:e,localizedStrings:n}){const r=n["%webView_inventory_occurrences_table_header_reference%"],s=n["%webView_inventory_occurrences_table_header_occurrence%"],o=b.useMemo(()=>{const i=[];return t.forEach(a=>{i.some(l=>oe.deepEqual(l,a))||i.push(a)}),i},[t]);return d.jsxs(vl,{stickyHeader:!0,children:[d.jsx(xl,{stickyHeader:!0,children:d.jsxs($r,{children:[d.jsx(Ti,{children:r}),d.jsx(Ti,{children:s})]})}),d.jsx(_l,{children:o.length>0&&o.map(i=>d.jsxs($r,{onClick:()=>{e(i.reference)},children:[d.jsx(Ds,{children:`${Ye.bookIdToEnglishName(i.reference.book)} ${i.reference.chapterNum}:${i.reference.verseNum}`}),d.jsx(Ds,{children:i.text})]},`${i.reference.book} ${i.reference.chapterNum}:${i.reference.verseNum}-${i.text}`))})]})}const id=b.forwardRef(({className:t,...e},n)=>d.jsx(vf.Root,{ref:n,className:W("tw-peer pr-twp tw-h-4 tw-w-4 tw-shrink-0 tw-rounded-sm tw-border tw-border-primary tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 data-[state=checked]:tw-bg-primary data-[state=checked]:tw-text-primary-foreground",t),...e,children:d.jsx(vf.Indicator,{className:W("tw-flex tw-items-center tw-justify-center tw-text-current"),children:d.jsx(fe.Check,{className:"tw-h-4 tw-w-4"})})}));id.displayName=vf.Root.displayName;const b2=Ks.cva("pr-twp tw-inline-flex tw-items-center tw-justify-center tw-rounded-md tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-colors hover:tw-bg-muted hover:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=on]:tw-bg-accent data-[state=on]:tw-text-accent-foreground",{variants:{variant:{default:"tw-bg-transparent",outline:"tw-border tw-border-input tw-bg-transparent hover:tw-bg-accent hover:tw-text-accent-foreground"},size:{default:"tw-h-10 tw-px-3",sm:"tw-h-9 tw-px-2.5",lg:"tw-h-11 tw-px-5"}},defaultVariants:{variant:"default",size:"default"}}),YI=b.forwardRef(({className:t,variant:e,size:n,...r},s)=>d.jsx(fy.Root,{ref:s,className:W(b2({variant:e,size:n,className:t})),...r}));YI.displayName=fy.Root.displayName;const y2=b.createContext({size:"default",variant:"default"}),Cg=b.forwardRef(({className:t,variant:e,size:n,children:r,...s},o)=>{const i=zt();return d.jsx(Tu.Root,{ref:o,className:W("pr-twp tw-flex tw-items-center tw-justify-center tw-gap-1",t),...s,dir:i,children:d.jsx(y2.Provider,{value:{variant:e,size:n},children:r})})});Cg.displayName=Tu.Root.displayName;const Va=b.forwardRef(({className:t,children:e,variant:n,size:r,...s},o)=>{const i=b.useContext(y2);return d.jsx(Tu.Item,{ref:o,className:W(b2({variant:i.variant||n,size:i.size||r}),t),...s,children:e})});Va.displayName=Tu.Item.displayName;const ad=t=>t==="asc"?d.jsx(fe.ArrowUpIcon,{className:"tw-ms-2 tw-h-4 tw-w-4"}):t==="desc"?d.jsx(fe.ArrowDownIcon,{className:"tw-ms-2 tw-h-4 tw-w-4"}):d.jsx(fe.ArrowUpDownIcon,{className:"tw-ms-2 tw-h-4 tw-w-4"}),QI=t=>({accessorKey:"item",accessorFn:e=>e.items[0],header:({column:e})=>d.jsxs(Se,{variant:"ghost",onClick:()=>e.toggleSorting(void 0),children:[t,ad(e.getIsSorted())]})}),ZI=(t,e)=>({accessorKey:`item${e}`,accessorFn:n=>n.items[e],header:({column:n})=>d.jsxs(Se,{variant:"ghost",onClick:()=>n.toggleSorting(void 0),children:[t,ad(n.getIsSorted())]})}),e5=t=>({accessorKey:"count",header:({column:e})=>d.jsx("div",{className:"tw-flex tw-justify-end tw-tabular-nums",children:d.jsxs(Se,{variant:"ghost",onClick:()=>e.toggleSorting(void 0),children:[t,ad(e.getIsSorted())]})}),cell:({row:e})=>d.jsx("div",{className:"tw-flex tw-justify-end",children:e.getValue("count")})}),wf=(t,e,n,r,s,o)=>{let i=[...n];t.forEach(l=>{e==="approved"?i.includes(l)||i.push(l):i=i.filter(c=>c!==l)}),r(i);let a=[...s];t.forEach(l=>{e==="unapproved"?a.includes(l)||a.push(l):a=a.filter(c=>c!==l)}),o(a)},t5=(t,e,n,r,s)=>({accessorKey:"status",header:({column:o})=>d.jsx("div",{className:"tw-flex tw-justify-center",children:d.jsxs(Se,{variant:"ghost",onClick:()=>o.toggleSorting(void 0),children:[t,ad(o.getIsSorted())]})}),cell:({row:o})=>{const i=o.getValue("status"),a=o.getValue("item");return d.jsxs(Cg,{value:i,variant:"outline",type:"single",children:[d.jsx(Va,{onClick:l=>{l.stopPropagation(),wf([a],"approved",e,n,r,s)},value:"approved",children:d.jsx(fe.CircleCheckIcon,{})}),d.jsx(Va,{onClick:l=>{l.stopPropagation(),wf([a],"unapproved",e,n,r,s)},value:"unapproved",children:d.jsx(fe.CircleXIcon,{})}),d.jsx(Va,{onClick:l=>{l.stopPropagation(),wf([a],"unknown",e,n,r,s)},value:"unknown",children:d.jsx(fe.CircleHelpIcon,{})})]})}}),n5=t=>t.split(/(?:\r?\n|\r)|(?=(?:\\(?:v|c|id)))/g),r5=t=>{const e=/^\\[vc]\s+(\d+)/,n=t.match(e);if(n)return+n[1]},s5=t=>{const e=t.match(/^\\id\s+([A-Za-z]+)/);return e?e[1]:""},v2=(t,e,n)=>n.includes(t)?"unapproved":e.includes(t)?"approved":"unknown",o5=Object.freeze(["%webView_inventory_all%","%webView_inventory_approved%","%webView_inventory_unapproved%","%webView_inventory_unknown%","%webView_inventory_scope_currentBook%","%webView_inventory_scope_chapter%","%webView_inventory_scope_verse%","%webView_inventory_filter_text%","%webView_inventory_show_additional_items%","%webView_inventory_occurrences_table_header_reference%","%webView_inventory_occurrences_table_header_occurrence%","%webView_inventory_no_results%"]),i5=(t,e,n)=>{let r=t;return e!=="all"&&(r=r.filter(s=>e==="approved"&&s.status==="approved"||e==="unapproved"&&s.status==="unapproved"||e==="unknown"&&s.status==="unknown")),n!==""&&(r=r.filter(s=>s.items[0].includes(n))),r},a5=(t,e,n)=>{const r=[];return t.forEach(s=>{const o=r.find(i=>oe.deepEqual(i.items,oe.isString(s.inventoryText)?[s.inventoryText]:s.inventoryText));if(o)o.count+=1,o.occurrences.push({reference:s.verseRef,text:s.verse});else{const i={items:oe.isString(s.inventoryText)?[s.inventoryText]:s.inventoryText,count:1,status:v2(oe.isString(s.inventoryText)?s.inventoryText:s.inventoryText[0],e,n),occurrences:[{reference:s.verseRef,text:s.verse}]};r.push(i)}}),r},Dr=(t,e)=>t[e]??e;function l5({inventoryItems:t,setVerseRef:e,localizedStrings:n,additionalItemsLabels:r,approvedItems:s,unapprovedItems:o,scope:i,onScopeChange:a,columns:l,id:c,areInventoryItemsLoading:u=!1}){const f=Dr(n,"%webView_inventory_all%"),h=Dr(n,"%webView_inventory_approved%"),p=Dr(n,"%webView_inventory_unapproved%"),g=Dr(n,"%webView_inventory_unknown%"),w=Dr(n,"%webView_inventory_scope_currentBook%"),y=Dr(n,"%webView_inventory_scope_chapter%"),_=Dr(n,"%webView_inventory_scope_verse%"),v=Dr(n,"%webView_inventory_filter_text%"),C=Dr(n,"%webView_inventory_show_additional_items%"),M=Dr(n,"%webView_inventory_no_results%"),[j,S]=b.useState(!1),[L,A]=b.useState("all"),[O,F]=b.useState(""),[E,I]=b.useState([]),T=b.useMemo(()=>{const G=t??[];return G.length===0?[]:a5(G,s,o)},[t,s,o]),P=b.useMemo(()=>{if(j)return T;const G=[];return T.forEach(te=>{const re=te.items[0],ee=G.find(Y=>Y.items[0]===re);ee?(ee.count+=te.count,ee.occurrences=ee.occurrences.concat(te.occurrences)):G.push({items:[re],count:te.count,occurrences:te.occurrences,status:te.status})}),G},[j,T]),D=b.useMemo(()=>P.length===0?[]:i5(P,L,O),[P,L,O]),R=b.useMemo(()=>{var re,ee;if(!j)return l;const G=(re=r==null?void 0:r.tableHeaders)==null?void 0:re.length;if(!G)return l;const te=[];for(let Y=0;Y<G;Y++)te.push(ZI(((ee=r==null?void 0:r.tableHeaders)==null?void 0:ee[Y])||"Additional Item",Y+1));return[...te,...l]},[r==null?void 0:r.tableHeaders,l,j]);b.useEffect(()=>{D.length===0?I([]):D.length===1&&I(D[0].items)},[D]);const q=(G,te)=>{te.setRowSelection(()=>{const re={};return re[G.index]=!0,re}),I(G.original.items)},V=G=>{if(G==="book"||G==="chapter"||G==="verse")a(G);else throw new Error(`Invalid scope value: ${G}`)},J=G=>{if(G==="all"||G==="approved"||G==="unapproved"||G==="unknown")A(G);else throw new Error(`Invalid status filter value: ${G}`)},H=b.useMemo(()=>{if(P.length===0||E.length===0)return[];const G=P.filter(te=>oe.deepEqual(j?te.items:[te.items[0]],E));if(G.length>1)throw new Error("Selected item is not unique");return G.length===0?[]:G[0].occurrences},[E,j,P]);return d.jsxs("div",{id:c,className:"pr-twp tw-flex tw-h-full tw-flex-col",children:[d.jsxs("div",{className:"tw-flex tw-items-stretch",children:[d.jsxs(To,{onValueChange:G=>J(G),defaultValue:L,children:[d.jsx(Is,{className:"tw-m-1",children:d.jsx(Ao,{placeholder:"Select filter"})}),d.jsxs(Ls,{children:[d.jsx(qn,{value:"all",children:f}),d.jsx(qn,{value:"approved",children:h}),d.jsx(qn,{value:"unapproved",children:p}),d.jsx(qn,{value:"unknown",children:g})]})]}),d.jsxs(To,{onValueChange:G=>V(G),defaultValue:i,children:[d.jsx(Is,{className:"tw-m-1",children:d.jsx(Ao,{placeholder:"Select scope"})}),d.jsxs(Ls,{children:[d.jsx(qn,{value:"book",children:w}),d.jsx(qn,{value:"chapter",children:y}),d.jsx(qn,{value:"verse",children:_})]})]}),d.jsx(Xo,{className:"tw-m-1 tw-rounded-md tw-border",placeholder:v,value:O,onChange:G=>{F(G.target.value)}}),r&&d.jsxs("div",{className:"tw-m-1 tw-flex tw-items-center tw-rounded-md tw-border",children:[d.jsx(id,{className:"tw-m-1",checked:j,onCheckedChange:G=>{S(G)}}),d.jsx(Mt,{className:"tw-m-1 tw-flex-shrink-0 tw-whitespace-nowrap",children:(r==null?void 0:r.checkboxText)??C})]})]}),d.jsx("div",{className:"tw-m-1 tw-flex-1 tw-overflow-auto tw-rounded-md tw-border",children:d.jsx(Ky,{columns:R,data:D,onRowClickHandler:q,stickyHeader:!0,isLoading:u,noResultsMessage:M})}),H.length>0&&d.jsx("div",{className:"tw-m-1 tw-flex-1 tw-overflow-auto tw-rounded-md tw-border",children:d.jsx(XI,{occurrenceData:H,setScriptureReference:e,localizedStrings:n})})]})}const ld=wl.Provider,cd=wl.Root,ud=wl.Trigger,Ul=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(wl.Content,{ref:r,sideOffset:e,className:W("pr-twp tw-z-50 tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-px-3 tw-py-1.5 tw-text-sm tw-text-popover-foreground tw-shadow-md tw-animate-in tw-fade-in-0 tw-zoom-in-95 data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=closed]:tw-zoom-out-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...n}));Ul.displayName=wl.Content.displayName;const c5="16rem",u5="3rem",x2=b.createContext(void 0);function zl(){const t=b.useContext(x2);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const kg=b.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:o,side:i="primary",...a},l)=>{const[c,u]=b.useState(t),f=e??c,h=b.useCallback(C=>{const M=typeof C=="function"?C(f):C;n?n(M):u(M)},[n,f]),p=b.useCallback(()=>h(C=>!C),[h]),g=f?"expanded":"collapsed",_=zt()==="ltr"?i:i==="primary"?"secondary":"primary",v=b.useMemo(()=>({state:g,open:f,setOpen:h,toggleSidebar:p,side:_}),[g,f,h,p,_]);return d.jsx(x2.Provider,{value:v,children:d.jsx(ld,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":c5,"--sidebar-width-icon":u5,...s},className:W("tw-group/sidebar-wrapper pr-twp tw-flex tw-w-full has-[[data-variant=inset]]:tw-bg-sidebar",r),ref:l,...a,children:o})})})});kg.displayName="SidebarProvider";const Eg=b.forwardRef(({variant:t="sidebar",collapsible:e="offcanvas",className:n,children:r,...s},o)=>{const i=zl();return e==="none"?d.jsx("div",{className:W("tw-flex tw-h-full tw-w-[--sidebar-width] tw-flex-col tw-bg-sidebar tw-text-sidebar-foreground",n),ref:o,...s,children:r}):d.jsxs("div",{ref:o,className:"tw-group tw-peer tw-hidden tw-text-sidebar-foreground md:tw-block","data-state":i.state,"data-collapsible":i.state==="collapsed"?e:"","data-variant":t,"data-side":i.side,children:[d.jsx("div",{className:W("tw-relative tw-h-svh tw-w-[--sidebar-width] tw-bg-transparent tw-transition-[width] tw-duration-200 tw-ease-linear","group-data-[collapsible=offcanvas]:tw-w-0","group-data-[side=secondary]:tw-rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:tw-w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:tw-w-[--sidebar-width-icon]")}),d.jsx("div",{className:W("tw-absolute tw-inset-y-0 tw-z-10 tw-hidden tw-h-svh tw-w-[--sidebar-width] tw-transition-[left,right,width] tw-duration-200 tw-ease-linear md:tw-flex",i.side==="primary"?"tw-left-0 group-data-[collapsible=offcanvas]:tw-left-[calc(var(--sidebar-width)*-1)]":"tw-right-0 group-data-[collapsible=offcanvas]:tw-right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"tw-p-2 group-data-[collapsible=icon]:tw-w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:tw-w-[--sidebar-width-icon] group-data-[side=primary]:tw-border-r group-data-[side=secondary]:tw-border-l",n),...s,children:d.jsx("div",{"data-sidebar":"sidebar",className:"tw-flex tw-h-full tw-w-full tw-flex-col tw-bg-sidebar group-data-[variant=floating]:tw-rounded-lg group-data-[variant=floating]:tw-border group-data-[variant=floating]:tw-border-sidebar-border group-data-[variant=floating]:tw-shadow",children:r})})]})});Eg.displayName="Sidebar";const _2=b.forwardRef(({className:t,onClick:e,...n},r)=>{const s=zl();return d.jsxs(Se,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:W("tw-h-7 tw-w-7",t),onClick:o=>{e==null||e(o),s.toggleSidebar()},...n,children:[s.side==="primary"?d.jsx(fe.PanelLeft,{}):d.jsx(fe.PanelRight,{}),d.jsx("span",{className:"tw-sr-only",children:"Toggle Sidebar"})]})});_2.displayName="SidebarTrigger";const C2=b.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=zl();return d.jsx("button",{type:"button",ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:W("tw-absolute tw-inset-y-0 tw-z-20 tw-hidden tw-w-4 tw--translate-x-1/2 tw-transition-all tw-ease-linear after:tw-absolute after:tw-inset-y-0 after:tw-left-1/2 after:tw-w-[2px] hover:after:tw-bg-sidebar-border group-data-[side=primary]:tw--right-4 group-data-[side=secondary]:tw-left-0 sm:tw-flex","[[data-side=secondary]_&]:tw-cursor-e-resize [[data-side=secondary]_&]:tw-cursor-w-resize","[[data-side=primary][data-state=collapsed]_&]:tw-cursor-e-resize [[data-side=secondary][data-state=collapsed]_&]:tw-cursor-w-resize","group-data-[collapsible=offcanvas]:tw-translate-x-0 group-data-[collapsible=offcanvas]:after:tw-left-full group-data-[collapsible=offcanvas]:hover:tw-bg-sidebar","[[data-side=primary][data-collapsible=offcanvas]_&]:tw--right-2","[[data-side=secondary][data-collapsible=offcanvas]_&]:tw--left-2",t),...e})});C2.displayName="SidebarRail";const Sg=b.forwardRef(({className:t,...e},n)=>d.jsx("main",{ref:n,className:W("tw-relative tw-flex tw-flex-1 tw-flex-col tw-bg-background","peer-data-[variant=inset]:tw-min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:tw-m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:tw-ml-2 md:peer-data-[variant=inset]:tw-ml-0 md:peer-data-[variant=inset]:tw-rounded-xl md:peer-data-[variant=inset]:tw-shadow",t),...e}));Sg.displayName="SidebarInset";const k2=b.forwardRef(({className:t,...e},n)=>d.jsx(Xo,{ref:n,"data-sidebar":"input",className:W("tw-h-8 tw-w-full tw-bg-background tw-shadow-none focus-visible:tw-ring-2 focus-visible:tw-ring-sidebar-ring",t),...e}));k2.displayName="SidebarInput";const E2=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"header",className:W("tw-flex tw-flex-col tw-gap-2 tw-p-2",t),...e}));E2.displayName="SidebarHeader";const S2=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"footer",className:W("tw-flex tw-flex-col tw-gap-2 tw-p-2",t),...e}));S2.displayName="SidebarFooter";const N2=b.forwardRef(({className:t,...e},n)=>d.jsx(Zi,{ref:n,"data-sidebar":"separator",className:W("tw-mx-2 tw-w-auto tw-bg-sidebar-border",t),...e}));N2.displayName="SidebarSeparator";const Ng=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"content",className:W("tw-flex tw-min-h-0 tw-flex-1 tw-flex-col tw-gap-2 tw-overflow-auto group-data-[collapsible=icon]:tw-overflow-hidden",t),...e}));Ng.displayName="SidebarContent";const Cu=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"group",className:W("tw-relative tw-flex tw-w-full tw-min-w-0 tw-flex-col tw-p-2",t),...e}));Cu.displayName="SidebarGroup";const ku=b.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Ji.Slot:"div";return d.jsx(s,{ref:r,"data-sidebar":"group-label",className:W("tw-flex tw-h-8 tw-shrink-0 tw-items-center tw-rounded-md tw-px-2 tw-text-xs tw-font-medium tw-text-sidebar-foreground/70 tw-outline-none tw-ring-sidebar-ring tw-transition-[margin,opa] tw-duration-200 tw-ease-linear focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0","group-data-[collapsible=icon]:tw--mt-8 group-data-[collapsible=icon]:tw-opacity-0",t),...n})});ku.displayName="SidebarGroupLabel";const T2=b.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Ji.Slot:"button";return d.jsx(s,{ref:r,"data-sidebar":"group-action",className:W("tw-absolute tw-right-3 tw-top-3.5 tw-flex tw-aspect-square tw-w-5 tw-items-center tw-justify-center tw-rounded-md tw-p-0 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring tw-transition-transform hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0","after:tw-absolute after:tw--inset-2 after:md:tw-hidden","group-data-[collapsible=icon]:tw-hidden",t),...n})});T2.displayName="SidebarGroupAction";const Eu=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"group-content",className:W("tw-w-full tw-text-sm",t),...e}));Eu.displayName="SidebarGroupContent";const Tg=b.forwardRef(({className:t,...e},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu",className:W("tw-flex tw-w-full tw-min-w-0 tw-flex-col tw-gap-1",t),...e}));Tg.displayName="SidebarMenu";const Ag=b.forwardRef(({className:t,...e},n)=>d.jsx("li",{ref:n,"data-sidebar":"menu-item",className:W("tw-group/menu-item tw-relative",t),...e}));Ag.displayName="SidebarMenuItem";const d5=Ks.cva("tw-peer/menu-button tw-flex tw-w-full tw-items-center tw-gap-2 tw-overflow-hidden tw-rounded-md tw-p-2 tw-text-left tw-text-sm tw-outline-none tw-ring-sidebar-ring tw-transition-[width,height,padding] hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 active:tw-bg-sidebar-accent active:tw-text-sidebar-accent-foreground disabled:tw-pointer-events-none disabled:tw-opacity-50 tw-group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:tw-pointer-events-none aria-disabled:tw-opacity-50 data-[active=true]:tw-font-medium data-[active=true]:tw-text-sidebar-accent-foreground data-[active=true]:tw-bg-sidebar-accent data-[state=open]:hover:tw-bg-sidebar-accent data-[state=open]:hover:tw-text-sidebar-accent-foreground group-data-[collapsible=icon]:tw-!size-8 group-data-[collapsible=icon]:tw-!p-2 [&>span:last-child]:tw-truncate [&>svg]:tw-size-4 [&>svg]:tw-shrink-0",{variants:{variant:{default:"hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground",outline:"tw-bg-background tw-shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground hover:tw-shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"tw-h-8 tw-text-sm",sm:"tw-h-7 tw-text-xs",lg:"tw-h-12 tw-text-sm group-data-[collapsible=icon]:tw-!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Dg=b.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:o,...i},a)=>{const l=t?Ji.Slot:"button",{state:c}=zl(),u=d.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:W(d5({variant:n,size:r}),o),...i});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(cd,{children:[d.jsx(ud,{asChild:!0,children:u}),d.jsx(Ul,{side:"right",align:"center",hidden:c!=="collapsed",...s})]})):u});Dg.displayName="SidebarMenuButton";const A2=b.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const o=e?Ji.Slot:"button";return d.jsx(o,{ref:s,"data-sidebar":"menu-action",className:W("tw-peer-hover/menu-button:text-sidebar-accent-foreground tw-absolute tw-right-1 tw-top-1.5 tw-flex tw-aspect-square tw-w-5 tw-items-center tw-justify-center tw-rounded-md tw-p-0 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring tw-transition-transform hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0","after:tw-absolute after:tw--inset-2 after:md:tw-hidden","tw-peer-data-[size=sm]/menu-button:top-1","tw-peer-data-[size=default]/menu-button:top-1.5","tw-peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:tw-hidden",n&&"tw-group-focus-within/menu-item:opacity-100 tw-group-hover/menu-item:opacity-100 tw-peer-data-[active=true]/menu-button:text-sidebar-accent-foreground data-[state=open]:tw-opacity-100 md:tw-opacity-0",t),...r})});A2.displayName="SidebarMenuAction";const D2=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:W("tw-pointer-events-none tw-absolute tw-right-1 tw-flex tw-h-5 tw-min-w-5 tw-select-none tw-items-center tw-justify-center tw-rounded-md tw-px-1 tw-text-xs tw-font-medium tw-tabular-nums tw-text-sidebar-foreground","tw-peer-hover/menu-button:text-sidebar-accent-foreground tw-peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","tw-peer-data-[size=sm]/menu-button:top-1","tw-peer-data-[size=default]/menu-button:top-1.5","tw-peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:tw-hidden",t),...e}));D2.displayName="SidebarMenuBadge";const M2=b.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:W("tw-flex tw-h-8 tw-items-center tw-gap-2 tw-rounded-md tw-px-2",t),...n,children:[e&&d.jsx(Lc,{className:"tw-size-4 tw-rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(Lc,{className:"tw-h-4 tw-max-w-[--skeleton-width] tw-flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});M2.displayName="SidebarMenuSkeleton";const O2=b.forwardRef(({className:t,...e},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:W("tw-mx-3.5 tw-flex tw-min-w-0 tw-translate-x-px tw-flex-col tw-gap-1 tw-border-l tw-border-sidebar-border tw-px-2.5 tw-py-0.5","group-data-[collapsible=icon]:tw-hidden",t),...e}));O2.displayName="SidebarMenuSub";const R2=b.forwardRef(({...t},e)=>d.jsx("li",{ref:e,...t}));R2.displayName="SidebarMenuSubItem";const j2=b.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},o)=>{const i=t?Ji.Slot:"a";return d.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:W("tw-flex tw-h-7 tw-min-w-0 tw--translate-x-px tw-items-center tw-gap-2 tw-overflow-hidden tw-rounded-md tw-px-2 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 active:tw-bg-sidebar-accent active:tw-text-sidebar-accent-foreground disabled:tw-pointer-events-none disabled:tw-opacity-50 aria-disabled:tw-pointer-events-none aria-disabled:tw-opacity-50 [&>span:last-child]:tw-truncate [&>svg]:tw-size-4 [&>svg]:tw-shrink-0 [&>svg]:tw-text-sidebar-accent-foreground","data-[active=true]:tw-bg-sidebar-accent data-[active=true]:tw-text-sidebar-accent-foreground",e==="sm"&&"tw-text-xs",e==="md"&&"tw-text-sm","group-data-[collapsible=icon]:tw-hidden",r),...s})});j2.displayName="SidebarMenuSubButton";function I2({id:t,extensionLabels:e,projectInfo:n,handleSelectSidebarItem:r,selectedSidebarItem:s,extensionsSidebarGroupLabel:o,projectsSidebarGroupLabel:i,buttonPlaceholderText:a,className:l}){const c=b.useCallback((h,p)=>{r(h,p)},[r]),u=b.useCallback(h=>{const p=n.find(g=>g.projectId===h);return p?p.projectName:h},[n]),f=b.useCallback(h=>!s.projectId&&h===s.label,[s]);return d.jsx(Eg,{id:t,collapsible:"none",variant:"inset",className:W("tw-w-96 tw-gap-2 tw-overflow-y-auto",l),children:d.jsxs(Ng,{children:[d.jsxs(Cu,{children:[d.jsx(ku,{className:"tw-text-sm",children:o}),d.jsx(Eu,{children:d.jsx(Tg,{children:Object.entries(e).map(([h,p])=>d.jsx(Ag,{children:d.jsx(Dg,{onClick:()=>c(h),isActive:f(h),children:d.jsx("span",{className:"tw-pl-3",children:p})})},h))})})]}),d.jsxs(Cu,{children:[d.jsx(ku,{className:"tw-text-sm",children:i}),d.jsx(Eu,{className:"tw-pl-3",children:d.jsx(Ic,{buttonVariant:"ghost",buttonClassName:W("tw-w-full",{"tw-bg-sidebar-accent tw-text-sidebar-accent-foreground":s==null?void 0:s.projectId}),popoverContentClassName:"tw-z-[1000]",options:n.flatMap(h=>h.projectId),getOptionLabel:u,buttonPlaceholder:a,onChange:h=>{const p=u(h);c(p,h)},value:(s==null?void 0:s.projectId)??void 0,icon:d.jsx(fe.ScrollText,{})})})]})]})})}const dd=b.forwardRef(({value:t,onSearch:e,placeholder:n,isFullWidth:r,className:s,isDisabled:o=!1,id:i},a)=>{const l=zt();return d.jsxs("div",{id:i,className:W("tw-relative",{"tw-w-full":r},s),children:[d.jsx(fe.Search,{className:W("tw-absolute tw-top-1/2 tw-h-4 tw-w-4 tw--translate-y-1/2 tw-transform tw-opacity-50",{"tw-right-3":l==="rtl"},{"tw-left-3":l==="ltr"})}),d.jsx(Xo,{ref:a,className:"tw-w-full tw-text-ellipsis tw-pe-9 tw-ps-9",placeholder:n,value:t,onChange:c=>e(c.target.value),disabled:o}),t&&d.jsxs(Se,{variant:"ghost",size:"icon",className:W("tw-absolute tw-top-1/2 tw-h-7 tw--translate-y-1/2 tw-transform hover:tw-bg-transparent",{"tw-left-0":l==="rtl"},{"tw-right-0":l==="ltr"}),onClick:()=>{e("")},children:[d.jsx(fe.X,{className:"tw-h-4 tw-w-4"}),d.jsx("span",{className:"tw-sr-only",children:"Clear"})]})]})});dd.displayName="SearchBar";function f5({id:t,extensionLabels:e,projectInfo:n,children:r,handleSelectSidebarItem:s,selectedSidebarItem:o,searchValue:i,onSearch:a,extensionsSidebarGroupLabel:l,projectsSidebarGroupLabel:c,buttonPlaceholderText:u}){return d.jsxs("div",{className:"tw-box-border tw-flex tw-h-full tw-flex-col",children:[d.jsx("div",{className:"tw-box-border tw-flex tw-items-center tw-justify-center tw-py-4",children:d.jsx(dd,{className:"tw-w-9/12",value:i,onSearch:a,placeholder:"Search app settings, extension settings, and project settings"})}),d.jsxs(kg,{id:t,className:"tw-h-full tw-flex-1 tw-gap-4 tw-overflow-auto tw-border-t",children:[d.jsx(I2,{className:"tw-w-1/2 tw-min-w-[140px] tw-max-w-[220px] tw-border-e",extensionLabels:e,projectInfo:n,handleSelectSidebarItem:s,selectedSidebarItem:o,extensionsSidebarGroupLabel:l,projectsSidebarGroupLabel:c,buttonPlaceholderText:u}),d.jsx(Sg,{className:"tw-min-w-[215px]",children:r})]})]})}const Cs="scrBook",h5="scrRef",go="source",p5="details",g5="Scripture Reference",w5="Scripture Book",L2="Type",m5="Details";function b5(t,e){const n=e??!1;return[{accessorFn:r=>`${r.start.book} ${r.start.chapterNum}:${r.start.verseNum}`,id:Cs,header:(t==null?void 0:t.scriptureReferenceColumnName)??g5,cell:r=>{const s=r.row.original;return r.row.getIsGrouped()?Ye.bookIdToEnglishName(s.start.book):r.row.groupingColumnId===Cs?oe.formatScrRef(s.start):void 0},getGroupingValue:r=>Ye.bookIdToNumber(r.start.book),sortingFn:(r,s)=>oe.compareScrRefs(r.original.start,s.original.start),enableGrouping:!0},{accessorFn:r=>oe.formatScrRef(r.start),id:h5,header:void 0,cell:r=>{const s=r.row.original;return r.row.getIsGrouped()?void 0:oe.formatScrRef(s.start)},sortingFn:(r,s)=>oe.compareScrRefs(r.original.start,s.original.start),enableGrouping:!1},{accessorFn:r=>r.source.displayName,id:go,header:n?(t==null?void 0:t.typeColumnName)??L2:void 0,cell:r=>n||r.row.getIsGrouped()?r.getValue():void 0,getGroupingValue:r=>r.source.id,sortingFn:(r,s)=>r.original.source.displayName.localeCompare(s.original.source.displayName),enableGrouping:!0},{accessorFn:r=>r.detail,id:p5,header:(t==null?void 0:t.detailsColumnName)??m5,cell:r=>r.getValue(),enableGrouping:!1}]}const y5=t=>{if(!("offset"in t.start))throw new Error("No offset available in range start");if(t.end&&!("offset"in t.end))throw new Error("No offset available in range end");const{offset:e}=t.start;let n=0;return t.end&&({offset:n}=t.end),!t.end||oe.compareScrRefs(t.start,t.end)===0?`${oe.scrRefToBBBCCCVVV(t.start)}+${e}`:`${oe.scrRefToBBBCCCVVV(t.start)}+${e}-${oe.scrRefToBBBCCCVVV(t.end)}+${n}`},iy=t=>`${y5({start:t.start,end:t.end})} ${t.source.displayName} ${t.detail}`;function v5({sources:t,showColumnHeaders:e=!1,showSourceColumn:n=!1,scriptureReferenceColumnName:r,scriptureBookGroupName:s,typeColumnName:o,detailsColumnName:i,onRowSelected:a,id:l}){const[c,u]=b.useState([]),[f,h]=b.useState([{id:Cs,desc:!1}]),[p,g]=b.useState({}),w=b.useMemo(()=>t.flatMap(O=>O.data.map(F=>({...F,source:O.source}))),[t]),y=b.useMemo(()=>b5({scriptureReferenceColumnName:r,typeColumnName:o,detailsColumnName:i},n),[r,o,i,n]);b.useEffect(()=>{c.includes(go)?h([{id:go,desc:!1},{id:Cs,desc:!1}]):h([{id:Cs,desc:!1}])},[c]);const _=pn.useReactTable({data:w,columns:y,state:{grouping:c,sorting:f,rowSelection:p},onGroupingChange:u,onSortingChange:h,onRowSelectionChange:g,getExpandedRowModel:pn.getExpandedRowModel(),getGroupedRowModel:pn.getGroupedRowModel(),getCoreRowModel:pn.getCoreRowModel(),getSortedRowModel:pn.getSortedRowModel(),getRowId:iy,autoResetExpanded:!1,enableMultiRowSelection:!1,enableSubRowSelection:!1});b.useEffect(()=>{if(a){const O=_.getSelectedRowModel().rowsById,F=Object.keys(O);if(F.length===1){const E=w.find(I=>iy(I)===F[0])||void 0;E&&a(E)}}},[p,w,a,_]);const v=s??w5,C=o??L2,M=[{label:"No Grouping",value:[]},{label:`Group by ${v}`,value:[Cs]},{label:`Group by ${C}`,value:[go]},{label:`Group by ${v} and ${C}`,value:[Cs,go]},{label:`Group by ${C} and ${v}`,value:[go,Cs]}],j=O=>{u(JSON.parse(O))},S=(O,F)=>{!O.getIsGrouped()&&!O.getIsSelected()&&O.getToggleSelectedHandler()(F)},L=(O,F)=>O.getIsGrouped()?"":W("banded-row",F%2===0?"even":"odd"),A=(O,F,E)=>{if(!((O==null?void 0:O.length)===0||F.depth<E.column.getGroupedIndex())){if(F.getIsGrouped())switch(F.depth){case 1:return"tw-ps-4";default:return}switch(F.depth){case 1:return"tw-ps-8";case 2:return"tw-ps-12";default:return}}};return d.jsxs("div",{id:l,className:"pr-twp tw-flex tw-h-full tw-w-full tw-flex-col",children:[!e&&d.jsxs(To,{value:JSON.stringify(c),onValueChange:O=>{j(O)},children:[d.jsx(Is,{className:"tw-mb-1 tw-mt-2",children:d.jsx(Ao,{})}),d.jsx(Ls,{position:"item-aligned",children:d.jsx(By,{children:M.map(O=>d.jsx(qn,{value:JSON.stringify(O.value),children:O.label},O.label))})})]}),d.jsxs(vl,{className:"tw-relative tw-flex tw-flex-col tw-overflow-y-auto tw-p-0",children:[e&&d.jsx(xl,{children:_.getHeaderGroups().map(O=>d.jsx($r,{children:O.headers.filter(F=>F.column.columnDef.header).map(F=>d.jsx(Ti,{colSpan:F.colSpan,className:"top-0 tw-sticky",children:F.isPlaceholder?void 0:d.jsxs("div",{children:[F.column.getCanGroup()?d.jsx(Se,{variant:"ghost",title:`Toggle grouping by ${F.column.columnDef.header}`,onClick:F.column.getToggleGroupingHandler(),type:"button",children:F.column.getIsGrouped()?"ðŸ›‘":"ðŸ‘Š "}):void 0," ",pn.flexRender(F.column.columnDef.header,F.getContext())]})},F.id))},O.id))}),d.jsx(_l,{children:_.getRowModel().rows.map((O,F)=>{const E=zt();return d.jsx($r,{"data-state":O.getIsSelected()?"selected":"",className:W(L(O,F)),onClick:I=>S(O,I),children:O.getVisibleCells().map(I=>{if(!(I.getIsPlaceholder()||I.column.columnDef.enableGrouping&&!I.getIsGrouped()&&(I.column.columnDef.id!==go||!n)))return d.jsx(Ds,{className:W(I.column.columnDef.id,"tw-p-[1px]",A(c,O,I)),children:I.getIsGrouped()?d.jsxs(Se,{variant:"link",onClick:O.getToggleExpandedHandler(),type:"button",children:[O.getIsExpanded()&&d.jsx(fe.ChevronDown,{}),!O.getIsExpanded()&&(E==="ltr"?d.jsx(fe.ChevronRight,{}):d.jsx(fe.ChevronLeft,{}))," ",pn.flexRender(I.column.columnDef.cell,I.getContext())," (",O.subRows.length,")"]}):pn.flexRender(I.column.columnDef.cell,I.getContext())},I.id)})},O.id)})})]})]})}const Mg=(t,e)=>t.filter(n=>{try{return oe.getSectionForBook(n)===e}catch{return!1}}),P2=(t,e,n)=>Mg(t,e).every(r=>n.includes(r));function x5({section:t,availableBookIds:e,selectedBookIds:n,onToggle:r,localizedStrings:s}){const o=Mg(e,t).length===0,i=s["%scripture_section_ot_short%"],a=s["%scripture_section_nt_short%"],l=s["%scripture_section_dc_short%"],c=s["%scripture_section_extra_short%"];return d.jsx(Se,{variant:"outline",size:"sm",onClick:()=>r(t),className:W(P2(e,t,n)&&!o&&"tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/70 hover:tw-text-primary-foreground"),disabled:o,children:pC(t,i,a,l,c)})}const ay=5,mf=6;function _5({availableBookInfo:t,selectedBookIds:e,onChangeSelectedBookIds:n,localizedStrings:r,localizedBookNames:s}){const o=r["%webView_book_selector_books_selected%"],i=r["%webView_book_selector_select_books%"],a=r["%webView_book_selector_search_books%"],l=r["%webView_book_selector_select_all%"],c=r["%webView_book_selector_clear_all%"],u=r["%webView_book_selector_no_book_found%"],f=r["%webView_book_selector_more%"],{otLong:h,ntLong:p,dcLong:g,extraLong:w}={otLong:r==null?void 0:r["%scripture_section_ot_long%"],ntLong:r==null?void 0:r["%scripture_section_nt_long%"],dcLong:r==null?void 0:r["%scripture_section_dc_long%"],extraLong:r==null?void 0:r["%scripture_section_extra_long%"]},[y,_]=b.useState(!1),[v,C]=b.useState(""),M=b.useRef(void 0),j=b.useRef(!1);if(t.length!==Ye.allBookIds.length)throw new Error("availableBookInfo length must match Canon.allBookIds length");const S=b.useMemo(()=>Ye.allBookIds.filter((P,D)=>t[D]==="1"&&!Ye.isObsolete(Ye.bookIdToNumber(P))),[t]),L=b.useMemo(()=>{if(!v.trim()){const R={[oe.Section.OT]:[],[oe.Section.NT]:[],[oe.Section.DC]:[],[oe.Section.Extra]:[]};return S.forEach(q=>{const V=oe.getSectionForBook(q);R[V].push(q)}),R}const P=S.filter(R=>jh(R,v,s)),D={[oe.Section.OT]:[],[oe.Section.NT]:[],[oe.Section.DC]:[],[oe.Section.Extra]:[]};return P.forEach(R=>{const q=oe.getSectionForBook(R);D[q].push(R)}),D},[S,v,s]),A=b.useCallback((P,D=!1)=>{if(!D||!M.current){n(e.includes(P)?e.filter(G=>G!==P):[...e,P]),M.current=P;return}const R=S.findIndex(G=>G===M.current),q=S.findIndex(G=>G===P);if(R===-1||q===-1)return;const[V,J]=[Math.min(R,q),Math.max(R,q)],H=S.slice(V,J+1).map(G=>G);n(e.includes(P)?e.filter(G=>!H.includes(G)):[...new Set([...e,...H])])},[e,n,S]),O=P=>{A(P,j.current),j.current=!1},F=(P,D)=>{P.preventDefault(),A(D,P.shiftKey)},E=b.useCallback(P=>{const D=Mg(S,P).map(R=>R);n(P2(S,P,e)?e.filter(R=>!D.includes(R)):[...new Set([...e,...D])])},[e,n,S]),I=()=>{n(S.map(P=>P))},T=()=>{n([])};return d.jsxs("div",{className:"tw-space-y-2",children:[d.jsx("div",{className:"tw-flex tw-flex-wrap tw-gap-2",children:Object.values(oe.Section).map(P=>d.jsx(x5,{section:P,availableBookIds:S,selectedBookIds:e,onToggle:E,localizedStrings:r},P))}),d.jsxs(Go,{open:y,onOpenChange:P=>{_(P),P||C("")},children:[d.jsx(Jo,{asChild:!0,children:d.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":y,className:"tw-max-w-64 tw-justify-between",children:[e.length>0?`${o}: ${e.length}`:i,d.jsx(fe.ChevronsUpDown,{className:"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50"})]})}),d.jsx(Gs,{className:"tw-w-full tw-p-0",align:"start",children:d.jsxs(Ko,{shouldFilter:!1,onKeyDown:P=>{P.key==="Enter"&&(j.current=P.shiftKey)},children:[d.jsx(Yi,{placeholder:a,value:v,onValueChange:C}),d.jsxs("div",{className:"tw-flex tw-justify-between tw-border-b tw-p-2",children:[d.jsx(Se,{variant:"ghost",size:"sm",onClick:I,children:l}),d.jsx(Se,{variant:"ghost",size:"sm",onClick:T,children:c})]}),d.jsxs(Wo,{children:[d.jsx(ml,{children:u}),Object.values(oe.Section).map((P,D)=>{const R=L[P];if(R.length!==0)return d.jsxs(b.Fragment,{children:[d.jsx(js,{heading:xy(P,h,p,g,w),children:R.map(q=>d.jsx(Cy,{bookId:q,isSelected:e.includes(q),onSelect:()=>O(q),onMouseDown:V=>F(V,q),section:oe.getSectionForBook(q),showCheck:!0,localizedBookNames:s,commandValue:Cf(q,s),className:"tw-flex tw-items-center"},q))}),D<Object.values(oe.Section).length-1&&d.jsx(py,{})]},P)})]})]})})]}),e.length>0&&d.jsxs("div",{className:"tw-mt-2 tw-flex tw-flex-wrap tw-gap-1",children:[e.slice(0,e.length===mf?mf:ay).map(P=>d.jsx(Ni,{className:"hover:tw-bg-secondary",variant:"secondary",children:bi(P,s)},P)),e.length>mf&&d.jsx(Ni,{className:"hover:tw-bg-secondary",variant:"secondary",children:`+${e.length-ay} ${f}`})]})]})}const C5=Object.freeze(["%webView_scope_selector_selected_text%","%webView_scope_selector_current_verse%","%webView_scope_selector_current_chapter%","%webView_scope_selector_current_book%","%webView_scope_selector_choose_books%","%webView_scope_selector_scope%","%webView_scope_selector_select_books%","%webView_book_selector_books_selected%","%webView_book_selector_select_books%","%webView_book_selector_search_books%","%webView_book_selector_select_all%","%webView_book_selector_clear_all%","%webView_book_selector_no_book_found%","%webView_book_selector_more%","%scripture_section_ot_long%","%scripture_section_ot_short%","%scripture_section_nt_long%","%scripture_section_nt_short%","%scripture_section_dc_long%","%scripture_section_dc_short%","%scripture_section_extra_long%","%scripture_section_extra_short%"]),ho=(t,e)=>t[e]??e;function k5({scope:t,availableScopes:e,onScopeChange:n,availableBookInfo:r,selectedBookIds:s,onSelectedBookIdsChange:o,localizedStrings:i,localizedBookNames:a,id:l}){const c=ho(i,"%webView_scope_selector_selected_text%"),u=ho(i,"%webView_scope_selector_current_verse%"),f=ho(i,"%webView_scope_selector_current_chapter%"),h=ho(i,"%webView_scope_selector_current_book%"),p=ho(i,"%webView_scope_selector_choose_books%"),g=ho(i,"%webView_scope_selector_scope%"),w=ho(i,"%webView_scope_selector_select_books%"),y=[{value:"selectedText",label:c,id:"scope-selected-text"},{value:"verse",label:u,id:"scope-verse"},{value:"chapter",label:f,id:"scope-chapter"},{value:"book",label:h,id:"scope-book"},{value:"selectedBooks",label:p,id:"scope-selected"}],_=e?y.filter(v=>e.includes(v.value)):y;return d.jsxs("div",{id:l,className:"tw-grid tw-gap-4",children:[d.jsxs("div",{className:"tw-grid tw-gap-2",children:[d.jsx(Mt,{children:g}),d.jsx(Au,{value:t,onValueChange:n,className:"tw-flex tw-flex-col tw-space-y-1",children:_.map(({value:v,label:C,id:M})=>d.jsxs("div",{className:"tw-flex tw-items-center",children:[d.jsx(Ka,{className:"tw-me-2",value:v,id:M}),d.jsx(Mt,{htmlFor:M,children:C})]},M))})]}),t==="selectedBooks"&&d.jsxs("div",{className:"tw-grid tw-gap-2",children:[d.jsx(Mt,{children:w}),d.jsx(_5,{availableBookInfo:r,selectedBookIds:s,onChangeSelectedBookIds:o,localizedStrings:i,localizedBookNames:a})]})]})}const bf={[oe.getLocalizeKeyForScrollGroupId("undefined")]:"Ã˜",[oe.getLocalizeKeyForScrollGroupId(0)]:"A",[oe.getLocalizeKeyForScrollGroupId(1)]:"B",[oe.getLocalizeKeyForScrollGroupId(2)]:"C",[oe.getLocalizeKeyForScrollGroupId(3)]:"D",[oe.getLocalizeKeyForScrollGroupId(4)]:"E",[oe.getLocalizeKeyForScrollGroupId(5)]:"F",[oe.getLocalizeKeyForScrollGroupId(6)]:"G",[oe.getLocalizeKeyForScrollGroupId(7)]:"H",[oe.getLocalizeKeyForScrollGroupId(8)]:"I",[oe.getLocalizeKeyForScrollGroupId(9)]:"J",[oe.getLocalizeKeyForScrollGroupId(10)]:"K",[oe.getLocalizeKeyForScrollGroupId(11)]:"L",[oe.getLocalizeKeyForScrollGroupId(12)]:"M",[oe.getLocalizeKeyForScrollGroupId(13)]:"N",[oe.getLocalizeKeyForScrollGroupId(14)]:"O",[oe.getLocalizeKeyForScrollGroupId(15)]:"P",[oe.getLocalizeKeyForScrollGroupId(16)]:"Q",[oe.getLocalizeKeyForScrollGroupId(17)]:"R",[oe.getLocalizeKeyForScrollGroupId(18)]:"S",[oe.getLocalizeKeyForScrollGroupId(19)]:"T",[oe.getLocalizeKeyForScrollGroupId(20)]:"U",[oe.getLocalizeKeyForScrollGroupId(21)]:"V",[oe.getLocalizeKeyForScrollGroupId(22)]:"W",[oe.getLocalizeKeyForScrollGroupId(23)]:"X",[oe.getLocalizeKeyForScrollGroupId(24)]:"Y",[oe.getLocalizeKeyForScrollGroupId(25)]:"Z"};function E5({availableScrollGroupIds:t,scrollGroupId:e,onChangeScrollGroupId:n,localizedStrings:r={},size:s="sm",className:o,id:i}){const a={...bf,...Object.fromEntries(Object.entries(r).map(([c,u])=>[c,c===u&&c in bf?bf[c]:u]))},l=zt();return d.jsxs(To,{value:`${e}`,onValueChange:c=>n(c==="undefined"?void 0:parseInt(c,10)),children:[d.jsx(Is,{size:s,className:W("pr-twp tw-w-auto",o),children:d.jsx(Ao,{placeholder:a[oe.getLocalizeKeyForScrollGroupId(e)]??e})}),d.jsx(Ls,{id:i,align:l==="rtl"?"end":"start",style:{zIndex:250},children:t.map(c=>d.jsx(qn,{value:`${c}`,children:a[oe.getLocalizeKeyForScrollGroupId(c)]},`${c}`))})]})}function S5({children:t}){return d.jsx("div",{className:"pr-twp tw-grid",children:t})}function N5({primary:t,secondary:e,children:n,isLoading:r=!1,loadingMessage:s}){return d.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between tw-space-x-4 tw-py-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"tw-text-sm tw-font-medium tw-leading-none",children:t}),d.jsx("p",{className:"tw-whitespace-normal tw-break-words tw-text-sm tw-text-muted-foreground",children:e})]}),r?d.jsx("p",{className:"tw-text-sm tw-text-muted-foreground",children:s}):d.jsx("div",{children:n})]})}function T5({primary:t,secondary:e,includeSeparator:n=!1}){return d.jsxs("div",{className:"tw-space-y-4 tw-py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"tw-text-lg tw-font-medium",children:t}),d.jsx("p",{className:"tw-text-sm tw-text-muted-foreground",children:e})]}),n?d.jsx(Zi,{}):""]})}function $2(t,e){var n;return(n=Object.entries(t).find(([,r])=>"menuItem"in r&&r.menuItem===e))==null?void 0:n[0]}function Su({icon:t,menuLabel:e,leading:n}){return t?d.jsx("img",{className:W("tw-max-h-5 tw-max-w-5",n?"tw-me-2":"tw-ms-2"),src:t,alt:`${n?"Leading":"Trailing"} icon for ${e}`}):void 0}const F2=(t,e,n,r)=>n?Object.entries(t).filter(([o,i])=>"column"in i&&i.column===n||o===n).sort(([,o],[,i])=>o.order-i.order).flatMap(([o])=>e.filter(a=>a.group===o).sort((a,l)=>a.order-l.order).map(a=>d.jsxs(cd,{children:[d.jsx(ud,{asChild:!0,children:"command"in a?d.jsxs(Uh,{onClick:()=>{r(a)},children:[a.iconPathBefore&&d.jsx(Su,{icon:a.iconPathBefore,menuLabel:a.label,leading:!0}),a.label,a.iconPathAfter&&d.jsx(Su,{icon:a.iconPathAfter,menuLabel:a.label})]},`dropdown-menu-item-${a.label}-${a.command}`):d.jsxs(Py,{children:[d.jsx(Bh,{children:a.label}),d.jsx(Ly,{children:d.jsx(qh,{children:F2(t,e,$2(t,a.id),r)})})]},`dropdown-menu-sub-${a.label}-${a.id}`)}),a.tooltip&&d.jsx(Ul,{children:a.tooltip})]},`tooltip-${a.label}-${"command"in a?a.command:a.id}`))):void 0;function Nu({onSelectMenuItem:t,menuData:e,tabLabel:n,icon:r,className:s,variant:o,buttonVariant:i="ghost",id:a}){return d.jsxs(bl,{variant:o,children:[d.jsx(Mu,{"aria-label":n,className:s,asChild:!0,id:a,children:d.jsx(Se,{variant:i,size:"icon",children:r??d.jsx(fe.MenuIcon,{})})}),d.jsx(ea,{align:"start",className:"tw-z-[250]",children:Object.entries(e.columns).filter(([,l])=>typeof l=="object").sort(([,l],[,c])=>typeof l=="boolean"||typeof c=="boolean"?0:l.order-c.order).map(([l],c,u)=>d.jsxs(b.Fragment,{children:[d.jsx(Fh,{children:d.jsx(ld,{children:F2(e.groups,e.items,l,t)})}),c<u.length-1&&d.jsx(yl,{})]},l))})]})}const B2=b.forwardRef(({id:t,className:e,children:n},r)=>d.jsx("div",{ref:r,className:`tw-sticky tw-top-0 tw-box-border tw-flex tw-h-14 tw-flex-row tw-items-center tw-justify-between tw-gap-2 tw-overflow-clip tw-px-4 tw-py-2 tw-text-foreground tw-@container/toolbar ${e}`,id:t,children:n}));function A5({onSelectProjectMenuItem:t,onSelectViewInfoMenuItem:e,projectMenuData:n,tabViewMenuData:r,id:s,className:o,startAreaChildren:i,centerAreaChildren:a,endAreaChildren:l,menuButtonIcon:c}){return d.jsxs(B2,{className:`tw-w-full tw-border ${o}`,id:s,children:[n&&d.jsx(Nu,{onSelectMenuItem:t,menuData:n,tabLabel:"Project",icon:c??d.jsx(fe.Menu,{}),buttonVariant:"ghost"}),i&&d.jsx("div",{className:"tw-flex tw-h-full tw-shrink tw-grow-[2] tw-flex-row tw-flex-wrap tw-items-start tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-start",children:i}),a&&d.jsx("div",{className:"tw-flex tw-h-full tw-shrink tw-basis-0 tw-flex-row tw-flex-wrap tw-items-start tw-justify-center tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-center @sm:tw-grow @sm:tw-basis-auto",children:a}),d.jsxs("div",{className:"tw-flex tw-h-full tw-shrink tw-grow-[2] tw-flex-row-reverse tw-flex-wrap tw-items-start tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-end",children:[r&&d.jsx(Nu,{onSelectMenuItem:e,menuData:r,tabLabel:"View Info",icon:d.jsx(fe.EllipsisVertical,{}),className:"tw-h-full"}),l]})]})}function D5({onSelectProjectMenuItem:t,projectMenuData:e,id:n,className:r,menuButtonIcon:s}){return d.jsx(B2,{className:"tw-pointer-events-none",id:n,children:e&&d.jsx(Nu,{onSelectMenuItem:t,menuData:e,tabLabel:"Project",icon:s,className:`tw-pointer-events-auto tw-shadow-lg ${r}`,buttonVariant:"outline"})})}const Og=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsx(An.Root,{orientation:"vertical",ref:n,className:W("tw-flex tw-gap-1 tw-rounded-md tw-text-muted-foreground",t),...e,dir:r})});Og.displayName=An.List.displayName;const Rg=b.forwardRef(({className:t,...e},n)=>d.jsx(An.List,{ref:n,className:W("tw-flex-fit tw-mlk-items-center tw-w-[124px] tw-justify-center tw-rounded-md tw-bg-muted tw-p-1 tw-text-muted-foreground",t),...e}));Rg.displayName=An.List.displayName;const q2=b.forwardRef(({className:t,...e},n)=>d.jsx(An.Trigger,{ref:n,...e,className:W("overflow-clip tw-inline-flex tw-w-[116px] tw-cursor-pointer tw-items-center tw-justify-center tw-break-words tw-rounded-sm tw-border-0 tw-bg-muted tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-text-inherit tw-ring-offset-background tw-transition-all hover:tw-text-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=active]:tw-bg-background data-[state=active]:tw-text-foreground data-[state=active]:tw-shadow-sm",t)})),jg=b.forwardRef(({className:t,...e},n)=>d.jsx(An.Content,{ref:n,className:W("tw-ms-5 tw-flex-grow tw-text-foreground tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2",t),...e}));jg.displayName=An.Content.displayName;function M5({tabList:t,searchValue:e,onSearch:n,searchPlaceholder:r,headerTitle:s,searchClassName:o,id:i}){return d.jsxs("div",{id:i,className:"pr-twp",children:[d.jsxs("div",{className:"tw-sticky tw-top-0 tw-space-y-2 tw-pb-2",children:[s?d.jsx("h1",{children:s}):"",d.jsx(dd,{className:o,value:e,onSearch:n,placeholder:r})]}),d.jsxs(Og,{children:[d.jsx(Rg,{children:t.map(a=>d.jsx(q2,{value:a.value,children:a.value},a.key))}),t.map(a=>d.jsx(jg,{value:a.value,children:a.content},a.key))]})]})}function O5({...t}){return d.jsx(at.Menu,{...t})}function R5({...t}){return d.jsx(at.Sub,{"data-slot":"menubar-sub",...t})}const U2=b.forwardRef(({className:t,variant:e="default",...n},r)=>{const s=b.useMemo(()=>({variant:e}),[e]);return d.jsx($h.Provider,{value:s,children:d.jsx(at.Root,{ref:r,className:W("tw-flex tw-h-10 tw-items-center tw-space-x-1 tw-rounded-md tw-border tw-bg-background tw-p-1",t),...n})})});U2.displayName=at.Root.displayName;const z2=b.forwardRef(({className:t,...e},n)=>{const r=xr();return d.jsx(at.Trigger,{ref:n,className:W("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[state=open]:tw-bg-accent data-[state=open]:tw-text-accent-foreground","pr-twp",gs({variant:r.variant,className:t})),...e})});z2.displayName=at.Trigger.displayName;const V2=b.forwardRef(({className:t,inset:e,children:n,...r},s)=>{const o=xr();return d.jsxs(at.SubTrigger,{ref:s,className:W("tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[state=open]:tw-bg-accent data-[state=open]:tw-text-accent-foreground",e&&"tw-pl-8",gs({variant:o.variant,className:t}),t),...r,children:[n,d.jsx(fe.ChevronRight,{className:"tw-ml-auto tw-h-4 tw-w-4"})]})});V2.displayName=at.SubTrigger.displayName;const H2=b.forwardRef(({className:t,...e},n)=>{const r=xr();return d.jsx(at.SubContent,{ref:n,className:W("tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",{"tw-bg-popover":r.variant==="muted"},t),...e})});H2.displayName=at.SubContent.displayName;const K2=b.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...s},o)=>{const i=xr();return d.jsx(at.Portal,{children:d.jsx(at.Content,{ref:o,align:e,alignOffset:n,sideOffset:r,className:W("tw-z-50 tw-min-w-[12rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2","pr-twp",{"tw-bg-popover":i.variant==="muted"},t),...s})})});K2.displayName=at.Content.displayName;const W2=b.forwardRef(({className:t,inset:e,...n},r)=>{const s=xr();return d.jsx(at.Item,{ref:r,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",e&&"tw-pl-8",gs({variant:s.variant,className:t}),t),...n})});W2.displayName=at.Item.displayName;const j5=b.forwardRef(({className:t,children:e,checked:n,...r},s)=>{const o=xr();return d.jsxs(at.CheckboxItem,{ref:s,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",gs({variant:o.variant,className:t}),t),checked:n,...r,children:[d.jsx("span",{className:"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center",children:d.jsx(at.ItemIndicator,{children:d.jsx(fe.Check,{className:"tw-h-4 tw-w-4"})})}),e]})});j5.displayName=at.CheckboxItem.displayName;const I5=b.forwardRef(({className:t,children:e,...n},r)=>{const s=xr();return d.jsxs(at.RadioItem,{ref:r,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",gs({variant:s.variant,className:t}),t),...n,children:[d.jsx("span",{className:"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center",children:d.jsx(at.ItemIndicator,{children:d.jsx(fe.Circle,{className:"tw-h-2 tw-w-2 tw-fill-current"})})}),e]})});I5.displayName=at.RadioItem.displayName;const L5=b.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(at.Label,{ref:r,className:W("tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold",e&&"tw-pl-8",t),...n}));L5.displayName=at.Label.displayName;const G2=b.forwardRef(({className:t,...e},n)=>d.jsx(at.Separator,{ref:n,className:W("tw--mx-1 tw-my-1 tw-h-px tw-bg-muted",t),...e}));G2.displayName=at.Separator.displayName;const Da=(t,e)=>{setTimeout(()=>{e.forEach(n=>{var r;(r=t.current)==null||r.dispatchEvent(new KeyboardEvent("keydown",n))})},0)},J2=(t,e,n,r)=>{if(!n)return;const s=Object.entries(t).filter(([o,i])=>"column"in i&&i.column===n||o===n).sort(([,o],[,i])=>o.order-i.order);return s.flatMap(([o],i)=>{const a=e.filter(c=>c.group===o).sort((c,u)=>c.order-u.order).map(c=>d.jsxs(cd,{children:[d.jsx(ud,{asChild:!0,children:"command"in c?d.jsxs(W2,{onClick:()=>{r(c)},children:[c.iconPathBefore&&d.jsx(Su,{icon:c.iconPathBefore,menuLabel:c.label,leading:!0}),c.label,c.iconPathAfter&&d.jsx(Su,{icon:c.iconPathAfter,menuLabel:c.label})]},`menubar-item-${c.label}-${c.command}`):d.jsxs(R5,{children:[d.jsx(V2,{children:c.label}),d.jsx(H2,{children:J2(t,e,$2(t,c.id),r)})]},`menubar-sub-${c.label}-${c.id}`)}),c.tooltip&&d.jsx(Ul,{children:c.tooltip})]},`tooltip-${c.label}-${"command"in c?c.command:c.id}`)),l=[...a];return a.length>0&&i<s.length-1&&l.push(d.jsx(G2,{},`separator-${o}`)),l})};function P5({menuData:t,onSelectMenuItem:e,onOpenChange:n,variant:r}){const s=b.useRef(void 0),o=b.useRef(void 0),i=b.useRef(void 0),a=b.useRef(void 0),l=b.useRef(void 0),c=u=>{switch(u){case"platform.app":return o;case"platform.window":return i;case"platform.layout":return a;case"platform.help":return l;default:return}};if(z1.useHotkeys(["alt","alt+p","alt+l","alt+n","alt+h"],(u,f)=>{var g,w,y,_;u.preventDefault();const h={key:"Escape",code:"Escape",keyCode:27,bubbles:!0},p={key:" ",code:"Space",keyCode:32,bubbles:!0};switch(f.hotkey){case"alt":Da(o,[h]);break;case"alt+p":(g=o.current)==null||g.focus(),Da(o,[h,p]);break;case"alt+l":(w=i.current)==null||w.focus(),Da(i,[h,p]);break;case"alt+n":(y=a.current)==null||y.focus(),Da(a,[h,p]);break;case"alt+h":(_=l.current)==null||_.focus(),Da(l,[h,p]);break}}),b.useEffect(()=>{if(!n||!s.current)return;const u=new MutationObserver(p=>{p.forEach(g=>{if(g.attributeName==="data-state"&&g.target instanceof HTMLElement){const w=g.target.getAttribute("data-state");n(w==="open")}})});return s.current.querySelectorAll("[data-state]").forEach(p=>{u.observe(p,{attributes:!0})}),()=>u.disconnect()},[n]),!!t)return d.jsx(U2,{ref:s,className:"pr-twp tw-border-0 tw-bg-transparent",variant:r,children:Object.entries(t.columns).filter(([,u])=>typeof u=="object").sort(([,u],[,f])=>typeof u=="boolean"||typeof f=="boolean"?0:u.order-f.order).map(([u,f])=>d.jsxs(O5,{children:[d.jsx(z2,{ref:c(u),children:typeof f=="object"&&"label"in f&&f.label}),d.jsx(K2,{className:"tw-z-[250]",children:d.jsx(ld,{children:J2(t.groups,t.items,u,e)})})]},u))})}function $5(t){switch(t){case void 0:return;case"darwin":return"tw-ps-[85px]";default:return"tw-pe-[calc(138px+1rem)]"}}function F5({menuData:t,onOpenChange:e,onSelectMenuItem:n,className:r,id:s,children:o,appMenuAreaChildren:i,configAreaChildren:a,shouldUseAsAppDragArea:l,menubarVariant:c="default"}){const u=b.useRef(void 0);return d.jsx("div",{className:W("tw-border tw-px-4 tw-text-foreground",r),ref:u,style:{position:"relative"},id:s,children:d.jsxs("div",{className:"tw-flex tw-h-full tw-w-full tw-justify-between tw-overflow-hidden",style:l?{WebkitAppRegion:"drag"}:void 0,children:[d.jsx("div",{className:"tw-flex tw-grow tw-basis-0",children:d.jsxs("div",{className:"tw-flex tw-items-center tw-gap-2",style:l?{WebkitAppRegion:"no-drag"}:void 0,children:[i,t&&d.jsx(P5,{menuData:t,onOpenChange:e,onSelectMenuItem:n,variant:c})]})}),d.jsx("div",{className:"tw-flex tw-items-center tw-gap-2 tw-px-2",style:l?{WebkitAppRegion:"no-drag"}:void 0,children:o}),d.jsx("div",{className:"tw-flex tw-min-w-0 tw-grow tw-basis-0 tw-justify-end",children:d.jsx("div",{className:"tw-flex tw-min-w-0 tw-items-center tw-gap-2 tw-pe-1",style:l?{WebkitAppRegion:"no-drag"}:void 0,children:a})})]})})}const B5=(t,e)=>t[e]??e;function q5({knownUiLanguages:t,primaryLanguage:e="en",fallbackLanguages:n=[],onLanguagesChange:r,onPrimaryLanguageChange:s,onFallbackLanguagesChange:o,localizedStrings:i,className:a,id:l}){const c=B5(i,"%settings_uiLanguageSelector_fallbackLanguages%"),[u,f]=b.useState(!1),h=g=>{s&&s(g),r&&r([g,...n.filter(w=>w!==g)]),o&&n.find(w=>w===g)&&o([...n.filter(w=>w!==g)]),f(!1)},p=(g,w)=>{var _,v,C,M,j,S;const y=w!==g?((v=(_=t[g])==null?void 0:_.uiNames)==null?void 0:v[w])??((M=(C=t[g])==null?void 0:C.uiNames)==null?void 0:M.en):void 0;return y?`${(j=t[g])==null?void 0:j.autonym} (${y})`:(S=t[g])==null?void 0:S.autonym};return d.jsxs("div",{id:l,className:W("pr-twp tw-max-w-sm",a),children:[d.jsxs(To,{name:"uiLanguage",value:e,onValueChange:h,open:u,onOpenChange:g=>f(g),children:[d.jsx(Is,{children:d.jsx(Ao,{})}),d.jsx(Ls,{className:"tw-z-[250]",children:Object.keys(t).map(g=>d.jsx(qn,{value:g,children:p(g,e)},g))})]}),e!=="en"&&d.jsx("div",{className:"tw-pt-3",children:d.jsx(Mt,{className:"tw-font-normal tw-text-muted-foreground",children:oe.formatReplacementString(c,{fallbackLanguages:(n==null?void 0:n.length)>0?n.map(g=>p(g,e)).join(", "):t.en.autonym})})})]})}function U5({item:t,createLabel:e,createComplexLabel:n}){return e?d.jsx(Mt,{children:e(t)}):n?d.jsx(Mt,{children:n(t)}):d.jsx(Mt,{children:t})}function z5({id:t,className:e,listItems:n,selectedListItems:r,handleSelectListItem:s,createLabel:o,createComplexLabel:i}){return d.jsx("div",{id:t,className:e,children:n.map(a=>d.jsxs("div",{className:"tw-m-2 tw-flex tw-items-center",children:[d.jsx(id,{className:"tw-me-2 tw-align-middle",checked:r.includes(a),onCheckedChange:l=>s(a,l)}),d.jsx(U5,{item:a,createLabel:o,createComplexLabel:i})]},a))})}function V5({cardKey:t,isSelected:e,onSelect:n,isDenied:r,isHidden:s=!1,className:o,children:i,dropdownContent:a,additionalSelectedContent:l,accentColor:c}){const u=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),n())};return d.jsxs("div",{hidden:s,onClick:n,onKeyDown:u,role:"button",tabIndex:0,"aria-pressed":e,className:W("tw-relative tw-min-w-36 tw-rounded-xl tw-border tw-shadow-none hover:tw-bg-muted/50",{"tw-opacity-50 hover:tw-opacity-100":r&&!e},{"tw-bg-accent":e},{"tw-bg-transparent":!e},o),children:[d.jsxs("div",{className:"tw-flex tw-flex-col tw-gap-2 tw-p-4",children:[d.jsxs("div",{className:"tw-flex tw-justify-between tw-overflow-hidden",children:[d.jsx("div",{className:"tw-min-w-0 tw-flex-1",children:i}),e&&a&&d.jsxs(bl,{children:[d.jsx(Mu,{className:W(c&&"tw-me-1"),asChild:!0,children:d.jsx(Se,{className:"tw-m-1 tw-h-6 tw-w-6",variant:"ghost",size:"icon",children:d.jsx(fe.MoreHorizontal,{})})}),d.jsx(ea,{align:"end",children:a})]})]}),e&&l&&d.jsx("div",{className:"tw-w-fit tw-min-w-0 tw-max-w-full tw-overflow-hidden",children:l})]}),c&&d.jsx("div",{className:`tw-absolute tw-right-0 tw-top-0 tw-h-full tw-w-2 tw-rounded-r-xl ${c}`})]},t)}const X2=b.forwardRef(({className:t,...e},n)=>d.jsx(fe.LoaderCircle,{size:35,className:W("tw-animate-spin",t),...e,ref:n}));X2.displayName="Spinner";function H5({id:t,isDisabled:e=!1,hasError:n=!1,isFullWidth:r=!1,helperText:s,label:o,placeholder:i,isRequired:a=!1,className:l,defaultValue:c,value:u,onChange:f,onFocus:h,onBlur:p}){return d.jsxs("div",{className:W("tw-inline-grid tw-items-center tw-gap-1.5",{"tw-w-full":r}),children:[d.jsx(Mt,{htmlFor:t,className:W({"tw-text-red-600":n,"tw-hidden":!o}),children:`${o}${a?"*":""}`}),d.jsx(Xo,{id:t,disabled:e,placeholder:i,required:a,className:W(l,{"tw-border-red-600":n}),defaultValue:c,value:u,onChange:f,onFocus:h,onBlur:p}),d.jsx("p",{className:W({"tw-hidden":!s}),children:s})]})}const K5=Ks.cva("tw-relative tw-w-full tw-rounded-lg tw-border tw-p-4 [&>svg~*]:tw-pl-7 [&>svg+div]:tw-translate-y-[-3px] [&>svg]:tw-absolute [&>svg]:tw-left-4 [&>svg]:tw-top-4 [&>svg]:tw-text-foreground [&>img~*]:tw-pl-7 [&>img+div]:tw-translate-y-[-3px] [&>img]:tw-absolute [&>img]:tw-left-4 [&>img]:tw-top-4 [&>img]:tw-text-foreground",{variants:{variant:{default:"tw-bg-background tw-text-foreground",destructive:"tw-border-destructive/50 tw-text-destructive dark:tw-border-destructive [&>svg]:tw-text-destructive [&>img]:tw-text-destructive"}},defaultVariants:{variant:"default"}}),Y2=b.forwardRef(({className:t,variant:e,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:W("pr-twp",K5({variant:e}),t),...n}));Y2.displayName="Alert";const Q2=b.forwardRef(({className:t,...e},n)=>d.jsxs("h5",{ref:n,className:W("tw-mb-1 tw-font-medium tw-leading-none tw-tracking-tight",t),...e,children:[e.children," "]}));Q2.displayName="AlertTitle";const Z2=b.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:W("tw-text-sm [&_p]:tw-leading-relaxed",t),...e}));Z2.displayName="AlertDescription";const W5=lt.Root,G5=lt.Trigger,J5=lt.Group,X5=lt.Portal,Y5=lt.Sub,Q5=lt.RadioGroup,e1=b.forwardRef(({className:t,inset:e,children:n,...r},s)=>d.jsxs(lt.SubTrigger,{ref:s,className:W("pr-twp tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[state=open]:tw-bg-accent data-[state=open]:tw-text-accent-foreground",e&&"tw-pl-8",t),...r,children:[n,d.jsx(fe.ChevronRight,{className:"tw-ml-auto tw-h-4 tw-w-4"})]}));e1.displayName=lt.SubTrigger.displayName;const t1=b.forwardRef(({className:t,...e},n)=>d.jsx(lt.SubContent,{ref:n,className:W("pr-twp tw-z-50 tw-min-w-[8rem] tw-origin-[--radix-context-menu-content-transform-origin] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...e}));t1.displayName=lt.SubContent.displayName;const n1=b.forwardRef(({className:t,...e},n)=>d.jsx(lt.Portal,{children:d.jsx(lt.Content,{ref:n,className:W("pr-twp tw-z-50 tw-max-h-[--radix-context-menu-content-available-height] tw-min-w-[8rem] tw-origin-[--radix-context-menu-content-transform-origin] tw-overflow-y-auto tw-overflow-x-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md tw-animate-in tw-fade-in-80 data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2",t),...e})}));n1.displayName=lt.Content.displayName;const r1=b.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(lt.Item,{ref:r,className:W("pr-twp tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",e&&"tw-pl-8",t),...n}));r1.displayName=lt.Item.displayName;const s1=b.forwardRef(({className:t,children:e,checked:n,...r},s)=>d.jsxs(lt.CheckboxItem,{ref:s,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",t),checked:n,...r,children:[d.jsx("span",{className:"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center",children:d.jsx(lt.ItemIndicator,{children:d.jsx(fe.Check,{className:"tw-h-4 tw-w-4"})})}),e]}));s1.displayName=lt.CheckboxItem.displayName;const o1=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(lt.RadioItem,{ref:r,className:W("tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50",t),...n,children:[d.jsx("span",{className:"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center",children:d.jsx(lt.ItemIndicator,{children:d.jsx(fe.Circle,{className:"tw-h-2 tw-w-2 tw-fill-current"})})}),e]}));o1.displayName=lt.RadioItem.displayName;const i1=b.forwardRef(({className:t,inset:e,...n},r)=>d.jsx(lt.Label,{ref:r,className:W("tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold tw-text-foreground",e&&"tw-pl-8",t),...n}));i1.displayName=lt.Label.displayName;const a1=b.forwardRef(({className:t,...e},n)=>d.jsx(lt.Separator,{ref:n,className:W("tw--mx-1 tw-my-1 tw-h-px tw-bg-border",t),...e}));a1.displayName=lt.Separator.displayName;function l1({className:t,...e}){return d.jsx("span",{className:W("tw-ml-auto tw-text-xs tw-tracking-widest tw-text-muted-foreground",t),...e})}l1.displayName="ContextMenuShortcut";const c1=b.createContext({direction:"bottom"});function u1({shouldScaleBackground:t=!0,direction:e="bottom",...n}){const r=b.useMemo(()=>({direction:e}),[e]);return d.jsx(c1.Provider,{value:r,children:d.jsx(vr.Drawer.Root,{shouldScaleBackground:t,direction:e,...n})})}u1.displayName="Drawer";const Z5=vr.Drawer.Trigger,d1=vr.Drawer.Portal,eL=vr.Drawer.Close,Ig=b.forwardRef(({className:t,...e},n)=>d.jsx(vr.Drawer.Overlay,{ref:n,className:W("tw-fixed tw-inset-0 tw-z-50 tw-bg-black/80",t),...e}));Ig.displayName=vr.Drawer.Overlay.displayName;const f1=b.forwardRef(({className:t,children:e,hideDrawerHandle:n=!1,...r},s)=>{const{direction:o="bottom"}=b.useContext(c1),i={bottom:"tw-inset-x-0 tw-bottom-0 tw-mt-24 tw-rounded-t-[10px]",top:"tw-inset-x-0 tw-top-0 tw-mb-24 tw-rounded-b-[10px]",left:"tw-inset-y-0 tw-left-0 tw-mr-24 tw-rounded-r-[10px] tw-w-auto tw-max-w-sm",right:"tw-inset-y-0 tw-right-0 tw-ml-24 tw-rounded-l-[10px] tw-w-auto tw-max-w-sm"},a={bottom:"tw-mx-auto tw-mt-4 tw-h-2 tw-w-[100px] tw-rounded-full tw-bg-muted",top:"tw-mx-auto tw-mb-4 tw-h-2 tw-w-[100px] tw-rounded-full tw-bg-muted",left:"tw-my-auto tw-mr-4 tw-w-2 tw-h-[100px] tw-rounded-full tw-bg-muted",right:"tw-my-auto tw-ml-4 tw-w-2 tw-h-[100px] tw-rounded-full tw-bg-muted"};return d.jsxs(d1,{children:[d.jsx(Ig,{}),d.jsxs(vr.Drawer.Content,{ref:s,className:W("pr-twp tw-fixed tw-z-50 tw-flex tw-h-auto tw-border tw-bg-background",o==="bottom"||o==="top"?"tw-flex-col":"tw-flex-row",i[o],t),...r,children:[!n&&(o==="bottom"||o==="right")&&d.jsx("div",{className:a[o]}),d.jsx("div",{className:"tw-flex tw-flex-col",children:e}),!n&&(o==="top"||o==="left")&&d.jsx("div",{className:a[o]})]})]})});f1.displayName="DrawerContent";function h1({className:t,...e}){return d.jsx("div",{className:W("tw-grid tw-gap-1.5 tw-p-4 tw-text-center sm:tw-text-left",t),...e})}h1.displayName="DrawerHeader";function p1({className:t,...e}){return d.jsx("div",{className:W("tw-mt-auto tw-flex tw-flex-col tw-gap-2 tw-p-4",t),...e})}p1.displayName="DrawerFooter";const g1=b.forwardRef(({className:t,...e},n)=>d.jsx(vr.Drawer.Title,{ref:n,className:W("tw-text-lg tw-font-semibold tw-leading-none tw-tracking-tight",t),...e}));g1.displayName=vr.Drawer.Title.displayName;const w1=b.forwardRef(({className:t,...e},n)=>d.jsx(vr.Drawer.Description,{ref:n,className:W("tw-text-sm tw-text-muted-foreground",t),...e}));w1.displayName=vr.Drawer.Description.displayName;const m1=b.forwardRef(({className:t,value:e,...n},r)=>d.jsx(xf.Root,{ref:r,className:W("pr-twp tw-relative tw-h-4 tw-w-full tw-overflow-hidden tw-rounded-full tw-bg-secondary",t),...n,children:d.jsx(xf.Indicator,{className:"tw-h-full tw-w-full tw-flex-1 tw-bg-primary tw-transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));m1.displayName=xf.Root.displayName;function tL({className:t,...e}){return d.jsx(Ah.PanelGroup,{className:W("tw-flex tw-h-full tw-w-full data-[panel-group-direction=vertical]:tw-flex-col",t),...e})}const nL=Ah.Panel;function rL({withHandle:t,className:e,...n}){return d.jsx(Ah.PanelResizeHandle,{className:W("tw-relative tw-flex tw-w-px tw-items-center tw-justify-center tw-bg-border after:tw-absolute after:tw-inset-y-0 after:tw-left-1/2 after:tw-w-1 after:tw--translate-x-1/2 focus-visible:tw-outline-none focus-visible:tw-ring-1 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-1 data-[panel-group-direction=vertical]:tw-h-px data-[panel-group-direction=vertical]:tw-w-full data-[panel-group-direction=vertical]:after:tw-left-0 data-[panel-group-direction=vertical]:after:tw-h-1 data-[panel-group-direction=vertical]:after:tw-w-full data-[panel-group-direction=vertical]:after:tw--translate-y-1/2 data-[panel-group-direction=vertical]:after:tw-translate-x-0 [&[data-panel-group-direction=vertical]>div]:tw-rotate-90",e),...n,children:t&&d.jsx("div",{className:"tw-z-10 tw-flex tw-h-4 tw-w-3 tw-items-center tw-justify-center tw-rounded-sm tw-border tw-bg-border",children:d.jsx(fe.GripVertical,{className:"tw-h-2.5 tw-w-2.5"})})})}function sL({...t}){return d.jsx(cy.Toaster,{className:"tw-toaster tw-group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}const b1=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsxs(Ma.Root,{ref:n,className:W("pr-twp tw-relative tw-flex tw-w-full tw-touch-none tw-select-none tw-items-center",t),...e,dir:r,children:[d.jsx(Ma.Track,{className:"tw-relative tw-h-2 tw-w-full tw-grow tw-overflow-hidden tw-rounded-full tw-bg-secondary",children:d.jsx(Ma.Range,{className:"tw-absolute tw-h-full tw-bg-primary"})}),d.jsx(Ma.Thumb,{className:"tw-block tw-h-5 tw-w-5 tw-rounded-full tw-border-2 tw-border-primary tw-bg-background tw-ring-offset-background tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50"})]})});b1.displayName=Ma.Root.displayName;const y1=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsx(_f.Root,{className:W("tw-peer pr-twp tw-inline-flex tw-h-6 tw-w-11 tw-shrink-0 tw-cursor-pointer tw-items-center tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 focus-visible:tw-ring-offset-background disabled:tw-cursor-not-allowed disabled:tw-opacity-50 data-[state=checked]:tw-bg-primary data-[state=unchecked]:tw-bg-input",t),...e,ref:n,children:d.jsx(_f.Thumb,{className:W("pr-twp tw-pointer-events-none tw-block tw-h-5 tw-w-5 tw-rounded-full tw-bg-background tw-shadow-lg tw-ring-0 tw-transition-transform",{"data-[state=checked]:tw-translate-x-5 data-[state=unchecked]:tw-translate-x-0":r==="ltr"},{"data-[state=checked]:tw-translate-x-[-20px] data-[state=unchecked]:tw-translate-x-0":r==="rtl"})})})});y1.displayName=_f.Root.displayName;const oL=An.Root,v1=b.forwardRef(({className:t,...e},n)=>{const r=zt();return d.jsx(An.List,{ref:n,className:W("pr-twp tw-inline-flex tw-h-10 tw-items-center tw-justify-center tw-rounded-md tw-bg-muted tw-p-1 tw-text-muted-foreground",t),...e,dir:r})});v1.displayName=An.List.displayName;const x1=b.forwardRef(({className:t,...e},n)=>d.jsx(An.Trigger,{ref:n,className:W("pr-twp tw-inline-flex tw-items-center tw-justify-center tw-whitespace-nowrap tw-rounded-sm tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-all hover:tw-text-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=active]:tw-bg-background data-[state=active]:tw-text-foreground data-[state=active]:tw-shadow-sm",t),...e}));x1.displayName=An.Trigger.displayName;const _1=b.forwardRef(({className:t,...e},n)=>d.jsx(An.Content,{ref:n,className:W("pr-twp tw-mt-2 tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2",t),...e}));_1.displayName=An.Content.displayName;const C1=b.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:W("pr-twp tw-flex tw-min-h-[80px] tw-w-full tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-base tw-ring-offset-background placeholder:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 md:tw-text-sm",t),ref:n,...e}));C1.displayName="Textarea";const iL=(t,e)=>{b.useEffect(()=>{if(!t)return()=>{};const n=t(e);return()=>{n()}},[t,e])};function aL(t){return{preserveValue:!0,...t}}const k1=(t,e,n={})=>{const r=b.useRef(e);r.current=e;const s=b.useRef(n);s.current=aL(s.current);const[o,i]=b.useState(()=>r.current),[a,l]=b.useState(!0);return b.useEffect(()=>{let c=!0;return l(!!t),(async()=>{if(t){const u=await t();c&&(i(()=>u),l(!1))}})(),()=>{c=!1,s.current.preserveValue||i(()=>r.current)}},[t]),[o,a]},yf=()=>!1,lL=(t,e)=>{const[n]=k1(b.useCallback(async()=>{if(!t)return yf;const r=await Promise.resolve(t(e));return async()=>r()},[e,t]),yf,{preserveValue:!1});b.useEffect(()=>()=>{n!==yf&&n()},[n])};Object.defineProperty(exports,"sonner",{enumerable:!0,get:()=>cy.toast});exports.Alert=Y2;exports.AlertDescription=Z2;exports.AlertTitle=Q2;exports.Avatar=Lh;exports.AvatarFallback=Ph;exports.AvatarImage=Iy;exports.BOOK_CHAPTER_CONTROL_STRING_KEYS=xC;exports.BOOK_SELECTOR_STRING_KEYS=kC;exports.Badge=Ni;exports.BookChapterControl=vC;exports.BookSelectionMode=Ny;exports.BookSelector=EC;exports.Button=Se;exports.Card=Du;exports.CardContent=Ih;exports.CardDescription=My;exports.CardFooter=Oy;exports.CardHeader=Ay;exports.CardTitle=Dy;exports.ChapterRangeSelector=Sy;exports.Checkbox=id;exports.Checklist=z5;exports.ComboBox=Ic;exports.Command=Ko;exports.CommandEmpty=ml;exports.CommandGroup=js;exports.CommandInput=Yi;exports.CommandItem=Ws;exports.CommandList=Wo;exports.CommentList=AC;exports.ContextMenu=W5;exports.ContextMenuCheckboxItem=s1;exports.ContextMenuContent=n1;exports.ContextMenuGroup=J5;exports.ContextMenuItem=r1;exports.ContextMenuLabel=i1;exports.ContextMenuPortal=X5;exports.ContextMenuRadioGroup=Q5;exports.ContextMenuRadioItem=o1;exports.ContextMenuSeparator=a1;exports.ContextMenuShortcut=l1;exports.ContextMenuSub=Y5;exports.ContextMenuSubContent=t1;exports.ContextMenuSubTrigger=e1;exports.ContextMenuTrigger=G5;exports.DataTable=Ky;exports.Drawer=u1;exports.DrawerClose=eL;exports.DrawerContent=f1;exports.DrawerDescription=w1;exports.DrawerFooter=p1;exports.DrawerHeader=h1;exports.DrawerOverlay=Ig;exports.DrawerPortal=d1;exports.DrawerTitle=g1;exports.DrawerTrigger=Z5;exports.DropdownMenu=bl;exports.DropdownMenuCheckboxItem=Ou;exports.DropdownMenuContent=ea;exports.DropdownMenuGroup=Fh;exports.DropdownMenuItem=Uh;exports.DropdownMenuItemType=Jy;exports.DropdownMenuLabel=Ru;exports.DropdownMenuPortal=Ly;exports.DropdownMenuRadioGroup=$y;exports.DropdownMenuRadioItem=zh;exports.DropdownMenuSeparator=yl;exports.DropdownMenuShortcut=Fy;exports.DropdownMenuSub=Py;exports.DropdownMenuSubContent=qh;exports.DropdownMenuSubTrigger=Bh;exports.DropdownMenuTrigger=Mu;exports.ERROR_DUMP_STRING_KEYS=Wy;exports.ERROR_POPOVER_STRING_KEYS=LC;exports.ErrorDump=Gy;exports.ErrorPopover=PC;exports.FOOTNOTE_LIST_STRING_KEYS=WI;exports.Filter=UC;exports.FilterDropdown=$C;exports.Footer=qC;exports.FootnoteEditor=VI;exports.FootnoteItem=m2;exports.FootnoteList=JI;exports.INVENTORY_STRING_KEYS=o5;exports.Input=Xo;exports.Inventory=l5;exports.Label=Mt;exports.MarkdownRenderer=jy;exports.MoreInfo=FC;exports.MultiSelectComboBox=Xy;exports.NavigationContentSearch=M5;exports.Popover=Go;exports.PopoverAnchor=gC;exports.PopoverContent=Gs;exports.PopoverTrigger=Jo;exports.Progress=m1;exports.RadioGroup=Au;exports.RadioGroupItem=Ka;exports.RecentSearches=Ey;exports.ResizableHandle=rL;exports.ResizablePanel=nL;exports.ResizablePanelGroup=tL;exports.ResultsCard=V5;exports.SCOPE_SELECTOR_STRING_KEYS=C5;exports.ScopeSelector=k5;exports.ScriptureResultsViewer=v5;exports.ScrollGroupSelector=E5;exports.SearchBar=dd;exports.Select=To;exports.SelectContent=Ls;exports.SelectGroup=By;exports.SelectItem=qn;exports.SelectLabel=Uy;exports.SelectScrollDownButton=Hh;exports.SelectScrollUpButton=Vh;exports.SelectSeparator=zy;exports.SelectTrigger=Is;exports.SelectValue=Ao;exports.Separator=Zi;exports.SettingsList=S5;exports.SettingsListHeader=T5;exports.SettingsListItem=N5;exports.SettingsSidebar=I2;exports.SettingsSidebarContentSearch=f5;exports.Sidebar=Eg;exports.SidebarContent=Ng;exports.SidebarFooter=S2;exports.SidebarGroup=Cu;exports.SidebarGroupAction=T2;exports.SidebarGroupContent=Eu;exports.SidebarGroupLabel=ku;exports.SidebarHeader=E2;exports.SidebarInput=k2;exports.SidebarInset=Sg;exports.SidebarMenu=Tg;exports.SidebarMenuAction=A2;exports.SidebarMenuBadge=D2;exports.SidebarMenuButton=Dg;exports.SidebarMenuItem=Ag;exports.SidebarMenuSkeleton=M2;exports.SidebarMenuSub=O2;exports.SidebarMenuSubButton=j2;exports.SidebarMenuSubItem=R2;exports.SidebarProvider=kg;exports.SidebarRail=C2;exports.SidebarSeparator=N2;exports.SidebarTrigger=_2;exports.Skeleton=Lc;exports.Slider=b1;exports.Sonner=sL;exports.Spinner=X2;exports.Switch=y1;exports.TabDropdownMenu=Nu;exports.TabFloatingMenu=D5;exports.TabToolbar=A5;exports.Table=vl;exports.TableBody=_l;exports.TableCaption=Hy;exports.TableCell=Ds;exports.TableFooter=Vy;exports.TableHead=Ti;exports.TableHeader=xl;exports.TableRow=$r;exports.Tabs=oL;exports.TabsContent=_1;exports.TabsList=v1;exports.TabsTrigger=x1;exports.TextField=H5;exports.Textarea=C1;exports.ToggleGroup=Cg;exports.ToggleGroupItem=Va;exports.Toolbar=F5;exports.Tooltip=cd;exports.TooltipContent=Ul;exports.TooltipProvider=ld;exports.TooltipTrigger=ud;exports.UiLanguageSelector=q5;exports.VerticalTabs=Og;exports.VerticalTabsContent=jg;exports.VerticalTabsList=Rg;exports.VerticalTabsTrigger=q2;exports.badgeVariants=Ry;exports.buttonVariants=ky;exports.cn=W;exports.getBookIdFromUSFM=s5;exports.getLinesFromUSFM=n5;exports.getNumberFromUSFM=r5;exports.getStatusForItem=v2;exports.getToolbarOSReservedSpaceClassName=$5;exports.inventoryCountColumn=e5;exports.inventoryItemColumn=QI;exports.inventoryStatusColumn=t5;exports.selectTriggerVariants=qy;exports.useEvent=iL;exports.useEventAsync=lL;exports.useListbox=Ty;exports.usePromise=k1;exports.useRecentSearches=wC;exports.useSidebar=zl;function cL(t,e="top"){if(!t||typeof document>"u")return;const n=document.head||document.querySelector("head"),r=n.querySelector(":first-child"),s=document.createElement("style");s.appendChild(document.createTextNode(t)),e==="top"&&r?n.insertBefore(s,r):n.appendChild(s)}cL(`*, ::before, ::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}

::backdrop {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x:  ;
  --tw-pan-y:  ;
  --tw-pinch-zoom:  ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position:  ;
  --tw-gradient-via-position:  ;
  --tw-gradient-to-position:  ;
  --tw-ordinal:  ;
  --tw-slashed-zero:  ;
  --tw-numeric-figure:  ;
  --tw-numeric-spacing:  ;
  --tw-numeric-fraction:  ;
  --tw-ring-inset:  ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur:  ;
  --tw-brightness:  ;
  --tw-contrast:  ;
  --tw-grayscale:  ;
  --tw-hue-rotate:  ;
  --tw-invert:  ;
  --tw-saturate:  ;
  --tw-sepia:  ;
  --tw-drop-shadow:  ;
  --tw-backdrop-blur:  ;
  --tw-backdrop-brightness:  ;
  --tw-backdrop-contrast:  ;
  --tw-backdrop-grayscale:  ;
  --tw-backdrop-hue-rotate:  ;
  --tw-backdrop-invert:  ;
  --tw-backdrop-opacity:  ;
  --tw-backdrop-saturate:  ;
  --tw-backdrop-sepia:  ;
  --tw-contain-size:  ;
  --tw-contain-layout:  ;
  --tw-contain-paint:  ;
  --tw-contain-style:  ;
}/*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

*:where(.pr-twp,.pr-twp *),
::before:where(.pr-twp,.pr-twp *),
::after:where(.pr-twp,.pr-twp *) {
  box-sizing: border-box; /* 1 */
  border-width: 0; /* 2 */
  border-style: solid; /* 2 */
  border-color: #e5e7eb; /* 2 */
}

::before:where(.pr-twp,.pr-twp *),
::after:where(.pr-twp,.pr-twp *) {
  --tw-content: '';
}

/*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured \`sans\` font-family by default.
5. Use the user's configured \`sans\` font-feature-settings by default.
6. Use the user's configured \`sans\` font-variation-settings by default.
7. Disable tap highlights on iOS
*/

html:where(.pr-twp,.pr-twp *),
:host:where(.pr-twp,.pr-twp *) {
  line-height: 1.5; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */ /* 3 */
  tab-size: 4; /* 3 */
  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */
  font-feature-settings: normal; /* 5 */
  font-variation-settings: normal; /* 6 */
  -webkit-tap-highlight-color: transparent; /* 7 */
}

/*
1. Remove the margin in all browsers.
2. Inherit line-height from \`html\` so users can set them as a class directly on the \`html\` element.
*/

body:where(.pr-twp,.pr-twp *) {
  margin: 0; /* 1 */
  line-height: inherit; /* 2 */
}

/*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

hr:where(.pr-twp,.pr-twp *) {
  height: 0; /* 1 */
  color: inherit; /* 2 */
  border-top-width: 1px; /* 3 */
}

/*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

abbr:where([title]):where(.pr-twp,.pr-twp *) {
  text-decoration: underline dotted;
}

/*
Remove the default font size and weight for headings.
*/

h1:where(.pr-twp,.pr-twp *),
h2:where(.pr-twp,.pr-twp *),
h3:where(.pr-twp,.pr-twp *),
h4:where(.pr-twp,.pr-twp *),
h5:where(.pr-twp,.pr-twp *),
h6:where(.pr-twp,.pr-twp *) {
  font-size: inherit;
  font-weight: inherit;
}

/*
Reset links to optimize for opt-in styling instead of opt-out.
*/

a:where(.pr-twp,.pr-twp *) {
  color: inherit;
  text-decoration: inherit;
}

/*
Add the correct font weight in Edge and Safari.
*/

b:where(.pr-twp,.pr-twp *),
strong:where(.pr-twp,.pr-twp *) {
  font-weight: bolder;
}

/*
1. Use the user's configured \`mono\` font-family by default.
2. Use the user's configured \`mono\` font-feature-settings by default.
3. Use the user's configured \`mono\` font-variation-settings by default.
4. Correct the odd \`em\` font sizing in all browsers.
*/

code:where(.pr-twp,.pr-twp *),
kbd:where(.pr-twp,.pr-twp *),
samp:where(.pr-twp,.pr-twp *),
pre:where(.pr-twp,.pr-twp *) {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */
  font-feature-settings: normal; /* 2 */
  font-variation-settings: normal; /* 3 */
  font-size: 1em; /* 4 */
}

/*
Add the correct font size in all browsers.
*/

small:where(.pr-twp,.pr-twp *) {
  font-size: 80%;
}

/*
Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

sub:where(.pr-twp,.pr-twp *),
sup:where(.pr-twp,.pr-twp *) {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub:where(.pr-twp,.pr-twp *) {
  bottom: -0.25em;
}

sup:where(.pr-twp,.pr-twp *) {
  top: -0.5em;
}

/*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

table:where(.pr-twp,.pr-twp *) {
  text-indent: 0; /* 1 */
  border-color: inherit; /* 2 */
  border-collapse: collapse; /* 3 */
}

/*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

button:where(.pr-twp,.pr-twp *),
input:where(.pr-twp,.pr-twp *),
optgroup:where(.pr-twp,.pr-twp *),
select:where(.pr-twp,.pr-twp *),
textarea:where(.pr-twp,.pr-twp *) {
  font-family: inherit; /* 1 */
  font-feature-settings: inherit; /* 1 */
  font-variation-settings: inherit; /* 1 */
  font-size: 100%; /* 1 */
  font-weight: inherit; /* 1 */
  line-height: inherit; /* 1 */
  letter-spacing: inherit; /* 1 */
  color: inherit; /* 1 */
  margin: 0; /* 2 */
  padding: 0; /* 3 */
}

/*
Remove the inheritance of text transform in Edge and Firefox.
*/

button:where(.pr-twp,.pr-twp *),
select:where(.pr-twp,.pr-twp *) {
  text-transform: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

button:where(.pr-twp,.pr-twp *),
input:where([type='button']):where(.pr-twp,.pr-twp *),
input:where([type='reset']):where(.pr-twp,.pr-twp *),
input:where([type='submit']):where(.pr-twp,.pr-twp *) {
  -webkit-appearance: button; /* 1 */
  background-color: transparent; /* 2 */
  background-image: none; /* 2 */
}

/*
Use the modern Firefox focus style for all focusable elements.
*/

:-moz-focusring:where(.pr-twp,.pr-twp *) {
  outline: auto;
}

/*
Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

:-moz-ui-invalid:where(.pr-twp,.pr-twp *) {
  box-shadow: none;
}

/*
Add the correct vertical alignment in Chrome and Firefox.
*/

progress:where(.pr-twp,.pr-twp *) {
  vertical-align: baseline;
}

/*
Correct the cursor style of increment and decrement buttons in Safari.
*/

::-webkit-inner-spin-button:where(.pr-twp,.pr-twp *),
::-webkit-outer-spin-button:where(.pr-twp,.pr-twp *) {
  height: auto;
}

/*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

[type='search']:where(.pr-twp,.pr-twp *) {
  -webkit-appearance: textfield; /* 1 */
  outline-offset: -2px; /* 2 */
}

/*
Remove the inner padding in Chrome and Safari on macOS.
*/

::-webkit-search-decoration:where(.pr-twp,.pr-twp *) {
  -webkit-appearance: none;
}

/*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to \`inherit\` in Safari.
*/

::-webkit-file-upload-button:where(.pr-twp,.pr-twp *) {
  -webkit-appearance: button; /* 1 */
  font: inherit; /* 2 */
}

/*
Add the correct display in Chrome and Safari.
*/

summary:where(.pr-twp,.pr-twp *) {
  display: list-item;
}

/*
Removes the default spacing and border for appropriate elements.
*/

blockquote:where(.pr-twp,.pr-twp *),
dl:where(.pr-twp,.pr-twp *),
dd:where(.pr-twp,.pr-twp *),
h1:where(.pr-twp,.pr-twp *),
h2:where(.pr-twp,.pr-twp *),
h3:where(.pr-twp,.pr-twp *),
h4:where(.pr-twp,.pr-twp *),
h5:where(.pr-twp,.pr-twp *),
h6:where(.pr-twp,.pr-twp *),
hr:where(.pr-twp,.pr-twp *),
figure:where(.pr-twp,.pr-twp *),
p:where(.pr-twp,.pr-twp *),
pre:where(.pr-twp,.pr-twp *) {
  margin: 0;
}

fieldset:where(.pr-twp,.pr-twp *) {
  margin: 0;
  padding: 0;
}

legend:where(.pr-twp,.pr-twp *) {
  padding: 0;
}

ol:where(.pr-twp,.pr-twp *),
ul:where(.pr-twp,.pr-twp *),
menu:where(.pr-twp,.pr-twp *) {
  list-style: none;
  margin: 0;
  padding: 0;
}

/*
Reset default styling for dialogs.
*/
dialog:where(.pr-twp,.pr-twp *) {
  padding: 0;
}

/*
Prevent resizing textareas horizontally by default.
*/

textarea:where(.pr-twp,.pr-twp *) {
  resize: vertical;
}

/*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

input::placeholder:where(.pr-twp,.pr-twp *),
textarea::placeholder:where(.pr-twp,.pr-twp *) {
  opacity: 1; /* 1 */
  color: #9ca3af; /* 2 */
}

/*
Set the default cursor for buttons.
*/

button:where(.pr-twp,.pr-twp *),
[role="button"]:where(.pr-twp,.pr-twp *) {
  cursor: pointer;
}

/*
Make sure disabled buttons don't get the pointer cursor.
*/
:disabled:where(.pr-twp,.pr-twp *) {
  cursor: default;
}

/*
1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
   This can trigger a poorly considered lint error in some tools but is included by design.
*/

img:where(.pr-twp,.pr-twp *),
svg:where(.pr-twp,.pr-twp *),
video:where(.pr-twp,.pr-twp *),
canvas:where(.pr-twp,.pr-twp *),
audio:where(.pr-twp,.pr-twp *),
iframe:where(.pr-twp,.pr-twp *),
embed:where(.pr-twp,.pr-twp *),
object:where(.pr-twp,.pr-twp *) {
  display: block; /* 1 */
  vertical-align: middle; /* 2 */
}

/*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

img:where(.pr-twp,.pr-twp *),
video:where(.pr-twp,.pr-twp *) {
  max-width: 100%;
  height: auto;
}

/* Make elements with the HTML hidden attribute stay hidden by default */
[hidden]:where(:not([hidden="until-found"])):where(.pr-twp,.pr-twp *) {
  display: none;
}
  /* Adding the preflight selector (pr-twp) to components was not changing the font as desired.
  So this piece of code adds tw-font-sans everywhere we include preflight. */
  .pr-twp {
  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}
  @font-face {
    font-family: 'Inter';
    font-display: 'swap';
    src: url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
  }

  /**
   * Theme colors and other CSS variable properties in Platform.Bible. These are applied in CSS
   * properties using \`hsl(var(--variableName))\` or Tailwind classes like \`tw-bg-primary\`
   *
   * See the wiki's [Matching Application
   * Theme](https://github.com/paranext/paranext-extension-template/wiki/Extension-Anatomy#matching-application-theme)
   * section for more information
   */
  /* ["Slate" base theme by shadcn/ui](https://ui.shadcn.com/docs/theming#slate) */
  :root {
    --background: 0 0% 100%; /* white */
    --foreground: 222.2 84% 4.9%; /* slate-950 */
    --card: 0 0% 100%; /* white */
    --card-foreground: 222.2 84% 4.9%; /* slate-950 */
    --popover: 210 20% 98%; /* popover platform */
    --popover-foreground: 222.2 84% 4.9%; /* slate-950 */
    --primary: 222.2 47.4% 11.2%; /* slate-900 */
    --primary-foreground: 210 40% 98%; /* slate-50 */
    --secondary: 210 50% 95%;
    --secondary-foreground: 222.2 47.4% 11.2%; /* slate-900 */
    --muted: 210 50% 95%;
    --muted-foreground: 215.4 16.3% 46.9%; /* slate-500 */
    --accent: 210 50% 95%;
    --accent-foreground: 222.2 47.4% 11.2%; /* slate-900 */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%; /* slate-50 */
    --border: 214.3 31.8% 91.4%; /* slate-200 */
    --input: 214.3 31.8% 91.4%; /* slate-200 */
    --ring: 222.2 84% 4.9%; /* slate-950 */

    --sidebar-background: 210 20% 98%; /* popover platform */
    --sidebar-foreground: 222.2 84% 4.9%; /* slate-950 */
    --sidebar-primary: 222.2 47.4% 11.2%; /* slate-900 */
    --sidebar-primary-foreground: 210 40% 98%; /* slate-50 */
    --sidebar-accent: 210 50% 95%;
    --sidebar-accent-foreground: 222.2 47.4% 11.2%; /* slate-900 */
    --sidebar-border: 214.3 31.8% 91.4%; /* slate-200 */
    --sidebar-ring: 222.2 84% 4.9%; /* slate-950 */

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%; /* slate-950 */
    --foreground: 210 40% 98%; /* slate-50 */
    --card: 222.2 84% 4.9%; /* slate-950 */
    --card-foreground: 210 40% 98%; /* slate-50 */
    --popover: 222.2 84% 4.9%; /* slate-950 */
    --popover-foreground: 210 40% 98%; /* slate-50 */
    --primary: 210 40% 98%; /* slate-50 */
    --primary-foreground: 222.2 47.4% 11.2%; /* slate-900 */
    --secondary: 217.2 32.6% 17.5%; /* slate-800 */
    --secondary-foreground: 210 40% 98%; /* slate-50 */
    --muted: 217.2 32.6% 17.5%; /* slate-800 */
    --muted-foreground: 215 20.2% 65.1%; /* slate-400 */
    --accent: 217.2 32.6% 17.5%; /* slate-800 */
    --accent-foreground: 210 40% 98%; /* slate-50 */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%; /* slate-50 */
    --border: 215.3 19.3% 34.5%; /* slate-600 */
    --input: 215.3 19.3% 34.5%; /* slate-600 */
    --ring: 212.7 26.8% 83.9%; /* slate-300 */

    --sidebar-background: 222.2 84% 4.9%; /* slate-950 */
    --sidebar-foreground: 215 20.2% 65.1%; /* slate-400 */
    --sidebar-primary: 210 40% 98%; /* slate-50 */
    --sidebar-primary-foreground: 222.2 47.4% 11.2%; /* slate-900 */
    --sidebar-accent: 217.2 32.6% 17.5%; /* slate-800 */
    --sidebar-accent-foreground: 215 20.2% 65.1%; /* slate-400 */
    --sidebar-border: 217.2 32.6% 17.5%; /* slate-800 */
    --sidebar-ring: 212.7 26.8% 83.9%; /* slate-300 */
  }

  /* Palette built in https://tweakcn.com/themes/cmeukcpoj000204l45lxw5a74 based on "Caffeine" theme*/
  .pr-twp,
  .pr-twp * {
  border-color: hsl(var(--border));
  outline-color: hsl(var(--ring) / 0.5);
}

  /**
    * disabled because tslint does not like it, but it is the selector that's needed
    */
  /* stylelint-disable-next-line selector-no-qualifying-type */
  body.pr-twp {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}
.tw-prose {
  color: var(--tw-prose-body);
  max-width: 65ch;
}
.tw-prose :where(p):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}
.tw-prose :where([class~="lead"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-lead);
  font-size: 1.25em;
  line-height: 1.6;
  margin-top: 1.2em;
  margin-bottom: 1.2em;
}
.tw-prose :where(a):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-links);
  text-decoration: underline;
  font-weight: 500;
}
.tw-prose :where(strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-bold);
  font-weight: 600;
}
.tw-prose :where(a strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(blockquote strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(thead th strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(ol):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: decimal;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-inline-start: 1.625em;
}
.tw-prose :where(ol[type="A"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: upper-alpha;
}
.tw-prose :where(ol[type="a"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: lower-alpha;
}
.tw-prose :where(ol[type="A" s]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: upper-alpha;
}
.tw-prose :where(ol[type="a" s]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: lower-alpha;
}
.tw-prose :where(ol[type="I"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: upper-roman;
}
.tw-prose :where(ol[type="i"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: lower-roman;
}
.tw-prose :where(ol[type="I" s]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: upper-roman;
}
.tw-prose :where(ol[type="i" s]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: lower-roman;
}
.tw-prose :where(ol[type="1"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: decimal;
}
.tw-prose :where(ul):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  list-style-type: disc;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-inline-start: 1.625em;
}
.tw-prose :where(ol > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::marker {
  font-weight: 400;
  color: var(--tw-prose-counters);
}
.tw-prose :where(ul > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::marker {
  color: var(--tw-prose-bullets);
}
.tw-prose :where(dt):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 600;
  margin-top: 1.25em;
}
.tw-prose :where(hr):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  border-color: var(--tw-prose-hr);
  border-top-width: 1px;
  margin-top: 3em;
  margin-bottom: 3em;
}
.tw-prose :where(blockquote):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 500;
  font-style: italic;
  color: var(--tw-prose-quotes);
  border-inline-start-width: 0.25rem;
  border-inline-start-color: var(--tw-prose-quote-borders);
  quotes: "0o201C""0o201D""0o2018""0o2019";
  margin-top: 1.6em;
  margin-bottom: 1.6em;
  padding-inline-start: 1em;
}
.tw-prose :where(blockquote p:first-of-type):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::before {
  content: open-quote;
}
.tw-prose :where(blockquote p:last-of-type):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::after {
  content: close-quote;
}
.tw-prose :where(h1):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 800;
  font-size: 2.25em;
  margin-top: 0;
  margin-bottom: 0.8888889em;
  line-height: 1.1111111;
}
.tw-prose :where(h1 strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 900;
  color: inherit;
}
.tw-prose :where(h2):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 700;
  font-size: 1.5em;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.3333333;
}
.tw-prose :where(h2 strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 800;
  color: inherit;
}
.tw-prose :where(h3):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 600;
  font-size: 1.25em;
  margin-top: 1.6em;
  margin-bottom: 0.6em;
  line-height: 1.6;
}
.tw-prose :where(h3 strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 700;
  color: inherit;
}
.tw-prose :where(h4):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.5;
}
.tw-prose :where(h4 strong):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 700;
  color: inherit;
}
.tw-prose :where(img):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 2em;
  margin-bottom: 2em;
}
.tw-prose :where(picture):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  display: block;
  margin-top: 2em;
  margin-bottom: 2em;
}
.tw-prose :where(video):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 2em;
  margin-bottom: 2em;
}
.tw-prose :where(kbd):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-weight: 500;
  font-family: inherit;
  color: var(--tw-prose-kbd);
  box-shadow: 0 0 0 1px rgb(var(--tw-prose-kbd-shadows) / 10%), 0 3px 0 rgb(var(--tw-prose-kbd-shadows) / 10%);
  font-size: 0.875em;
  border-radius: 0.3125rem;
  padding-top: 0.1875em;
  padding-inline-end: 0.375em;
  padding-bottom: 0.1875em;
  padding-inline-start: 0.375em;
}
.tw-prose :where(code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-code);
  font-weight: 600;
  font-size: 0.875em;
}
.tw-prose :where(code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::before {
  content: "\`";
}
.tw-prose :where(code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::after {
  content: "\`";
}
.tw-prose :where(a code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(h1 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(h2 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
  font-size: 0.875em;
}
.tw-prose :where(h3 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
  font-size: 0.9em;
}
.tw-prose :where(h4 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(blockquote code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(thead th code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: inherit;
}
.tw-prose :where(pre):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-pre-code);
  background-color: var(--tw-prose-pre-bg);
  overflow-x: auto;
  font-weight: 400;
  font-size: 0.875em;
  line-height: 1.7142857;
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
  border-radius: 0.375rem;
  padding-top: 0.8571429em;
  padding-inline-end: 1.1428571em;
  padding-bottom: 0.8571429em;
  padding-inline-start: 1.1428571em;
}
.tw-prose :where(pre code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: inherit;
  color: inherit;
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}
.tw-prose :where(pre code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::before {
  content: none;
}
.tw-prose :where(pre code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *))::after {
  content: none;
}
.tw-prose :where(table):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  width: 100%;
  table-layout: auto;
  margin-top: 2em;
  margin-bottom: 2em;
  font-size: 0.875em;
  line-height: 1.7142857;
}
.tw-prose :where(thead):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  border-bottom-width: 1px;
  border-bottom-color: var(--tw-prose-th-borders);
}
.tw-prose :where(thead th):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-headings);
  font-weight: 600;
  vertical-align: bottom;
  padding-inline-end: 0.5714286em;
  padding-bottom: 0.5714286em;
  padding-inline-start: 0.5714286em;
}
.tw-prose :where(tbody tr):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  border-bottom-width: 1px;
  border-bottom-color: var(--tw-prose-td-borders);
}
.tw-prose :where(tbody tr:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  border-bottom-width: 0;
}
.tw-prose :where(tbody td):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  vertical-align: baseline;
}
.tw-prose :where(tfoot):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  border-top-width: 1px;
  border-top-color: var(--tw-prose-th-borders);
}
.tw-prose :where(tfoot td):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  vertical-align: top;
}
.tw-prose :where(th, td):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  text-align: start;
}
.tw-prose :where(figure > *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
  margin-bottom: 0;
}
.tw-prose :where(figcaption):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  color: var(--tw-prose-captions);
  font-size: 0.875em;
  line-height: 1.4285714;
  margin-top: 0.8571429em;
}
.tw-prose {
  --tw-prose-body: hsl(var(--foreground));
  --tw-prose-headings: hsl(var(--foreground));
  --tw-prose-lead: hsl(var(--muted-foreground));
  --tw-prose-links: hsl(var(--primary));
  --tw-prose-bold: hsl(var(--foreground));
  --tw-prose-counters: hsl(var(--muted-foreground));
  --tw-prose-bullets: hsl(var(--muted-foreground));
  --tw-prose-hr: hsl(var(--border));
  --tw-prose-quotes: hsl(var(--foreground));
  --tw-prose-quote-borders: hsl(var(--border));
  --tw-prose-captions: hsl(var(--muted-foreground));
  --tw-prose-kbd: #111827;
  --tw-prose-kbd-shadows: 17 24 39;
  --tw-prose-code: hsl(var(--foreground));
  --tw-prose-pre-code: hsl(var(--muted-foreground));
  --tw-prose-pre-bg: hsl(var(--muted));
  --tw-prose-th-borders: hsl(var(--border));
  --tw-prose-td-borders: hsl(var(--border));
  --tw-prose-invert-body: #d1d5db;
  --tw-prose-invert-headings: #fff;
  --tw-prose-invert-lead: #9ca3af;
  --tw-prose-invert-links: #fff;
  --tw-prose-invert-bold: #fff;
  --tw-prose-invert-counters: #9ca3af;
  --tw-prose-invert-bullets: #4b5563;
  --tw-prose-invert-hr: #374151;
  --tw-prose-invert-quotes: #f3f4f6;
  --tw-prose-invert-quote-borders: #374151;
  --tw-prose-invert-captions: #9ca3af;
  --tw-prose-invert-kbd: #fff;
  --tw-prose-invert-kbd-shadows: 255 255 255;
  --tw-prose-invert-code: #fff;
  --tw-prose-invert-pre-code: #d1d5db;
  --tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);
  --tw-prose-invert-th-borders: #4b5563;
  --tw-prose-invert-td-borders: #374151;
  font-size: 1rem;
  line-height: 1.75;
}
.tw-prose :where(picture > img):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
  margin-bottom: 0;
}
.tw-prose :where(li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
.tw-prose :where(ol > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0.375em;
}
.tw-prose :where(ul > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0.375em;
}
.tw-prose :where(.tw-prose > ul > li p):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}
.tw-prose :where(.tw-prose > ul > li > p:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.25em;
}
.tw-prose :where(.tw-prose > ul > li > p:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 1.25em;
}
.tw-prose :where(.tw-prose > ol > li > p:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.25em;
}
.tw-prose :where(.tw-prose > ol > li > p:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 1.25em;
}
.tw-prose :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}
.tw-prose :where(dl):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}
.tw-prose :where(dd):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.5em;
  padding-inline-start: 1.625em;
}
.tw-prose :where(hr + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose :where(h2 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose :where(h3 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose :where(h4 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose :where(thead th:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0;
}
.tw-prose :where(thead th:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-end: 0;
}
.tw-prose :where(tbody td, tfoot td):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-top: 0.5714286em;
  padding-inline-end: 0.5714286em;
  padding-bottom: 0.5714286em;
  padding-inline-start: 0.5714286em;
}
.tw-prose :where(tbody td:first-child, tfoot td:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0;
}
.tw-prose :where(tbody td:last-child, tfoot td:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-end: 0;
}
.tw-prose :where(figure):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 2em;
  margin-bottom: 2em;
}
.tw-prose :where(.tw-prose > :first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose :where(.tw-prose > :last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 0;
}
.tw-prose-sm {
  font-size: 0.875rem;
  line-height: 1.7142857;
}
.tw-prose-sm :where(p):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
  margin-bottom: 1.1428571em;
}
.tw-prose-sm :where([class~="lead"]):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 1.2857143em;
  line-height: 1.5555556;
  margin-top: 0.8888889em;
  margin-bottom: 0.8888889em;
}
.tw-prose-sm :where(blockquote):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.3333333em;
  margin-bottom: 1.3333333em;
  padding-inline-start: 1.1111111em;
}
.tw-prose-sm :where(h1):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 2.1428571em;
  margin-top: 0;
  margin-bottom: 0.8em;
  line-height: 1.2;
}
.tw-prose-sm :where(h2):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 1.4285714em;
  margin-top: 1.6em;
  margin-bottom: 0.8em;
  line-height: 1.4;
}
.tw-prose-sm :where(h3):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 1.2857143em;
  margin-top: 1.5555556em;
  margin-bottom: 0.4444444em;
  line-height: 1.5555556;
}
.tw-prose-sm :where(h4):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.4285714em;
  margin-bottom: 0.5714286em;
  line-height: 1.4285714;
}
.tw-prose-sm :where(img):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
}
.tw-prose-sm :where(picture):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
}
.tw-prose-sm :where(picture > img):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
  margin-bottom: 0;
}
.tw-prose-sm :where(video):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
}
.tw-prose-sm :where(kbd):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8571429em;
  border-radius: 0.3125rem;
  padding-top: 0.1428571em;
  padding-inline-end: 0.3571429em;
  padding-bottom: 0.1428571em;
  padding-inline-start: 0.3571429em;
}
.tw-prose-sm :where(code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8571429em;
}
.tw-prose-sm :where(h2 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.9em;
}
.tw-prose-sm :where(h3 code):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8888889em;
}
.tw-prose-sm :where(pre):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8571429em;
  line-height: 1.6666667;
  margin-top: 1.6666667em;
  margin-bottom: 1.6666667em;
  border-radius: 0.25rem;
  padding-top: 0.6666667em;
  padding-inline-end: 1em;
  padding-bottom: 0.6666667em;
  padding-inline-start: 1em;
}
.tw-prose-sm :where(ol):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
  margin-bottom: 1.1428571em;
  padding-inline-start: 1.5714286em;
}
.tw-prose-sm :where(ul):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
  margin-bottom: 1.1428571em;
  padding-inline-start: 1.5714286em;
}
.tw-prose-sm :where(li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.2857143em;
  margin-bottom: 0.2857143em;
}
.tw-prose-sm :where(ol > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0.4285714em;
}
.tw-prose-sm :where(ul > li):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0.4285714em;
}
.tw-prose-sm :where(.tw-prose-sm > ul > li p):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.5714286em;
  margin-bottom: 0.5714286em;
}
.tw-prose-sm :where(.tw-prose-sm > ul > li > p:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
}
.tw-prose-sm :where(.tw-prose-sm > ul > li > p:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 1.1428571em;
}
.tw-prose-sm :where(.tw-prose-sm > ol > li > p:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
}
.tw-prose-sm :where(.tw-prose-sm > ol > li > p:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 1.1428571em;
}
.tw-prose-sm :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.5714286em;
  margin-bottom: 0.5714286em;
}
.tw-prose-sm :where(dl):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
  margin-bottom: 1.1428571em;
}
.tw-prose-sm :where(dt):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.1428571em;
}
.tw-prose-sm :where(dd):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0.2857143em;
  padding-inline-start: 1.5714286em;
}
.tw-prose-sm :where(hr):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 2.8571429em;
  margin-bottom: 2.8571429em;
}
.tw-prose-sm :where(hr + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose-sm :where(h2 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose-sm :where(h3 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose-sm :where(h4 + *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose-sm :where(table):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8571429em;
  line-height: 1.5;
}
.tw-prose-sm :where(thead th):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-end: 1em;
  padding-bottom: 0.6666667em;
  padding-inline-start: 1em;
}
.tw-prose-sm :where(thead th:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0;
}
.tw-prose-sm :where(thead th:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-end: 0;
}
.tw-prose-sm :where(tbody td, tfoot td):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-top: 0.6666667em;
  padding-inline-end: 1em;
  padding-bottom: 0.6666667em;
  padding-inline-start: 1em;
}
.tw-prose-sm :where(tbody td:first-child, tfoot td:first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-start: 0;
}
.tw-prose-sm :where(tbody td:last-child, tfoot td:last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  padding-inline-end: 0;
}
.tw-prose-sm :where(figure):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
}
.tw-prose-sm :where(figure > *):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
  margin-bottom: 0;
}
.tw-prose-sm :where(figcaption):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  font-size: 0.8571429em;
  line-height: 1.3333333;
  margin-top: 0.6666667em;
}
.tw-prose-sm :where(.tw-prose-sm > :first-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-top: 0;
}
.tw-prose-sm :where(.tw-prose-sm > :last-child):not(:where([class~="tw-not-prose"],[class~="tw-not-prose"] *)) {
  margin-bottom: 0;
}
.tw-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
.tw-pointer-events-none {
  pointer-events: none;
}
.tw-pointer-events-auto {
  pointer-events: auto;
}
.tw-fixed {
  position: fixed;
}
.tw-absolute {
  position: absolute;
}
.tw-relative {
  position: relative;
}
.tw-sticky {
  position: sticky;
}
.tw-inset-0 {
  inset: 0px;
}
.tw-inset-x-0 {
  left: 0px;
  right: 0px;
}
.tw-inset-y-0 {
  top: 0px;
  bottom: 0px;
}
.tw-bottom-0 {
  bottom: 0px;
}
.tw-left-0 {
  left: 0px;
}
.tw-left-2 {
  left: 0.5rem;
}
.tw-left-3 {
  left: 0.75rem;
}
.tw-left-4 {
  left: 1rem;
}
.tw-left-\\[50\\%\\] {
  left: 50%;
}
.tw-right-0 {
  right: 0px;
}
.tw-right-1 {
  right: 0.25rem;
}
.tw-right-3 {
  right: 0.75rem;
}
.tw-right-4 {
  right: 1rem;
}
.tw-start-2 {
  inset-inline-start: 0.5rem;
}
.tw-top-0 {
  top: 0px;
}
.tw-top-1\\.5 {
  top: 0.375rem;
}
.tw-top-1\\/2 {
  top: 50%;
}
.tw-top-2\\.5 {
  top: 0.625rem;
}
.tw-top-3\\.5 {
  top: 0.875rem;
}
.tw-top-4 {
  top: 1rem;
}
.tw-top-\\[-1px\\] {
  top: -1px;
}
.tw-top-\\[50\\%\\] {
  top: 50%;
}
.tw-z-10 {
  z-index: 10;
}
.tw-z-20 {
  z-index: 20;
}
.tw-z-50 {
  z-index: 50;
}
.tw-z-\\[1000\\] {
  z-index: 1000;
}
.tw-z-\\[250\\] {
  z-index: 250;
}
.tw-col-span-2 {
  grid-column: span 2 / span 2;
}
.tw-col-span-3 {
  grid-column: span 3 / span 3;
}
.tw-m-1 {
  margin: 0.25rem;
}
.tw-m-2 {
  margin: 0.5rem;
}
.tw--mx-1 {
  margin-left: -0.25rem;
  margin-right: -0.25rem;
}
.tw-mx-1 {
  margin-left: 0.25rem;
  margin-right: 0.25rem;
}
.tw-mx-2 {
  margin-left: 0.5rem;
  margin-right: 0.5rem;
}
.tw-mx-3\\.5 {
  margin-left: 0.875rem;
  margin-right: 0.875rem;
}
.tw-mx-auto {
  margin-left: auto;
  margin-right: auto;
}
.tw-my-1 {
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
}
.tw-my-auto {
  margin-top: auto;
  margin-bottom: auto;
}
.tw-mb-1 {
  margin-bottom: 0.25rem;
}
.tw-mb-2 {
  margin-bottom: 0.5rem;
}
.tw-mb-24 {
  margin-bottom: 6rem;
}
.tw-mb-4 {
  margin-bottom: 1rem;
}
.tw-me-1 {
  margin-inline-end: 0.25rem;
}
.tw-me-2 {
  margin-inline-end: 0.5rem;
}
.tw-ml-2 {
  margin-left: 0.5rem;
}
.tw-ml-24 {
  margin-left: 6rem;
}
.tw-ml-4 {
  margin-left: 1rem;
}
.tw-ml-auto {
  margin-left: auto;
}
.tw-mr-1 {
  margin-right: 0.25rem;
}
.tw-mr-2 {
  margin-right: 0.5rem;
}
.tw-mr-24 {
  margin-right: 6rem;
}
.tw-mr-4 {
  margin-right: 1rem;
}
.tw-ms-1 {
  margin-inline-start: 0.25rem;
}
.tw-ms-2 {
  margin-inline-start: 0.5rem;
}
.tw-ms-5 {
  margin-inline-start: 1.25rem;
}
.tw-ms-auto {
  margin-inline-start: auto;
}
.tw-mt-1 {
  margin-top: 0.25rem;
}
.tw-mt-2 {
  margin-top: 0.5rem;
}
.tw-mt-24 {
  margin-top: 6rem;
}
.tw-mt-3 {
  margin-top: 0.75rem;
}
.tw-mt-4 {
  margin-top: 1rem;
}
.tw-mt-6 {
  margin-top: 1.5rem;
}
.tw-mt-auto {
  margin-top: auto;
}
.tw-box-border {
  box-sizing: border-box;
}
.tw-line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}
.tw-block {
  display: block;
}
.tw-inline-block {
  display: inline-block;
}
.tw-flex {
  display: flex;
}
.tw-inline-flex {
  display: inline-flex;
}
.tw-table {
  display: table;
}
.tw-table-cell {
  display: table-cell;
}
.tw-table-row {
  display: table-row;
}
.tw-grid {
  display: grid;
}
.tw-inline-grid {
  display: inline-grid;
}
.tw-hidden {
  display: none;
}
.tw-aspect-square {
  aspect-ratio: 1 / 1;
}
.tw-size-4 {
  width: 1rem;
  height: 1rem;
}
.tw-h-10 {
  height: 2.5rem;
}
.tw-h-11 {
  height: 2.75rem;
}
.tw-h-12 {
  height: 3rem;
}
.tw-h-14 {
  height: 3.5rem;
}
.tw-h-2 {
  height: 0.5rem;
}
.tw-h-2\\.5 {
  height: 0.625rem;
}
.tw-h-20 {
  height: 5rem;
}
.tw-h-24 {
  height: 6rem;
}
.tw-h-3 {
  height: 0.75rem;
}
.tw-h-3\\.5 {
  height: 0.875rem;
}
.tw-h-32 {
  height: 8rem;
}
.tw-h-4 {
  height: 1rem;
}
.tw-h-40 {
  height: 10rem;
}
.tw-h-5 {
  height: 1.25rem;
}
.tw-h-6 {
  height: 1.5rem;
}
.tw-h-64 {
  height: 16rem;
}
.tw-h-7 {
  height: 1.75rem;
}
.tw-h-8 {
  height: 2rem;
}
.tw-h-9 {
  height: 2.25rem;
}
.tw-h-96 {
  height: 24rem;
}
.tw-h-\\[1\\.2rem\\] {
  height: 1.2rem;
}
.tw-h-\\[100px\\] {
  height: 100px;
}
.tw-h-\\[1px\\] {
  height: 1px;
}
.tw-h-\\[300px\\] {
  height: 300px;
}
.tw-h-\\[5px\\] {
  height: 5px;
}
.tw-h-\\[var\\(--radix-select-trigger-height\\)\\] {
  height: var(--radix-select-trigger-height);
}
.tw-h-auto {
  height: auto;
}
.tw-h-full {
  height: 100%;
}
.tw-h-px {
  height: 1px;
}
.tw-h-svh {
  height: 100svh;
}
.tw-max-h-10 {
  max-height: 2.5rem;
}
.tw-max-h-5 {
  max-height: 1.25rem;
}
.tw-max-h-80 {
  max-height: 20rem;
}
.tw-max-h-96 {
  max-height: 24rem;
}
.tw-max-h-\\[--radix-context-menu-content-available-height\\] {
  max-height: var(--radix-context-menu-content-available-height);
}
.tw-max-h-\\[300px\\] {
  max-height: 300px;
}
.tw-max-h-\\[96\\%\\] {
  max-height: 96%;
}
.tw-min-h-0 {
  min-height: 0px;
}
.tw-min-h-\\[80px\\] {
  min-height: 80px;
}
.tw-min-h-svh {
  min-height: 100svh;
}
.tw-w-1\\/2 {
  width: 50%;
}
.tw-w-10 {
  width: 2.5rem;
}
.tw-w-11 {
  width: 2.75rem;
}
.tw-w-12 {
  width: 3rem;
}
.tw-w-2 {
  width: 0.5rem;
}
.tw-w-2\\.5 {
  width: 0.625rem;
}
.tw-w-20 {
  width: 5rem;
}
.tw-w-24 {
  width: 6rem;
}
.tw-w-3 {
  width: 0.75rem;
}
.tw-w-3\\.5 {
  width: 0.875rem;
}
.tw-w-3\\/4 {
  width: 75%;
}
.tw-w-32 {
  width: 8rem;
}
.tw-w-4 {
  width: 1rem;
}
.tw-w-4\\/5 {
  width: 80%;
}
.tw-w-4\\/6 {
  width: 66.666667%;
}
.tw-w-48 {
  width: 12rem;
}
.tw-w-5 {
  width: 1.25rem;
}
.tw-w-5\\/6 {
  width: 83.333333%;
}
.tw-w-56 {
  width: 14rem;
}
.tw-w-6 {
  width: 1.5rem;
}
.tw-w-60 {
  width: 15rem;
}
.tw-w-64 {
  width: 16rem;
}
.tw-w-7 {
  width: 1.75rem;
}
.tw-w-72 {
  width: 18rem;
}
.tw-w-8 {
  width: 2rem;
}
.tw-w-80 {
  width: 20rem;
}
.tw-w-9\\/12 {
  width: 75%;
}
.tw-w-96 {
  width: 24rem;
}
.tw-w-\\[--sidebar-width\\] {
  width: var(--sidebar-width);
}
.tw-w-\\[1\\.2rem\\] {
  width: 1.2rem;
}
.tw-w-\\[100px\\] {
  width: 100px;
}
.tw-w-\\[116px\\] {
  width: 116px;
}
.tw-w-\\[124px\\] {
  width: 124px;
}
.tw-w-\\[150px\\] {
  width: 150px;
}
.tw-w-\\[180px\\] {
  width: 180px;
}
.tw-w-\\[1px\\] {
  width: 1px;
}
.tw-w-\\[200px\\] {
  width: 200px;
}
.tw-w-\\[250px\\] {
  width: 250px;
}
.tw-w-\\[280px\\] {
  width: 280px;
}
.tw-w-\\[300px\\] {
  width: 300px;
}
.tw-w-\\[350px\\] {
  width: 350px;
}
.tw-w-\\[400px\\] {
  width: 400px;
}
.tw-w-\\[500px\\] {
  width: 500px;
}
.tw-w-\\[5px\\] {
  width: 5px;
}
.tw-w-\\[600px\\] {
  width: 600px;
}
.tw-w-\\[70px\\] {
  width: 70px;
}
.tw-w-auto {
  width: auto;
}
.tw-w-fit {
  width: fit-content;
}
.tw-w-full {
  width: 100%;
}
.tw-w-px {
  width: 1px;
}
.tw-min-w-0 {
  min-width: 0px;
}
.tw-min-w-16 {
  min-width: 4rem;
}
.tw-min-w-36 {
  min-width: 9rem;
}
.tw-min-w-5 {
  min-width: 1.25rem;
}
.tw-min-w-80 {
  min-width: 20rem;
}
.tw-min-w-\\[12rem\\] {
  min-width: 12rem;
}
.tw-min-w-\\[140px\\] {
  min-width: 140px;
}
.tw-min-w-\\[215px\\] {
  min-width: 215px;
}
.tw-min-w-\\[8rem\\] {
  min-width: 8rem;
}
.tw-min-w-\\[var\\(--radix-select-trigger-width\\)\\] {
  min-width: var(--radix-select-trigger-width);
}
.tw-min-w-full {
  min-width: 100%;
}
.tw-max-w-2xl {
  max-width: 42rem;
}
.tw-max-w-3xl {
  max-width: 48rem;
}
.tw-max-w-48 {
  max-width: 12rem;
}
.tw-max-w-4xl {
  max-width: 56rem;
}
.tw-max-w-5 {
  max-width: 1.25rem;
}
.tw-max-w-64 {
  max-width: 16rem;
}
.tw-max-w-6xl {
  max-width: 72rem;
}
.tw-max-w-96 {
  max-width: 24rem;
}
.tw-max-w-\\[--skeleton-width\\] {
  max-width: var(--skeleton-width);
}
.tw-max-w-\\[220px\\] {
  max-width: 220px;
}
.tw-max-w-full {
  max-width: 100%;
}
.tw-max-w-lg {
  max-width: 32rem;
}
.tw-max-w-md {
  max-width: 28rem;
}
.tw-max-w-none {
  max-width: none;
}
.tw-max-w-screen-md {
  max-width: 768px;
}
.tw-max-w-sm {
  max-width: 24rem;
}
.tw-flex-1 {
  flex: 1 1 0%;
}
.tw-flex-shrink-0 {
  flex-shrink: 0;
}
.tw-shrink {
  flex-shrink: 1;
}
.tw-shrink-0 {
  flex-shrink: 0;
}
.tw-flex-grow {
  flex-grow: 1;
}
.tw-grow {
  flex-grow: 1;
}
.tw-grow-\\[2\\] {
  flex-grow: 2;
}
.tw-basis-0 {
  flex-basis: 0px;
}
.tw-caption-bottom {
  caption-side: bottom;
}
.tw-origin-\\[--radix-context-menu-content-transform-origin\\] {
  transform-origin: var(--radix-context-menu-content-transform-origin);
}
.tw--translate-x-1\\/2 {
  --tw-translate-x: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw--translate-x-px {
  --tw-translate-x: -1px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw--translate-y-1\\/2 {
  --tw-translate-y: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-translate-x-0 {
  --tw-translate-x: 0px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-translate-x-\\[-50\\%\\] {
  --tw-translate-x: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-translate-x-px {
  --tw-translate-x: 1px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-translate-y-\\[-50\\%\\] {
  --tw-translate-y: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-transform {
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
@keyframes tw-pulse {

  50% {
    opacity: .5;
  }
}
.tw-animate-pulse {
  animation: tw-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}
@keyframes tw-spin {

  to {
    transform: rotate(360deg);
  }
}
.tw-animate-spin {
  animation: tw-spin 1s linear infinite;
}
.tw-cursor-default {
  cursor: default;
}
.tw-cursor-pointer {
  cursor: pointer;
}
.tw-touch-none {
  touch-action: none;
}
.tw-select-none {
  user-select: none;
}
.tw-list-inside {
  list-style-position: inside;
}
.tw-list-disc {
  list-style-type: disc;
}
.tw-grid-cols-1 {
  grid-template-columns: repeat(1, minmax(0, 1fr));
}
.tw-grid-cols-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
.tw-grid-cols-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
.tw-grid-cols-4 {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}
.tw-grid-cols-6 {
  grid-template-columns: repeat(6, minmax(0, 1fr));
}
.tw-grid-cols-\\[25\\%\\,25\\%\\,50\\%\\] {
  grid-template-columns: 25% 25% 50%;
}
.tw-grid-cols-\\[25\\%\\,50\\%\\,25\\%\\] {
  grid-template-columns: 25% 50% 25%;
}
.tw-flex-row {
  flex-direction: row;
}
.tw-flex-row-reverse {
  flex-direction: row-reverse;
}
.tw-flex-col {
  flex-direction: column;
}
.tw-flex-col-reverse {
  flex-direction: column-reverse;
}
.tw-flex-wrap {
  flex-wrap: wrap;
}
.tw-content-center {
  align-content: center;
}
.tw-items-start {
  align-items: flex-start;
}
.tw-items-end {
  align-items: flex-end;
}
.tw-items-center {
  align-items: center;
}
.tw-items-baseline {
  align-items: baseline;
}
.tw-items-stretch {
  align-items: stretch;
}
.tw-justify-start {
  justify-content: flex-start;
}
.tw-justify-end {
  justify-content: flex-end;
}
.tw-justify-center {
  justify-content: center;
}
.tw-justify-between {
  justify-content: space-between;
}
.tw-gap-0\\.5 {
  gap: 0.125rem;
}
.tw-gap-1 {
  gap: 0.25rem;
}
.tw-gap-1\\.5 {
  gap: 0.375rem;
}
.tw-gap-2 {
  gap: 0.5rem;
}
.tw-gap-2\\.5 {
  gap: 0.625rem;
}
.tw-gap-3 {
  gap: 0.75rem;
}
.tw-gap-4 {
  gap: 1rem;
}
.tw-gap-5 {
  gap: 1.25rem;
}
.tw-gap-6 {
  gap: 1.5rem;
}
.tw-gap-\\[12px\\] {
  gap: 12px;
}
.tw-gap-x-2 {
  column-gap: 0.5rem;
}
.tw-gap-x-4 {
  column-gap: 1rem;
}
.tw-space-x-1 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 0;
  margin-right: calc(0.25rem * var(--tw-space-x-reverse));
  margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));
}
.tw-space-x-2 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 0;
  margin-right: calc(0.5rem * var(--tw-space-x-reverse));
  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));
}
.tw-space-x-3 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 0;
  margin-right: calc(0.75rem * var(--tw-space-x-reverse));
  margin-left: calc(0.75rem * calc(1 - var(--tw-space-x-reverse)));
}
.tw-space-x-4 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 0;
  margin-right: calc(1rem * var(--tw-space-x-reverse));
  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));
}
.tw-space-x-6 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 0;
  margin-right: calc(1.5rem * var(--tw-space-x-reverse));
  margin-left: calc(1.5rem * calc(1 - var(--tw-space-x-reverse)));
}
.tw-space-y-1 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));
}
.tw-space-y-1\\.5 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(0.375rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(0.375rem * var(--tw-space-y-reverse));
}
.tw-space-y-2 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));
}
.tw-space-y-3 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));
}
.tw-space-y-4 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(1rem * var(--tw-space-y-reverse));
}
.tw-space-y-6 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));
}
.tw-space-y-8 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-y-reverse: 0;
  margin-top: calc(2rem * calc(1 - var(--tw-space-y-reverse)));
  margin-bottom: calc(2rem * var(--tw-space-y-reverse));
}
.tw-divide-x > :not([hidden]) ~ :not([hidden]) {
  --tw-divide-x-reverse: 0;
  border-right-width: calc(1px * var(--tw-divide-x-reverse));
  border-left-width: calc(1px * calc(1 - var(--tw-divide-x-reverse)));
}
.tw-divide-y > :not([hidden]) ~ :not([hidden]) {
  --tw-divide-y-reverse: 0;
  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));
  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));
}
.tw-self-stretch {
  align-self: stretch;
}
.tw-overflow-auto {
  overflow: auto;
}
.tw-overflow-hidden {
  overflow: hidden;
}
.tw-overflow-clip {
  overflow: clip;
}
.tw-overflow-visible {
  overflow: visible;
}
.tw-overflow-y-auto {
  overflow-y: auto;
}
.tw-overflow-x-hidden {
  overflow-x: hidden;
}
.tw-overflow-y-hidden {
  overflow-y: hidden;
}
.tw-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.tw-text-ellipsis {
  text-overflow: ellipsis;
}
.tw-text-clip {
  text-overflow: clip;
}
.tw-whitespace-normal {
  white-space: normal;
}
.tw-whitespace-nowrap {
  white-space: nowrap;
}
.tw-text-nowrap {
  text-wrap: nowrap;
}
.tw-text-balance {
  text-wrap: balance;
}
.tw-break-words {
  overflow-wrap: break-word;
}
.tw-rounded {
  border-radius: 0.25rem;
}
.tw-rounded-\\[6px\\] {
  border-radius: 6px;
}
.tw-rounded-full {
  border-radius: 9999px;
}
.tw-rounded-lg {
  border-radius: var(--radius);
}
.tw-rounded-md {
  border-radius: calc(var(--radius) - 2px);
}
.tw-rounded-none {
  border-radius: 0px;
}
.tw-rounded-sm {
  border-radius: calc(var(--radius) - 4px);
}
.tw-rounded-xl {
  border-radius: 0.75rem;
}
.tw-rounded-b-\\[10px\\] {
  border-bottom-right-radius: 10px;
  border-bottom-left-radius: 10px;
}
.tw-rounded-l-\\[10px\\] {
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}
.tw-rounded-r-\\[10px\\] {
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}
.tw-rounded-r-xl {
  border-top-right-radius: 0.75rem;
  border-bottom-right-radius: 0.75rem;
}
.tw-rounded-t-\\[10px\\] {
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}
.tw-border {
  border-width: 1px;
}
.tw-border-0 {
  border-width: 0px;
}
.tw-border-2 {
  border-width: 2px;
}
.tw-border-b {
  border-bottom-width: 1px;
}
.tw-border-b-0 {
  border-bottom-width: 0px;
}
.tw-border-e {
  border-inline-end-width: 1px;
}
.tw-border-e-0 {
  border-inline-end-width: 0px;
}
.tw-border-l {
  border-left-width: 1px;
}
.tw-border-l-4 {
  border-left-width: 4px;
}
.tw-border-s-2 {
  border-inline-start-width: 2px;
}
.tw-border-t {
  border-top-width: 1px;
}
.tw-border-t-0 {
  border-top-width: 0px;
}
.tw-border-solid {
  border-style: solid;
}
.tw-border-dashed {
  border-style: dashed;
}
.tw-border-none {
  border-style: none;
}
.tw-border-black {
  --tw-border-opacity: 1;
  border-color: rgb(0 0 0 / var(--tw-border-opacity, 1));
}
.tw-border-blue-400 {
  --tw-border-opacity: 1;
  border-color: rgb(96 165 250 / var(--tw-border-opacity, 1));
}
.tw-border-blue-500 {
  --tw-border-opacity: 1;
  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));
}
.tw-border-destructive\\/50 {
  border-color: hsl(var(--destructive) / 0.5);
}
.tw-border-gray-300 {
  --tw-border-opacity: 1;
  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));
}
.tw-border-input {
  border-color: hsl(var(--input));
}
.tw-border-primary {
  border-color: hsl(var(--primary));
}
.tw-border-red-300 {
  --tw-border-opacity: 1;
  border-color: rgb(252 165 165 / var(--tw-border-opacity, 1));
}
.tw-border-red-400 {
  --tw-border-opacity: 1;
  border-color: rgb(248 113 113 / var(--tw-border-opacity, 1));
}
.tw-border-red-500 {
  --tw-border-opacity: 1;
  border-color: rgb(239 68 68 / var(--tw-border-opacity, 1));
}
.tw-border-red-600 {
  --tw-border-opacity: 1;
  border-color: rgb(220 38 38 / var(--tw-border-opacity, 1));
}
.tw-border-ring {
  border-color: hsl(var(--ring));
}
.tw-border-sidebar-border {
  border-color: hsl(var(--sidebar-border));
}
.tw-border-slate-300 {
  --tw-border-opacity: 1;
  border-color: rgb(203 213 225 / var(--tw-border-opacity, 1));
}
.tw-border-transparent {
  border-color: transparent;
}
.tw-border-yellow-400 {
  --tw-border-opacity: 1;
  border-color: rgb(250 204 21 / var(--tw-border-opacity, 1));
}
.tw-border-yellow-500 {
  --tw-border-opacity: 1;
  border-color: rgb(234 179 8 / var(--tw-border-opacity, 1));
}
.tw-border-s-amber-200 {
  --tw-border-opacity: 1;
  border-inline-start-color: rgb(253 230 138 / var(--tw-border-opacity, 1));
}
.tw-border-s-indigo-200 {
  --tw-border-opacity: 1;
  border-inline-start-color: rgb(199 210 254 / var(--tw-border-opacity, 1));
}
.tw-border-s-purple-200 {
  --tw-border-opacity: 1;
  border-inline-start-color: rgb(233 213 255 / var(--tw-border-opacity, 1));
}
.tw-border-s-red-200 {
  --tw-border-opacity: 1;
  border-inline-start-color: rgb(254 202 202 / var(--tw-border-opacity, 1));
}
.tw-bg-accent {
  background-color: hsl(var(--accent));
}
.tw-bg-background {
  background-color: hsl(var(--background));
}
.tw-bg-black\\/80 {
  background-color: rgb(0 0 0 / 0.8);
}
.tw-bg-blue-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));
}
.tw-bg-blue-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(96 165 250 / var(--tw-bg-opacity, 1));
}
.tw-bg-blue-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));
}
.tw-bg-blue-500 {
  --tw-bg-opacity: 1;
  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));
}
.tw-bg-border {
  background-color: hsl(var(--border));
}
.tw-bg-card {
  background-color: hsl(var(--card));
}
.tw-bg-destructive {
  background-color: hsl(var(--destructive));
}
.tw-bg-gray-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));
}
.tw-bg-gray-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));
}
.tw-bg-gray-500 {
  --tw-bg-opacity: 1;
  background-color: rgb(107 114 128 / var(--tw-bg-opacity, 1));
}
.tw-bg-green-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1));
}
.tw-bg-green-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1));
}
.tw-bg-green-500 {
  --tw-bg-opacity: 1;
  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));
}
.tw-bg-input {
  background-color: hsl(var(--input));
}
.tw-bg-muted {
  background-color: hsl(var(--muted));
}
.tw-bg-muted\\/50 {
  background-color: hsl(var(--muted) / 0.5);
}
.tw-bg-neutral-300 {
  --tw-bg-opacity: 1;
  background-color: rgb(212 212 212 / var(--tw-bg-opacity, 1));
}
.tw-bg-orange-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(255 237 213 / var(--tw-bg-opacity, 1));
}
.tw-bg-popover {
  background-color: hsl(var(--popover));
}
.tw-bg-primary {
  background-color: hsl(var(--primary));
}
.tw-bg-purple-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(250 245 255 / var(--tw-bg-opacity, 1));
}
.tw-bg-red-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));
}
.tw-bg-red-500 {
  --tw-bg-opacity: 1;
  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));
}
.tw-bg-secondary {
  background-color: hsl(var(--secondary));
}
.tw-bg-sidebar {
  background-color: hsl(var(--sidebar-background));
}
.tw-bg-sidebar-accent {
  background-color: hsl(var(--sidebar-accent));
}
.tw-bg-sidebar-border {
  background-color: hsl(var(--sidebar-border));
}
.tw-bg-slate-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(248 250 252 / var(--tw-bg-opacity, 1));
}
.tw-bg-transparent {
  background-color: transparent;
}
.tw-bg-white {
  --tw-bg-opacity: 1;
  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));
}
.tw-bg-yellow-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(254 249 195 / var(--tw-bg-opacity, 1));
}
.tw-bg-yellow-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(254 252 232 / var(--tw-bg-opacity, 1));
}
.tw-bg-yellow-500 {
  --tw-bg-opacity: 1;
  background-color: rgb(234 179 8 / var(--tw-bg-opacity, 1));
}
.tw-bg-zinc-400 {
  --tw-bg-opacity: 1;
  background-color: rgb(161 161 170 / var(--tw-bg-opacity, 1));
}
.tw-fill-current {
  fill: currentColor;
}
.tw-fill-destructive {
  fill: hsl(var(--destructive));
}
.tw-fill-yellow-400 {
  fill: #facc15;
}
.tw-fill-yellow-400\\/50 {
  fill: rgb(250 204 21 / 0.5);
}
.tw-p-0 {
  padding: 0px;
}
.tw-p-0\\.5 {
  padding: 0.125rem;
}
.tw-p-1 {
  padding: 0.25rem;
}
.tw-p-2 {
  padding: 0.5rem;
}
.tw-p-3 {
  padding: 0.75rem;
}
.tw-p-4 {
  padding: 1rem;
}
.tw-p-6 {
  padding: 1.5rem;
}
.tw-p-8 {
  padding: 2rem;
}
.tw-p-\\[10px\\] {
  padding: 10px;
}
.tw-p-\\[1px\\] {
  padding: 1px;
}
.tw-px-0 {
  padding-left: 0px;
  padding-right: 0px;
}
.tw-px-1 {
  padding-left: 0.25rem;
  padding-right: 0.25rem;
}
.tw-px-2 {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}
.tw-px-2\\.5 {
  padding-left: 0.625rem;
  padding-right: 0.625rem;
}
.tw-px-3 {
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}
.tw-px-4 {
  padding-left: 1rem;
  padding-right: 1rem;
}
.tw-px-5 {
  padding-left: 1.25rem;
  padding-right: 1.25rem;
}
.tw-px-8 {
  padding-left: 2rem;
  padding-right: 2rem;
}
.tw-py-0 {
  padding-top: 0px;
  padding-bottom: 0px;
}
.tw-py-0\\.5 {
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
}
.tw-py-1 {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}
.tw-py-1\\.5 {
  padding-top: 0.375rem;
  padding-bottom: 0.375rem;
}
.tw-py-2 {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}
.tw-py-3 {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}
.tw-py-4 {
  padding-top: 1rem;
  padding-bottom: 1rem;
}
.tw-py-6 {
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
}
.tw-py-8 {
  padding-top: 2rem;
  padding-bottom: 2rem;
}
.\\!tw-pr-10 {
  padding-right: 2.5rem !important;
}
.tw-pb-0 {
  padding-bottom: 0px;
}
.tw-pb-2 {
  padding-bottom: 0.5rem;
}
.tw-pb-3 {
  padding-bottom: 0.75rem;
}
.tw-pb-4 {
  padding-bottom: 1rem;
}
.tw-pe-1 {
  padding-inline-end: 0.25rem;
}
.tw-pe-2 {
  padding-inline-end: 0.5rem;
}
.tw-pe-9 {
  padding-inline-end: 2.25rem;
}
.tw-pe-\\[calc\\(138px\\+1rem\\)\\] {
  padding-inline-end: calc(138px + 1rem);
}
.tw-pl-2 {
  padding-left: 0.5rem;
}
.tw-pl-3 {
  padding-left: 0.75rem;
}
.tw-pl-4 {
  padding-left: 1rem;
}
.tw-pl-5 {
  padding-left: 1.25rem;
}
.tw-pl-8 {
  padding-left: 2rem;
}
.tw-pr-0 {
  padding-right: 0px;
}
.tw-pr-0\\.5 {
  padding-right: 0.125rem;
}
.tw-pr-2 {
  padding-right: 0.5rem;
}
.tw-pr-3 {
  padding-right: 0.75rem;
}
.tw-pr-4 {
  padding-right: 1rem;
}
.tw-ps-12 {
  padding-inline-start: 3rem;
}
.tw-ps-4 {
  padding-inline-start: 1rem;
}
.tw-ps-8 {
  padding-inline-start: 2rem;
}
.tw-ps-9 {
  padding-inline-start: 2.25rem;
}
.tw-ps-\\[85px\\] {
  padding-inline-start: 85px;
}
.tw-pt-0 {
  padding-top: 0px;
}
.tw-pt-1 {
  padding-top: 0.25rem;
}
.tw-pt-2 {
  padding-top: 0.5rem;
}
.tw-pt-3 {
  padding-top: 0.75rem;
}
.tw-pt-6 {
  padding-top: 1.5rem;
}
.tw-text-left {
  text-align: left;
}
.tw-text-center {
  text-align: center;
}
.tw-text-right {
  text-align: right;
}
.tw-text-start {
  text-align: start;
}
.tw-text-end {
  text-align: end;
}
.tw-align-middle {
  vertical-align: middle;
}
.tw-text-2xl {
  font-size: 1.5rem;
  line-height: 2rem;
}
.tw-text-base {
  font-size: 1rem;
  line-height: 1.5rem;
}
.tw-text-lg {
  font-size: 1.125rem;
  line-height: 1.75rem;
}
.tw-text-sm {
  font-size: 0.875rem;
  line-height: 1.25rem;
}
.tw-text-xl {
  font-size: 1.25rem;
  line-height: 1.75rem;
}
.tw-text-xs {
  font-size: 0.75rem;
  line-height: 1rem;
}
.tw-font-bold {
  font-weight: 700;
}
.tw-font-medium {
  font-weight: 500;
}
.tw-font-normal {
  font-weight: 400;
}
.tw-font-semibold {
  font-weight: 600;
}
.tw-capitalize {
  text-transform: capitalize;
}
.tw-italic {
  font-style: italic;
}
.tw-tabular-nums {
  --tw-numeric-spacing: tabular-nums;
  font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);
}
.tw-leading-loose {
  line-height: 2;
}
.tw-leading-none {
  line-height: 1;
}
.tw-leading-relaxed {
  line-height: 1.625;
}
.tw-leading-tight {
  line-height: 1.25;
}
.tw-tracking-tight {
  letter-spacing: -0.025em;
}
.tw-tracking-widest {
  letter-spacing: 0.1em;
}
.tw-text-blue-400 {
  --tw-text-opacity: 1;
  color: rgb(96 165 250 / var(--tw-text-opacity, 1));
}
.tw-text-blue-500 {
  --tw-text-opacity: 1;
  color: rgb(59 130 246 / var(--tw-text-opacity, 1));
}
.tw-text-blue-600 {
  --tw-text-opacity: 1;
  color: rgb(37 99 235 / var(--tw-text-opacity, 1));
}
.tw-text-blue-800 {
  --tw-text-opacity: 1;
  color: rgb(30 64 175 / var(--tw-text-opacity, 1));
}
.tw-text-card-foreground {
  color: hsl(var(--card-foreground));
}
.tw-text-current {
  color: currentColor;
}
.tw-text-destructive {
  color: hsl(var(--destructive));
}
.tw-text-destructive-foreground {
  color: hsl(var(--destructive-foreground));
}
.tw-text-foreground {
  color: hsl(var(--foreground));
}
.tw-text-gray-300 {
  --tw-text-opacity: 1;
  color: rgb(209 213 219 / var(--tw-text-opacity, 1));
}
.tw-text-gray-500 {
  --tw-text-opacity: 1;
  color: rgb(107 114 128 / var(--tw-text-opacity, 1));
}
.tw-text-gray-600 {
  --tw-text-opacity: 1;
  color: rgb(75 85 99 / var(--tw-text-opacity, 1));
}
.tw-text-gray-700 {
  --tw-text-opacity: 1;
  color: rgb(55 65 81 / var(--tw-text-opacity, 1));
}
.tw-text-gray-800 {
  --tw-text-opacity: 1;
  color: rgb(31 41 55 / var(--tw-text-opacity, 1));
}
.tw-text-green-600 {
  --tw-text-opacity: 1;
  color: rgb(22 163 74 / var(--tw-text-opacity, 1));
}
.tw-text-green-700 {
  --tw-text-opacity: 1;
  color: rgb(21 128 61 / var(--tw-text-opacity, 1));
}
.tw-text-green-800 {
  --tw-text-opacity: 1;
  color: rgb(22 101 52 / var(--tw-text-opacity, 1));
}
.tw-text-inherit {
  color: inherit;
}
.tw-text-muted-foreground {
  color: hsl(var(--muted-foreground));
}
.tw-text-muted-foreground\\/50 {
  color: hsl(var(--muted-foreground) / 0.5);
}
.tw-text-orange-800 {
  --tw-text-opacity: 1;
  color: rgb(154 52 18 / var(--tw-text-opacity, 1));
}
.tw-text-popover-foreground {
  color: hsl(var(--popover-foreground));
}
.tw-text-primary {
  color: hsl(var(--primary));
}
.tw-text-primary-foreground {
  color: hsl(var(--primary-foreground));
}
.tw-text-red-500 {
  --tw-text-opacity: 1;
  color: rgb(239 68 68 / var(--tw-text-opacity, 1));
}
.tw-text-red-600 {
  --tw-text-opacity: 1;
  color: rgb(220 38 38 / var(--tw-text-opacity, 1));
}
.tw-text-red-700 {
  --tw-text-opacity: 1;
  color: rgb(185 28 28 / var(--tw-text-opacity, 1));
}
.tw-text-red-800 {
  --tw-text-opacity: 1;
  color: rgb(153 27 27 / var(--tw-text-opacity, 1));
}
.tw-text-secondary-foreground {
  color: hsl(var(--secondary-foreground));
}
.tw-text-sidebar-accent-foreground {
  color: hsl(var(--sidebar-accent-foreground));
}
.tw-text-sidebar-foreground {
  color: hsl(var(--sidebar-foreground));
}
.tw-text-sidebar-foreground\\/70 {
  color: hsl(var(--sidebar-foreground) / 0.7);
}
.tw-text-slate-900 {
  --tw-text-opacity: 1;
  color: rgb(15 23 42 / var(--tw-text-opacity, 1));
}
.tw-text-white {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity, 1));
}
.tw-text-yellow-400 {
  --tw-text-opacity: 1;
  color: rgb(250 204 21 / var(--tw-text-opacity, 1));
}
.tw-text-yellow-600 {
  --tw-text-opacity: 1;
  color: rgb(202 138 4 / var(--tw-text-opacity, 1));
}
.tw-text-yellow-700 {
  --tw-text-opacity: 1;
  color: rgb(161 98 7 / var(--tw-text-opacity, 1));
}
.tw-underline {
  text-decoration-line: underline;
}
.tw-decoration-destructive {
  text-decoration-color: hsl(var(--destructive));
}
.tw-underline-offset-4 {
  text-underline-offset: 4px;
}
.tw-opacity-0 {
  opacity: 0;
}
.tw-opacity-100 {
  opacity: 1;
}
.tw-opacity-50 {
  opacity: 0.5;
}
.tw-opacity-60 {
  opacity: 0.6;
}
.tw-opacity-70 {
  opacity: 0.7;
}
.tw-shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-border\\)\\)\\] {
  --tw-shadow: 0 0 0 1px hsl(var(--sidebar-border));
  --tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-shadow-lg {
  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-shadow-md {
  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-shadow-none {
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-shadow-sm {
  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-outline-none {
  outline: 2px solid transparent;
  outline-offset: 2px;
}
.tw-ring-0 {
  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}
.tw-ring-sidebar-ring {
  --tw-ring-color: hsl(var(--sidebar-ring));
}
.tw-ring-offset-background {
  --tw-ring-offset-color: hsl(var(--background));
}
.tw-drop-shadow-sm {
  --tw-drop-shadow: drop-shadow(0 1px 1px rgb(0 0 0 / 0.05));
  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);
}
.tw-transition {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-\\[left\\,right\\,width\\] {
  transition-property: left,right,width;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-\\[margin\\,opa\\] {
  transition-property: margin,opa;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-\\[width\\,height\\,padding\\] {
  transition-property: width,height,padding;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-\\[width\\] {
  transition-property: width;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-all {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-colors {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-opacity {
  transition-property: opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-transition-transform {
  transition-property: transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
.tw-duration-200 {
  transition-duration: 200ms;
}
.tw-ease-linear {
  transition-timing-function: linear;
}
@keyframes enter {

  from {
    opacity: var(--tw-enter-opacity, 1);
    transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0));
  }
}
@keyframes exit {

  to {
    opacity: var(--tw-exit-opacity, 1);
    transform: translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0));
  }
}
.tw-animate-in {
  animation-name: enter;
  animation-duration: 150ms;
  --tw-enter-opacity: initial;
  --tw-enter-scale: initial;
  --tw-enter-rotate: initial;
  --tw-enter-translate-x: initial;
  --tw-enter-translate-y: initial;
}
.tw-fade-in-0 {
  --tw-enter-opacity: 0;
}
.tw-fade-in-80 {
  --tw-enter-opacity: 0.8;
}
.tw-zoom-in-95 {
  --tw-enter-scale: .95;
}
.tw-duration-200 {
  animation-duration: 200ms;
}
.tw-ease-linear {
  animation-timing-function: linear;
}
.tw-\\@container\\/tab-toolbar-center {
  container-type: inline-size;
  container-name: tab-toolbar-center;
}
.tw-\\@container\\/tab-toolbar-end {
  container-type: inline-size;
  container-name: tab-toolbar-end;
}
.tw-\\@container\\/tab-toolbar-start {
  container-type: inline-size;
  container-name: tab-toolbar-start;
}
.tw-\\@container\\/toolbar {
  container-type: inline-size;
  container-name: toolbar;
}

/*
 * WARNING: These themes are also represented in paranext-core/src/shared/data/themes.data.json!
 * Please update in both locations
*/
/* #region shared with https://github.com/paranext/paranext-extension-template/blob/main/src/tailwind.css */
/* #endregion */

/* Note that the following region is from shadcn/ui's styles
 * https://ui.shadcn.com/docs/installation/manual#configure-styles but is scoped down to .pr-twp
 * because this is just a component library and should not apply its styles to the entire page.
 *
 * There is now a section in this library's README.md that explains how to apply these styles to the
 * entire page if desired.
 *
 * The template has the original shadcn/ui styles because it intentionally applies the styles to the
 * entire page. The same is true for Platform.Bible - see \`app.component.scss\`
 */
/* #region shared with https://github.com/paranext/paranext-extension-template/blob/main/src/tailwind.css but with the difference of being scoped to .pr-twp here */
.file\\:tw-border-0::file-selector-button {
  border-width: 0px;
}
.file\\:tw-bg-transparent::file-selector-button {
  background-color: transparent;
}
.file\\:tw-text-sm::file-selector-button {
  font-size: 0.875rem;
  line-height: 1.25rem;
}
.file\\:tw-font-medium::file-selector-button {
  font-weight: 500;
}
.file\\:tw-text-foreground::file-selector-button {
  color: hsl(var(--foreground));
}
.placeholder\\:tw-text-muted-foreground::placeholder {
  color: hsl(var(--muted-foreground));
}
.after\\:tw-absolute::after {
  content: var(--tw-content);
  position: absolute;
}
.after\\:tw--inset-2::after {
  content: var(--tw-content);
  inset: -0.5rem;
}
.after\\:tw-inset-y-0::after {
  content: var(--tw-content);
  top: 0px;
  bottom: 0px;
}
.after\\:tw-left-1\\/2::after {
  content: var(--tw-content);
  left: 50%;
}
.after\\:tw-w-1::after {
  content: var(--tw-content);
  width: 0.25rem;
}
.after\\:tw-w-\\[2px\\]::after {
  content: var(--tw-content);
  width: 2px;
}
.after\\:tw--translate-x-1\\/2::after {
  content: var(--tw-content);
  --tw-translate-x: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.hover\\:tw-bg-accent:hover {
  background-color: hsl(var(--accent));
}
.hover\\:tw-bg-blue-600:hover {
  --tw-bg-opacity: 1;
  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));
}
.hover\\:tw-bg-destructive\\/80:hover {
  background-color: hsl(var(--destructive) / 0.8);
}
.hover\\:tw-bg-destructive\\/90:hover {
  background-color: hsl(var(--destructive) / 0.9);
}
.hover\\:tw-bg-input:hover {
  background-color: hsl(var(--input));
}
.hover\\:tw-bg-muted:hover {
  background-color: hsl(var(--muted));
}
.hover\\:tw-bg-muted\\/50:hover {
  background-color: hsl(var(--muted) / 0.5);
}
.hover\\:tw-bg-muted\\/80:hover {
  background-color: hsl(var(--muted) / 0.8);
}
.hover\\:tw-bg-primary\\/70:hover {
  background-color: hsl(var(--primary) / 0.7);
}
.hover\\:tw-bg-primary\\/80:hover {
  background-color: hsl(var(--primary) / 0.8);
}
.hover\\:tw-bg-primary\\/90:hover {
  background-color: hsl(var(--primary) / 0.9);
}
.hover\\:tw-bg-secondary:hover {
  background-color: hsl(var(--secondary));
}
.hover\\:tw-bg-secondary\\/80:hover {
  background-color: hsl(var(--secondary) / 0.8);
}
.hover\\:tw-bg-sidebar-accent:hover {
  background-color: hsl(var(--sidebar-accent));
}
.hover\\:tw-bg-transparent:hover {
  background-color: transparent;
}
.hover\\:tw-text-accent-foreground:hover {
  color: hsl(var(--accent-foreground));
}
.hover\\:tw-text-foreground:hover {
  color: hsl(var(--foreground));
}
.hover\\:tw-text-muted-foreground:hover {
  color: hsl(var(--muted-foreground));
}
.hover\\:tw-text-primary-foreground:hover {
  color: hsl(var(--primary-foreground));
}
.hover\\:tw-text-sidebar-accent-foreground:hover {
  color: hsl(var(--sidebar-accent-foreground));
}
.hover\\:tw-underline:hover {
  text-decoration-line: underline;
}
.hover\\:tw-opacity-100:hover {
  opacity: 1;
}
.hover\\:tw-opacity-80:hover {
  opacity: 0.8;
}
.hover\\:tw-shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-accent\\)\\)\\]:hover {
  --tw-shadow: 0 0 0 1px hsl(var(--sidebar-accent));
  --tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.hover\\:tw-shadow-md:hover {
  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.hover\\:after\\:tw-bg-sidebar-border:hover::after {
  content: var(--tw-content);
  background-color: hsl(var(--sidebar-border));
}
.focus\\:tw-relative:focus {
  position: relative;
}
.focus\\:tw-z-10:focus {
  z-index: 10;
}
.focus\\:tw-bg-accent:focus {
  background-color: hsl(var(--accent));
}
.focus\\:tw-bg-muted:focus {
  background-color: hsl(var(--muted));
}
.focus\\:tw-text-accent-foreground:focus {
  color: hsl(var(--accent-foreground));
}
.focus\\:tw-text-foreground:focus {
  color: hsl(var(--foreground));
}
.focus\\:tw-outline-none:focus {
  outline: 2px solid transparent;
  outline-offset: 2px;
}
.focus\\:tw-ring-2:focus {
  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}
.focus\\:tw-ring-ring:focus {
  --tw-ring-color: hsl(var(--ring));
}
.focus\\:tw-ring-offset-1:focus {
  --tw-ring-offset-width: 1px;
}
.focus\\:tw-ring-offset-2:focus {
  --tw-ring-offset-width: 2px;
}
.focus\\:tw-ring-offset-background:focus {
  --tw-ring-offset-color: hsl(var(--background));
}
.focus-visible\\:tw-relative:focus-visible {
  position: relative;
}
.focus-visible\\:tw-z-10:focus-visible {
  z-index: 10;
}
.focus-visible\\:tw-outline-none:focus-visible {
  outline: 2px solid transparent;
  outline-offset: 2px;
}
.focus-visible\\:tw-ring-1:focus-visible {
  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}
.focus-visible\\:tw-ring-2:focus-visible {
  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
}
.focus-visible\\:tw-ring-\\[color\\:hsl\\(2400o2c 5\\%0o2c 64\\.9\\%\\)\\]:focus-visible {
  --tw-ring-opacity: 1;
  --tw-ring-color: hsl(240 5% 64.9% / var(--tw-ring-opacity, 1));
}
.focus-visible\\:tw-ring-ring:focus-visible {
  --tw-ring-color: hsl(var(--ring));
}
.focus-visible\\:tw-ring-sidebar-ring:focus-visible {
  --tw-ring-color: hsl(var(--sidebar-ring));
}
.focus-visible\\:tw-ring-offset-1:focus-visible {
  --tw-ring-offset-width: 1px;
}
.focus-visible\\:tw-ring-offset-2:focus-visible {
  --tw-ring-offset-width: 2px;
}
.focus-visible\\:tw-ring-offset-background:focus-visible {
  --tw-ring-offset-color: hsl(var(--background));
}
.active\\:tw-bg-sidebar-accent:active {
  background-color: hsl(var(--sidebar-accent));
}
.active\\:tw-text-sidebar-accent-foreground:active {
  color: hsl(var(--sidebar-accent-foreground));
}
.disabled\\:tw-pointer-events-none:disabled {
  pointer-events: none;
}
.disabled\\:tw-cursor-not-allowed:disabled {
  cursor: not-allowed;
}
.disabled\\:tw-opacity-50:disabled {
  opacity: 0.5;
}
.tw-peer:disabled ~ .peer-disabled\\:tw-cursor-not-allowed {
  cursor: not-allowed;
}
.tw-peer:disabled ~ .peer-disabled\\:tw-opacity-70 {
  opacity: 0.7;
}
.has-\\[\\[data-variant\\=inset\\]\\]\\:tw-bg-sidebar:has([data-variant=inset]) {
  background-color: hsl(var(--sidebar-background));
}
.aria-disabled\\:tw-pointer-events-none[aria-disabled="true"] {
  pointer-events: none;
}
.aria-disabled\\:tw-opacity-50[aria-disabled="true"] {
  opacity: 0.5;
}
.data-\\[disabled\\=true\\]\\:tw-pointer-events-none[data-disabled="true"] {
  pointer-events: none;
}
.data-\\[disabled\\]\\:tw-pointer-events-none[data-disabled] {
  pointer-events: none;
}
.data-\\[panel-group-direction\\=vertical\\]\\:tw-h-px[data-panel-group-direction="vertical"] {
  height: 1px;
}
.data-\\[panel-group-direction\\=vertical\\]\\:tw-w-full[data-panel-group-direction="vertical"] {
  width: 100%;
}
.data-\\[side\\=bottom\\]\\:tw-translate-y-1[data-side="bottom"] {
  --tw-translate-y: 0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[side\\=left\\]\\:tw--translate-x-1[data-side="left"] {
  --tw-translate-x: -0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[side\\=right\\]\\:tw-translate-x-1[data-side="right"] {
  --tw-translate-x: 0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[side\\=top\\]\\:tw--translate-y-1[data-side="top"] {
  --tw-translate-y: -0.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[state\\=checked\\]\\:tw-translate-x-5[data-state="checked"] {
  --tw-translate-x: 1.25rem;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[state\\=checked\\]\\:tw-translate-x-\\[-20px\\][data-state="checked"] {
  --tw-translate-x: -20px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[state\\=unchecked\\]\\:tw-translate-x-0[data-state="unchecked"] {
  --tw-translate-x: 0px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[panel-group-direction\\=vertical\\]\\:tw-flex-col[data-panel-group-direction="vertical"] {
  flex-direction: column;
}
.data-\\[active\\=true\\]\\:tw-bg-sidebar-accent[data-active="true"] {
  background-color: hsl(var(--sidebar-accent));
}
.data-\\[selected\\=true\\]\\:tw-bg-accent[data-selected="true"] {
  background-color: hsl(var(--accent));
}
.data-\\[state\\=active\\]\\:tw-bg-background[data-state="active"] {
  background-color: hsl(var(--background));
}
.data-\\[state\\=checked\\]\\:tw-bg-primary[data-state="checked"] {
  background-color: hsl(var(--primary));
}
.data-\\[state\\=on\\]\\:tw-bg-accent[data-state="on"] {
  background-color: hsl(var(--accent));
}
.data-\\[state\\=open\\]\\:tw-bg-accent[data-state="open"] {
  background-color: hsl(var(--accent));
}
.data-\\[state\\=open\\]\\:tw-bg-muted[data-state="open"] {
  background-color: hsl(var(--muted));
}
.data-\\[state\\=selected\\]\\:tw-bg-muted[data-state="selected"] {
  background-color: hsl(var(--muted));
}
.data-\\[state\\=unchecked\\]\\:tw-bg-input[data-state="unchecked"] {
  background-color: hsl(var(--input));
}
.data-\\[active\\=true\\]\\:tw-font-medium[data-active="true"] {
  font-weight: 500;
}
.data-\\[active\\=true\\]\\:tw-text-sidebar-accent-foreground[data-active="true"] {
  color: hsl(var(--sidebar-accent-foreground));
}
.data-\\[selected\\=true\\]\\:tw-text-accent-foreground[data-selected="true"] {
  color: hsl(var(--accent-foreground));
}
.data-\\[state\\=active\\]\\:tw-text-foreground[data-state="active"] {
  color: hsl(var(--foreground));
}
.data-\\[state\\=checked\\]\\:tw-text-primary-foreground[data-state="checked"] {
  color: hsl(var(--primary-foreground));
}
.data-\\[state\\=on\\]\\:tw-text-accent-foreground[data-state="on"] {
  color: hsl(var(--accent-foreground));
}
.data-\\[state\\=open\\]\\:tw-text-accent-foreground[data-state="open"] {
  color: hsl(var(--accent-foreground));
}
.data-\\[state\\=open\\]\\:tw-text-foreground[data-state="open"] {
  color: hsl(var(--foreground));
}
.data-\\[state\\=open\\]\\:tw-text-muted-foreground[data-state="open"] {
  color: hsl(var(--muted-foreground));
}
.data-\\[disabled\\=true\\]\\:tw-opacity-50[data-disabled="true"] {
  opacity: 0.5;
}
.data-\\[disabled\\]\\:tw-opacity-50[data-disabled] {
  opacity: 0.5;
}
.data-\\[state\\=open\\]\\:tw-opacity-100[data-state="open"] {
  opacity: 1;
}
.data-\\[state\\=active\\]\\:tw-shadow-sm[data-state="active"] {
  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.data-\\[state\\=open\\]\\:tw-animate-in[data-state="open"] {
  animation-name: enter;
  animation-duration: 150ms;
  --tw-enter-opacity: initial;
  --tw-enter-scale: initial;
  --tw-enter-rotate: initial;
  --tw-enter-translate-x: initial;
  --tw-enter-translate-y: initial;
}
.data-\\[state\\=closed\\]\\:tw-animate-out[data-state="closed"] {
  animation-name: exit;
  animation-duration: 150ms;
  --tw-exit-opacity: initial;
  --tw-exit-scale: initial;
  --tw-exit-rotate: initial;
  --tw-exit-translate-x: initial;
  --tw-exit-translate-y: initial;
}
.data-\\[state\\=closed\\]\\:tw-fade-out-0[data-state="closed"] {
  --tw-exit-opacity: 0;
}
.data-\\[state\\=open\\]\\:tw-fade-in-0[data-state="open"] {
  --tw-enter-opacity: 0;
}
.data-\\[state\\=closed\\]\\:tw-zoom-out-95[data-state="closed"] {
  --tw-exit-scale: .95;
}
.data-\\[state\\=open\\]\\:tw-zoom-in-95[data-state="open"] {
  --tw-enter-scale: .95;
}
.data-\\[side\\=bottom\\]\\:tw-slide-in-from-top-2[data-side="bottom"] {
  --tw-enter-translate-y: -0.5rem;
}
.data-\\[side\\=left\\]\\:tw-slide-in-from-right-2[data-side="left"] {
  --tw-enter-translate-x: 0.5rem;
}
.data-\\[side\\=right\\]\\:tw-slide-in-from-left-2[data-side="right"] {
  --tw-enter-translate-x: -0.5rem;
}
.data-\\[side\\=top\\]\\:tw-slide-in-from-bottom-2[data-side="top"] {
  --tw-enter-translate-y: 0.5rem;
}
.data-\\[state\\=closed\\]\\:tw-slide-out-to-left-1\\/2[data-state="closed"] {
  --tw-exit-translate-x: -50%;
}
.data-\\[state\\=closed\\]\\:tw-slide-out-to-top-\\[48\\%\\][data-state="closed"] {
  --tw-exit-translate-y: -48%;
}
.data-\\[state\\=open\\]\\:tw-slide-in-from-left-1\\/2[data-state="open"] {
  --tw-enter-translate-x: -50%;
}
.data-\\[state\\=open\\]\\:tw-slide-in-from-top-\\[48\\%\\][data-state="open"] {
  --tw-enter-translate-y: -48%;
}
.data-\\[panel-group-direction\\=vertical\\]\\:after\\:tw-left-0[data-panel-group-direction="vertical"]::after {
  content: var(--tw-content);
  left: 0px;
}
.data-\\[panel-group-direction\\=vertical\\]\\:after\\:tw-h-1[data-panel-group-direction="vertical"]::after {
  content: var(--tw-content);
  height: 0.25rem;
}
.data-\\[panel-group-direction\\=vertical\\]\\:after\\:tw-w-full[data-panel-group-direction="vertical"]::after {
  content: var(--tw-content);
  width: 100%;
}
.data-\\[panel-group-direction\\=vertical\\]\\:after\\:tw--translate-y-1\\/2[data-panel-group-direction="vertical"]::after {
  content: var(--tw-content);
  --tw-translate-y: -50%;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[panel-group-direction\\=vertical\\]\\:after\\:tw-translate-x-0[data-panel-group-direction="vertical"]::after {
  content: var(--tw-content);
  --tw-translate-x: 0px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.data-\\[state\\=open\\]\\:hover\\:tw-bg-sidebar-accent:hover[data-state="open"] {
  background-color: hsl(var(--sidebar-accent));
}
.data-\\[state\\=open\\]\\:hover\\:tw-text-sidebar-accent-foreground:hover[data-state="open"] {
  color: hsl(var(--sidebar-accent-foreground));
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:tw-left-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\] {
  left: calc(var(--sidebar-width) * -1);
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:tw-right-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\] {
  right: calc(var(--sidebar-width) * -1);
}
.tw-group[data-side="primary"] .group-data-\\[side\\=primary\\]\\:tw--right-4 {
  right: -1rem;
}
.tw-group[data-side="secondary"] .group-data-\\[side\\=secondary\\]\\:tw-left-0 {
  left: 0px;
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw--mt-8 {
  margin-top: -2rem;
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-hidden {
  display: none;
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-w-\\[--sidebar-width-icon\\] {
  width: var(--sidebar-width-icon);
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)\\)\\] {
  width: calc(var(--sidebar-width-icon) + 1rem);
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)_\\+2px\\)\\] {
  width: calc(var(--sidebar-width-icon) + 1rem + 2px);
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:tw-w-0 {
  width: 0px;
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:tw-translate-x-0 {
  --tw-translate-x: 0px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-group[data-side="secondary"] .group-data-\\[side\\=secondary\\]\\:tw-rotate-180 {
  --tw-rotate: 180deg;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-overflow-hidden {
  overflow: hidden;
}
.tw-group[data-variant="floating"] .group-data-\\[variant\\=floating\\]\\:tw-rounded-lg {
  border-radius: var(--radius);
}
.tw-group[data-variant="floating"] .group-data-\\[variant\\=floating\\]\\:tw-border {
  border-width: 1px;
}
.tw-group[data-side="primary"] .group-data-\\[side\\=primary\\]\\:tw-border-r {
  border-right-width: 1px;
}
.tw-group[data-side="secondary"] .group-data-\\[side\\=secondary\\]\\:tw-border-l {
  border-left-width: 1px;
}
.tw-group[data-variant="floating"] .group-data-\\[variant\\=floating\\]\\:tw-border-sidebar-border {
  border-color: hsl(var(--sidebar-border));
}
.tw-group[data-collapsible="icon"] .group-data-\\[collapsible\\=icon\\]\\:tw-opacity-0 {
  opacity: 0;
}
.tw-group[data-variant="floating"] .group-data-\\[variant\\=floating\\]\\:tw-shadow {
  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:after\\:tw-left-full::after {
  content: var(--tw-content);
  left: 100%;
}
.tw-group[data-collapsible="offcanvas"] .group-data-\\[collapsible\\=offcanvas\\]\\:hover\\:tw-bg-sidebar:hover {
  background-color: hsl(var(--sidebar-background));
}
.tw-peer[data-variant="inset"] ~ .peer-data-\\[variant\\=inset\\]\\:tw-min-h-\\[calc\\(100svh-theme\\(spacing\\.4\\)\\)\\] {
  min-height: calc(100svh - 1rem);
}
@container (min-width: 24rem) {

  .\\@sm\\:tw-grow {
    flex-grow: 1;
  }

  .\\@sm\\:tw-basis-auto {
    flex-basis: auto;
  }
}
@media (min-width: 640px) {

  .sm\\:tw-flex {
    display: flex;
  }

  .sm\\:tw-flex-row {
    flex-direction: row;
  }

  .sm\\:tw-justify-end {
    justify-content: flex-end;
  }

  .sm\\:tw-space-x-2 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(0.5rem * var(--tw-space-x-reverse));
    margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));
  }

  .sm\\:tw-rounded-lg {
    border-radius: var(--radius);
  }

  .sm\\:tw-text-left {
    text-align: left;
  }

  .sm\\:tw-text-start {
    text-align: start;
  }
}
@media (min-width: 768px) {

  .md\\:tw-block {
    display: block;
  }

  .md\\:tw-flex {
    display: flex;
  }

  .md\\:tw-grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .md\\:tw-text-sm {
    font-size: 0.875rem;
    line-height: 1.25rem;
  }

  .md\\:tw-opacity-0 {
    opacity: 0;
  }

  .after\\:md\\:tw-hidden::after {
    content: var(--tw-content);
    display: none;
  }

  .tw-peer[data-variant="inset"] ~ .md\\:peer-data-\\[variant\\=inset\\]\\:tw-m-2 {
    margin: 0.5rem;
  }

  .tw-peer[data-state="collapsed"][data-variant="inset"] ~ .md\\:peer-data-\\[state\\=collapsed\\]\\:peer-data-\\[variant\\=inset\\]\\:tw-ml-2 {
    margin-left: 0.5rem;
  }

  .tw-peer[data-variant="inset"] ~ .md\\:peer-data-\\[variant\\=inset\\]\\:tw-ml-0 {
    margin-left: 0px;
  }

  .tw-peer[data-variant="inset"] ~ .md\\:peer-data-\\[variant\\=inset\\]\\:tw-rounded-xl {
    border-radius: 0.75rem;
  }

  .tw-peer[data-variant="inset"] ~ .md\\:peer-data-\\[variant\\=inset\\]\\:tw-shadow {
    --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);
    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);
  }
}
@media (min-width: 1024px) {

  .lg\\:tw-flex {
    display: flex;
  }

  .lg\\:tw-grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .lg\\:tw-space-x-8 > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 0;
    margin-right: calc(2rem * var(--tw-space-x-reverse));
    margin-left: calc(2rem * calc(1 - var(--tw-space-x-reverse)));
  }
}
.ltr\\:tw-left-2:where([dir="ltr"], [dir="ltr"] *) {
  left: 0.5rem;
}
.rtl\\:tw-right-2:where([dir="rtl"], [dir="rtl"] *) {
  right: 0.5rem;
}
@media (prefers-color-scheme: dark) {

  .dark\\:tw-border-destructive {
    border-color: hsl(var(--destructive));
  }
}
.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:tw-pe-0:has([role=checkbox]) {
  padding-inline-end: 0px;
}
.\\[\\&\\>img\\+div\\]\\:tw-translate-y-\\[-3px\\]>img+div {
  --tw-translate-y: -3px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.\\[\\&\\>img\\]\\:tw-absolute>img {
  position: absolute;
}
.\\[\\&\\>img\\]\\:tw-left-4>img {
  left: 1rem;
}
.\\[\\&\\>img\\]\\:tw-top-4>img {
  top: 1rem;
}
.\\[\\&\\>img\\]\\:tw-text-destructive>img {
  color: hsl(var(--destructive));
}
.\\[\\&\\>img\\]\\:tw-text-foreground>img {
  color: hsl(var(--foreground));
}
.\\[\\&\\>img\\~\\*\\]\\:tw-pl-7>img~* {
  padding-left: 1.75rem;
}
.\\[\\&\\>span\\:last-child\\]\\:tw-truncate>span:last-child {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.\\[\\&\\>span\\]\\:tw-line-clamp-1>span {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}
.\\[\\&\\>svg\\+div\\]\\:tw-translate-y-\\[-3px\\]>svg+div {
  --tw-translate-y: -3px;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.\\[\\&\\>svg\\]\\:tw-absolute>svg {
  position: absolute;
}
.\\[\\&\\>svg\\]\\:tw-left-4>svg {
  left: 1rem;
}
.\\[\\&\\>svg\\]\\:tw-top-4>svg {
  top: 1rem;
}
.\\[\\&\\>svg\\]\\:tw-size-4>svg {
  width: 1rem;
  height: 1rem;
}
.\\[\\&\\>svg\\]\\:tw-shrink-0>svg {
  flex-shrink: 0;
}
.\\[\\&\\>svg\\]\\:tw-text-destructive>svg {
  color: hsl(var(--destructive));
}
.\\[\\&\\>svg\\]\\:tw-text-foreground>svg {
  color: hsl(var(--foreground));
}
.\\[\\&\\>svg\\]\\:tw-text-sidebar-accent-foreground>svg {
  color: hsl(var(--sidebar-accent-foreground));
}
.\\[\\&\\>svg\\~\\*\\]\\:tw-pl-7>svg~* {
  padding-left: 1.75rem;
}
.\\[\\&\\>tr\\]\\:last\\:tw-border-b-0:last-child>tr {
  border-bottom-width: 0px;
}
.\\[\\&\\[data-panel-group-direction\\=vertical\\]\\>div\\]\\:tw-rotate-90[data-panel-group-direction=vertical]>div {
  --tw-rotate: 90deg;
  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
}
.\\[\\&_\\[cmdk-group-heading\\]\\]\\:tw-px-2 [cmdk-group-heading] {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}
.\\[\\&_\\[cmdk-group-heading\\]\\]\\:tw-py-1\\.5 [cmdk-group-heading] {
  padding-top: 0.375rem;
  padding-bottom: 0.375rem;
}
.\\[\\&_\\[cmdk-group-heading\\]\\]\\:tw-text-xs [cmdk-group-heading] {
  font-size: 0.75rem;
  line-height: 1rem;
}
.\\[\\&_\\[cmdk-group-heading\\]\\]\\:tw-font-medium [cmdk-group-heading] {
  font-weight: 500;
}
.\\[\\&_\\[cmdk-group-heading\\]\\]\\:tw-text-muted-foreground [cmdk-group-heading] {
  color: hsl(var(--muted-foreground));
}
.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:tw-pt-0 [cmdk-group]:not([hidden]) ~[cmdk-group] {
  padding-top: 0px;
}
.\\[\\&_\\[cmdk-group\\]\\]\\:tw-px-2 [cmdk-group] {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}
.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:tw-h-5 [cmdk-input-wrapper] svg {
  height: 1.25rem;
}
.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:tw-w-5 [cmdk-input-wrapper] svg {
  width: 1.25rem;
}
.\\[\\&_\\[cmdk-input\\]\\]\\:tw-h-12 [cmdk-input] {
  height: 3rem;
}
.\\[\\&_\\[cmdk-item\\]\\]\\:tw-px-2 [cmdk-item] {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}
.\\[\\&_\\[cmdk-item\\]\\]\\:tw-py-3 [cmdk-item] {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}
.\\[\\&_\\[cmdk-item\\]_svg\\]\\:tw-h-5 [cmdk-item] svg {
  height: 1.25rem;
}
.\\[\\&_\\[cmdk-item\\]_svg\\]\\:tw-w-5 [cmdk-item] svg {
  width: 1.25rem;
}
.\\[\\&_p\\]\\:tw-leading-relaxed p {
  line-height: 1.625;
}
.\\[\\&_svg\\]\\:tw-pointer-events-none svg {
  pointer-events: none;
}
.\\[\\&_svg\\]\\:tw-size-4 svg {
  width: 1rem;
  height: 1rem;
}
.\\[\\&_svg\\]\\:tw-shrink-0 svg {
  flex-shrink: 0;
}
.\\[\\&_tr\\:last-child\\]\\:tw-border-0 tr:last-child {
  border-width: 0px;
}
.\\[\\&_tr\\]\\:tw-border-b tr {
  border-bottom-width: 1px;
}
[data-side=primary][data-collapsible=offcanvas] .\\[\\[data-side\\=primary\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:tw--right-2 {
  right: -0.5rem;
}
[data-side=primary][data-state=collapsed] .\\[\\[data-side\\=primary\\]\\[data-state\\=collapsed\\]_\\&\\]\\:tw-cursor-e-resize {
  cursor: e-resize;
}
[data-side=secondary][data-collapsible=offcanvas] .\\[\\[data-side\\=secondary\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:tw--left-2 {
  left: -0.5rem;
}
[data-side=secondary][data-state=collapsed] .\\[\\[data-side\\=secondary\\]\\[data-state\\=collapsed\\]_\\&\\]\\:tw-cursor-w-resize {
  cursor: w-resize;
}
[data-side=secondary] .\\[\\[data-side\\=secondary\\]_\\&\\]\\:tw-cursor-e-resize {
  cursor: e-resize;
}
[data-side=secondary] .\\[\\[data-side\\=secondary\\]_\\&\\]\\:tw-cursor-w-resize {
  cursor: w-resize;
}
/* By default the editor is too tall for the footnote editor, even while empty, so this makes it 
   shorter. */
.footnote-editor .editor-input {
  min-height: 75px;
}
.banded-row:hover {
  cursor: pointer;
}

.banded-row[data-state='selected']:hover {
  cursor: default;
}
`,"after-all");
//# sourceMappingURL=index.cjs.map
