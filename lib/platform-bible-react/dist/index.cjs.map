{"version":3,"file":"index.cjs","sources":["../../../node_modules/@sillsdev/scripture/dist/index.es.js","../src/utils/shadcn-ui.util.ts","../src/components/shadcn-ui/button.tsx","../src/utils/dir-helper.util.ts","../src/components/shadcn-ui/dialog.tsx","../src/components/shadcn-ui/command.tsx","../src/components/shadcn-ui/popover.tsx","../src/components/advanced/book-chapter-control.component.tsx","../src/components/shadcn-ui/label.tsx","../src/components/shadcn-ui/radio-group.tsx","../src/components/basics/combo-box.component.tsx","../src/components/basics/chapter-range-selector.component.tsx","../src/components/advanced/book-selector.component.tsx","../src/context/menu.context.ts","../src/components/shadcn-ui/dropdown-menu.tsx","../src/components/advanced/data-table/data-table-column-toggle.component.tsx","../src/components/shadcn-ui/select.tsx","../src/components/advanced/data-table/data-table-pagination.component.tsx","../src/utils/focus.util.ts","../src/components/shadcn-ui/table.tsx","../src/components/advanced/data-table/data-table.component.tsx","../src/components/advanced/extension-marketplace/markdown-renderer.component.tsx","../src/components/basics/error-dump.component.tsx","../src/components/advanced/error-popover.component.tsx","../src/components/advanced/extension-marketplace/filter-dropdown.component.tsx","../src/components/advanced/extension-marketplace/more-info.component.tsx","../src/components/advanced/extension-marketplace/version-history.component.tsx","../src/components/advanced/extension-marketplace/footer.component.tsx","../src/components/shadcn-ui/badge.tsx","../src/components/advanced/multi-select-combo-box.component.tsx","../src/components/advanced/filter.component.tsx","../src/components/advanced/inventory/occurrences-table.component.tsx","../src/components/shadcn-ui/checkbox.tsx","../src/components/shadcn-ui/input.tsx","../src/components/shadcn-ui/toggle.tsx","../src/components/shadcn-ui/toggle-group.tsx","../src/components/advanced/inventory/inventory-columns.tsx","../src/components/advanced/inventory/inventory-utils.ts","../src/components/advanced/inventory/inventory.component.tsx","../src/components/shadcn-ui/separator.tsx","../src/components/shadcn-ui/skeleton.tsx","../src/components/shadcn-ui/tooltip.tsx","../src/components/shadcn-ui/sidebar.tsx","../src/components/advanced/settings-components/settings-sidebar.component.tsx","../src/components/basics/search-bar.component.tsx","../src/components/advanced/settings-components/settings-sidebar-content-search.component.tsx","../src/components/advanced/scripture-results-viewer/scripture-results-viewer.component.tsx","../src/components/advanced/scope-selector/scope-selector-utils.ts","../src/components/advanced/scope-selector/book-item.component.tsx","../src/components/advanced/scope-selector/section-button.component.tsx","../src/components/advanced/scope-selector/book-selector.component.tsx","../src/components/advanced/scope-selector/scope-selector.component.tsx","../src/components/advanced/scroll-group-selector.component.tsx","../src/components/advanced/settings-components/settings-list.component.tsx","../src/components/advanced/menus/menu.util.ts","../src/components/advanced/menus/menu-icon.component.tsx","../src/components/advanced/menus/tab-dropdown-menu.component.tsx","../src/components/advanced/tab-toolbar.component.tsx","../src/components/basics/tabs-vertical.tsx","../src/components/advanced/tab-navigation-content-search.component.tsx","../src/components/shadcn-ui/menubar.tsx","../src/components/advanced/menus/platform-menubar.component.tsx","../src/components/advanced/toolbar.component.tsx","../src/components/advanced/ui-language-selector.component.tsx","../src/components/basics/smart-label.component.tsx","../src/components/basics/checklist.component.tsx","../src/components/basics/spinner.component.tsx","../src/components/basics/text-field.component.tsx","../src/components/shadcn-ui/alert.tsx","../src/components/shadcn-ui/avatar.tsx","../src/components/shadcn-ui/card.tsx","../src/components/shadcn-ui/drawer.tsx","../src/components/shadcn-ui/progress.tsx","../src/components/shadcn-ui/sonner.tsx","../src/components/shadcn-ui/slider.tsx","../src/components/shadcn-ui/switch.tsx","../src/components/shadcn-ui/tabs.tsx","../src/components/shadcn-ui/textarea.tsx","../src/hooks/use-event.hook.ts","../src/hooks/use-promise.hook.ts","../src/hooks/use-event-async.hook.ts","../src/hooks/listbox-keyboard-navigation.hook.ts"],"sourcesContent":["var P = Object.defineProperty;\nvar R = (t, e, s) => e in t ? P(t, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : t[e] = s;\nvar n = (t, e, s) => R(t, typeof e != \"symbol\" ? e + \"\" : e, s);\nclass _ {\n  constructor() {\n    n(this, \"books\");\n    n(this, \"firstSelectedBookNum\");\n    n(this, \"lastSelectedBookNum\");\n    n(this, \"count\");\n    n(this, \"selectedBookNumbers\");\n    n(this, \"selectedBookIds\");\n  }\n}\nconst N = [\n  \"GEN\",\n  \"EXO\",\n  \"LEV\",\n  \"NUM\",\n  \"DEU\",\n  \"JOS\",\n  \"JDG\",\n  \"RUT\",\n  \"1SA\",\n  \"2SA\",\n  // 10\n  \"1KI\",\n  \"2KI\",\n  \"1CH\",\n  \"2CH\",\n  \"EZR\",\n  \"NEH\",\n  \"EST\",\n  \"JOB\",\n  \"PSA\",\n  \"PRO\",\n  // 20\n  \"ECC\",\n  \"SNG\",\n  \"ISA\",\n  \"JER\",\n  \"LAM\",\n  \"EZK\",\n  \"DAN\",\n  \"HOS\",\n  \"JOL\",\n  \"AMO\",\n  // 30\n  \"OBA\",\n  \"JON\",\n  \"MIC\",\n  \"NAM\",\n  \"HAB\",\n  \"ZEP\",\n  \"HAG\",\n  \"ZEC\",\n  \"MAL\",\n  \"MAT\",\n  // 40\n  \"MRK\",\n  \"LUK\",\n  \"JHN\",\n  \"ACT\",\n  \"ROM\",\n  \"1CO\",\n  \"2CO\",\n  \"GAL\",\n  \"EPH\",\n  \"PHP\",\n  // 50\n  \"COL\",\n  \"1TH\",\n  \"2TH\",\n  \"1TI\",\n  \"2TI\",\n  \"TIT\",\n  \"PHM\",\n  \"HEB\",\n  \"JAS\",\n  \"1PE\",\n  // 60\n  \"2PE\",\n  \"1JN\",\n  \"2JN\",\n  \"3JN\",\n  \"JUD\",\n  \"REV\",\n  \"TOB\",\n  \"JDT\",\n  \"ESG\",\n  \"WIS\",\n  // 70\n  \"SIR\",\n  \"BAR\",\n  \"LJE\",\n  \"S3Y\",\n  \"SUS\",\n  \"BEL\",\n  \"1MA\",\n  \"2MA\",\n  \"3MA\",\n  \"4MA\",\n  // 80\n  \"1ES\",\n  \"2ES\",\n  \"MAN\",\n  \"PS2\",\n  \"ODA\",\n  \"PSS\",\n  \"JSA\",\n  // actual variant text for JOS, now in LXA text\n  \"JDB\",\n  // actual variant text for JDG, now in LXA text\n  \"TBS\",\n  // actual variant text for TOB, now in LXA text\n  \"SST\",\n  // actual variant text for SUS, now in LXA text // 90\n  \"DNT\",\n  // actual variant text for DAN, now in LXA text\n  \"BLT\",\n  // actual variant text for BEL, now in LXA text\n  \"XXA\",\n  \"XXB\",\n  \"XXC\",\n  \"XXD\",\n  \"XXE\",\n  \"XXF\",\n  \"XXG\",\n  \"FRT\",\n  // 100\n  \"BAK\",\n  \"OTH\",\n  \"3ES\",\n  // Used previously but really should be 2ES\n  \"EZA\",\n  // Used to be called 4ES, but not actually in any known project\n  \"5EZ\",\n  // Used to be called 5ES, but not actually in any known project\n  \"6EZ\",\n  // Used to be called 6ES, but not actually in any known project\n  \"INT\",\n  \"CNC\",\n  \"GLO\",\n  \"TDX\",\n  // 110\n  \"NDX\",\n  \"DAG\",\n  \"PS3\",\n  \"2BA\",\n  \"LBA\",\n  \"JUB\",\n  \"ENO\",\n  \"1MQ\",\n  \"2MQ\",\n  \"3MQ\",\n  // 120\n  \"REP\",\n  \"4BA\",\n  \"LAO\"\n], B = [\n  \"XXA\",\n  \"XXB\",\n  \"XXC\",\n  \"XXD\",\n  \"XXE\",\n  \"XXF\",\n  \"XXG\",\n  \"FRT\",\n  \"BAK\",\n  \"OTH\",\n  \"INT\",\n  \"CNC\",\n  \"GLO\",\n  \"TDX\",\n  \"NDX\"\n], O = [\n  \"Genesis\",\n  \"Exodus\",\n  \"Leviticus\",\n  \"Numbers\",\n  \"Deuteronomy\",\n  \"Joshua\",\n  \"Judges\",\n  \"Ruth\",\n  \"1 Samuel\",\n  \"2 Samuel\",\n  \"1 Kings\",\n  \"2 Kings\",\n  \"1 Chronicles\",\n  \"2 Chronicles\",\n  \"Ezra\",\n  \"Nehemiah\",\n  \"Esther (Hebrew)\",\n  \"Job\",\n  \"Psalms\",\n  \"Proverbs\",\n  \"Ecclesiastes\",\n  \"Song of Songs\",\n  \"Isaiah\",\n  \"Jeremiah\",\n  \"Lamentations\",\n  \"Ezekiel\",\n  \"Daniel (Hebrew)\",\n  \"Hosea\",\n  \"Joel\",\n  \"Amos\",\n  \"Obadiah\",\n  \"Jonah\",\n  \"Micah\",\n  \"Nahum\",\n  \"Habakkuk\",\n  \"Zephaniah\",\n  \"Haggai\",\n  \"Zechariah\",\n  \"Malachi\",\n  \"Matthew\",\n  \"Mark\",\n  \"Luke\",\n  \"John\",\n  \"Acts\",\n  \"Romans\",\n  \"1 Corinthians\",\n  \"2 Corinthians\",\n  \"Galatians\",\n  \"Ephesians\",\n  \"Philippians\",\n  \"Colossians\",\n  \"1 Thessalonians\",\n  \"2 Thessalonians\",\n  \"1 Timothy\",\n  \"2 Timothy\",\n  \"Titus\",\n  \"Philemon\",\n  \"Hebrews\",\n  \"James\",\n  \"1 Peter\",\n  \"2 Peter\",\n  \"1 John\",\n  \"2 John\",\n  \"3 John\",\n  \"Jude\",\n  \"Revelation\",\n  \"Tobit\",\n  \"Judith\",\n  \"Esther Greek\",\n  \"Wisdom of Solomon\",\n  \"Sirach (Ecclesiasticus)\",\n  \"Baruch\",\n  \"Letter of Jeremiah\",\n  \"Song of 3 Young Men\",\n  \"Susanna\",\n  \"Bel and the Dragon\",\n  \"1 Maccabees\",\n  \"2 Maccabees\",\n  \"3 Maccabees\",\n  \"4 Maccabees\",\n  \"1 Esdras (Greek)\",\n  \"2 Esdras (Latin)\",\n  \"Prayer of Manasseh\",\n  \"Psalm 151\",\n  \"Odes\",\n  \"Psalms of Solomon\",\n  // WARNING, if you change the spelling of the *obsolete* tag be sure to update\n  // IsObsolete routine\n  \"Joshua A. *obsolete*\",\n  \"Judges B. *obsolete*\",\n  \"Tobit S. *obsolete*\",\n  \"Susanna Th. *obsolete*\",\n  \"Daniel Th. *obsolete*\",\n  \"Bel Th. *obsolete*\",\n  \"Extra A\",\n  \"Extra B\",\n  \"Extra C\",\n  \"Extra D\",\n  \"Extra E\",\n  \"Extra F\",\n  \"Extra G\",\n  \"Front Matter\",\n  \"Back Matter\",\n  \"Other Matter\",\n  \"3 Ezra *obsolete*\",\n  \"Apocalypse of Ezra\",\n  \"5 Ezra (Latin Prologue)\",\n  \"6 Ezra (Latin Epilogue)\",\n  \"Introduction\",\n  \"Concordance \",\n  \"Glossary \",\n  \"Topical Index\",\n  \"Names Index\",\n  \"Daniel Greek\",\n  \"Psalms 152-155\",\n  \"2 Baruch (Apocalypse)\",\n  \"Letter of Baruch\",\n  \"Jubilees\",\n  \"Enoch\",\n  \"1 Meqabyan\",\n  \"2 Meqabyan\",\n  \"3 Meqabyan\",\n  \"Reproof (Proverbs 25-31)\",\n  \"4 Baruch (Rest of Baruch)\",\n  \"Laodiceans\"\n], S = K();\nfunction g(t, e = !0) {\n  return e && (t = t.toUpperCase()), t in S ? S[t] : 0;\n}\nfunction k(t) {\n  return g(t) > 0;\n}\nfunction x(t) {\n  const e = typeof t == \"string\" ? g(t) : t;\n  return e >= 40 && e <= 66;\n}\nfunction T(t) {\n  return (typeof t == \"string\" ? g(t) : t) <= 39;\n}\nfunction X(t) {\n  return t <= 66;\n}\nfunction V(t) {\n  const e = typeof t == \"string\" ? g(t) : t;\n  return w(e) && !X(e);\n}\nfunction* L() {\n  for (let t = 1; t <= N.length; t++) yield t;\n}\nconst G = 1, A = N.length;\nfunction H() {\n  return [\"XXA\", \"XXB\", \"XXC\", \"XXD\", \"XXE\", \"XXF\", \"XXG\"];\n}\nfunction C(t, e = \"***\") {\n  const s = t - 1;\n  return s < 0 || s >= N.length ? e : N[s];\n}\nfunction I(t) {\n  return t <= 0 || t > A ? \"******\" : O[t - 1];\n}\nfunction y(t) {\n  return I(g(t));\n}\nfunction w(t) {\n  const e = typeof t == \"number\" ? C(t) : t;\n  return k(e) && !B.includes(e);\n}\nfunction q(t) {\n  const e = typeof t == \"number\" ? C(t) : t;\n  return k(e) && B.includes(e);\n}\nfunction U(t) {\n  return O[t - 1].includes(\"*obsolete*\");\n}\nfunction K() {\n  const t = {};\n  for (let e = 0; e < N.length; e++)\n    t[N[e]] = e + 1;\n  return t;\n}\nconst m = {\n  allBookIds: N,\n  nonCanonicalIds: B,\n  bookIdToNumber: g,\n  isBookIdValid: k,\n  isBookNT: x,\n  isBookOT: T,\n  isBookOTNT: X,\n  isBookDC: V,\n  allBookNumbers: L,\n  firstBook: G,\n  lastBook: A,\n  extraBooks: H,\n  bookNumberToId: C,\n  bookNumberToEnglishName: I,\n  bookIdToEnglishName: y,\n  isCanonical: w,\n  isExtraMaterial: q,\n  isObsolete: U\n};\nvar l = /* @__PURE__ */ ((t) => (t[t.Unknown = 0] = \"Unknown\", t[t.Original = 1] = \"Original\", t[t.Septuagint = 2] = \"Septuagint\", t[t.Vulgate = 3] = \"Vulgate\", t[t.English = 4] = \"English\", t[t.RussianProtestant = 5] = \"RussianProtestant\", t[t.RussianOrthodox = 6] = \"RussianOrthodox\", t))(l || {});\nconst h = class h {\n  // private versInfo: Versification;\n  constructor(e) {\n    n(this, \"name\");\n    n(this, \"fullPath\");\n    n(this, \"isPresent\");\n    n(this, \"hasVerseSegments\");\n    n(this, \"isCustomized\");\n    n(this, \"baseVersification\");\n    n(this, \"scriptureBooks\");\n    n(this, \"_type\");\n    if (e == null)\n      throw new Error(\"Argument undefined\");\n    typeof e == \"string\" ? (this.name = e, this._type = l[e]) : (this._type = e, this.name = l[e]);\n  }\n  get type() {\n    return this._type;\n  }\n  equals(e) {\n    return !e.type || !this.type ? !1 : e.type === this.type;\n  }\n};\nn(h, \"Original\", new h(l.Original)), n(h, \"Septuagint\", new h(l.Septuagint)), n(h, \"Vulgate\", new h(l.Vulgate)), n(h, \"English\", new h(l.English)), n(h, \"RussianProtestant\", new h(l.RussianProtestant)), n(h, \"RussianOrthodox\", new h(l.RussianOrthodox));\nlet c = h;\nfunction E(t, e) {\n  const s = e[0];\n  for (let r = 1; r < e.length; r++)\n    t = t.split(e[r]).join(s);\n  return t.split(s);\n}\nvar D = /* @__PURE__ */ ((t) => (t[t.Valid = 0] = \"Valid\", t[t.UnknownVersification = 1] = \"UnknownVersification\", t[t.OutOfRange = 2] = \"OutOfRange\", t[t.VerseOutOfOrder = 3] = \"VerseOutOfOrder\", t[t.VerseRepeated = 4] = \"VerseRepeated\", t))(D || {});\nconst i = class i {\n  constructor(e, s, r, a) {\n    /** Not yet implemented. */\n    n(this, \"firstChapter\");\n    /** Not yet implemented. */\n    n(this, \"lastChapter\");\n    /** Not yet implemented. */\n    n(this, \"lastVerse\");\n    /** Not yet implemented. */\n    n(this, \"hasSegmentsDefined\");\n    /** Not yet implemented. */\n    n(this, \"text\");\n    /** Not yet implemented. */\n    n(this, \"BBBCCCVVVS\");\n    /** Not yet implemented. */\n    n(this, \"longHashCode\");\n    /** The versification of the reference. */\n    n(this, \"versification\");\n    n(this, \"rtlMark\", \"â€\");\n    n(this, \"_bookNum\", 0);\n    n(this, \"_chapterNum\", 0);\n    n(this, \"_verseNum\", 0);\n    n(this, \"_verse\");\n    if (r == null && a == null)\n      if (e != null && typeof e == \"string\") {\n        const o = e, u = s != null && s instanceof c ? s : void 0;\n        this.setEmpty(u), this.parse(o);\n      } else if (e != null && typeof e == \"number\") {\n        const o = s != null && s instanceof c ? s : void 0;\n        this.setEmpty(o), this._verseNum = e % i.chapterDigitShifter, this._chapterNum = Math.floor(\n          e % i.bookDigitShifter / i.chapterDigitShifter\n        ), this._bookNum = Math.floor(e / i.bookDigitShifter);\n      } else if (s == null)\n        if (e != null && e instanceof i) {\n          const o = e;\n          this._bookNum = o.bookNum, this._chapterNum = o.chapterNum, this._verseNum = o.verseNum, this._verse = o.verse, this.versification = o.versification;\n        } else {\n          if (e == null) return;\n          const o = e instanceof c ? e : i.defaultVersification;\n          this.setEmpty(o);\n        }\n      else\n        throw new Error(\"VerseRef constructor not supported.\");\n    else if (e != null && s != null && r != null)\n      if (typeof e == \"string\" && typeof s == \"string\" && typeof r == \"string\")\n        this.setEmpty(a), this.updateInternal(e, s, r);\n      else if (typeof e == \"number\" && typeof s == \"number\" && typeof r == \"number\")\n        this._bookNum = e, this._chapterNum = s, this._verseNum = r, this.versification = a ?? i.defaultVersification;\n      else\n        throw new Error(\"VerseRef constructor not supported.\");\n    else\n      throw new Error(\"VerseRef constructor not supported.\");\n  }\n  /**\n   * Determines if the verse string is in a valid format (does not consider versification).\n   */\n  static isVerseParseable(e) {\n    return e.length > 0 && \"0123456789\".includes(e[0]) && !e.endsWith(this.verseRangeSeparator) && !e.endsWith(this.verseSequenceIndicator);\n  }\n  /**\n   * Tries to parse the specified string into a verse reference.\n   * @param str - The string to attempt to parse.\n   * @returns success: `true` if the specified string was successfully parsed, `false` otherwise.\n   * @returns verseRef: The result of the parse if successful, or empty VerseRef if it failed\n   */\n  static tryParse(e) {\n    let s;\n    try {\n      return s = new i(e), { success: !0, verseRef: s };\n    } catch (r) {\n      if (r instanceof v)\n        return s = new i(), { success: !1, verseRef: s };\n      throw r;\n    }\n  }\n  /**\n   * Gets the reference as a comparable integer where the book, chapter, and verse each occupy 3\n   * digits.\n   * @param bookNum - Book number (this is 1-based, not an index).\n   * @param chapterNum - Chapter number.\n   * @param verseNum - Verse number.\n   * @returns The reference as a comparable integer where the book, chapter, and verse each occupy 3\n   * digits.\n   */\n  static getBBBCCCVVV(e, s, r) {\n    return e % i.bcvMaxValue * i.bookDigitShifter + (s >= 0 ? s % i.bcvMaxValue * i.chapterDigitShifter : 0) + (r >= 0 ? r % i.bcvMaxValue : 0);\n  }\n  /**\n   * Deserializes a serialized VerseRef.\n   * @param serializedVerseRef - Serialized VerseRef to create from.\n   * @returns the deserialized VerseRef.\n   */\n  static fromJSON(e) {\n    const { book: s, chapterNum: r, verseNum: a, verse: o, versificationStr: u } = e, f = o || a.toString();\n    let d;\n    return u && (d = new c(u)), s ? new i(s, r.toString(), f, d) : new i();\n  }\n  /**\n   * Parses a verse string and gets the leading numeric portion as a number.\n   * @param verseStr - verse string to parse\n   * @returns true if the entire string could be parsed as a single, simple verse number (1-999);\n   *    false if the verse string represented a verse bridge, contained segment letters, or was invalid\n   */\n  static tryGetVerseNum(e) {\n    let s;\n    if (!e)\n      return s = -1, { success: !0, vNum: s };\n    s = 0;\n    let r;\n    for (let a = 0; a < e.length; a++) {\n      if (r = e[a], r < \"0\" || r > \"9\")\n        return a === 0 && (s = -1), { success: !1, vNum: s };\n      if (s = s * 10 + +r - 0, s > i.bcvMaxValue)\n        return s = -1, { success: !1, vNum: s };\n    }\n    return { success: !0, vNum: s };\n  }\n  /**\n   * Checks to see if a VerseRef hasn't been set - all values are the default.\n   */\n  get isDefault() {\n    return this.bookNum === 0 && this.chapterNum === 0 && this.verseNum === 0 && this.versification == null;\n  }\n  /**\n   * Gets whether the verse contains multiple verses.\n   */\n  get hasMultiple() {\n    return this._verse != null && (this._verse.includes(i.verseRangeSeparator) || this._verse.includes(i.verseSequenceIndicator));\n  }\n  /**\n   * Gets or sets the book of the reference. Book is the 3-letter abbreviation in capital letters,\n   * e.g. `'MAT'`.\n   */\n  get book() {\n    return m.bookNumberToId(this.bookNum, \"\");\n  }\n  set book(e) {\n    this.bookNum = m.bookIdToNumber(e);\n  }\n  /**\n   * Gets or sets the chapter of the reference,. e.g. `'3'`.\n   */\n  get chapter() {\n    return this.isDefault || this._chapterNum < 0 ? \"\" : this._chapterNum.toString();\n  }\n  set chapter(e) {\n    const s = +e;\n    this._chapterNum = Number.isInteger(s) ? s : -1;\n  }\n  /**\n   * Gets or sets the verse of the reference, including range, segments, and sequences, e.g. `'4'`,\n   * or `'4b-5a, 7'`.\n   */\n  get verse() {\n    return this._verse != null ? this._verse : this.isDefault || this._verseNum < 0 ? \"\" : this._verseNum.toString();\n  }\n  set verse(e) {\n    const { success: s, vNum: r } = i.tryGetVerseNum(e);\n    this._verse = s ? void 0 : e.replace(this.rtlMark, \"\"), this._verseNum = r, !(this._verseNum >= 0) && ({ vNum: this._verseNum } = i.tryGetVerseNum(this._verse));\n  }\n  /**\n   * Get or set Book based on book number, e.g. `42`.\n   */\n  get bookNum() {\n    return this._bookNum;\n  }\n  set bookNum(e) {\n    if (e <= 0 || e > m.lastBook)\n      throw new v(\n        \"BookNum must be greater than zero and less than or equal to last book\"\n      );\n    this._bookNum = e;\n  }\n  /**\n   * Gets or sets the chapter number, e.g. `3`. `-1` if not valid.\n   */\n  get chapterNum() {\n    return this._chapterNum;\n  }\n  set chapterNum(e) {\n    this.chapterNum = e;\n  }\n  /**\n   * Gets or sets verse start number, e.g. `4`. `-1` if not valid.\n   */\n  get verseNum() {\n    return this._verseNum;\n  }\n  set verseNum(e) {\n    this._verseNum = e;\n  }\n  /**\n   * String representing the versification (should ONLY be used for serialization/deserialization).\n   *\n   * @remarks This is for backwards compatibility when ScrVers was an enumeration.\n   */\n  get versificationStr() {\n    var e;\n    return (e = this.versification) == null ? void 0 : e.name;\n  }\n  set versificationStr(e) {\n    this.versification = this.versification != null ? new c(e) : void 0;\n  }\n  /**\n   * Determines if the reference is valid.\n   */\n  get valid() {\n    return this.validStatus === 0;\n  }\n  /**\n   * Get the valid status for this reference.\n   */\n  get validStatus() {\n    return this.validateVerse(i.verseRangeSeparators, i.verseSequenceIndicators);\n  }\n  /**\n   * Gets the reference as a comparable integer where the book,\n   * chapter, and verse each occupy three digits and the verse is 0.\n   */\n  get BBBCCC() {\n    return i.getBBBCCCVVV(this._bookNum, this._chapterNum, 0);\n  }\n  /**\n   * Gets the reference as a comparable integer where the book,\n   * chapter, and verse each occupy three digits. If verse is not null\n   * (i.e., this reference represents a complex reference with verse\n   * segments or bridge) this cannot be used for an exact comparison.\n   */\n  get BBBCCCVVV() {\n    return i.getBBBCCCVVV(this._bookNum, this._chapterNum, this._verseNum);\n  }\n  /**\n   * Gets whether the verse is defined as an excluded verse in the versification.\n   * Does not handle verse ranges.\n   */\n  // eslint-disable-next-line @typescript-eslint/class-literal-property-style\n  get isExcluded() {\n    return !1;\n  }\n  /**\n   * Parses the reference in the specified string.\n   * Optionally versification can follow reference as in GEN 3:11/4\n   * Throw an exception if\n   * - invalid book name\n   * - chapter number is missing or not a number\n   * - verse number is missing or does not start with a number\n   * - versification is invalid\n   * @param verseStr - string to parse e.g. 'MAT 3:11'\n   */\n  parse(e) {\n    if (e = e.replace(this.rtlMark, \"\"), e.includes(\"/\")) {\n      const o = e.split(\"/\");\n      if (e = o[0], o.length > 1)\n        try {\n          const u = +o[1].trim();\n          this.versification = new c(l[u]);\n        } catch {\n          throw new v(\"Invalid reference : \" + e);\n        }\n    }\n    const s = e.trim().split(\" \");\n    if (s.length !== 2)\n      throw new v(\"Invalid reference : \" + e);\n    const r = s[1].split(\":\"), a = +r[0];\n    if (r.length !== 2 || m.bookIdToNumber(s[0]) === 0 || !Number.isInteger(a) || a < 0 || !i.isVerseParseable(r[1]))\n      throw new v(\"Invalid reference : \" + e);\n    this.updateInternal(s[0], r[0], r[1]);\n  }\n  /**\n   * Simplifies this verse ref so that it has no bridging of verses or\n   * verse segments like `'1a'`.\n   */\n  simplify() {\n    this._verse = void 0;\n  }\n  /**\n   * Makes a clone of the reference.\n   *\n   * @returns The cloned VerseRef.\n   */\n  clone() {\n    return new i(this);\n  }\n  toString() {\n    const e = this.book;\n    return e === \"\" ? \"\" : `${e} ${this.chapter}:${this.verse}`;\n  }\n  toJSON() {\n    let e = this.verse;\n    (e === \"\" || e === this.verseNum.toString()) && (e = void 0);\n    const s = {\n      book: this.book,\n      chapterNum: this.chapterNum,\n      verseNum: this.verseNum,\n      verse: e,\n      versificationStr: this.versificationStr\n    };\n    return e || delete s.verse, s;\n  }\n  /**\n   * Compares this `VerseRef` with supplied one.\n   * @param verseRef - object to compare this one to.\n   * @returns `true` if this `VerseRef` is equal to the supplied one, `false` otherwise.\n   */\n  equals(e) {\n    return e instanceof i ? e._bookNum === this._bookNum && e._chapterNum === this._chapterNum && e._verseNum === this._verseNum && e.verse === this.verse && (e.versification == null && this.versification == null || e.versification != null && this.versification != null && e.versification.equals(this.versification)) : !1;\n  }\n  /**\n   * Enumerate all individual verses contained in a VerseRef.\n   * Verse ranges are indicated by \"-\" and consecutive verses by \",\"s.\n   * Examples:\n   * GEN 1:2 returns GEN 1:2\n   * GEN 1:1a-3b,5 returns GEN 1:1a, GEN 1:2, GEN 1:3b, GEN 1:5\n   * GEN 1:2a-2c returns //! ??????\n   *\n   * @param specifiedVersesOnly - if set to <c>true</c> return only verses that are\n   * explicitly specified only, not verses within a range. Defaults to `false`.\n   * @param verseRangeSeparators - Verse range separators.\n   * Defaults to `VerseRef.verseRangeSeparators`.\n   * @param verseSequenceSeparators - Verse sequence separators.\n   * Defaults to `VerseRef.verseSequenceIndicators`.\n   * @returns An array of all single verse references in this VerseRef.\n   */\n  allVerses(e = !1, s = i.verseRangeSeparators, r = i.verseSequenceIndicators) {\n    if (this._verse == null || this.chapterNum <= 0)\n      return [this.clone()];\n    const a = [], o = E(this._verse, r);\n    for (const u of o.map((f) => E(f, s))) {\n      const f = this.clone();\n      f.verse = u[0];\n      const d = f.verseNum;\n      if (a.push(f), u.length > 1) {\n        const b = this.clone();\n        if (b.verse = u[1], !e)\n          for (let p = d + 1; p < b.verseNum; p++) {\n            const J = new i(\n              this._bookNum,\n              this._chapterNum,\n              p,\n              this.versification\n            );\n            this.isExcluded || a.push(J);\n          }\n        a.push(b);\n      }\n    }\n    return a;\n  }\n  /**\n   * Validates a verse number using the supplied separators rather than the defaults.\n   */\n  validateVerse(e, s) {\n    if (!this.verse)\n      return this.internalValid;\n    let r = 0;\n    for (const a of this.allVerses(!0, e, s)) {\n      const o = a.internalValid;\n      if (o !== 0)\n        return o;\n      const u = a.BBBCCCVVV;\n      if (r > u)\n        return 3;\n      if (r === u)\n        return 4;\n      r = u;\n    }\n    return 0;\n  }\n  /**\n   * Gets whether a single verse reference is valid.\n   */\n  get internalValid() {\n    return this.versification == null ? 1 : this._bookNum <= 0 || this._bookNum > m.lastBook ? 2 : (m.isCanonical(this._bookNum), 0);\n  }\n  setEmpty(e = i.defaultVersification) {\n    this._bookNum = 0, this._chapterNum = -1, this._verse = void 0, this.versification = e;\n  }\n  updateInternal(e, s, r) {\n    this.bookNum = m.bookIdToNumber(e), this.chapter = s, this.verse = r;\n  }\n};\nn(i, \"defaultVersification\", c.English), n(i, \"verseRangeSeparator\", \"-\"), n(i, \"verseSequenceIndicator\", \",\"), n(i, \"verseRangeSeparators\", [i.verseRangeSeparator]), n(i, \"verseSequenceIndicators\", [i.verseSequenceIndicator]), n(i, \"chapterDigitShifter\", 1e3), n(i, \"bookDigitShifter\", i.chapterDigitShifter * i.chapterDigitShifter), n(i, \"bcvMaxValue\", i.chapterDigitShifter - 1), /**\n * The valid status of the VerseRef.\n */\nn(i, \"ValidStatusType\", D);\nlet M = i;\nclass v extends Error {\n}\nexport {\n  _ as BookSet,\n  m as Canon,\n  c as ScrVers,\n  l as ScrVersType,\n  M as VerseRef,\n  v as VerseRefException\n};\n//# sourceMappingURL=index.es.js.map\n","import { type ClassValue, clsx } from 'clsx';\nimport { extendTailwindMerge } from 'tailwind-merge';\n\nconst twMergeCustom = extendTailwindMerge({ prefix: 'tw-' });\n\n/**\n * Tailwind and CSS class application helper function. Uses\n * [`clsx`](https://www.npmjs.com/package/clsx) to make it easy to apply classes conditionally using\n * object syntax, and uses [`tailwind-merge`](https://www.npmjs.com/package/tailwind-merge) to make\n * it easy to merge/overwrite Tailwind classes in a programmer-logic-friendly way.\n *\n * Note: `tailwind-merge` is configured to use the prefix `tw-`, so you must use the same prefix\n * with any Tailwind classes you use with this function to successfully overwrite other Tailwind\n * classes. `platform-bible-react` is configured to use `tw-` as its Tailwind prefix, so any\n * Tailwind classes you pass into `platform-bible-react` components will be compared using the `tw-`\n * prefix.\n *\n * This function was popularized by\n * [shadcn/ui](https://ui.shadcn.com/docs/installation/manual#add-a-cn-helper). See [ByteGrad's\n * explanation video](https://www.youtube.com/watch?v=re2JFITR7TI) for more information.\n *\n * @example\n *\n * ```typescript\n * const borderShouldBeBlue = true;\n * const textShouldBeRed = true;\n * const heightShouldBe20 = false;\n * const classString = cn(\n *   'tw-bg-primary tw-h-10 tw-text-primary-foreground',\n *   'tw-bg-secondary',\n *   {\n *     'tw-border-blue-500': borderShouldBeBlue,\n *     'tw-text-red-500': textShouldBeRed,\n *     'tw-h-20': heightShouldBe20,\n *   },\n *   'some-class',\n * );\n * ```\n *\n * The resulting `classString` is `'tw-h-10 tw-bg-secondary tw-border-blue-500 tw-text-red-500\n * some-class'`\n *\n * - Notice that `'tw-bg-secondary'`, specified later, overwrote `'tw-bg-primary'`, specified earlier,\n *   because they are Tailwind classes that affect the same css property\n * - Notice that `'tw-text-red-500'`, specified later, overwrote `'tw-text-primary-foreground'`,\n *   specified earlier, because they are Tailwind classes that affect the same css property\n * - Notice that `'tw-h-20'`, specified later, did not overwrite `'tw-h-10'`, specified earlier,\n *   because `'tw-h-20'` is part of a conditional class object and its value evaluated to `false`;\n *   therefore it was not applied\n * - Notice that `'some-class'` was applied. This function is not limited only to Tailwind classes.\n *\n *\n * @param inputs Class strings or `clsx` conditional class objects to merge. Tailwind classes\n *   specified later in the arguments overwrite similar Tailwind classes specified earlier in the\n *   arguments\n * @returns Class string containing all applicable classes from the arguments based on the rules\n *   described above\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMergeCustom(clsx(inputs));\n}\n","import React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Style variants for the Button component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/button}\n */\nexport const buttonVariants = cva(\n  'pr-twp tw-inline-flex tw-items-center tw-justify-center tw-gap-2 tw-whitespace-nowrap tw-rounded-md tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 [&_svg]:tw-pointer-events-none [&_svg]:tw-size-4 [&_svg]:tw-shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/90',\n        destructive: 'tw-bg-destructive tw-text-destructive-foreground hover:tw-bg-destructive/90',\n        outline:\n          'tw-border tw-border-input tw-bg-background hover:tw-bg-accent hover:tw-text-accent-foreground',\n        secondary: 'tw-bg-secondary tw-text-secondary-foreground hover:tw-bg-secondary/80',\n        ghost: 'hover:tw-bg-accent hover:tw-text-accent-foreground',\n        link: 'tw-text-primary tw-underline-offset-4 hover:tw-underline',\n      },\n      size: {\n        default: 'tw-h-10 tw-px-4 tw-py-2',\n        sm: 'tw-h-9 tw-rounded-md tw-px-3',\n        lg: 'tw-h-11 tw-rounded-md tw-px-8',\n        icon: 'tw-h-10 tw-w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\n/**\n * Props for Button component\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/button}\n */\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\n/**\n * The Button component displays a button or a component that looks like a button. The component is\n * built and styled by Shadcn UI.\n *\n * @param ButtonProps\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/button}\n */\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />\n    );\n  },\n);\nButton.displayName = 'Button';\n","/** Text and layout direction */\nexport type Direction = 'rtl' | 'ltr';\n\nconst STORAGE_KEY: string = 'layoutDirection';\n\n/** Read layout direction from localStorage or return 'ltr' */\nexport function readDirection(): Direction {\n  const retrieved = localStorage.getItem(STORAGE_KEY);\n  if (retrieved === 'rtl') {\n    return retrieved;\n  }\n  return 'ltr';\n}\n\n/** Write layout direction to localStorage */\nexport function persistDirection(dir: Direction): void {\n  localStorage.setItem(STORAGE_KEY, dir);\n}\n","import React from 'react';\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { readDirection } from '@/utils/dir-helper.util';\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'tw-fixed tw-inset-0 tw-z-50 tw-bg-black/80 data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => {\n  const dir = readDirection();\n  return (\n    <DialogPortal>\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        ref={ref}\n        className={cn(\n          'pr-twp tw-fixed tw-left-[50%] tw-top-[50%] tw-z-50 tw-grid tw-w-full tw-max-w-lg tw-translate-x-[-50%] tw-translate-y-[-50%] tw-gap-4 tw-border tw-bg-background tw-p-6 tw-shadow-lg tw-duration-200 data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[state=closed]:tw-slide-out-to-left-1/2 data-[state=closed]:tw-slide-out-to-top-[48%] data-[state=open]:tw-slide-in-from-left-1/2 data-[state=open]:tw-slide-in-from-top-[48%] sm:tw-rounded-lg',\n          className,\n        )}\n        {...props}\n        dir={dir}\n      >\n        {children}\n        <DialogPrimitive.Close\n          className={cn(\n            'tw-absolute tw-top-4 tw-rounded-sm tw-opacity-70 tw-ring-offset-background tw-transition-opacity hover:tw-opacity-100 focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2 disabled:tw-pointer-events-none data-[state=open]:tw-bg-accent data-[state=open]:tw-text-muted-foreground',\n            { 'tw-right-4': dir === 'ltr' },\n            { 'tw-left-4': dir === 'rtl' },\n          )}\n        >\n          <X className=\"tw-h-4 tw-w-4\" />\n          <span className=\"tw-sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n});\nDialogContent.displayName = DialogPrimitive.Content.displayName;\nfunction DialogHeader({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\n        'tw-flex tw-flex-col tw-space-y-1.5 tw-text-center sm:tw-text-start',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\nDialogHeader.displayName = 'DialogHeader';\n\nfunction DialogFooter({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\n        'tw-flex tw-flex-col-reverse sm:tw-flex-row sm:tw-justify-end sm:tw-space-x-2',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn('tw-text-lg tw-font-semibold tw-leading-none tw-tracking-tight', className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('tw-text-sm tw-text-muted-foreground', className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n","import React from 'react';\nimport { type DialogProps } from '@radix-ui/react-dialog';\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Search } from 'lucide-react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Dialog, DialogContent } from '@/components/shadcn-ui/dialog';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * Command menu for React. These components are built on cmdk and styled with Shadcn UI. See Shadcn\n * UI documentation: https://ui.shadcn.com/docs/components/command See cmdk documentation:\n * https://cmdk.paco.me/\n */\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      'tw-flex tw-h-full tw-w-full tw-flex-col tw-overflow-hidden tw-rounded-md tw-bg-popover tw-text-popover-foreground',\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\ninterface CommandDialogProps extends DialogProps {}\n\n/** @inheritdoc Command */\nfunction CommandDialog({ children, ...props }: CommandDialogProps) {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"tw-overflow-hidden tw-p-0 tw-shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:tw-px-2 [&_[cmdk-group-heading]]:tw-font-medium [&_[cmdk-group-heading]]:tw-text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:tw-pt-0 [&_[cmdk-group]]:tw-px-2 [&_[cmdk-input-wrapper]_svg]:tw-h-5 [&_[cmdk-input-wrapper]_svg]:tw-w-5 [&_[cmdk-input]]:tw-h-12 [&_[cmdk-item]]:tw-px-2 [&_[cmdk-item]]:tw-py-3 [&_[cmdk-item]_svg]:tw-h-5 [&_[cmdk-item]_svg]:tw-w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\n/** @inheritdoc Command */\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <div className=\"tw-flex tw-items-center tw-border-b tw-px-3\" dir={dir}>\n      <Search className=\"tw-me-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50\" />\n      <CommandPrimitive.Input\n        ref={ref}\n        className={cn(\n          'tw-flex tw-h-11 tw-w-full tw-rounded-md tw-bg-transparent tw-py-3 tw-text-sm tw-outline-none placeholder:tw-text-muted-foreground disabled:tw-cursor-not-allowed disabled:tw-opacity-50',\n          className,\n        )}\n        {...props}\n      />\n    </div>\n  );\n});\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\n/** @inheritdoc Command */\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn('tw-max-h-[300px] tw-overflow-y-auto tw-overflow-x-hidden', className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\n/** @inheritdoc Command */\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty ref={ref} className=\"tw-py-6 tw-text-center tw-text-sm\" {...props} />\n));\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\n/** @inheritdoc Command */\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      'tw-overflow-hidden tw-p-1 tw-text-foreground [&_[cmdk-group-heading]]:tw-px-2 [&_[cmdk-group-heading]]:tw-py-1.5 [&_[cmdk-group-heading]]:tw-text-xs [&_[cmdk-group-heading]]:tw-font-medium [&_[cmdk-group-heading]]:tw-text-muted-foreground',\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\n/** @inheritdoc Command */\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn('tw--mx-1 tw-h-px tw-bg-border', className)}\n    {...props}\n  />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\n/** @inheritdoc Command */\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none data-[disabled=true]:tw-pointer-events-none data-[selected=true]:tw-bg-accent data-[selected=true]:tw-text-accent-foreground data-[disabled=true]:tw-opacity-50',\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\n/** @inheritdoc Command */\nfunction CommandShortcut({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) {\n  return (\n    <span\n      className={cn('tw-ms-auto tw-text-xs tw-tracking-widest tw-text-muted-foreground', className)}\n      {...props}\n    />\n  );\n}\nCommandShortcut.displayName = 'CommandShortcut';\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n};\n","import React from 'react';\nimport * as PopoverPrimitive from '@radix-ui/react-popover';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * The Popover component displays rich content in a portal, triggered by a button. This popover is\n * built on Radix UI's Popover component and styled by Shadcn UI.\n *\n * See Shadcn UI Documentation https://ui.shadcn.com/docs/components/popover See Radix UI\n * Documentation https://www.radix-ui.com/docs/primitives/components/popover\n */\nconst Popover = PopoverPrimitive.Root;\n\n/** @inheritdoc Popover */\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\n/** @inheritdoc Popover */\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        ref={ref}\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          'pr-twp tw-z-50 tw-w-72 tw-rounded-md tw-border tw-bg-popover tw-p-4 tw-text-popover-foreground tw-shadow-md tw-outline-none data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n          className,\n        )}\n        {...props}\n        dir={dir}\n      />\n    </PopoverPrimitive.Portal>\n  );\n});\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent };\n","import { useCallback, useLayoutEffect, useMemo, useRef, useState, KeyboardEvent } from 'react';\nimport { Canon, SerializedVerseRef } from '@sillsdev/scripture';\nimport { formatScrRef, getChaptersForBook } from 'platform-bible-utils';\nimport { ArrowLeft, ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react';\nimport { Button } from '@/components/shadcn-ui/button';\nimport {\n  Command,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/shadcn-ui/command';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/shadcn-ui/popover';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\nconst ALL_BOOK_IDS = Canon.allBookIds.filter(\n  (bookId) => !Canon.isObsolete(Canon.bookIdToNumber(bookId)),\n);\nconst ALL_ENGLISH_BOOK_NAMES = Object.fromEntries(\n  ALL_BOOK_IDS.map((bookId) => [bookId, Canon.bookIdToEnglishName(bookId)]),\n);\n\ntype BookType = 'OT' | 'NT' | 'DC' | 'Extra';\nconst BOOK_TYPE_LABELS: Record<BookType, string> = {\n  OT: 'Old Testament',\n  NT: 'New Testament',\n  DC: 'Deuterocanon',\n  Extra: 'Extra',\n};\n\n// Smart parsing regex patterns\nconst SCRIPTURE_REGEX_PATTERNS = {\n  // Matches start of string (`^`), one or more non-colon/space words, optionally followed by space and more words (`([^:\\s]+(?:\\s+[^:\\s]+)*)`), end of string (`$`), case-insensitive (`i`)\n  BOOK_ONLY: /^([^:\\s]+(?:\\s+[^:\\s]+)*)$/i,\n  // Same as above, but followed by a space and a chapter number (`\\s+(\\d+)`)\n  BOOK_CHAPTER: /^([^:\\s]+(?:\\s+[^:\\s]+)*)\\s+(\\d+)$/i,\n  // Same as above, but followed by a colon and optionally a verse number (`:(\\d*)`)\n  BOOK_CHAPTER_VERSE: /^([^:\\s]+(?:\\s+[^:\\s]+)*)\\s+(\\d+):(\\d*)$/i,\n} as const;\n\nconst SEARCH_QUERY_FORMATS = [\n  SCRIPTURE_REGEX_PATTERNS.BOOK_ONLY,\n  SCRIPTURE_REGEX_PATTERNS.BOOK_CHAPTER,\n  SCRIPTURE_REGEX_PATTERNS.BOOK_CHAPTER_VERSE,\n];\n\ntype BookWithOptionalChapterAndVerse = Omit<SerializedVerseRef, 'chapterNum' | 'verseNum'> &\n  Partial<Pick<SerializedVerseRef, 'chapterNum' | 'verseNum'>>;\n\n// View modes for the component\ntype ViewMode = 'books' | 'chapters';\n\nfunction fetchEndChapter(bookId: string) {\n  // getChaptersForBook returns -1 if not found in scrBookData\n  // scrBookData only includes OT and NT, so all DC will return -1\n  return getChaptersForBook(Canon.bookIdToNumber(bookId));\n}\n\nexport type BookChapterControlProps = {\n  /** The current scripture reference */\n  scrRef: SerializedVerseRef;\n  /** Function to handle the submission of selected references */\n  handleSubmit: (scrRef: SerializedVerseRef) => void;\n  /** Optional additional class name for styling */\n  className?: string;\n  /** Function to retrieve active book IDs */\n  getActiveBookIds?: () => string[];\n};\n\n/**\n * `BookChapterControl` is a component that provides an interactive UI for selecting book chapters.\n * It allows users to input a search query to find specific books and chapters, navigate through\n * options with keyboard interactions, and submit selections. The component handles various\n * interactions such as opening and closing the dropdown menu, filtering book lists based on search\n * input, and managing highlighted selections. It also integrates with external handlers for\n * submitting selected references and retrieving active book IDs.\n *\n * @param {BookChapterControlProps} props\n * @param {SerializedVerseRef} props.scrRef - The current scripture reference.\n * @param {function} props.handleSubmit - Function to handle the submission of selected references.\n * @param {string} [props.className] - Optional additional class name for styling.\n * @param {function} [props.getActiveBookIds] - Function to retrieve active book IDs.\n */\nexport function BookChapterControl({\n  scrRef,\n  handleSubmit,\n  className,\n  getActiveBookIds,\n}: BookChapterControlProps) {\n  const dir: Direction = readDirection();\n\n  // Indicates if the Command popover is open or not\n  const [isCommandOpen, setIsCommandOpen] = useState(false);\n  // The value of the Command, mainly needed for reliable keyboard navigation\n  const [commandValue, setCommandValue] = useState('');\n  // The value of the Input inside the Command\n  const [inputValue, setInputValue] = useState('');\n  // The current view mode (books or chapters)\n  const [viewMode, setViewMode] = useState<ViewMode>('books');\n  // The book currently selected for chapter view, if any\n  const [selectedBookForChaptersView, setSelectedBookForChaptersView] = useState<\n    string | undefined\n  >(undefined);\n\n  // Reference to the Input component inside the Command\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const commandInputRef = useRef<HTMLInputElement>(undefined!);\n  // Reference to the CommandList inside the Command\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const commandListRef = useRef<HTMLDivElement>(undefined!);\n  // Reference to the selected book item in the CommandList\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const selectedBookItemRef = useRef<HTMLDivElement>(undefined!);\n  // References to the chapters that are shown as CommandItems\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const chapterRefs = useRef<Record<number, HTMLDivElement | null>>({});\n\n  // #region Available books, filtering and top match logic\n\n  const activeBookIds = useMemo(() => {\n    return getActiveBookIds ? getActiveBookIds() : ALL_BOOK_IDS;\n  }, [getActiveBookIds]);\n\n  const availableBooksByType = useMemo(() => {\n    const grouped: Record<BookType, string[]> = {\n      OT: activeBookIds.filter((bookId) => Canon.isBookOT(bookId)),\n      NT: activeBookIds.filter((bookId) => Canon.isBookNT(bookId)),\n      DC: activeBookIds.filter((bookId) => Canon.isBookDC(bookId)),\n      Extra: activeBookIds.filter((bookId) => Canon.extraBooks().includes(bookId)),\n    };\n    return grouped;\n  }, [activeBookIds]);\n\n  const availableBooks = useMemo(() => {\n    return Object.values(availableBooksByType).flat();\n  }, [availableBooksByType]);\n\n  // Filter books based on search input\n  const filteredBooksByType = useMemo(() => {\n    if (!inputValue.trim()) return availableBooksByType;\n\n    const inputValueLowerCase = inputValue.toLowerCase();\n    const filteredBooks: Record<BookType, string[]> = { OT: [], NT: [], DC: [], Extra: [] };\n\n    const bookTypes: BookType[] = ['OT', 'NT', 'DC', 'Extra'];\n    bookTypes.forEach((type) => {\n      filteredBooks[type] = availableBooksByType[type].filter((bookId) => {\n        const englishName = ALL_ENGLISH_BOOK_NAMES[bookId].toLowerCase();\n        return (\n          englishName.includes(inputValueLowerCase) ||\n          bookId.toLowerCase().includes(inputValueLowerCase)\n        );\n      });\n    });\n\n    return filteredBooks;\n  }, [availableBooksByType, inputValue]);\n\n  // Calculate top match based on current search query\n  const calculateTopMatch = useCallback(\n    (query: string): BookWithOptionalChapterAndVerse | undefined => {\n      if (!query.trim()) return undefined;\n\n      // First try smart parsing with regex patterns\n      const smartParseResult = SEARCH_QUERY_FORMATS.reduce(\n        (result: BookWithOptionalChapterAndVerse | undefined, format) => {\n          if (result) return result;\n\n          const matches = format.exec(query.trim());\n          if (matches) {\n            const [book, chapter = undefined, verse = undefined] = matches.slice(1);\n\n            let validBookId: string | undefined;\n\n            // Match for exact full book name\n            const getBookIdFromEnglishName = (bookName: string): string | undefined => {\n              return Object.keys(ALL_ENGLISH_BOOK_NAMES).find(\n                (bookId) => ALL_ENGLISH_BOOK_NAMES[bookId].toLowerCase() === bookName.toLowerCase(),\n              );\n            };\n\n            const matchingBookIdForFullName = getBookIdFromEnglishName(book);\n            if (matchingBookIdForFullName && availableBooks.includes(matchingBookIdForFullName)) {\n              validBookId = matchingBookIdForFullName;\n            }\n\n            // Match for exact book id\n            if (!validBookId && Canon.isBookIdValid(book)) {\n              const bookUpperCase = book.toUpperCase();\n              if (availableBooks.includes(bookUpperCase)) {\n                validBookId = bookUpperCase;\n              }\n            }\n\n            // Match for partial book name or id\n            if (!validBookId) {\n              const bookLowerCase = book.toLowerCase();\n\n              const allPotentialMatches = availableBooks.filter((bookId) => {\n                const bookEnglishName = ALL_ENGLISH_BOOK_NAMES[bookId];\n                return (\n                  bookEnglishName.toLowerCase().includes(bookLowerCase) ||\n                  bookId.toLowerCase().includes(bookLowerCase)\n                );\n              });\n\n              // Only create a topMatch if exactly one book could match\n              if (allPotentialMatches.length === 1) {\n                [validBookId] = allPotentialMatches;\n              }\n            }\n\n            if (validBookId) {\n              const chapterNum = chapter ? parseInt(chapter, 10) : undefined;\n              if (chapterNum && chapterNum > fetchEndChapter(validBookId)) return undefined;\n              const verseNum = verse ? parseInt(verse, 10) : undefined;\n\n              return {\n                book: validBookId,\n                chapterNum,\n                verseNum,\n              };\n            }\n          }\n\n          return undefined;\n        },\n        undefined,\n      );\n\n      if (smartParseResult) return smartParseResult;\n\n      return undefined;\n    },\n    [availableBooks],\n  );\n\n  // Get the current top match\n  const topMatch = useMemo(() => calculateTopMatch(inputValue), [calculateTopMatch, inputValue]);\n\n  const commandFilter = useCallback(\n    (value: string, search: string) => {\n      // Custom filter that preserves original order\n      // Return 1 if the item matches, 0 if it doesn't\n      // All matching items get the same rank to maintain original order\n      if (!search) return 1; // Show all items when no search\n\n      const searchLower = search.toLowerCase();\n      const valueLower = value.toLowerCase();\n\n      // If we have a topMatch (smart parsing succeeded), we need special handling\n      if (topMatch) {\n        // For the top match item itself, always show it\n        if (\n          valueLower.includes(topMatch.book.toLowerCase()) &&\n          valueLower.includes(ALL_ENGLISH_BOOK_NAMES[topMatch.book].toLowerCase())\n        ) {\n          return 1;\n        }\n\n        // For chapter items when showing top match chapters, check if they match the parsed book\n        if (\n          value.includes(topMatch.book) &&\n          value.includes(ALL_ENGLISH_BOOK_NAMES[topMatch.book])\n        ) {\n          return 1;\n        }\n      }\n\n      // Regular filtering: check if search term appears anywhere in the value\n      if (valueLower.includes(searchLower)) {\n        return 1; // All matches get the same rank (no reordering)\n      }\n\n      return 0; // Hide non-matches\n    },\n    [topMatch],\n  );\n\n  // #endregion\n\n  // #region Submitting references\n\n  const handleTopMatchSelect = useCallback(() => {\n    // If we have a top match (smart parsed or single book filter), use its specific chapter/verse\n    if (topMatch) {\n      handleSubmit({\n        book: topMatch.book,\n        chapterNum: topMatch.chapterNum ?? 1,\n        verseNum: topMatch.verseNum ?? 1,\n      });\n      setIsCommandOpen(false);\n      setInputValue('');\n      setCommandValue(''); // Reset command value\n    }\n  }, [handleSubmit, topMatch]);\n\n  const handleBookSelect = useCallback(\n    (bookId: string) => {\n      // Check if book has chapters - if not, submit immediately\n      const endChapter = fetchEndChapter(bookId);\n      if (endChapter <= 1) {\n        handleSubmit({\n          book: bookId,\n          chapterNum: 1,\n          verseNum: 1,\n        });\n        setIsCommandOpen(false);\n        setInputValue('');\n        return;\n      }\n\n      // Book has multiple chapters - transition to chapter view\n      setSelectedBookForChaptersView(bookId);\n      setViewMode('chapters');\n    },\n    [handleSubmit],\n  );\n\n  const handleChapterSelect = useCallback(\n    (chapterNumber: number) => {\n      // Determine which book we're selecting a chapter for\n      const bookId = viewMode === 'chapters' ? selectedBookForChaptersView : topMatch?.book;\n      if (!bookId) return;\n\n      handleSubmit({\n        book: bookId,\n        chapterNum: chapterNumber,\n        verseNum: 1,\n      });\n      setIsCommandOpen(false);\n      setViewMode('books');\n      setSelectedBookForChaptersView(undefined);\n      setInputValue('');\n    },\n    [handleSubmit, viewMode, selectedBookForChaptersView, topMatch],\n  );\n\n  // #endregion\n\n  // #region Navigation and view changes\n\n  const handleBackToBooks = useCallback(() => {\n    setViewMode('books');\n    setSelectedBookForChaptersView(undefined);\n\n    // Focus the search input when returning to book view\n    setTimeout(() => {\n      if (commandInputRef.current) {\n        commandInputRef.current.focus();\n      }\n    }, 0);\n  }, []);\n\n  const handlePreviousChapter = useCallback(() => {\n    if (scrRef.chapterNum > 1) {\n      handleSubmit({\n        book: scrRef.book,\n        chapterNum: scrRef.chapterNum - 1,\n        verseNum: 1,\n      });\n    } else {\n      // Go to previous book's last chapter\n      const currentBookIndex = availableBooks.indexOf(scrRef.book);\n      if (currentBookIndex > 0) {\n        const previousBook = availableBooks[currentBookIndex - 1];\n        const lastChapter = Math.max(fetchEndChapter(previousBook), 1);\n        handleSubmit({\n          book: previousBook,\n          chapterNum: lastChapter,\n          verseNum: 1,\n        });\n      }\n    }\n  }, [scrRef, availableBooks, handleSubmit]);\n\n  const handleNextChapter = useCallback(() => {\n    const maxChapter = fetchEndChapter(scrRef.book);\n    if (scrRef.chapterNum < maxChapter) {\n      handleSubmit({\n        book: scrRef.book,\n        chapterNum: scrRef.chapterNum + 1,\n        verseNum: 1,\n      });\n    } else {\n      // Go to next book's first chapter\n      const currentBookIndex = availableBooks.indexOf(scrRef.book);\n      if (currentBookIndex < availableBooks.length - 1) {\n        const nextBook = availableBooks[currentBookIndex + 1];\n        handleSubmit({\n          book: nextBook,\n          chapterNum: 1,\n          verseNum: 1,\n        });\n      }\n    }\n  }, [scrRef, availableBooks, handleSubmit]);\n\n  const handlePreviousBook = useCallback(() => {\n    const currentBookIndex = availableBooks.indexOf(scrRef.book);\n    if (currentBookIndex > 0) {\n      const previousBook = availableBooks[currentBookIndex - 1];\n      handleSubmit({\n        book: previousBook,\n        chapterNum: 1,\n        verseNum: 1,\n      });\n    }\n  }, [scrRef, availableBooks, handleSubmit]);\n\n  const handleNextBook = useCallback(() => {\n    const currentBookIndex = availableBooks.indexOf(scrRef.book);\n    if (currentBookIndex < availableBooks.length - 1) {\n      const nextBook = availableBooks[currentBookIndex + 1];\n      handleSubmit({\n        book: nextBook,\n        chapterNum: 1,\n        verseNum: 1,\n      });\n    }\n  }, [scrRef, availableBooks, handleSubmit]);\n\n  const quickNavButtons = useMemo(() => {\n    return [\n      {\n        onClick: handlePreviousBook,\n        disabled: availableBooks.indexOf(scrRef.book) === 0,\n        title: 'Previous Book',\n        icon: dir === 'ltr' ? ChevronsLeft : ChevronsRight,\n      },\n      {\n        onClick: handlePreviousChapter,\n        disabled: scrRef.chapterNum === 1 && availableBooks.indexOf(scrRef.book) === 0,\n        title: 'Previous Chapter',\n        icon: dir === 'ltr' ? ChevronLeft : ChevronRight,\n      },\n      {\n        onClick: handleNextChapter,\n        disabled:\n          (scrRef.chapterNum === fetchEndChapter(scrRef.book) ||\n            fetchEndChapter(scrRef.book) === -1) &&\n          availableBooks.indexOf(scrRef.book) === availableBooks.length - 1,\n        title: 'Next Chapter',\n        icon: dir === 'ltr' ? ChevronRight : ChevronLeft,\n      },\n      {\n        onClick: handleNextBook,\n        disabled: availableBooks.indexOf(scrRef.book) === availableBooks.length - 1,\n        title: 'Next Book',\n        icon: dir === 'ltr' ? ChevronsRight : ChevronsLeft,\n      },\n    ];\n  }, [\n    handlePreviousBook,\n    availableBooks,\n    scrRef.book,\n    scrRef.chapterNum,\n    dir,\n    handlePreviousChapter,\n    handleNextChapter,\n    handleNextBook,\n  ]);\n\n  // Reset view state when popover opens\n  const handleOpenChange = useCallback(\n    (shouldCommandBeOpen: boolean) => {\n      // If we're closing from chapter view, don't close popover but go back to books view instead\n      if (!shouldCommandBeOpen && viewMode === 'chapters') {\n        handleBackToBooks();\n        return;\n      }\n\n      setIsCommandOpen(shouldCommandBeOpen);\n\n      if (shouldCommandBeOpen) {\n        // Reset Command state when opening\n        setViewMode('books');\n        setSelectedBookForChaptersView(undefined);\n        setInputValue('');\n      }\n    },\n    [viewMode, handleBackToBooks],\n  );\n\n  // #endregion\n\n  // #region Helper functions and variables\n\n  const isChapterDisabled = useCallback(\n    (chapter: number) => {\n      if (!topMatch) return false;\n      return !!topMatch.chapterNum && !chapter.toString().includes(topMatch.chapterNum.toString());\n    },\n    [topMatch],\n  );\n\n  const currentDisplayValue = useMemo(() => formatScrRef(scrRef, 'English'), [scrRef]);\n\n  const chapterViewData = useMemo(() => {\n    const bookId = selectedBookForChaptersView ?? topMatch?.book;\n    if (!bookId) return undefined;\n\n    const endChapter = fetchEndChapter(bookId);\n    const bookName = ALL_ENGLISH_BOOK_NAMES[bookId];\n\n    return {\n      endChapter,\n      bookName,\n      selectedChapter: scrRef.book === bookId ? scrRef.chapterNum : 0,\n    };\n  }, [selectedBookForChaptersView, topMatch?.book, scrRef.book, scrRef.chapterNum]);\n\n  const generateCommandValue = useCallback((bookId: string, chapter?: number) => {\n    return `${bookId} ${ALL_ENGLISH_BOOK_NAMES[bookId]}${chapter ? ` ${chapter}` : ''}`;\n  }, []);\n\n  const setChapterRef = useCallback((chapter: number) => {\n    return (element: HTMLDivElement | null) => {\n      chapterRefs.current[chapter] = element;\n    };\n  }, []);\n\n  // #endregion\n\n  // #region Keyboard handling\n\n  // Handle keyboard navigation for CommandInput\n  const handleInputKeyDown = useCallback((event: KeyboardEvent<HTMLInputElement>) => {\n    // Override default Home and End key behavior to work normally for cursor movement.\n    // Default behavior was to jump to the start/end of the list of items in the Command\n    if (event.key === 'Home' || event.key === 'End') {\n      event.stopPropagation(); // Prevent Command component from handling these\n    }\n  }, []);\n\n  // Grid-aware keyboard navigation using Command's controlled value\n  const handleCommandKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      // if (event.ctrlKey) return;\n\n      const isLetter = /^[a-zA-Z]$/.test(event.key);\n      const isDigit = /^[0-9]$/.test(event.key);\n\n      // Handle keypresses in chapter viewmode\n      if (viewMode === 'chapters') {\n        // Handle backspace for going back to books\n        if (event.key === 'Backspace') {\n          event.preventDefault();\n          event.stopPropagation();\n          handleBackToBooks();\n          return;\n        }\n\n        if (isLetter || isDigit) {\n          event.preventDefault();\n          event.stopPropagation();\n          setViewMode('books');\n          setSelectedBookForChaptersView(undefined);\n\n          if (isDigit && selectedBookForChaptersView) {\n            // Digit pressed: go back to book list and start search with current book name + digit\n            const currentBookName = ALL_ENGLISH_BOOK_NAMES[selectedBookForChaptersView];\n            setInputValue(`${currentBookName} ${event.key}`);\n          } else {\n            setInputValue(event.key);\n          }\n\n          setTimeout(() => {\n            if (commandInputRef.current) {\n              commandInputRef.current.focus();\n            }\n          }, 0);\n          return;\n        }\n      }\n\n      // Handle keypresses in books viewmode\n      if (viewMode === 'books' && (isLetter || isDigit)) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        setInputValue((prevValue) => prevValue + event.key);\n\n        setTimeout(() => {\n          if (commandInputRef.current) {\n            commandInputRef.current.focus();\n          }\n        }, 0);\n        return;\n      }\n\n      // Handle grid navigation for arrow keys in chapter views\n      if (\n        (viewMode === 'chapters' || (viewMode === 'books' && topMatch)) &&\n        ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(event.key)\n      ) {\n        // Extract current chapter from commandValue\n        const currentBookId =\n          viewMode === 'chapters' ? selectedBookForChaptersView : topMatch?.book;\n        if (!currentBookId) return;\n\n        // Parse chapter from current command value\n        const currentChapter = (() => {\n          if (!commandValue) return 1;\n          const match = commandValue.match(/(\\d+)$/);\n          return match ? parseInt(match[1], 10) : 1;\n        })();\n\n        const maxChapter = chapterViewData?.endChapter;\n\n        if (!maxChapter) return;\n\n        // Helper function to find next valid (non-disabled) chapter in a direction\n        const findValidChapter = (startChapter: number, direction: number, maxSteps: number) => {\n          for (let i = 1; i <= maxSteps; i++) {\n            const chapterNumber = startChapter + direction * i;\n            if (chapterNumber < 1 || chapterNumber > maxChapter) break;\n            if (!isChapterDisabled(chapterNumber)) {\n              return chapterNumber;\n            }\n          }\n          return startChapter; // Return original if no valid chapter found\n        };\n\n        let targetChapter = currentChapter;\n        const GRID_COLS = 6;\n\n        switch (event.key) {\n          case 'ArrowLeft':\n            targetChapter = findValidChapter(currentChapter, -1, maxChapter);\n            break;\n          case 'ArrowRight':\n            targetChapter = findValidChapter(currentChapter, 1, maxChapter);\n            break;\n          case 'ArrowUp':\n            targetChapter = findValidChapter(\n              currentChapter,\n              -GRID_COLS,\n              Math.ceil(maxChapter / GRID_COLS),\n            );\n            break;\n          case 'ArrowDown':\n            targetChapter = findValidChapter(\n              currentChapter,\n              GRID_COLS,\n              Math.ceil(maxChapter / GRID_COLS),\n            );\n            break;\n          default:\n            return;\n        }\n\n        if (targetChapter !== currentChapter) {\n          event.preventDefault();\n          event.stopPropagation();\n\n          // Update the command value to the target chapter\n          setCommandValue(generateCommandValue(currentBookId, targetChapter));\n\n          // Scroll the target chapter into view using refs\n          setTimeout(() => {\n            const targetElement = chapterRefs.current[targetChapter];\n            if (targetElement) {\n              targetElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' });\n            }\n          }, 0);\n        }\n      }\n    },\n    [\n      viewMode,\n      topMatch,\n      handleBackToBooks,\n      selectedBookForChaptersView,\n      chapterViewData?.endChapter,\n      commandValue,\n      isChapterDisabled,\n      generateCommandValue,\n    ],\n  );\n\n  // #endregion\n\n  // #region Auto-scroll\n\n  // Auto-scroll to currently selected book when dropdown opens in book view\n  useLayoutEffect(() => {\n    const scrollTimeout = setTimeout(() => {\n      if (\n        isCommandOpen &&\n        viewMode === 'books' &&\n        commandListRef.current &&\n        selectedBookItemRef.current\n      ) {\n        const listElement = commandListRef.current;\n        const itemElement = selectedBookItemRef.current;\n\n        // Calculate scroll position to center the selected item\n        const itemOffsetTop = itemElement.offsetTop;\n        const listHeight = listElement.clientHeight;\n        const itemHeight = itemElement.clientHeight;\n        const scrollPosition = itemOffsetTop - listHeight / 2 + itemHeight / 2;\n\n        listElement.scrollTo({\n          top: Math.max(0, scrollPosition),\n          behavior: 'smooth',\n        });\n\n        // Set the selected book as the active item for keyboard navigation\n        setCommandValue(generateCommandValue(scrRef.book));\n      }\n    }, 0);\n\n    return () => {\n      clearTimeout(scrollTimeout);\n    };\n  }, [isCommandOpen, viewMode, inputValue, topMatch, scrRef.book, generateCommandValue]);\n\n  // Auto-scroll to appropriate chapter\n  useLayoutEffect(() => {\n    if (viewMode === 'chapters' && selectedBookForChaptersView) {\n      // Check if we're entering chapter view for the currently selected book\n      const isCurrentlySelectedBook = selectedBookForChaptersView === scrRef.book;\n\n      // Reset scroll position to top, except when viewing the currently selected book\n      setTimeout(() => {\n        if (commandListRef.current) {\n          if (isCurrentlySelectedBook) {\n            // Scroll to the currently selected chapter\n            const targetElement = chapterRefs.current[scrRef.chapterNum];\n            if (targetElement) {\n              targetElement.scrollIntoView({ block: 'center', behavior: 'smooth' });\n            }\n          } else {\n            // Reset to top for other books\n            commandListRef.current.scrollTo({ top: 0 });\n          }\n        }\n      }, 0);\n    }\n  }, [\n    viewMode,\n    selectedBookForChaptersView,\n    generateCommandValue,\n    topMatch,\n    scrRef.book,\n    scrRef.chapterNum,\n  ]);\n\n  // #endregion\n\n  return (\n    <Popover open={isCommandOpen} onOpenChange={handleOpenChange}>\n      <PopoverTrigger asChild>\n        <Button\n          aria-label=\"book-chapter-trigger\"\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={isCommandOpen}\n          className={cn('tw-h-8 tw-min-w-48', className)}\n        >\n          {currentDisplayValue}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"tw-w-[280px] tw-p-0\" align=\"center\">\n        <Command\n          onKeyDown={handleCommandKeyDown}\n          loop\n          value={commandValue}\n          onValueChange={setCommandValue}\n          filter={commandFilter}\n        >\n          {/* Header: Input (with quick nav buttons) for book view, fixed header for chapter view */}\n          {viewMode === 'books' ? (\n            <div className=\"tw-flex tw-items-end\">\n              <CommandInput\n                ref={commandInputRef}\n                placeholder={currentDisplayValue}\n                value={inputValue}\n                onValueChange={setInputValue}\n                onKeyDown={handleInputKeyDown}\n              />\n              {/* Navigation buttons for previous/next chapter/book */}\n              <div className=\"tw-flex tw-items-center tw-gap-1 tw-border-b tw-pe-2\">\n                {quickNavButtons.map(({ onClick, disabled, title, icon: Icon }) => (\n                  <Button\n                    key={title}\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={onClick}\n                    disabled={disabled}\n                    className=\"tw-h-10 tw-w-4 tw-p-0\"\n                    title={title}\n                  >\n                    <Icon />\n                  </Button>\n                ))}\n              </div>\n            </div>\n          ) : (\n            <div className=\"tw-flex tw-items-center tw-border-b tw-px-3 tw-py-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleBackToBooks}\n                className=\"tw-mr-2 tw-h-6 tw-w-6 tw-p-0\"\n              >\n                <ArrowLeft className=\"tw-h-4 tw-w-4\" />\n              </Button>\n              <span className=\"tw-text-sm tw-font-medium\">{chapterViewData?.bookName}</span>\n            </div>\n          )}\n\n          {/** Body */}\n          <CommandList ref={commandListRef}>\n            {/** Book list mode (also used in case of top matches) */}\n            {viewMode === 'books' && (\n              <>\n                {/* Book List - Show when we don't have a top match */}\n                {!topMatch &&\n                  Object.entries(filteredBooksByType).map(([type, books]) => {\n                    if (books.length === 0) return undefined;\n\n                    return (\n                      // We are mapping over filteredBooksByType, which uses BookType as key type\n                      // eslint-disable-next-line no-type-assertion/no-type-assertion\n                      <CommandGroup key={type} heading={BOOK_TYPE_LABELS[type as BookType]}>\n                        {books.map((bookId) => (\n                          <div\n                            key={bookId}\n                            className={cn(\n                              'tw-mx-1 tw-my-1 tw-border-b-0 tw-border-e-0 tw-border-s-2 tw-border-t-0 tw-border-solid',\n                              {\n                                'tw-border-s-red-200': type.toLowerCase() === 'ot',\n                                'tw-border-s-purple-200': type.toLowerCase() === 'nt',\n                                'tw-border-s-indigo-200': type.toLowerCase() === 'dc',\n                                'tw-border-s-amber-200': type.toLowerCase() === 'extra',\n                              },\n                            )}\n                          >\n                            <CommandItem\n                              value={`${bookId} ${ALL_ENGLISH_BOOK_NAMES[bookId]}`}\n                              onSelect={() => handleBookSelect(bookId)}\n                              ref={bookId === scrRef.book ? selectedBookItemRef : undefined}\n                              className=\"tw-ms-1 tw-px-2\"\n                            >\n                              {ALL_ENGLISH_BOOK_NAMES[bookId]}\n                            </CommandItem>\n                          </div>\n                        ))}\n                      </CommandGroup>\n                    );\n                  })}\n\n                {/* Top match scripture reference */}\n                {topMatch && (\n                  <CommandGroup>\n                    <CommandItem\n                      key=\"top-match\"\n                      value={`${topMatch.book} ${ALL_ENGLISH_BOOK_NAMES[topMatch.book]} ${\n                        topMatch.chapterNum || ''\n                      }:${topMatch.verseNum || ''})}`}\n                      onSelect={handleTopMatchSelect}\n                      className=\"tw-font-semibold tw-text-primary\"\n                    >\n                      {formatScrRef({\n                        book: topMatch.book,\n                        chapterNum: topMatch.chapterNum ?? 1,\n                        verseNum: topMatch.verseNum ?? 1,\n                      })}\n                    </CommandItem>\n                  </CommandGroup>\n                )}\n\n                {/* Chapter Selector - Show when we have a top match and chapter data is available */}\n                {topMatch && chapterViewData && chapterViewData.endChapter > 1 && (\n                  <>\n                    <div className=\"tw-mb-2 tw-px-3 tw-text-sm tw-font-medium tw-text-muted-foreground\">\n                      {chapterViewData.bookName} - Select Chapter\n                    </div>\n                    <CommandGroup>\n                      <div className=\"tw-grid tw-grid-cols-6 tw-gap-1 tw-px-4 tw-pb-4\">\n                        {Array.from({ length: chapterViewData.endChapter }, (_, i) => i + 1).map(\n                          (chapter) => (\n                            <CommandItem\n                              key={chapter}\n                              value={`${topMatch.book} ${ALL_ENGLISH_BOOK_NAMES[topMatch.book]} ${chapter}`}\n                              onSelect={() => handleChapterSelect(chapter)}\n                              ref={setChapterRef(chapter)}\n                              className={cn(\n                                'tw-h-8 tw-w-8 tw-cursor-pointer tw-justify-center tw-rounded-md tw-text-center tw-text-sm',\n                                {\n                                  'tw-bg-primary tw-text-primary-foreground':\n                                    chapter === chapterViewData.selectedChapter,\n                                },\n                              )}\n                              disabled={isChapterDisabled(chapter)}\n                            >\n                              {chapter}\n                            </CommandItem>\n                          ),\n                        )}\n                      </div>\n                    </CommandGroup>\n                  </>\n                )}\n              </>\n            )}\n\n            {/* Basic chapter view mode */}\n            {viewMode === 'chapters' && (\n              <CommandGroup>\n                <div className=\"tw-grid tw-grid-cols-6 tw-gap-1 tw-p-4\">\n                  {chapterViewData &&\n                    Array.from({ length: chapterViewData.endChapter }, (_, i) => i + 1).map(\n                      (chapter) => (\n                        <CommandItem\n                          key={chapter}\n                          value={`${selectedBookForChaptersView || ''} ${ALL_ENGLISH_BOOK_NAMES[selectedBookForChaptersView || ''] || ''} ${chapter}`}\n                          onSelect={() => handleChapterSelect(chapter)}\n                          ref={setChapterRef(chapter)}\n                          className={cn(\n                            'tw-h-8 tw-w-8 tw-cursor-pointer tw-justify-center tw-rounded-md tw-text-center tw-text-sm',\n                            {\n                              'tw-bg-primary tw-text-primary-foreground':\n                                chapter === chapterViewData.selectedChapter,\n                            },\n                          )}\n                        >\n                          {chapter}\n                        </CommandItem>\n                      ),\n                    )}\n                </div>\n              </CommandGroup>\n            )}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nexport default BookChapterControl;\n","import React from 'react';\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Style variants for the Label component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/label}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/label}\n */\nconst labelVariants = cva(\n  'tw-text-sm tw-font-medium tw-leading-none peer-disabled:tw-cursor-not-allowed peer-disabled:tw-opacity-70',\n);\n\n/**\n * The Label component renders an accessible label associated with controls. This components is\n * built on Radix UI primitives and styled with Shadcn UI.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/label}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/label}\n */\nexport const Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn('pr-twp', labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n","import React from 'react';\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group';\nimport { Circle } from 'lucide-react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * Radio Group components providing a set of checkable buttonsâ€”known as radio buttonsâ€”where no more\n * than one of the buttons can be checked at a time. These components are built on Radix UI\n * primitives and styled with Shadcn UI.\n *\n * See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/radio-group See Radix UI\n * Documentation: https://www.radix-ui.com/primitives/docs/components/radio-group\n */\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn('pr-twp tw-grid tw-gap-2', className)}\n      {...props}\n      ref={ref}\n      dir={dir}\n    />\n  );\n});\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName;\n\n/** @inheritdoc RadioGroup */\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        'pr-twp tw-aspect-square tw-h-4 tw-w-4 tw-rounded-full tw-border tw-border-primary tw-text-primary tw-ring-offset-background focus:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"tw-flex tw-items-center tw-justify-center\">\n        <Circle className=\"tw-h-2.5 tw-w-2.5 tw-fill-current tw-text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n});\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;\n\nexport { RadioGroup, RadioGroupItem };\n","import { ReactNode, useState } from 'react';\nimport { Check, ChevronsUpDown } from 'lucide-react';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Button, ButtonProps } from '@/components/shadcn-ui/button';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/shadcn-ui/popover';\nimport {\n  Command,\n  CommandEmpty,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/shadcn-ui/command';\nimport { PopoverProps } from '@radix-ui/react-popover';\n\nexport type ComboBoxLabelOption = { label: string };\nexport type ComboBoxOption = string | number | ComboBoxLabelOption;\n\nexport type ComboBoxProps<T> = {\n  /** Optional unique identifier */\n  id?: string;\n  /** List of available options for the dropdown menu */\n  options?: readonly T[];\n  /** @deprecated 3 December 2024. Renamed to `buttonClassName` */\n  className?: string;\n  /** Additional css classes to help with unique styling of the combo box button */\n  buttonClassName?: string;\n  /** Additional css classes to help with unique styling of the combo box popover */\n  popoverContentClassName?: string;\n  /**\n   * The selected value that the combo box currently holds. Must be shallow equal to one of the\n   * options entries.\n   */\n  value?: T;\n  /** Triggers when content of textfield is changed */\n  onChange?: (newValue: T) => void;\n  /** Used to determine the string value for a given option. */\n  getOptionLabel?: (option: T) => string;\n  /** Icon to be displayed on the trigger */\n  icon?: ReactNode;\n  /** Text displayed on button if `value` is undefined */\n  buttonPlaceholder?: string;\n  /** Placeholder text for text field */\n  textPlaceholder?: string;\n  /** Text to display when no options match input */\n  commandEmptyMessage?: string;\n  /** Variant of button */\n  buttonVariant?: ButtonProps['variant'];\n  /** Control how the popover menu should be aligned. Defaults to start */\n  alignDropDown?: 'start' | 'center' | 'end';\n  /** Optional boolean to set if trigger should be disabled */\n  isDisabled?: boolean;\n} & PopoverProps;\n\nfunction getOptionLabelDefault(option: ComboBoxOption): string {\n  if (typeof option === 'string') {\n    return option;\n  }\n  if (typeof option === 'number') {\n    return option.toString();\n  }\n  return option.label;\n}\n\n/**\n * Autocomplete input and command palette with a list of suggestions.\n *\n * Thanks to Shadcn for heavy inspiration and documentation\n * https://ui.shadcn.com/docs/components/combobox\n */\nexport function ComboBox<T extends ComboBoxOption = ComboBoxOption>({\n  id,\n  options = [],\n  className,\n  buttonClassName,\n  popoverContentClassName,\n  value,\n  onChange = () => {},\n  getOptionLabel = getOptionLabelDefault,\n  icon = undefined,\n  buttonPlaceholder = '',\n  textPlaceholder = '',\n  commandEmptyMessage = 'No option found',\n  buttonVariant = 'outline',\n  alignDropDown = 'start',\n  isDisabled = false,\n  ...props\n}: ComboBoxProps<T>) {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <Popover open={open} onOpenChange={setOpen} {...props}>\n      <PopoverTrigger asChild>\n        <Button\n          variant={buttonVariant}\n          role=\"combobox\"\n          aria-expanded={open}\n          id={id}\n          className={cn(\n            'tw-flex tw-w-[200px] tw-items-center tw-justify-between tw-overflow-hidden',\n            buttonClassName ?? className,\n          )}\n          disabled={isDisabled}\n        >\n          <div className=\"tw-flex tw-flex-1 tw-items-center tw-overflow-hidden\">\n            {icon && <div className=\"tw-pe-2\">{icon}</div>}\n            <span className={cn('tw-overflow-hidden tw-text-ellipsis tw-whitespace-nowrap')}>\n              {value ? getOptionLabel(value) : buttonPlaceholder}\n            </span>\n          </div>\n\n          <ChevronsUpDown className=\"tw-ms-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        align={alignDropDown}\n        className={cn('tw-w-[200px] tw-p-0', popoverContentClassName)}\n      >\n        <Command>\n          <CommandInput placeholder={textPlaceholder} className=\"tw-text-inherit\" />\n          <CommandEmpty>{commandEmptyMessage}</CommandEmpty>\n          <CommandList>\n            {options.map((option) => (\n              <CommandItem\n                key={getOptionLabel(option)}\n                value={getOptionLabel(option)}\n                onSelect={() => {\n                  onChange(option);\n                  setOpen(false);\n                }}\n              >\n                <Check\n                  className={cn('tw-me-2 tw-h-4 tw-w-4', {\n                    'tw-opacity-0': !value || getOptionLabel(value) !== getOptionLabel(option),\n                  })}\n                />\n                {getOptionLabel(option)}\n              </CommandItem>\n            ))}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nexport default ComboBox;\n","import { ComboBox } from '@/components/basics/combo-box.component';\nimport { Label } from '@/components/shadcn-ui/label';\nimport { useMemo } from 'react';\n\nexport type ChapterRangeSelectorProps = {\n  /** The selected start chapter */\n  startChapter: number;\n  /** The selected end chapter */\n  endChapter: number;\n  /** Callback function to handle the selection of the start chapter */\n  handleSelectStartChapter: (chapter: number) => void;\n  /** Callback function to handle the selection of the end chapter */\n  handleSelectEndChapter: (chapter: number) => void;\n  /** Flag to disable the component */\n  isDisabled?: boolean;\n  /** The total number of chapters available */\n  chapterCount: number;\n};\n\n/**\n * ChapterRangeSelector is a component that provides a UI for selecting a range of chapters. It\n * consists of two combo boxes for selecting the start and end chapters. The component ensures that\n * the selected start chapter is always less than or equal to the end chapter, and vice versa.\n *\n * @deprecated Jul 18 2025. This component is no longer supported or tested. Use of this component\n *   is discouraged and it may be removed in the future.\n * @param {ChapterRangeSelectorProps} props - The props for the component.\n */\n\nexport function ChapterRangeSelector({\n  startChapter,\n  endChapter,\n  handleSelectStartChapter,\n  handleSelectEndChapter,\n  isDisabled = false,\n  chapterCount,\n}: ChapterRangeSelectorProps) {\n  const chapterOptions = useMemo(\n    () => Array.from({ length: chapterCount }, (_, index) => index + 1),\n    [chapterCount],\n  );\n\n  const onChangeStartChapter = (value: number) => {\n    handleSelectStartChapter(value);\n    if (value > endChapter) {\n      handleSelectEndChapter(value);\n    }\n  };\n\n  const onChangeEndChapter = (value: number) => {\n    handleSelectEndChapter(value);\n    if (value < startChapter) {\n      handleSelectStartChapter(value);\n    }\n  };\n\n  return (\n    <>\n      <Label htmlFor=\"start-chapters-combobox\">Chapters</Label>\n      <ComboBox\n        isDisabled={isDisabled}\n        onChange={onChangeStartChapter}\n        buttonClassName=\"tw-me-2 tw-ms-2 tw-w-20\"\n        key=\"start chapter\"\n        options={chapterOptions}\n        getOptionLabel={(option) => option.toString()}\n        value={startChapter}\n      />\n\n      <Label htmlFor=\"end-chapters-combobox\">to</Label>\n      <ComboBox\n        isDisabled={isDisabled}\n        onChange={onChangeEndChapter}\n        buttonClassName=\"tw-ms-2 tw-w-20\"\n        key=\"end chapter\"\n        options={chapterOptions}\n        getOptionLabel={(option) => option.toString()}\n        value={endChapter}\n      />\n    </>\n  );\n}\n\nexport default ChapterRangeSelector;\n","import { Button } from '@/components/shadcn-ui/button';\nimport { Label } from '@/components/shadcn-ui/label';\nimport { RadioGroup, RadioGroupItem } from '@/components/shadcn-ui/radio-group';\nimport { Canon } from '@sillsdev/scripture';\nimport { LocalizedStringValue } from 'platform-bible-utils';\nimport { useState } from 'react';\nimport {\n  ChapterRangeSelector,\n  ChapterRangeSelectorProps,\n} from '../basics/chapter-range-selector.component';\n\n/** Enumeration of possible book selection modes */\nexport enum BookSelectionMode {\n  CURRENT_BOOK = 'current book',\n  CHOOSE_BOOKS = 'choose books',\n}\n\n/**\n * Object containing all keys used for localization in this component. If you're using this\n * component in an extension, you can pass it into the useLocalizedStrings hook to easily obtain the\n * localized strings and pass them into the localizedStrings prop of this component\n */\nexport const BOOK_SELECTOR_STRING_KEYS = Object.freeze([\n  '%webView_bookSelector_currentBook%',\n  '%webView_bookSelector_choose%',\n  '%webView_bookSelector_chooseBooks%',\n] as const);\n\nexport type BookSelectorLocalizedStrings = {\n  [localizedBookSelectorKey in (typeof BOOK_SELECTOR_STRING_KEYS)[number]]?: LocalizedStringValue;\n};\n\n/**\n * Gets the localized value for the provided key\n *\n * @param strings Object containing localized string\n * @param key Key for a localized string\n * @returns The localized value for the provided key, if available. Returns the key if no localized\n *   value is available\n */\nconst localizeString = (\n  strings: BookSelectorLocalizedStrings,\n  key: keyof BookSelectorLocalizedStrings,\n) => {\n  return strings[key] ?? key;\n};\n\ntype BookSelectorProps = ChapterRangeSelectorProps & {\n  handleBookSelectionModeChange: (newMode: BookSelectionMode) => void;\n  currentBookName: string;\n  onSelectBooks: () => void;\n  selectedBookIds: string[];\n  localizedStrings: BookSelectorLocalizedStrings;\n};\n\n/**\n * BookSelector is a component that provides an interactive UI for selecting books. It can be set to\n * either allow the user to select a single book or to choose multiple books. In the former case, it\n * will display the range of chapters in the selected book, and in the latter case it will display a\n * list of the selected books.\n *\n * @deprecated Jul 18 2025. This component is no longer supported or tested. Use of this component\n *   is discouraged and it may be removed in the future.\n * @param {BookSelectorProps} props\n * @param {function} props.handleBookSelectionModeChange - Callback function to handle changes in\n *   book selection mode.\n * @param {string} props.currentBookName - The name of the currently selected book.\n * @param {function} props.onSelectBooks - Callback function to handle book selection.\n * @param {string[]} props.selectedBookIds - An array of book IDs that have been selected.\n * @param {BookSelectorLocalizedStrings} props.localizedStrings - Object containing localized\n *   strings for the component.\n */\nexport function BookSelector({\n  handleBookSelectionModeChange,\n  currentBookName,\n  onSelectBooks,\n  selectedBookIds,\n  chapterCount,\n  endChapter,\n  handleSelectEndChapter,\n  startChapter,\n  handleSelectStartChapter,\n  localizedStrings,\n}: BookSelectorProps) {\n  const currentBookText = localizeString(localizedStrings, '%webView_bookSelector_currentBook%');\n  const chooseText = localizeString(localizedStrings, '%webView_bookSelector_choose%');\n  const chooseBooksText = localizeString(localizedStrings, '%webView_bookSelector_chooseBooks%');\n\n  const [bookSelectionMode, setBookSelectionMode] = useState<BookSelectionMode>(\n    BookSelectionMode.CURRENT_BOOK,\n  );\n\n  const onSelectionModeChange = (newMode: BookSelectionMode) => {\n    setBookSelectionMode(newMode);\n    handleBookSelectionModeChange(newMode);\n  };\n\n  return (\n    <RadioGroup\n      className=\"pr-twp tw-flex\"\n      value={bookSelectionMode}\n      // value is always a string but we need it to be BookSelectionMode\n      // eslint-disable-next-line no-type-assertion/no-type-assertion\n      onValueChange={(value: string) => onSelectionModeChange(value as BookSelectionMode)}\n    >\n      <div className=\"tw-flex tw-w-full tw-flex-col tw-gap-4\">\n        <div className=\"tw-grid tw-grid-cols-[25%,25%,50%]\">\n          <div className=\"tw-flex tw-items-center\">\n            <RadioGroupItem value={BookSelectionMode.CURRENT_BOOK} />\n            <Label className=\"tw-ms-1\">{currentBookText}</Label>\n          </div>\n          <Label className=\"tw-flex tw-items-center\">{currentBookName}</Label>\n          <div className=\"tw-flex tw-items-center tw-justify-end\">\n            <ChapterRangeSelector\n              isDisabled={bookSelectionMode === BookSelectionMode.CHOOSE_BOOKS}\n              handleSelectStartChapter={handleSelectStartChapter}\n              handleSelectEndChapter={handleSelectEndChapter}\n              chapterCount={chapterCount}\n              startChapter={startChapter}\n              endChapter={endChapter}\n            />\n          </div>\n        </div>\n        <div className=\"tw-grid tw-grid-cols-[25%,50%,25%]\">\n          <div className=\"tw-flex tw-items-center\">\n            <RadioGroupItem value={BookSelectionMode.CHOOSE_BOOKS} />\n            <Label className=\"tw-ms-1\">{chooseBooksText}</Label>\n          </div>\n          <Label className=\"tw-flex tw-items-center\">\n            {selectedBookIds.map((bookId: string) => Canon.bookIdToEnglishName(bookId)).join(', ')}\n          </Label>\n          <Button\n            disabled={bookSelectionMode === BookSelectionMode.CURRENT_BOOK}\n            onClick={() => onSelectBooks()}\n          >\n            {chooseText}\n          </Button>\n        </div>\n      </div>\n    </RadioGroup>\n  );\n}\n\nexport default BookSelector;\n","import { cva } from 'class-variance-authority';\nimport { createContext, useContext } from 'react';\n\nexport type MenuContextProps = {\n  variant?: 'default' | 'muted';\n};\n\nexport const MenuContext = createContext<MenuContextProps | undefined>(undefined);\n\nexport function useMenuContext() {\n  const context = useContext(MenuContext);\n  if (!context) {\n    throw new Error('useMenuContext must be used within a MenuContext.Provider.');\n  }\n\n  return context;\n}\n\nexport const menuVariants = cva('', {\n  variants: {\n    variant: {\n      default: '',\n      muted:\n        'hover:tw-bg-muted hover:tw-text-foreground focus:tw-bg-muted focus:tw-text-foreground data-[state=open]:tw-bg-muted data-[state=open]:tw-text-foreground',\n    },\n  },\n  defaultVariants: {\n    variant: 'default',\n  },\n});\n","import {\n  MenuContext,\n  MenuContextProps,\n  menuVariants,\n  useMenuContext,\n} from '@/context/menu.context';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { Check, ChevronRight, Circle } from 'lucide-react';\nimport React from 'react';\n\n/**\n * Dropdown Menu components providing accessible dropdown menus and submenus. These components are\n * built on Radix UI primitives and styled with Shadcn UI. See Shadcn UI Documentation:\n * https://ui.shadcn.com/docs/components/dropdown-menu See Radix UI Documentation:\n * https://www.radix-ui.com/primitives/docs/components/dropdown-menu\n */\n/* #region CUSTOM Add variant prop to support different styles */\nexport type DropdownMenuProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.Root\n> & {\n  variant?: MenuContextProps['variant'];\n};\n/* #endregion CUSTOM */\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuSubTriggerProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.SubTrigger\n> & {\n  className?: string;\n  inset?: boolean;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuSubContentProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.SubContent\n> & {\n  className?: string;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuContentProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.Content\n> & {\n  className?: string;\n  sideOffset?: number;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuItemProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.Item\n> & {\n  className?: string;\n  inset?: boolean;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuCheckboxItemProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.CheckboxItem\n> & {\n  className?: string;\n  checked?: boolean;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuRadioItemProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.RadioItem\n> & {\n  className?: string;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuLabelProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.Label\n> & {\n  className?: string;\n  inset?: boolean;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuSeparatorProps = React.ComponentPropsWithoutRef<\n  typeof DropdownMenuPrimitive.Separator\n> & {\n  className?: string;\n};\n\n/** @inheritdoc DropdownMenuProps */\nexport type DropdownMenuShortcutProps = React.HTMLAttributes<HTMLSpanElement> & {\n  className?: string;\n};\n\n/* #region CUSTOM Provide context to add variants */\n/** @inheritdoc DropdownMenuProps */\nexport function DropdownMenu({ variant = 'default', ...props }: DropdownMenuProps) {\n  const contextValue = React.useMemo<MenuContextProps>(\n    () => ({\n      variant,\n    }),\n    [variant],\n  );\n  return (\n    <MenuContext.Provider value={contextValue}>\n      <DropdownMenuPrimitive.Root {...props} />\n    </MenuContext.Provider>\n  );\n}\n/* #endregion CUSTOM */\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  DropdownMenuSubTriggerProps\n>(({ className, inset, children, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      ref={ref}\n      className={cn(\n        'tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent data-[state=open]:tw-bg-accent',\n        inset && 'tw-pl-8',\n        className,\n        menuVariants({ variant: context.variant }), // CUSTOM use context to add variants\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRight className=\"tw-ml-auto tw-h-4 tw-w-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n});\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  DropdownMenuSubContentProps\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      'pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-lg data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\n/* TODO: bug in shadcn component: DropdownMenuContent does not support a dir prop.\nFor the content we can work around this by adding a div with dir, but that would not cause\nthe scrollbar to appear left in an rtl layout (e.g. see book-chapter-control.component) */\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  DropdownMenuContentProps\n>(({ className, sideOffset = 4, children, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        ref={ref}\n        sideOffset={sideOffset}\n        className={cn(\n          /* adding pr-twp because the dropdown content is added to the dom as a sibling to the app root */\n          'pr-twp tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n          className,\n        )}\n        {...props}\n      >\n        <div dir={dir}>{children}</div>\n      </DropdownMenuPrimitive.Content>\n    </DropdownMenuPrimitive.Portal>\n  );\n});\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  DropdownMenuItemProps\n>(({ className, inset, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <DropdownMenuPrimitive.Item\n      ref={ref}\n      className={cn(\n        // removed: tw-relative focus:tw-text-accent-foreground\n        'tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        inset && 'tw-pl-8',\n        className,\n        menuVariants({ variant: context.variant }), // CUSTOM use context to add variants\n      )}\n      {...props}\n      dir={dir}\n    />\n  );\n});\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  DropdownMenuCheckboxItemProps\n>(({ className, children, checked, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      ref={ref}\n      className={cn(\n        'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        className,\n        menuVariants({ variant: context.variant }), // CUSTOM use context to add variants\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <Check className=\"tw-h-4 tw-w-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n});\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  DropdownMenuRadioItemProps\n>(({ className, children, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      ref={ref}\n      className={cn(\n        'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none tw-transition-colors focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        className,\n        menuVariants({ variant: context.variant }), // CUSTOM use context to add variants\n      )}\n      {...props}\n    >\n      <span className=\"tw-absolute tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center ltr:tw-left-2 rtl:tw-right-2\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <Circle className=\"tw-h-2 tw-w-2 tw-fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n});\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  DropdownMenuLabelProps\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn('tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold', inset && 'tw-pl-8', className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport const DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  DropdownMenuSeparatorProps\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn('tw--mx-1 tw-my-1 tw-h-px tw-bg-muted', className)}\n    {...props}\n  />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\n/** @inheritdoc DropdownMenuProps */\nexport function DropdownMenuShortcut({ className, ...props }: DropdownMenuShortcutProps) {\n  return (\n    <span\n      className={cn('tw-ms-auto tw-text-xs tw-tracking-widest tw-opacity-60', className)}\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...props}\n    />\n  );\n}\nDropdownMenuShortcut.displayName = 'DropdownMenuShortcut';\n","import { DropdownMenuTrigger } from '@radix-ui/react-dropdown-menu';\nimport { FilterIcon } from 'lucide-react';\nimport { Table } from '@tanstack/react-table';\n\nimport { Button } from '@/components/shadcn-ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n} from '@/components/shadcn-ui/dropdown-menu';\n\ninterface DataTableViewOptionsProps<TData> {\n  table: Table<TData>;\n}\n\nexport function DataTableViewOptions<TData>({ table }: DataTableViewOptionsProps<TData>) {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\" className=\"tw-ml-auto tw-hidden tw-h-8 lg:tw-flex\">\n          <FilterIcon className=\"tw-mr-2 tw-h-4 tw-w-4\" />\n          View\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"tw-w-[150px]\">\n        <DropdownMenuLabel>Toggle columns</DropdownMenuLabel>\n        <DropdownMenuSeparator />\n        {table\n          .getAllColumns()\n          .filter((column) => column.getCanHide())\n          .map((column) => {\n            return (\n              <DropdownMenuCheckboxItem\n                key={column.id}\n                className=\"tw-capitalize\"\n                checked={column.getIsVisible()}\n                onCheckedChange={(value) => column.toggleVisibility(!!value)}\n              >\n                {column.id}\n              </DropdownMenuCheckboxItem>\n            );\n          })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nexport default DataTableViewOptions;\n","import React from 'react';\nimport * as SelectPrimitive from '@radix-ui/react-select';\nimport { Check, ChevronDown, ChevronUp } from 'lucide-react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\nimport { cva, VariantProps } from 'class-variance-authority';\n\n/**\n * Props for Select component\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/select}\n */\nexport interface SelectTriggerProps\n  extends React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>,\n    VariantProps<typeof selectTriggerVariants> {\n  asChild?: boolean;\n}\n\n/**\n * Select components display a list of options for the user to pick fromâ€”triggered by a button.\n * These components are built on Radix UI primitives and styled with Shadcn UI.\n *\n * See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/select See Radix UI\n * Documentation: https://www.radix-ui.com/primitives/docs/components/select\n */\nconst Select = SelectPrimitive.Root;\n\n/** @inheritdoc Select */\nconst SelectGroup = SelectPrimitive.Group;\n\n/** @inheritdoc Select */\nconst SelectValue = SelectPrimitive.Value;\n\n/**\n * Style variants for the Select Trigger component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/button}\n */\nexport const selectTriggerVariants = cva(\n  'tw-flex tw-h-10 tw-w-full tw-items-center tw-justify-between tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-sm tw-ring-offset-background placeholder:tw-text-muted-foreground focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 [&>span]:tw-line-clamp-1',\n  {\n    variants: {\n      size: {\n        default: 'tw-h-10 tw-px-4 tw-py-2',\n        sm: 'tw-h-8 tw-rounded-md tw-px-3',\n        lg: 'tw-h-11 tw-rounded-md tw-px-8',\n        icon: 'tw-h-10 tw-w-10',\n      },\n    },\n    defaultVariants: {\n      size: 'default',\n    },\n  },\n);\n\n/** @inheritdoc Select */\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  SelectTriggerProps\n>(({ className, children, size, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <SelectPrimitive.Trigger\n      className={cn(selectTriggerVariants({ size, className }))}\n      ref={ref}\n      {...props}\n      dir={dir}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDown className=\"tw-h-4 tw-w-4 tw-opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  );\n});\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\n/** @inheritdoc Select */\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn('tw-flex tw-cursor-default tw-items-center tw-justify-center tw-py-1', className)}\n    {...props}\n  >\n    <ChevronUp className=\"tw-h-4 tw-w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\n/** @inheritdoc Select */\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn('tw-flex tw-cursor-default tw-items-center tw-justify-center tw-py-1', className)}\n    {...props}\n  >\n    <ChevronDown className=\"tw-h-4 tw-w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\n/** @inheritdoc Select */\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = 'popper', ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        ref={ref}\n        className={cn(\n          'pr-twp tw-relative tw-z-50 tw-max-h-96 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n          position === 'popper' &&\n            'data-[side=bottom]:tw-translate-y-1 data-[side=left]:tw--translate-x-1 data-[side=right]:tw-translate-x-1 data-[side=top]:tw--translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'tw-p-1',\n            position === 'popper' &&\n              'tw-h-[var(--radix-select-trigger-height)] tw-w-full tw-min-w-[var(--radix-select-trigger-width)]',\n          )}\n        >\n          <div dir={dir}>{children}</div>\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  );\n});\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\n/** @inheritdoc Select */\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn('tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-font-semibold', className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\n/** @inheritdoc Select */\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      'tw-relative tw-flex tw-w-full tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pe-2 tw-ps-8 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"tw-absolute tw-start-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"tw-h-4 tw-w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\n/** @inheritdoc Select */\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn('tw--mx-1 tw-my-1 tw-h-px tw-bg-muted', className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n","import { ChevronLeftIcon, ChevronRightIcon, ArrowLeftIcon, ArrowRightIcon } from 'lucide-react';\nimport { Table } from '@tanstack/react-table';\n\nimport { Button } from '@/components/shadcn-ui/button';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/shadcn-ui/select';\n\ninterface DataTablePaginationProps<TData> {\n  table: Table<TData>;\n}\n\nexport function DataTablePagination<TData>({ table }: DataTablePaginationProps<TData>) {\n  return (\n    <div className=\"tw-flex tw-items-center tw-justify-between tw-px-2 tw-pb-3 tw-pt-3\">\n      <div className=\"tw-flex tw-items-center tw-space-x-6 lg:tw-space-x-8\">\n        <div className=\"tw-flex-1 tw-text-sm tw-text-muted-foreground\">\n          {table.getFilteredSelectedRowModel().rows.length} of{' '}\n          {table.getFilteredRowModel().rows.length} row(s) selected\n        </div>\n        <div className=\"tw-flex tw-items-center tw-space-x-2\">\n          <p className=\"tw-text-nowrap tw-text-sm tw-font-medium\">Rows per page</p>\n          <Select\n            value={`${table.getState().pagination.pageSize}`}\n            onValueChange={(value) => {\n              table.setPageSize(Number(value));\n            }}\n          >\n            <SelectTrigger className=\"tw-h-8 tw-w-[70px]\">\n              <SelectValue placeholder={table.getState().pagination.pageSize} />\n            </SelectTrigger>\n            <SelectContent side=\"top\">\n              {[10, 20, 30, 40, 50].map((pageSize) => (\n                <SelectItem key={pageSize} value={`${pageSize}`}>\n                  {pageSize}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n        <div className=\"tw-flex tw-w-[100px] tw-items-center tw-justify-center tw-text-sm tw-font-medium\">\n          Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount()}\n        </div>\n        <div className=\"tw-flex tw-items-center tw-space-x-2\">\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"tw-hidden tw-h-8 tw-w-8 tw-p-0 lg:tw-flex\"\n            onClick={() => table.setPageIndex(0)}\n            disabled={!table.getCanPreviousPage()}\n          >\n            <span className=\"tw-sr-only\">Go to first page</span>\n            <ArrowLeftIcon className=\"tw-h-4 tw-w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"tw-h-8 tw-w-8 tw-p-0\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n          >\n            <span className=\"tw-sr-only\">Go to previous page</span>\n            <ChevronLeftIcon className=\"tw-h-4 tw-w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"tw-h-8 tw-w-8 tw-p-0\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n          >\n            <span className=\"tw-sr-only\">Go to next page</span>\n            <ChevronRightIcon className=\"tw-h-4 tw-w-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"tw-hidden tw-h-8 tw-w-8 tw-p-0 lg:tw-flex\"\n            onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n            disabled={!table.getCanNextPage()}\n          >\n            <span className=\"tw-sr-only\">Go to last page</span>\n            <ArrowRightIcon className=\"tw-h-4 tw-w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DataTablePagination;\n","/** Defines HTML elements that can be focusable by keyboard as a CSS selector string */\nconst FOCUSABLE_SELECTOR = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [contenteditable],\n  tr:not([disabled])\n`;\n\n/** Returns true if the element is visible in the DOM */\nfunction isVisible(el: HTMLElement): boolean {\n  return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n}\n\n/**\n * Finds all focusable elements in the given container. Focusable elements are all HTML elements\n * that can receive keyboard focus, and are not disabled or hidden from screen readers.\n *\n * @param container The container element to search for focusable elements.\n * @param uniqueQuerySelector An optional CSS selector to filter the focusable elements by.\n * @returns An array of focusable elements.\n */\nexport function getFocusableElements(\n  container: HTMLElement,\n  uniqueQuerySelector?: string,\n): HTMLElement[] {\n  const query = uniqueQuerySelector\n    ? `${FOCUSABLE_SELECTOR}, ${uniqueQuerySelector}`\n    : FOCUSABLE_SELECTOR;\n  return Array.from(container.querySelectorAll<HTMLElement>(query)).filter(\n    (el) => !el.hasAttribute('disabled') && !el.getAttribute('aria-hidden') && isVisible(el),\n  );\n}\n","import React from 'react';\nimport { getFocusableElements } from '@/utils/focus.util';\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Table components provide a responsive table. These components are built and styled with Shadcn\n * UI. See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/table\n */\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement> & { stickyHeader?: boolean }\n>(({ className, stickyHeader, ...props }, ref) => {\n  // CUSTOM: Use internal ref to manage keyboard navigation and Enter key behavior\n  // This ref gets passed into the table row ref property which expects null and not undefined\n  // eslint-disable-next-line no-null/no-null\n  const tableRef = React.useRef<HTMLTableElement>(null);\n\n  // CUSTOM: Assign internal ref to external ref if provided\n  React.useEffect(() => {\n    if (typeof ref === 'function') {\n      ref(tableRef.current);\n    } else if (ref && 'current' in ref) {\n      ref.current = tableRef.current;\n    }\n  }, [ref]);\n\n  // CUSTOM: Force tabindex -1 on all focusable elements within the table to prevent tab navigation\n  React.useEffect(() => {\n    const currentTable = tableRef.current;\n    if (!currentTable) return;\n\n    const setTabIndexes = () => {\n      requestAnimationFrame(() => {\n        const focusables = getFocusableElements(currentTable, `[tabindex]:not([tabindex=\"-1\"])`);\n        focusables.forEach((el) => {\n          el.setAttribute('tabindex', '-1');\n        });\n      });\n    };\n\n    setTabIndexes();\n\n    const observer = new MutationObserver(() => {\n      setTabIndexes();\n    });\n\n    observer.observe(currentTable, {\n      childList: true, // Watch for added/removed elements\n      subtree: true, // Include descendants\n      attributes: true,\n      attributeFilter: ['tabindex'], // Watch for tabindex changes\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  // CUSTOM: Handle keydown events for the table\n  const handleKeyDownInTable = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    const { current: currentTable } = tableRef;\n    if (!currentTable) return;\n\n    if (e.key === 'ArrowDown') {\n      // Move focus to the first row in the table (header or body)\n      e.preventDefault();\n      const firstRow = getFocusableElements(currentTable)[0];\n      firstRow.focus();\n      return;\n    }\n    if (e.key === ' ' && document.activeElement === currentTable) {\n      e.preventDefault(); // Prevent scrolling\n    }\n  };\n\n  return (\n    <div className={cn('pr-twp tw-relative tw-w-full', { 'tw-p-1': stickyHeader })}>\n      {/* Table element is not interactive by default but we need to add a keydown handler */}\n      {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\n      <table\n        // Need to add a keydown handler to the table to prevent default behavior of space, enter, and arrow down keys\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n        tabIndex={0} // CUSTOM: Make table tabbable\n        onKeyDown={handleKeyDownInTable} // CUSTOM: Enable keyboard behavior\n        ref={tableRef} // CUSTOM: Use internal ref to manage keyboard navigation\n        className={cn(\n          'tw-w-full tw-caption-bottom tw-text-sm tw-outline-none', // CUSTOM: Add outline-none to remove duplicate outline\n          'focus:tw-relative focus:tw-z-10 focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background', // CUSTOM: Add focus styles\n          className,\n        )}\n        aria-label=\"Table\" // CUSTOM: Add aria-label for accessibility\n        aria-labelledby=\"table-label\" // CUSTOM: Add aria-labelledby for accessibility\n        {...props}\n      />\n    </div>\n  );\n});\nTable.displayName = 'Table';\n\n/** @inheritdoc Table */\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement> & { stickyHeader?: boolean }\n>(({ className, stickyHeader, ...props }, ref) => (\n  <thead\n    ref={ref}\n    className={cn(\n      {\n        'tw-sticky tw-top-[-1px] tw-z-20 tw-bg-background tw-drop-shadow-sm': stickyHeader,\n      },\n      '[&_tr]:tw-border-b',\n      className,\n    )}\n    {...props}\n  />\n));\nTableHeader.displayName = 'TableHeader';\n\n/** @inheritdoc Table */\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody ref={ref} className={cn('[&_tr:last-child]:tw-border-0', className)} {...props} />\n));\nTableBody.displayName = 'TableBody';\n\n/** @inheritdoc Table */\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn('tw-border-t tw-bg-muted/50 tw-font-medium [&>tr]:last:tw-border-b-0', className)}\n    {...props}\n  />\n));\nTableFooter.displayName = 'TableFooter';\n\n// CUSTOM: Manage keyboard navigation and Enter key behavior for focusable elements in a row\nfunction useFocusableInRowKeyboardNavigation(rowRef: React.RefObject<HTMLTableRowElement>) {\n  React.useEffect(() => {\n    const row = rowRef.current;\n    if (!row) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (!row.contains(document.activeElement)) return;\n\n      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {\n        e.preventDefault();\n        e.stopPropagation(); // Helps override internal widget handlers\n        const focusables = rowRef.current ? getFocusableElements(rowRef.current) : [];\n        // activeElement is generic Element, so we need to cast it to HTMLElement\n        // eslint-disable-next-line no-type-assertion/no-type-assertion\n        const index = focusables.indexOf(document.activeElement as HTMLElement);\n        const nextIndex = e.key === 'ArrowRight' ? index + 1 : index - 1;\n        if (nextIndex >= 0 && nextIndex < focusables.length) {\n          focusables[nextIndex].focus();\n        }\n      }\n\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        row.focus();\n      }\n\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n        e.preventDefault();\n      }\n    };\n\n    row.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      row.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [rowRef]);\n}\n\n// CUSTOM: Move focus left or right to adjacent focusable items in the same row\nfunction focusAdjacentFocusableElementInRow(\n  focusablesInRow: HTMLElement[],\n  currentIndexOfFocusables: number,\n  direction: 'ArrowLeft' | 'ArrowRight',\n) {\n  let nextFocusable: HTMLElement | undefined;\n  if (direction === 'ArrowLeft' && currentIndexOfFocusables > 0) {\n    nextFocusable = focusablesInRow[currentIndexOfFocusables - 1];\n  } else if (direction === 'ArrowRight' && currentIndexOfFocusables < focusablesInRow.length - 1) {\n    nextFocusable = focusablesInRow[currentIndexOfFocusables + 1];\n  }\n  if (nextFocusable) {\n    requestAnimationFrame(() => nextFocusable.focus());\n    return true;\n  }\n  return false;\n}\n\n// CUSTOM: Move focus up or down to adjacent rows in the same table\nfunction focusAdjacentRow(\n  rowsInTable: HTMLTableRowElement[],\n  currentRowIndex: number,\n  direction: 'ArrowDown' | 'ArrowUp',\n) {\n  let nextRow: HTMLTableRowElement | undefined;\n  if (direction === 'ArrowDown' && currentRowIndex < rowsInTable.length - 1) {\n    nextRow = rowsInTable[currentRowIndex + 1];\n  } else if (direction === 'ArrowUp' && currentRowIndex > 0) {\n    nextRow = rowsInTable[currentRowIndex - 1];\n  }\n  if (nextRow) {\n    requestAnimationFrame(() => nextRow.focus());\n    return true;\n  }\n  return false;\n}\n\n/** @inheritdoc Table */\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement> & { setFocusAlsoRunsSelect?: boolean }\n>(({ className, onKeyDown, onSelect, setFocusAlsoRunsSelect = false, ...props }, ref) => {\n  // CUSTOM: Use internal ref to manage keyboard navigation and Enter key behavior\n  // This ref gets passed into the table row ref property which expects null and not undefined\n  // eslint-disable-next-line no-null/no-null\n  const rowRef = React.useRef<HTMLTableRowElement>(null);\n\n  // CUSTOM: Assign internal ref to external ref if provided\n  React.useEffect(() => {\n    if (typeof ref === 'function') {\n      ref(rowRef.current);\n    } else if (ref && 'current' in ref) {\n      ref.current = rowRef.current;\n    }\n  }, [ref]);\n\n  // CUSTOM: Use internal ref to manage keyboard navigation and Enter key behavior\n  useFocusableInRowKeyboardNavigation(rowRef);\n\n  // CUSTOM: Get all focusable elements in the current row\n  const focusablesInRow = React.useMemo(\n    () => (rowRef.current ? getFocusableElements(rowRef.current) : []),\n    [rowRef],\n  );\n\n  // CUSTOM: Handle keydown events for keyboard navigation\n  const handleKeyDown = React.useCallback(\n    (e: React.KeyboardEvent<HTMLTableRowElement>) => {\n      const { current: currentRow } = rowRef;\n      if (!currentRow || !currentRow.parentElement) return;\n\n      const closestTable = currentRow.closest('table');\n      const rowsInTable = closestTable\n        ? // getFocusableElements returns an HTMLElement[] but we are filtering for HTMLTableRowElements\n          // eslint-disable-next-line no-type-assertion/no-type-assertion\n          (getFocusableElements(closestTable) as HTMLTableRowElement[]).filter(\n            (element) => element.tagName === 'TR',\n          )\n        : [];\n      const currentRowIndex = rowsInTable.indexOf(currentRow);\n      const currentIndexOfFocusables = focusablesInRow.indexOf(\n        // activeElement is generic Element, so we need to cast it to HTMLElement\n        // eslint-disable-next-line no-type-assertion/no-type-assertion\n        document.activeElement as HTMLElement,\n      );\n\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n        e.preventDefault();\n        focusAdjacentRow(rowsInTable, currentRowIndex, e.key);\n      } else if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        e.preventDefault();\n        focusAdjacentFocusableElementInRow(focusablesInRow, currentIndexOfFocusables, e.key);\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        const table = currentRow.closest('table');\n        if (table) {\n          table.focus();\n        }\n      }\n\n      // Call user-defined onKeyDown handler if provided\n      onKeyDown?.(e);\n    },\n    [rowRef, focusablesInRow, onKeyDown],\n  );\n\n  const handleFocus = React.useCallback(\n    (e: React.FocusEvent<HTMLTableRowElement>) => {\n      if (setFocusAlsoRunsSelect) onSelect?.(e);\n    },\n    [setFocusAlsoRunsSelect, onSelect],\n  );\n\n  return (\n    <tr\n      ref={rowRef}\n      tabIndex={-1} // CUSTOM: Make row not tabbable\n      onKeyDown={handleKeyDown} // CUSTOM: Enable keyboard behavior\n      onFocus={handleFocus} // CUSTOM: Handle focus event\n      className={cn(\n        // CUSTOM: Add focus styles and add tw-outline-none so there isn't a duplicate outline\n        'tw-border-b tw-outline-none tw-transition-colors hover:tw-bg-muted/50',\n        'focus:tw-relative focus:tw-z-10 focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-1 focus:tw-ring-offset-background',\n        'data-[state=selected]:tw-bg-muted',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nTableRow.displayName = 'TableRow';\n\n/** @inheritdoc Table */\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      'tw-h-12 tw-px-4 tw-text-start tw-align-middle tw-font-medium tw-text-muted-foreground [&:has([role=checkbox])]:tw-pe-0',\n      className,\n    )}\n    {...props}\n  />\n));\nTableHead.displayName = 'TableHead';\n\n/** @inheritdoc Table */\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn('tw-p-4 tw-align-middle [&:has([role=checkbox])]:tw-pe-0', className)}\n    {...props}\n  />\n));\nTableCell.displayName = 'TableCell';\n\n/** @inheritdoc Table */\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn('tw-mt-4 tw-text-sm tw-text-muted-foreground', className)}\n    {...props}\n  />\n));\nTableCaption.displayName = 'TableCaption';\n\nexport { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };\n","import { useState } from 'react';\n\nimport {\n  ColumnFiltersState,\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  SortingState,\n  ColumnDef as TSColumnDef,\n  Row as TSRow,\n  RowSelectionState as TSRowSelectionState,\n  SortDirection as TSSortDirection,\n  Table as TSTable,\n  useReactTable,\n  VisibilityState,\n} from '@tanstack/react-table';\n\nimport { DataTableViewOptions } from '@/components/advanced/data-table/data-table-column-toggle.component';\nimport { DataTablePagination } from '@/components/advanced/data-table/data-table-pagination.component';\nimport { Button } from '@/components/shadcn-ui/button';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/shadcn-ui/table';\n\nexport type ColumnDef<TData, TValue = unknown> = TSColumnDef<TData, TValue>;\nexport type RowContents<TData> = TSRow<TData>;\nexport type TableContents<TData> = TSTable<TData>;\nexport type SortDirection = TSSortDirection;\nexport type RowSelectionState = TSRowSelectionState;\n\ninterface DataTableProps<TData, TValue> {\n  columns: ColumnDef<TData, TValue>[];\n  data: TData[];\n  enablePagination?: boolean;\n  showPaginationControls?: boolean;\n  showColumnVisibilityControls?: boolean;\n  stickyHeader?: boolean;\n  onRowClickHandler?: (row: RowContents<TData>, table: TableContents<TData>) => void;\n}\n\n/**\n * Feature-rich table component that infuses our basic shadcn-based Table component with features\n * from TanStack's React Table library\n */\nexport function DataTable<TData, TValue>({\n  columns,\n  data,\n  enablePagination = false,\n  showPaginationControls = false,\n  showColumnVisibilityControls = false,\n  stickyHeader = false,\n  onRowClickHandler = () => {},\n}: DataTableProps<TData, TValue>) {\n  const [sorting, setSorting] = useState<SortingState>([]);\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([]);\n  const [columnVisibility, setColumnVisibility] = useState<VisibilityState>({});\n  const [rowSelection, setRowSelection] = useState({});\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    ...(enablePagination && { getPaginationRowModel: getPaginationRowModel() }),\n    onSortingChange: setSorting,\n    getSortedRowModel: getSortedRowModel(),\n    onColumnFiltersChange: setColumnFilters,\n    getFilteredRowModel: getFilteredRowModel(),\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: setRowSelection,\n    state: {\n      sorting,\n      columnFilters,\n      columnVisibility,\n      rowSelection,\n    },\n  });\n\n  return (\n    <div className=\"pr-twp\">\n      {showColumnVisibilityControls && <DataTableViewOptions table={table} />}\n      <Table stickyHeader={stickyHeader}>\n        <TableHeader stickyHeader={stickyHeader}>\n          {table.getHeaderGroups().map((headerGroup) => (\n            <TableRow key={headerGroup.id}>\n              {headerGroup.headers.map((header) => {\n                return (\n                  <TableHead key={header.id}>\n                    {header.isPlaceholder\n                      ? undefined\n                      : flexRender(header.column.columnDef.header, header.getContext())}\n                  </TableHead>\n                );\n              })}\n            </TableRow>\n          ))}\n        </TableHeader>\n        <TableBody>\n          {table.getRowModel().rows?.length ? (\n            table.getRowModel().rows.map((row) => (\n              <TableRow\n                onClick={() => onRowClickHandler(row, table)}\n                key={row.id}\n                data-state={row.getIsSelected() && 'selected'}\n              >\n                {row.getVisibleCells().map((cell) => (\n                  <TableCell key={cell.id}>\n                    {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))\n          ) : (\n            <TableRow>\n              <TableCell colSpan={columns.length} className=\"tw-h-24 tw-text-center\">\n                No results.\n              </TableCell>\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n      {enablePagination && (\n        <div className=\"tw-flex tw-items-center tw-justify-end tw-space-x-2 tw-py-4\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.previousPage()}\n            disabled={!table.getCanPreviousPage()}\n          >\n            Previous\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => table.nextPage()}\n            disabled={!table.getCanNextPage()}\n          >\n            Next\n          </Button>\n        </div>\n      )}\n      {enablePagination && showPaginationControls && <DataTablePagination table={table} />}\n    </div>\n  );\n}\n\nexport default DataTable;\n","import { cn } from '@/utils/shadcn-ui.util';\nimport Markdown, { MarkdownToJSX } from 'markdown-to-jsx';\nimport { useMemo } from 'react';\n\ninterface MarkdownRendererProps {\n  /** Optional unique identifier */\n  id?: string;\n  /** The markdown string to render */\n  markdown: string;\n  className?: string;\n  /**\n   * The [`target` attribute for `a` html\n   * tags](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target). Defaults to not\n   * adding a `target` to `a` tags\n   */\n  anchorTarget?: string;\n}\n\n/**\n * This component renders markdown content given a markdown string. It uses typography styles from\n * the platform.\n *\n * @param MarkdownRendererProps\n * @returns A div containing the rendered markdown content.\n */\nexport function MarkdownRenderer({ id, markdown, className, anchorTarget }: MarkdownRendererProps) {\n  const options: MarkdownToJSX.Options = useMemo(\n    () => ({\n      overrides: {\n        a: {\n          props: {\n            target: anchorTarget,\n          },\n        },\n      },\n    }),\n    [anchorTarget],\n  );\n  return (\n    <div id={id} className={cn('pr-twp tw-prose', className)}>\n      <Markdown options={options}>{markdown}</Markdown>\n    </div>\n  );\n}\n\nexport default MarkdownRenderer;\n","import { Copy } from 'lucide-react';\nimport { Button } from '@/components/shadcn-ui/button';\nimport { LocalizedStringValue } from 'platform-bible-utils';\n\n/**\n * Object containing all keys used for localization in this component. If you're using this\n * component in an extension, you can pass it into the useLocalizedStrings hook to easily obtain the\n * localized strings and pass them into the localizedStrings prop of this component\n */\nexport const ERROR_DUMP_STRING_KEYS = Object.freeze([\n  '%webView_error_dump_header%',\n  '%webView_error_dump_info_message%',\n] as const);\n\nexport type ErrorDumpLocalizedStrings = {\n  [localizedInventoryKey in (typeof ERROR_DUMP_STRING_KEYS)[number]]?: LocalizedStringValue;\n};\n\n/**\n * Gets the localized value for the provided key\n *\n * @param strings Object containing localized string\n * @param key Key for a localized string\n * @returns The localized value for the provided key, if available. Returns the key if no localized\n *   value is available\n */\nconst localizeString = (\n  strings: ErrorDumpLocalizedStrings,\n  key: keyof ErrorDumpLocalizedStrings,\n) => {\n  return strings[key] ?? key;\n};\n\n/** Interface to store the parameters for the ErrorDump component */\nexport interface ErrorDumpProps {\n  /** String containing the error details to show */\n  errorDetails: string;\n  /** Handler function to notify the frontend when the error is copied */\n  handleCopyNotify?: () => void;\n  /** List of localized strings to localize the strings in this component */\n  localizedStrings: ErrorDumpLocalizedStrings;\n}\n\n/**\n * Component to render an error dump\n *\n * @param {ErrorDumpProps} props\n * @param props.errorDetails Error details string\n * @param props.handleCopyNotify Handler function to add a notification to the UI to alert that the\n *   error was copied\n * @param props.localizedStrings Localized strings to use in the ErrorDump component\n */\nexport function ErrorDump({ errorDetails, handleCopyNotify, localizedStrings }: ErrorDumpProps) {\n  const headerText = localizeString(localizedStrings, '%webView_error_dump_header%');\n  const infoMessage = localizeString(localizedStrings, '%webView_error_dump_info_message%');\n\n  function handleCopy() {\n    navigator.clipboard.writeText(errorDetails);\n    if (handleCopyNotify) {\n      handleCopyNotify();\n    }\n  }\n\n  return (\n    <div className=\"tw-inline-flex tw-w-full tw-flex-col tw-items-start tw-justify-start tw-gap-4\">\n      <div className=\"tw-inline-flex tw-items-start tw-justify-start tw-gap-4 tw-self-stretch\">\n        <div className=\"tw-inline-flex tw-flex-1 tw-flex-col tw-items-start tw-justify-start\">\n          <div className=\"tw-text-color-text tw-justify-center tw-text-center tw-text-lg tw-font-semibold tw-leading-loose\">\n            {headerText}\n          </div>\n          <div className=\"tw-justify-center tw-self-stretch tw-text-sm tw-font-normal tw-leading-tight tw-text-muted-foreground\">\n            {infoMessage}\n          </div>\n        </div>\n        <Button variant=\"secondary\" size=\"icon\" className=\"size-8\" onClick={() => handleCopy()}>\n          <Copy />\n        </Button>\n      </div>\n      <div className=\"tw-prose tw-w-full\">\n        <pre className=\"tw-text-xs\">{errorDetails}</pre>\n      </div>\n    </div>\n  );\n}\n","import { PropsWithChildren } from 'react';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { ErrorDump, ErrorDumpProps } from '../basics/error-dump.component';\nimport { Popover, PopoverContent, PopoverTrigger } from '../shadcn-ui/popover';\n\n/** Interface to store the parameters for the ErrorPopover component */\ntype ErrorPopoverProps = PropsWithChildren &\n  ErrorDumpProps & {\n    /** Optional CSS classes to insert into the `PopoverContent` */\n    className?: string;\n  };\n\n/**\n * A popover component that displays detailed error information using the ErrorDump component.\n *\n * @param {ErrorPopoverProps} props\n * @param props.errorDetails The error details to show in the error popover\n * @param props.handleCopyNotify Optional notification handler function to handle when the error is\n *   copied\n * @param props.localizedStrings List of localized strings to use in the ErrorDump component\n * @param props.className Optional CSS classes to insert into the `PopoverContent`\n *\n *   NOTE: The `ERROR_DUMP_STRING_KEYS` array will need to be imported from the `ErrorDump` component\n *   which contains a list of the localized strings that will need to be set to populate the\n *   `localizedStrings` parameter\n */\nexport function ErrorPopover({\n  errorDetails,\n  handleCopyNotify,\n  localizedStrings,\n  children,\n  className,\n}: ErrorPopoverProps) {\n  return (\n    <Popover>\n      <PopoverTrigger>{children}</PopoverTrigger>\n      <PopoverContent className={cn('tw-min-w-80 tw-max-w-96', className)}>\n        <ErrorDump\n          errorDetails={errorDetails}\n          handleCopyNotify={handleCopyNotify}\n          localizedStrings={localizedStrings}\n        />\n      </PopoverContent>\n    </Popover>\n  );\n}\n","import {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuGroup,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuRadioGroup,\n} from '@/components/shadcn-ui/dropdown-menu';\nimport { Button } from '@/components/shadcn-ui/button';\nimport { ChevronDown, Filter } from 'lucide-react';\nimport { useState } from 'react';\n\n/** The DropdownMenuItemType enum is used to determine the type of the dropdown item */\nexport enum DropdownMenuItemType {\n  Check,\n  Radio,\n}\n\nexport type DropdownItem = {\n  /** Unique identifier for this dropdown */\n  id: string;\n  /** The label is the text that will be displayed on the dropdown item. */\n  label: string;\n  /** The onUpdate function is called when the state of a dropdown item is changed. */\n  onUpdate: (id: string, checked?: boolean) => void;\n};\n\nexport type DropdownGroup = {\n  /**\n   * The label is the text that will be displayed on the dropdown group. It is used to categorize\n   * the items in the group.\n   */\n  label: string;\n  /** The itemType determines the DropdownMenuItemType type as either Check or Radio. */\n  itemType: DropdownMenuItemType;\n  /** The items array contains the items that will be displayed in the dropdown group */\n  items: DropdownItem[];\n};\n\nexport type FilterDropdownProps = {\n  /** Object unique identifier */\n  id?: string;\n  /** Label for the trigger button */\n  label: string;\n  /** The groups array contains the groups that will be displayed in the dropdown */\n  groups: DropdownGroup[];\n}; // TODO: extend the props later\n\n/**\n * The FilterDropdown component is a dropdown designed for filtering content. It includes groups of\n * items that can be checkboxes or radio items.\n *\n * @param FilterDropdownProps\n * @returns A filter dropdown.\n */\nexport function FilterDropdown({ id, label, groups }: FilterDropdownProps) {\n  // Populates the boolean Arrays for the group indexes that are checkbox groups\n  const [checkedStates, setCheckedStates] = useState<Record<number, boolean[]>>(\n    Object.fromEntries(\n      groups\n        .map((group, index) =>\n          group.itemType === DropdownMenuItemType.Check ? [index, []] : undefined,\n        )\n        .filter((entry) => !!entry),\n    ),\n  );\n  const [radioStates, setRadioStates] = useState<Record<number, string>>({});\n\n  const handleCheckboxUpdate = (groupIndex: number, index: number) => {\n    const newCheckedState = !checkedStates[groupIndex][index];\n    // Update the checked state first\n    setCheckedStates((oldCheckedStates) => {\n      oldCheckedStates[groupIndex][index] = newCheckedState;\n      return { ...oldCheckedStates };\n    });\n\n    // Calls the `onUpdate()` handler function for the dropdown item\n    const item = groups[groupIndex].items[index];\n    item.onUpdate(item.id, newCheckedState);\n  };\n\n  const handleRadioUpdate = (groupIndex: number, value: string) => {\n    // Updates the radio state first\n    setRadioStates((oldRadioStates) => {\n      oldRadioStates[groupIndex] = value;\n      return { ...oldRadioStates };\n    });\n\n    // Calls the `onUpdate()` handler function for the dropdown item\n    const currentItem = groups[groupIndex].items.find((item) => item.id === value);\n    if (currentItem) {\n      currentItem.onUpdate(value);\n    } else {\n      console.error(`Could not find dropdown radio item with id '${value}'!`);\n    }\n  };\n\n  return (\n    <div id={id}>\n      {/* TODO: remove this once the DropDown Menu shadcn has an id prop */}\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"default\">\n            <Filter size={16} className=\"tw-mr-2 tw-h-4 tw-w-4\" />\n            {label}\n            <ChevronDown size={16} className=\"tw-ml-2 tw-h-4 tw-w-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent>\n          {groups.map((group, groupIndex) => (\n            <div key={group.label}>\n              <DropdownMenuLabel>{group.label}</DropdownMenuLabel>\n              <DropdownMenuGroup>\n                {group.itemType === DropdownMenuItemType.Check ? (\n                  <>\n                    {group.items.map((item, index) => (\n                      <div key={item.id}>\n                        <DropdownMenuCheckboxItem\n                          checked={checkedStates[groupIndex][index]}\n                          onCheckedChange={() => handleCheckboxUpdate(groupIndex, index)}\n                        >\n                          {item.label}\n                        </DropdownMenuCheckboxItem>\n                      </div>\n                    ))}\n                  </>\n                ) : (\n                  <DropdownMenuRadioGroup\n                    value={radioStates[groupIndex]}\n                    onValueChange={(value) => handleRadioUpdate(groupIndex, value)}\n                  >\n                    {group.items.map((item) => (\n                      <div key={item.id}>\n                        <DropdownMenuRadioItem value={item.id}>{item.label}</DropdownMenuRadioItem>\n                      </div>\n                    ))}\n                  </DropdownMenuRadioGroup>\n                )}\n              </DropdownMenuGroup>\n              <DropdownMenuSeparator />\n            </div>\n          ))}\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </div>\n  );\n}\n\nexport default FilterDropdown;\n","import { Button } from '@/components/shadcn-ui/button';\nimport { CircleHelp, Link as LucideLink, User } from 'lucide-react';\nimport { NumberFormat } from 'platform-bible-utils';\n\n/** Interface that stores the parameters passed to the More Info component */\ninterface MoreInfoProps {\n  /** Optional unique identifier */\n  id?: string;\n  /** The category of the extension */\n  category: string;\n  /** The number of downloads for the extension */\n  downloads: Record<string, number>;\n  /** The languages supported by the extension */\n  languages: string[];\n  /** The URL to the more info page of the extension */\n  moreInfoUrl: string;\n  /** Handler function triggered when the more info (Website) link is clicked */\n  handleMoreInfoLinkClick: () => void;\n  /** Optional URL to a website link to get support for the extension */\n  supportUrl: string;\n  /** Handler function triggered when the support link is clicked */\n  handleSupportLinkClick: () => void;\n}\n/**\n * This component displays the more info section of the extension which includes the category,\n * number of downloads, languages, and links to the website and support\n *\n * @param MoreInfoProps\n * @returns The more info component that displays the category, number of downloads, languages, and\n *   links to the website and support\n */\nexport function MoreInfo({\n  id,\n  category,\n  downloads,\n  languages,\n  moreInfoUrl,\n  handleMoreInfoLinkClick,\n  supportUrl,\n  handleSupportLinkClick,\n}: MoreInfoProps) {\n  /**\n   * This constant formats the number of downloads into a more readable format.\n   *\n   * @example 1000 -> 1K\n   *\n   * @example 1000000 -> 1M\n   *\n   * @returns The formatted number of downloads\n   */\n  const numberFormatted = new NumberFormat('en', {\n    notation: 'compact',\n    compactDisplay: 'short',\n  }).format(Object.values(downloads).reduce((a: number, b: number) => a + b, 0));\n\n  /** This function scrolls the window to the bottom of the page. */\n  const handleScrollToBottom = () => {\n    window.scrollTo(0, document.body.scrollHeight);\n  };\n\n  return (\n    <div\n      id={id}\n      className=\"tw-flex tw-items-center tw-justify-center tw-gap-4 tw-divide-x tw-border-b tw-border-t tw-py-2 tw-text-center\"\n    >\n      <div className=\"tw-flex tw-flex-col tw-items-center tw-gap-1\">\n        <div className=\"tw-flex\">\n          <span className=\"tw-text-xs tw-font-semibold tw-text-foreground\">{category}</span>\n        </div>\n        <span className=\"tw-text-xs tw-text-foreground\">CATEGORY</span>\n      </div>\n      <div className=\"tw-flex tw-flex-col tw-items-center tw-gap-1 tw-ps-4\">\n        <div className=\"tw-flex tw-gap-1\">\n          <User className=\"tw-h-4 tw-w-4\" />\n          <span className=\"tw-text-xs tw-font-semibold tw-text-foreground\">{numberFormatted}</span>\n        </div>\n        <span className=\"tw-text-xs tw-text-foreground\">USERS</span>\n      </div>\n      <div className=\"tw-flex tw-flex-col tw-items-center tw-gap-1 tw-ps-4\">\n        <div className=\"tw-flex tw-gap-2\">\n          {languages.slice(0, 3).map((locale) => (\n            <span key={locale} className=\"tw-text-xs tw-font-semibold tw-text-foreground\">\n              {locale.toUpperCase()}\n            </span>\n          ))}\n        </div>\n        {languages.length > 3 && (\n          <button\n            type=\"button\"\n            onClick={() => handleScrollToBottom()}\n            className=\"tw-text-xs tw-text-foreground tw-underline\"\n          >\n            +{languages.length - 3} more languages\n          </button>\n        )}\n      </div>\n      {(moreInfoUrl || supportUrl) && (\n        <div className=\"tw-flex tw-flex-col tw-gap-1 tw-ps-4\">\n          {moreInfoUrl && (\n            <div className=\"tw-flex tw-gap-1\">\n              <Button\n                onClick={() => handleMoreInfoLinkClick()}\n                variant=\"link\"\n                className=\"tw-flex tw-h-auto tw-gap-1 tw-py-0 tw-text-xs tw-font-semibold tw-text-foreground\"\n              >\n                Website\n                <LucideLink className=\"tw-h-4 tw-w-4\" />\n              </Button>\n            </div>\n          )}\n          {supportUrl && (\n            <div className=\"tw-flex tw-gap-1\">\n              <Button\n                onClick={() => handleSupportLinkClick()}\n                variant=\"link\"\n                className=\"tw-flex tw-h-auto tw-gap-1 tw-py-0 tw-text-xs tw-font-semibold tw-text-foreground\"\n              >\n                Support\n                <CircleHelp className=\"tw-h-4 tw-w-4\" />\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useState } from 'react';\n\nexport type VersionInformation = {\n  /** Date the version was published */\n  date: string;\n  /** Description of the changes in the version */\n  description: string;\n};\n\n/** Type to store the version history information */\nexport type VersionHistoryType = Record<string, VersionInformation>;\n\n/** Interface that stores the parameters passed to the Version History component */\ninterface VersionHistoryProps {\n  /** Optional unique identifier */\n  id?: string;\n  /** Object containing the versions mapped with their information */\n  versionHistory: VersionHistoryType;\n}\n\n/**\n * Component to render the version history information shown in the footer component. Lists the 5\n * most recent versions, with the options to show all versions by pressing a button.\n *\n * @param VersionHistoryProps\n * @returns Rendered version history for the Footer component\n */\nexport function VersionHistory({ id, versionHistory }: VersionHistoryProps) {\n  const [showAllVersions, setShowAllVersions] = useState(false);\n  const currentDate = new Date();\n\n  /**\n   * Function to format the time string for the version history in the form of 'X year(s) ago'.\n   *\n   * @param dateString ISO Date string to determine the time string from\n   * @returns Formatted time string\n   */\n  function formatTimeString(dateString: string) {\n    const date = new Date(dateString);\n    const dateDiff = new Date(currentDate.getTime() - date.getTime());\n    const yearDiff = dateDiff.getUTCFullYear() - 1970;\n    const monthDiff = dateDiff.getUTCMonth();\n    const dayDiff = dateDiff.getUTCDate() - 1;\n\n    // Determines how long ago the version was published\n    let timeString = '';\n    if (yearDiff > 0) {\n      timeString = `${yearDiff.toString()} year${yearDiff === 1 ? '' : 's'} ago`;\n    } else if (monthDiff > 0) {\n      timeString = `${monthDiff.toString()} month${monthDiff === 1 ? '' : 's'} ago`;\n    } else if (dayDiff === 0) {\n      timeString = 'today';\n    } else {\n      timeString = `${dayDiff.toString()} day${dayDiff === 1 ? '' : 's'} ago`;\n    }\n\n    return timeString;\n  }\n\n  // Sorts the version history by version number\n  const sortedEntries = Object.entries(versionHistory).sort((a, b) => b[0].localeCompare(a[0]));\n\n  return (\n    <div id={id}>\n      <h3 className=\"tw-text-md tw-font-semibold\">What`s New</h3>\n      <ul className=\"tw-list-disc tw-pl-5 tw-pr-4 tw-text-xs tw-text-foreground\">\n        {(showAllVersions ? sortedEntries : sortedEntries.slice(0, 5)).map((entry) => (\n          <div key={entry[0]} className=\"tw-mt-3 tw-flex tw-justify-between\">\n            <div className=\"tw-text-foreground\">\n              <li className=\"tw-prose tw-text-xs\">\n                <span>{entry[1].description}</span>\n              </li>\n            </div>\n            <div className=\"tw-justify-end tw-text-right\">\n              <div>Version {entry[0]}</div>\n              <div>{formatTimeString(entry[1].date)}</div>\n            </div>\n          </div>\n        ))}\n      </ul>\n      {sortedEntries.length > 5 && (\n        <button\n          type=\"button\"\n          onClick={() => setShowAllVersions(!showAllVersions)}\n          className=\"tw-text-xs tw-text-foreground tw-underline\"\n        >\n          {showAllVersions ? 'Show Less Version History' : 'Show All Version History'}\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default VersionHistory;\n","import { useMemo } from 'react';\nimport { formatBytes } from 'platform-bible-utils';\nimport { VersionHistory, VersionHistoryType } from './version-history.component';\n\n/** Interface to store the parameters passed to the Footer component */\ninterface FooterProps {\n  /** Optional unique identifier */\n  id?: string;\n  /** Name of the publisher */\n  publisherDisplayName: string;\n  /** Size of the extension file in bytes */\n  fileSize: number;\n  /** List of language codes supported by the extension */\n  locales: string[];\n  /** Object containing the version history mapped with their information */\n  versionHistory: VersionHistoryType;\n}\n\n/**\n * Component to render the footer for the extension details which contains information on the\n * publisher, version history, languages, and file size.\n *\n * @param FooterProps\n * @returns The rendered Footer component\n */\nexport function Footer({\n  id,\n  publisherDisplayName,\n  fileSize,\n  locales,\n  versionHistory,\n}: FooterProps) {\n  /** Formats the file size into a human-readable format */\n  const formattedFileSize = useMemo(() => formatBytes(fileSize), [fileSize]);\n\n  /**\n   * This function gets the display names of the languages based on the language codes.\n   *\n   * @param codes The list of language codes\n   * @returns The list of language names\n   */\n  const getLanguageNames = (codes: string[]) => {\n    const displayNames = new Intl.DisplayNames(navigator.language, { type: 'language' });\n    return codes.map((code) => displayNames.of(code));\n  };\n\n  const languageNames = getLanguageNames(locales);\n\n  return (\n    <div id={id} className=\"tw-border-t tw-py-2\">\n      <div className=\"tw-flex tw-flex-col tw-gap-2 tw-divide-y\">\n        <VersionHistory versionHistory={versionHistory} />\n        <div className=\"tw-flex tw-flex-col tw-gap-2 tw-py-2\">\n          <h2 className=\"tw-text-md tw-font-semibold\">Information</h2>\n          <div className=\"tw-flex tw-items-start tw-justify-between tw-text-xs tw-text-foreground\">\n            <p className=\"tw-flex tw-flex-col tw-justify-start tw-gap-1\">\n              <span>Publisher</span>\n              <span className=\"tw-font-semibold\">{publisherDisplayName}</span>\n              <span>Size</span>\n              <span className=\"tw-font-semibold\">{formattedFileSize}</span>\n            </p>\n            <div className=\"tw-flex tw-w-3/4 tw-items-center tw-justify-between tw-text-xs tw-text-foreground\">\n              <p className=\"tw-flex tw-flex-col tw-justify-start tw-gap-1\">\n                <span>Languages</span>\n                <span className=\"tw-font-semibold\">{languageNames.join(', ')}</span>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Style variants for the Badge component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/badge}\n */\nconst badgeVariants = cva(\n  'pr-twp tw-inline-flex tw-items-center tw-rounded-full tw-px-2.5 tw-py-0.5 tw-text-xs tw-font-semibold tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-ring focus:tw-ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'tw-border tw-border-transparent tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/80',\n        secondary:\n          'tw-border tw-border-transparent tw-bg-secondary tw-text-secondary-foreground hover:tw-bg-secondary/80',\n        muted:\n          'tw-border tw-border-transparent tw-bg-muted tw-text-muted-foreground hover:tw-bg-muted/80',\n        destructive:\n          'tw-border tw-border-transparent tw-bg-destructive tw-text-destructive-foreground hover:tw-bg-destructive/80',\n        outline: 'tw-border tw-text-foreground',\n        blueIndicator: 'tw-w-[5px] tw-h-[5px] tw-bg-blue-400 tw-px-0',\n        mutedIndicator: 'tw-w-[5px] tw-h-[5px] tw-bg-zinc-400 tw-px-0',\n        ghost: 'hover:tw-bg-accent hover:tw-text-accent-foreground tw-text-mu',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\n/**\n * Props for the Badge component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/badge}\n */\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\n/**\n * The Badge component displays a badge or a component that looks like a badge. The component is\n * built and styled by Shadcn UI.\n *\n * @param BadgeProps\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/badge}\n */\nconst Badge = React.forwardRef<HTMLDivElement, BadgeProps>(\n  ({ className, variant, ...props }, ref) => {\n    return (\n      <div ref={ref} className={cn('pr-twp', badgeVariants({ variant }), className)} {...props} />\n    );\n  },\n);\n\nBadge.displayName = 'Badge';\n\nexport { Badge, badgeVariants };\n","import { Button } from '@/components/shadcn-ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '@/components/shadcn-ui/command';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/shadcn-ui/popover';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Check, ChevronsUpDown, Star } from 'lucide-react';\nimport { ReactNode, useCallback, useMemo, useState } from 'react';\n\nexport type MultiSelectComboBoxEntry = {\n  value: string;\n  label: string;\n  starred?: boolean;\n};\n\nexport interface MultiSelectComboBoxProps {\n  entries: MultiSelectComboBoxEntry[];\n  getEntriesCount?: (option: MultiSelectComboBoxEntry) => number;\n  selected: string[];\n  onChange: (values: string[]) => void;\n  placeholder: string;\n  commandEmptyMessage?: string;\n  customSelectedText?: string;\n  isDisabled?: boolean;\n  sortSelected?: boolean;\n  icon?: ReactNode;\n  className?: string;\n}\n\n/**\n * MultiSelectComboBox is a component that provides a UI for selecting multiple items from a list.\n * It supports displaying a placeholder, custom selected text, and an optional icon. Users can\n * search through options and view starred items prominently.\n *\n * @param {MultiSelectComboBoxProps} props\n * @param {MultiSelectComboBoxEntry[]} props.entries - The list of entries to select from.\n * @param {function} [props.getEntriesCount] - Optional function to get the count of entries.\n * @param {string[]} props.selected - The currently selected values.\n * @param {function} props.onChange - Callback function to handle changes in selection.\n * @param {string} props.placeholder - Placeholder text when no items are selected.\n * @param {string} [props.commandEmptyMessage] - Message displayed when no entries are found.\n * @param {string} [props.customSelectedText] - Custom text to display when items are selected.\n * @param {boolean} [props.isDisabled] - Flag to disable the component.\n * @param {boolean} [props.sortSelected] - Flag to sort selected items.\n * @param {ReactNode} [props.icon] - Optional icon to display in the button.\n * @param {string} [props.className] - Additional class names for styling.\n */\nexport function MultiSelectComboBox({\n  entries,\n  getEntriesCount = undefined,\n  selected,\n  onChange,\n  placeholder,\n  commandEmptyMessage = 'No entries found',\n  customSelectedText,\n  isDisabled = false,\n  sortSelected = false,\n  icon = undefined,\n  className = undefined,\n}: MultiSelectComboBoxProps) {\n  const [open, setOpen] = useState(false);\n\n  const handleSelect = useCallback(\n    (label: string) => {\n      const value = entries.find((entry) => entry.label === label)?.value;\n      if (!value) return;\n      onChange(\n        selected.includes(value) ? selected.filter((item) => item !== value) : [...selected, value],\n      );\n    },\n    [entries, selected, onChange],\n  );\n\n  const getPlaceholderText = () => {\n    if (customSelectedText) return customSelectedText;\n    return placeholder;\n  };\n\n  const sortedOptions = useMemo(() => {\n    if (!sortSelected) return entries;\n\n    const starredItems = entries\n      .filter((opt) => opt.starred)\n      .sort((a, b) => a.label.localeCompare(b.label));\n    const nonStarredItems = entries\n      .filter((opt) => !opt.starred)\n      .sort((a, b) => {\n        const aSelected = selected.includes(a.value);\n        const bSelected = selected.includes(b.value);\n        if (aSelected && !bSelected) return -1;\n        if (!aSelected && bSelected) return 1;\n        return a.label.localeCompare(b.label);\n      });\n\n    return [...starredItems, ...nonStarredItems];\n  }, [entries, selected, sortSelected]);\n\n  return (\n    <div className={className}>\n      <Popover open={open} onOpenChange={setOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            variant=\"ghost\"\n            role=\"combobox\"\n            aria-expanded={open}\n            className={cn(\n              'tw-w-full tw-justify-between',\n              selected.length > 0 && selected.length < entries.length && 'tw-border-primary',\n              'tw-group',\n            )}\n            disabled={isDisabled}\n          >\n            <div className=\"tw-flex tw-items-center tw-gap-2\">\n              <div className=\"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50\">\n                <span className=\"tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center\">\n                  {icon}\n                </span>\n              </div>\n              <div\n                className={cn({\n                  'tw-text-muted-foreground group-hover:tw-text-secondary-foreground':\n                    selected.length === 0 || selected.length === entries.length,\n                })}\n              >\n                <div className=\"tw-font-normal\">{getPlaceholderText()}</div>\n              </div>\n            </div>\n            <ChevronsUpDown className=\"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50\" />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent align=\"start\" className=\"tw-w-full tw-p-0\">\n          <Command>\n            <CommandInput placeholder={`Search ${placeholder.toLowerCase()}...`} />\n            <CommandList>\n              <CommandEmpty>{commandEmptyMessage}</CommandEmpty>\n              <CommandGroup>\n                {sortedOptions.map((option) => {\n                  const count: number | undefined = getEntriesCount\n                    ? getEntriesCount(option)\n                    : undefined;\n                  return (\n                    <CommandItem\n                      key={option.label}\n                      value={option.label}\n                      onSelect={handleSelect}\n                      className=\"tw-flex tw-items-center tw-gap-2\"\n                    >\n                      <div className=\"w-4\">\n                        <Check\n                          className={cn(\n                            'tw-h-4 tw-w-4',\n                            selected.includes(option.value) ? 'tw-opacity-100' : 'tw-opacity-0',\n                          )}\n                        />\n                      </div>\n                      <div className=\"tw-w-4\">\n                        {option.starred && <Star className=\"tw-h-4 tw-w-4\" />}\n                      </div>\n                      <div className=\"tw-flex-grow\">{option.label}</div>\n                      {getEntriesCount && (\n                        <div className=\"tw-w-10 tw-text-end tw-text-muted-foreground\">{count}</div>\n                      )}\n                    </CommandItem>\n                  );\n                })}\n              </CommandGroup>\n            </CommandList>\n          </Command>\n        </PopoverContent>\n      </Popover>\n    </div>\n  );\n}\n\nexport default MultiSelectComboBox;\n","import { Badge } from '@/components/shadcn-ui/badge';\nimport { Button } from '@/components/shadcn-ui/button';\nimport { Label } from '@/components/shadcn-ui/label';\nimport { X } from 'lucide-react';\nimport { MultiSelectComboBox, MultiSelectComboBoxProps } from './multi-select-combo-box.component';\n\ninterface FilterProps extends MultiSelectComboBoxProps {\n  /**\n   * Placeholder text that will be displayed when no items are selected. It will appear at the\n   * location where the badges would be if any items were selected.\n   */\n  badgesPlaceholder: string;\n}\n\n/**\n * This is a variant of the {@link MultiSelectComboBox}, that shows a {@link Badge} component for each\n * selected item in the combo box. Clicking the 'X' icon on the badge will clear the item from the\n * selected options. A placeholder text must be provided through 'badgesPlaceholder'. This will be\n * displayed if no items are selected,\n */\nexport function Filter({\n  entries,\n  getEntriesCount,\n  selected,\n  onChange,\n  placeholder,\n  commandEmptyMessage,\n  customSelectedText,\n  isDisabled,\n  sortSelected,\n  icon,\n  className,\n  badgesPlaceholder,\n}: FilterProps) {\n  return (\n    <div className=\"tw-flex tw-items-center tw-gap-2\">\n      <MultiSelectComboBox\n        entries={entries}\n        getEntriesCount={getEntriesCount}\n        selected={selected}\n        onChange={onChange}\n        placeholder={placeholder}\n        commandEmptyMessage={commandEmptyMessage}\n        customSelectedText={customSelectedText}\n        isDisabled={isDisabled}\n        sortSelected={sortSelected}\n        icon={icon}\n        className={className}\n      />\n      {selected.length > 0 ? (\n        <div className=\"tw-flex tw-flex-wrap tw-items-center tw-gap-2\">\n          {selected.map((type) => (\n            <Badge key={type} variant=\"muted\" className=\"tw-flex tw-items-center tw-gap-1\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"tw-h-4 tw-w-4 tw-p-0 hover:tw-bg-transparent\"\n                onClick={() => onChange(selected.filter((selectedType) => selectedType !== type))}\n              >\n                <X className=\"tw-h-3 tw-w-3\" />\n              </Button>\n              {entries.find((entry) => entry.value === type)?.label}\n            </Badge>\n          ))}\n        </div>\n      ) : (\n        <Label>{badgesPlaceholder}</Label>\n      )}\n    </div>\n  );\n}\n\nexport default Filter;\n","import {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/shadcn-ui/table';\nimport { Canon, SerializedVerseRef } from '@sillsdev/scripture';\nimport { deepEqual, LanguageStrings } from 'platform-bible-utils';\nimport { useMemo } from 'react';\nimport { InventoryItemOccurrence } from './inventory-utils';\n\n/** Props for the OccurrencesTable component */\ntype OccurrencesTableProps = {\n  /** Data that contains scriptures references and snippets of scripture */\n  occurrenceData: InventoryItemOccurrence[];\n  /** Callback function that is executed when the scripture reference is changed */\n  setScriptureReference: (scriptureReference: SerializedVerseRef) => void;\n  /**\n   * Object with all localized strings that the OccurrencesTable needs to work well across multiple\n   * languages\n   */\n  localizedStrings: LanguageStrings;\n};\n\n/**\n * Table that shows occurrences of specified inventory item(s). The first column shows the related\n * scripture reference. The second column shows the snippet of scripture that contains the specified\n * inventory item\n */\nexport function OccurrencesTable({\n  occurrenceData,\n  setScriptureReference,\n  localizedStrings,\n}: OccurrencesTableProps) {\n  const referenceHeaderText =\n    localizedStrings['%webView_inventory_occurrences_table_header_reference%'];\n  const occurrenceHeaderText =\n    localizedStrings['%webView_inventory_occurrences_table_header_occurrence%'];\n\n  const occurrences: InventoryItemOccurrence[] = useMemo(() => {\n    const uniqueOccurrences: InventoryItemOccurrence[] = [];\n\n    occurrenceData.forEach((occurrence) => {\n      if (!uniqueOccurrences.some((uniqueOccurrence) => deepEqual(uniqueOccurrence, occurrence))) {\n        uniqueOccurrences.push(occurrence);\n      }\n    });\n\n    return uniqueOccurrences;\n  }, [occurrenceData]);\n\n  return (\n    <Table stickyHeader>\n      <TableHeader stickyHeader>\n        <TableRow>\n          <TableHead>{referenceHeaderText}</TableHead>\n          <TableHead>{occurrenceHeaderText}</TableHead>\n        </TableRow>\n      </TableHeader>\n      <TableBody>\n        {occurrences.length > 0 &&\n          occurrences.map((occurrence) => (\n            <TableRow\n              key={`${occurrence.reference.book} ${occurrence.reference.chapterNum}:${\n                occurrence.reference.verseNum\n              }-${occurrence.text}`}\n              onClick={() => {\n                setScriptureReference(occurrence.reference);\n              }}\n            >\n              <TableCell>{`${Canon.bookIdToEnglishName(occurrence.reference.book)} ${occurrence.reference.chapterNum}:${occurrence.reference.verseNum}`}</TableCell>\n              <TableCell>{occurrence.text}</TableCell>\n            </TableRow>\n          ))}\n      </TableBody>\n    </Table>\n  );\n}\n\nexport default OccurrencesTable;\n","import React from 'react';\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox';\nimport { Check } from 'lucide-react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Checkbox component provides a control that allows the user to toggle between checked and not\n * checked. This components is built on Radix UI primitives and styled with Shadcn UI.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/checkbox}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/checkbox}\n */\nexport const Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      'tw-peer pr-twp tw-h-4 tw-w-4 tw-shrink-0 tw-rounded-sm tw-border tw-border-primary tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 data-[state=checked]:tw-bg-primary data-[state=checked]:tw-text-primary-foreground',\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn('tw-flex tw-items-center tw-justify-center tw-text-current')}\n    >\n      <Check className=\"tw-h-4 tw-w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport default Checkbox;\n","import React from 'react';\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Props for Input component\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/input}\n */\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\n/**\n * Input component displays a form input field or a component that looks like an input field. This\n * components is built and styled with Shadcn UI.\n *\n * @param InputProps\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/input}\n */\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'pr-twp tw-flex tw-h-10 tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-sm tw-ring-offset-background file:tw-border-0 file:tw-bg-transparent file:tw-text-sm file:tw-font-medium file:tw-text-foreground placeholder:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50',\n          className,\n        )}\n        ref={ref}\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = 'Input';\n","import React from 'react';\nimport * as TogglePrimitive from '@radix-ui/react-toggle';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\nconst toggleVariants = cva(\n  'pr-twp tw-inline-flex tw-items-center tw-justify-center tw-rounded-md tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-colors hover:tw-bg-muted hover:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=on]:tw-bg-accent data-[state=on]:tw-text-accent-foreground',\n  {\n    variants: {\n      variant: {\n        default: 'tw-bg-transparent',\n        outline:\n          'tw-border tw-border-input tw-bg-transparent hover:tw-bg-accent hover:tw-text-accent-foreground',\n      },\n      size: {\n        default: 'tw-h-10 tw-px-3',\n        sm: 'tw-h-9 tw-px-2.5',\n        lg: 'tw-h-11 tw-px-5',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","import React from 'react';\nimport * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';\nimport { type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { toggleVariants } from '@/components/shadcn-ui/toggle';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/** @inheritdoc ToggleGroup */\nconst ToggleGroupContext = React.createContext<VariantProps<typeof toggleVariants>>({\n  size: 'default',\n  variant: 'default',\n});\n\n/**\n * ToggleGroup components provide a set of two-state buttons that can be toggled on or off. These\n * components are built on Radix UI primitives and styled with Shadcn UI. See Shadcn UI\n * Documentation: https://ui.shadcn.com/docs/components/toggle-group See Radix UI Documentation:\n * https://www.radix-ui.com/primitives/docs/components/toggle-group\n */\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <ToggleGroupPrimitive.Root\n      ref={ref}\n      className={cn('pr-twp tw-flex tw-items-center tw-justify-center tw-gap-1', className)}\n      {...props}\n      dir={dir}\n    >\n      <ToggleGroupContext.Provider\n        // Suppress warning produced by imported shadcn code\n        // eslint-disable-next-line react/jsx-no-constructed-context-values\n        value={{ variant, size }}\n      >\n        {children}\n      </ToggleGroupContext.Provider>\n    </ToggleGroupPrimitive.Root>\n  );\n});\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName;\n\n/** @inheritdoc ToggleGroup */\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext);\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  );\n});\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName;\n\nexport { ToggleGroup, ToggleGroupItem };\n","import { ColumnDef, SortDirection } from '@/components/advanced/data-table/data-table.component';\nimport { Button } from '@/components/shadcn-ui/button';\nimport { ToggleGroup, ToggleGroupItem } from '@/components/shadcn-ui/toggle-group';\nimport {\n  ArrowDownIcon,\n  ArrowUpDownIcon,\n  ArrowUpIcon,\n  CircleCheckIcon,\n  CircleHelpIcon,\n  CircleXIcon,\n} from 'lucide-react';\nimport { ReactNode } from 'react';\nimport { InventoryTableData, Status } from './inventory-utils';\n\n/**\n * Gets an icon that indicates the current sorting direction based on the provided input\n *\n * @param sortDirection Sorting direction. Can be ascending ('asc'), descending ('desc') or false (\n *   i.e. not sorted)\n * @returns The appropriate sorting icon for the provided sorting direction\n */\nconst getSortingIcon = (sortDirection: false | SortDirection): ReactNode => {\n  if (sortDirection === 'asc') {\n    return <ArrowUpIcon className=\"tw-ms-2 tw-h-4 tw-w-4\" />;\n  }\n  if (sortDirection === 'desc') {\n    return <ArrowDownIcon className=\"tw-ms-2 tw-h-4 tw-w-4\" />;\n  }\n  return <ArrowUpDownIcon className=\"tw-ms-2 tw-h-4 tw-w-4\" />;\n};\n\n/**\n * Function that creates the item column for inventories\n *\n * @param itemLabel Localized label for the item column (e.g. 'Character', 'Repeated Word', etc.)\n * @returns Column that shows the inventory items. Should be used with the DataTable component\n */\nexport const inventoryItemColumn = (itemLabel: string): ColumnDef<InventoryTableData> => {\n  return {\n    accessorKey: 'item',\n    accessorFn: (row: InventoryTableData) => row.items[0],\n    header: ({ column }) => (\n      <Button variant=\"ghost\" onClick={() => column.toggleSorting(undefined)}>\n        {itemLabel}\n        {getSortingIcon(column.getIsSorted())}\n      </Button>\n    ),\n  };\n};\n\n/**\n * Function that creates the additional item columns for inventories\n *\n * @param additionalItemLabel Localized label for the additional item column (e.g. 'Preceding\n *   Marker')\n * @param additionalItemIndex Index that locates the desired item in the items array of the\n *   inventory\n * @returns Column that shows additional inventory items. Should be used with the DataTable\n *   component\n */\nexport const inventoryAdditionalItemColumn = (\n  additionalItemLabel: string,\n  additionalItemIndex: number,\n): ColumnDef<InventoryTableData> => {\n  return {\n    accessorKey: `item${additionalItemIndex}`,\n    accessorFn: (row: InventoryTableData) => row.items[additionalItemIndex],\n    header: ({ column }) => (\n      <Button variant=\"ghost\" onClick={() => column.toggleSorting(undefined)}>\n        {additionalItemLabel}\n        {getSortingIcon(column.getIsSorted())}\n      </Button>\n    ),\n  };\n};\n\n/**\n * Function that creates the count column for inventories. Should be used with the DataTable\n * component.\n *\n * @param countLabel Localized label for the count column\n * @returns Column that shows the number of occurrences of the related inventory items\n */\nexport const inventoryCountColumn = (countLabel: string): ColumnDef<InventoryTableData> => {\n  return {\n    accessorKey: 'count',\n    header: ({ column }) => (\n      <div className=\"tw-flex tw-justify-end tw-tabular-nums\">\n        <Button variant=\"ghost\" onClick={() => column.toggleSorting(undefined)}>\n          {countLabel}\n          {getSortingIcon(column.getIsSorted())}\n        </Button>\n      </div>\n    ),\n    cell: ({ row }) => <div className=\"tw-flex tw-justify-end\">{row.getValue('count')}</div>,\n  };\n};\n\n/**\n * Function that updates project settings when status for item(s) changes\n *\n * @param changedItems Array of items for which the status is being updated\n * @param newStatus The status that the items are being given\n * @param approvedItems Array of currently approved items\n * @param onApprovedItemsChange Callback function that stores the updated list of approved items\n * @param unapprovedItems Array of currently unapproved items\n * @param onUnapprovedItemsChange Callback function that stores the updated list of unapproved items\n */\nconst statusChangeHandler = (\n  changedItems: string[],\n  newStatus: Status,\n  approvedItems: string[],\n  onApprovedItemsChange: (items: string[]) => void,\n  unapprovedItems: string[],\n  onUnapprovedItemsChange: (items: string[]) => void,\n) => {\n  let newApprovedItems: string[] = [...approvedItems];\n  changedItems.forEach((item) => {\n    if (newStatus === 'approved') {\n      if (!newApprovedItems.includes(item)) {\n        newApprovedItems.push(item);\n      }\n    } else {\n      newApprovedItems = newApprovedItems.filter((validItem) => validItem !== item);\n    }\n  });\n  onApprovedItemsChange(newApprovedItems);\n\n  let newUnapprovedItems: string[] = [...unapprovedItems];\n  changedItems.forEach((item) => {\n    if (newStatus === 'unapproved') {\n      if (!newUnapprovedItems.includes(item)) {\n        newUnapprovedItems.push(item);\n      }\n    } else {\n      newUnapprovedItems = newUnapprovedItems.filter((unapprovedItem) => unapprovedItem !== item);\n    }\n  });\n  onUnapprovedItemsChange(newUnapprovedItems);\n};\n\n/**\n * Function that creates the status column for inventories. Should be used with the DataTable\n * component.\n *\n * @param statusLabel Localized label for the status column\n * @param approvedItems Array of approved items, typically as defined in `Settings.xml`\n * @param onApprovedItemsChange Callback function that stores the updated list of approved items\n * @param unapprovedItems Array of unapproved items, typically as defined in `Settings.xml`\n * @param onUnapprovedItemsChange Callback function that stores the updated list of unapproved items\n * @returns Column that shows the status buttons for the related inventory item. The button for the\n *   current status of the item is selected\n */\nexport const inventoryStatusColumn = (\n  statusLabel: string,\n  approvedItems: string[],\n  onApprovedItemsChange: (items: string[]) => void,\n  unapprovedItems: string[],\n  onUnapprovedItemsChange: (items: string[]) => void,\n): ColumnDef<InventoryTableData> => {\n  return {\n    accessorKey: 'status',\n    header: ({ column }) => {\n      return (\n        <div className=\"tw-flex tw-justify-center\">\n          <Button variant=\"ghost\" onClick={() => column.toggleSorting(undefined)}>\n            {statusLabel}\n            {getSortingIcon(column.getIsSorted())}\n          </Button>\n        </div>\n      );\n    },\n    cell: ({ row }) => {\n      const status: Status = row.getValue('status');\n      const item: string = row.getValue('item');\n      return (\n        <ToggleGroup value={status} variant=\"outline\" type=\"single\">\n          <ToggleGroupItem\n            onClick={(event) => {\n              event.stopPropagation();\n              statusChangeHandler(\n                [item],\n                'approved',\n                approvedItems,\n                onApprovedItemsChange,\n                unapprovedItems,\n                onUnapprovedItemsChange,\n              );\n            }}\n            value=\"approved\"\n          >\n            <CircleCheckIcon />\n          </ToggleGroupItem>\n          <ToggleGroupItem\n            onClick={(event) => {\n              event.stopPropagation();\n              statusChangeHandler(\n                [item],\n                'unapproved',\n                approvedItems,\n                onApprovedItemsChange,\n                unapprovedItems,\n                onUnapprovedItemsChange,\n              );\n            }}\n            value=\"unapproved\"\n          >\n            <CircleXIcon />\n          </ToggleGroupItem>\n          <ToggleGroupItem\n            onClick={(event) => {\n              event.stopPropagation();\n              statusChangeHandler(\n                [item],\n                'unknown',\n                approvedItems,\n                onApprovedItemsChange,\n                unapprovedItems,\n                onUnapprovedItemsChange,\n              );\n            }}\n            value=\"unknown\"\n          >\n            <CircleHelpIcon />\n          </ToggleGroupItem>\n        </ToggleGroup>\n      );\n    },\n  };\n};\n","import { SerializedVerseRef } from '@sillsdev/scripture';\n\n/* #region Types */\n\n/**\n * Status of items that appear in inventories. 'approved' and 'unapproved' items are defined in the\n * project's `Settings.xml`. All other items are defined as 'unknown'\n */\nexport type Status = 'approved' | 'unapproved' | 'unknown';\n\n/** Occurrence of item in inventory. Primarily used by table that shows occurrences */\nexport type InventoryItemOccurrence = {\n  /** Reference to scripture where the item appears */\n  reference: SerializedVerseRef;\n  /** Snippet of scripture that contains the occurrence */\n  text: string;\n};\n\n/** Data structure that contains all information on an item that is shown in an inventory */\nexport type InventoryTableData = {\n  /**\n   * The item (e.g. a character in the characters inventory, a marker in the marker inventory) In\n   * most cases the array will only have one element. In case of additional items (e.g. the\n   * preceding marker in the markers check), the primary item should be stored in the first index.\n   * To show additional items in the inventory, make sure to configure the `additionalItemsLabels`\n   * prop for the Inventory component\n   */\n  items: string[];\n  /** The number of times this item occurs in the selected scope */\n  count: number;\n  /** The status of this item (see documentation for `Status` type for more information) */\n  status: Status;\n  /** Occurrences of this item in the scripture text for the selected scope */\n  occurrences: InventoryItemOccurrence[];\n};\n\n/* #endregion */\n\n/* #region Functions */\n\n/**\n * Splits USFM string into shorter line-like segments\n *\n * @param text A single (likely very large) USFM string\n * @returns An array containing the input text, split into shorter segments\n */\nexport const getLinesFromUSFM = (text: string) => {\n  // Splits on (CR)LF, CR, \\v, \\c and \\id\n  return text.split(/(?:\\r?\\n|\\r)|(?=(?:\\\\(?:v|c|id)))/g);\n};\n\n/**\n * Extracts chapter or verse number from USFM strings that start with a \\c or \\v marker\n *\n * @param text USFM string that is expected to start with \\c or \\v marker\n * @returns Chapter or verse number if one is found. Else returns 0.\n */\nexport const getNumberFromUSFM = (text: string): number | undefined => {\n  // Captures all digits that follow \\v or \\c markers followed by whitespace located at the start of a string\n  const regex = /^\\\\[vc]\\s+(\\d+)/;\n  const match = text.match(regex);\n\n  if (match) {\n    return +match[1];\n  }\n  return undefined;\n};\n\n/**\n * Gets book ID from USFM string that starts with the \\id marker, and returns book number for it\n *\n * @param text USFM string that is expected to start with \\id marker\n * @returns Book number corresponding to the \\id marker in the input text. Returns 0 if no marker is\n *   found or the marker is not valid\n */\nexport const getBookIdFromUSFM = (text: string): string => {\n  // Captures all digits that follow an \\id marker followed by whitespace located at the start of a string\n  const match = text.match(/^\\\\id\\s+([A-Za-z]+)/);\n  if (match) {\n    return match[1];\n  }\n  return '';\n};\n\n/**\n * Gets the status for an item, typically used in the Inventory component\n *\n * @param item The item for which the status is being requested\n * @param approvedItems Array of approved items, typically as defined in `Settings.xml`\n * @param unapprovedItems Array of unapproved items, typically as defined in `Settings.xml`\n * @returns The status for the specified item\n */\nexport const getStatusForItem = (\n  item: string,\n  approvedItems: string[],\n  unapprovedItems: string[],\n): Status => {\n  if (unapprovedItems.includes(item)) return 'unapproved';\n  if (approvedItems.includes(item)) return 'approved';\n  return 'unknown';\n};\n\n/* #endregion */\n","import {\n  ColumnDef,\n  DataTable,\n  RowContents,\n  RowSelectionState,\n  TableContents,\n} from '@/components/advanced/data-table/data-table.component';\nimport { OccurrencesTable } from '@/components/advanced/inventory/occurrences-table.component';\nimport { Checkbox } from '@/components/shadcn-ui/checkbox';\nimport { Input } from '@/components/shadcn-ui/input';\nimport { Label } from '@/components/shadcn-ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/shadcn-ui/select';\nimport { Scope } from '@/components/utils/scripture.util';\nimport { SerializedVerseRef } from '@sillsdev/scripture';\nimport { deepEqual, isString, LocalizedStringValue } from 'platform-bible-utils';\nimport { useEffect, useMemo, useState } from 'react';\nimport { inventoryAdditionalItemColumn } from './inventory-columns';\nimport {\n  getStatusForItem,\n  InventoryItemOccurrence,\n  InventoryTableData,\n  Status,\n} from './inventory-utils';\n\n/** Represents an item in the inventory with associated text and verse reference. */\nexport type InventoryItem = {\n  /**\n   * The label by which the item is shown in the inventory (e.g. the word that is repeated in case\n   * of the Repeated Words check). It serves as a unique identifier for the item. It usually is a\n   * string, but can be a string[] when there are multiple defining attributes (e.g. when 'show\n   * preceding marker' is enabled for the Markers Inventory, the preceding marker will be stored as\n   * the second item in the array)\n   */\n  inventoryText: string | string[];\n  /** The snippet of scripture where this occurrence of the `inventoryItem` is found */\n  verse: string;\n  /** The reference to the location where the `verse` can be found in scripture */\n  verseRef: SerializedVerseRef;\n  /**\n   * Offset used to locate the `inventoryText` (or inventoryText[0] in case of an array) in the\n   * `verse` string\n   */\n  offset: number;\n};\n\n/**\n * Object containing all keys used for localization in this component. If you're using this\n * component in an extension, you can pass it into the useLocalizedStrings hook to easily obtain the\n * localized strings and pass them into the localizedStrings prop of this component\n */\nexport const INVENTORY_STRING_KEYS = Object.freeze([\n  '%webView_inventory_all%',\n  '%webView_inventory_approved%',\n  '%webView_inventory_unapproved%',\n  '%webView_inventory_unknown%',\n  '%webView_inventory_scope_currentBook%',\n  '%webView_inventory_scope_chapter%',\n  '%webView_inventory_scope_verse%',\n  '%webView_inventory_filter_text%',\n  '%webView_inventory_show_additional_items%',\n  '%webView_inventory_occurrences_table_header_reference%',\n  '%webView_inventory_occurrences_table_header_occurrence%',\n] as const);\n\nexport type InventoryLocalizedStrings = {\n  [localizedInventoryKey in (typeof INVENTORY_STRING_KEYS)[number]]?: LocalizedStringValue;\n};\n\n/** Status values that the status filter can select from */\ntype StatusFilter = Status | 'all';\n\n/** Text labels for the inventory columns and the control components of additional inventory items */\ntype AdditionalItemsLabels = {\n  checkboxText?: string;\n  tableHeaders?: string[];\n};\n\n/**\n * Filters data that is shown in the DataTable section of the Inventory\n *\n * @param itemData All inventory items and their related information\n * @param statusFilter Allows filtering by status (i.e. show all items, or only items that are\n *   'approved', 'unapproved' or 'unknown')\n * @param textFilter Allows filtering by text. All items that include the filter text will be\n *   selected.\n * @returns Array of items and their related information that are matched by the specified filters\n */\nconst filterItemData = (\n  itemData: InventoryTableData[],\n  statusFilter: StatusFilter,\n  textFilter: string,\n): InventoryTableData[] => {\n  let filteredItemData: InventoryTableData[] = itemData;\n\n  if (statusFilter !== 'all') {\n    filteredItemData = filteredItemData.filter(\n      (item) =>\n        (statusFilter === 'approved' && item.status === 'approved') ||\n        (statusFilter === 'unapproved' && item.status === 'unapproved') ||\n        (statusFilter === 'unknown' && item.status === 'unknown'),\n    );\n  }\n\n  if (textFilter !== '')\n    filteredItemData = filteredItemData.filter((item) => item.items[0].includes(textFilter));\n\n  return filteredItemData;\n};\n\n/**\n * Turns array of strings into array of inventory items, along with their count and status. The\n * approvedItems and unapprovedItems arrays are used to determine the status of each item, by\n * matching them to the `inventoryText` of the InventoryItem.\n *\n * @param inventoryItems Detailed information on the items that are to be shown in the inventory\n * @param approvedItems Array of approved items, typically as defined in `Settings.xml`\n * @param unapprovedItems Array of unapproved items, typically as defined in `Settings.xml`\n * @returns Array of inventory items, along with their count and status\n */\nconst processInventoryItems = (\n  inventoryItems: InventoryItem[],\n  approvedItems: string[],\n  unapprovedItems: string[],\n): InventoryTableData[] => {\n  const tableData: InventoryTableData[] = [];\n\n  inventoryItems.forEach((item) => {\n    const existingItem = tableData.find((tableEntry) =>\n      deepEqual(\n        tableEntry.items,\n        isString(item.inventoryText) ? [item.inventoryText] : item.inventoryText,\n      ),\n    );\n\n    if (existingItem) {\n      existingItem.count += 1;\n      existingItem.occurrences.push({\n        reference: item.verseRef,\n        text: item.verse,\n      });\n    } else {\n      const newItem: InventoryTableData = {\n        items: isString(item.inventoryText) ? [item.inventoryText] : item.inventoryText,\n        count: 1,\n        status: getStatusForItem(\n          isString(item.inventoryText) ? item.inventoryText : item.inventoryText[0],\n          approvedItems,\n          unapprovedItems,\n        ),\n        occurrences: [\n          {\n            reference: item.verseRef,\n            text: item.verse,\n          },\n        ],\n      };\n      tableData.push(newItem);\n    }\n  });\n\n  return tableData;\n};\n\n/**\n * Gets the localized value for the provided key\n *\n * @param strings Object containing localized string\n * @param key Key for a localized string\n * @returns The localized value for the provided key, if available. Returns the key if no localized\n *   value is available\n */\nconst localizeString = (\n  strings: InventoryLocalizedStrings,\n  key: keyof InventoryLocalizedStrings,\n) => {\n  return strings[key] ?? key;\n};\n\n/** Props for the Inventory component */\ntype InventoryProps = {\n  /** The inventory items that the inventory should be populated with */\n  inventoryItems: InventoryItem[];\n  /** Callback function that is executed when the scripture reference is changed */\n  setVerseRef: (scriptureReference: SerializedVerseRef) => void;\n  /**\n   * Object with all localized strings that the Inventory needs to work well across multiple\n   * languages. When using this component with Platform.Bible, you can import\n   * `INVENTORY_STRING_KEYS` from this library, pass it in to the Platform's localization hook, and\n   * pass the localized keys that are returned by the hook into this prop.\n   */\n  localizedStrings: InventoryLocalizedStrings;\n  /**\n   * Text labels for control elements and additional column headers in case your Inventory has more\n   * than one item to show (e.g. The 'Preceding Marker' in the Markers Inventory)\n   */\n  additionalItemsLabels?: AdditionalItemsLabels;\n  /** Array of approved items, typically as defined in `Settings.xml` */\n  approvedItems: string[];\n  /** Array of unapproved items, typically as defined in `Settings.xml` */\n  unapprovedItems: string[];\n  /** Scope of scripture that the inventory will operate on */\n  scope: Scope;\n  /** Callback function that is executed when the scope is changed from the Inventory */\n  onScopeChange: (scope: Scope) => void;\n  /**\n   * Column definitions for the Inventory data table. The most commonly used column definitions are\n   * pre-configured for your convenience and can be imported (e.g. inventoryItemColumn,\n   * inventoryAdditionalItemColumn inventoryCountColumn, and inventoryStatusColumn). If you need any\n   * other columns you can add these yourself\n   */\n  columns: ColumnDef<InventoryTableData>[];\n};\n\n/** Inventory component that is used to view and control the status of provided project settings */\nexport function Inventory({\n  inventoryItems,\n  setVerseRef,\n  localizedStrings,\n  additionalItemsLabels,\n  approvedItems,\n  unapprovedItems,\n  scope,\n  onScopeChange,\n  columns,\n}: InventoryProps) {\n  const allItemsText = localizeString(localizedStrings, '%webView_inventory_all%');\n  const approvedItemsText = localizeString(localizedStrings, '%webView_inventory_approved%');\n  const unapprovedItemsText = localizeString(localizedStrings, '%webView_inventory_unapproved%');\n  const unknownItemsText = localizeString(localizedStrings, '%webView_inventory_unknown%');\n  const scopeBookText = localizeString(localizedStrings, '%webView_inventory_scope_currentBook%');\n  const scopeChapterText = localizeString(localizedStrings, '%webView_inventory_scope_chapter%');\n  const scopeVerseText = localizeString(localizedStrings, '%webView_inventory_scope_verse%');\n  const filterText = localizeString(localizedStrings, '%webView_inventory_filter_text%');\n  const showAdditionalItemsText = localizeString(\n    localizedStrings,\n    '%webView_inventory_show_additional_items%',\n  );\n\n  const [showAdditionalItems, setShowAdditionalItems] = useState<boolean>(false);\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>('all');\n  const [textFilter, setTextFilter] = useState<string>('');\n  const [selectedItem, setSelectedItem] = useState<string[]>([]);\n\n  const tableData: InventoryTableData[] = useMemo(() => {\n    if (inventoryItems.length === 0) return [];\n    return processInventoryItems(inventoryItems, approvedItems, unapprovedItems);\n  }, [inventoryItems, approvedItems, unapprovedItems]);\n\n  const reducedTableData: InventoryTableData[] = useMemo(() => {\n    if (showAdditionalItems) return tableData;\n\n    const newTableData: InventoryTableData[] = [];\n\n    tableData.forEach((tableEntry) => {\n      const firstItem = tableEntry.items[0];\n\n      const existingEntry = newTableData.find(\n        (newTableEntry) => newTableEntry.items[0] === firstItem,\n      );\n\n      if (existingEntry) {\n        existingEntry.count += tableEntry.count;\n        existingEntry.occurrences = existingEntry.occurrences.concat(tableEntry.occurrences);\n      } else {\n        newTableData.push({\n          items: [firstItem],\n          count: tableEntry.count,\n          occurrences: tableEntry.occurrences,\n          status: tableEntry.status,\n        });\n      }\n    });\n\n    return newTableData;\n  }, [showAdditionalItems, tableData]);\n\n  const filteredTableData: InventoryTableData[] = useMemo(() => {\n    return filterItemData(reducedTableData, statusFilter, textFilter);\n  }, [reducedTableData, statusFilter, textFilter]);\n\n  const allColumns: ColumnDef<InventoryTableData>[] = useMemo(() => {\n    if (!showAdditionalItems) return columns;\n\n    const numberOfAdditionalItems = additionalItemsLabels?.tableHeaders?.length;\n    if (!numberOfAdditionalItems) return columns;\n\n    const additionalColumns: ColumnDef<InventoryTableData>[] = [];\n\n    for (let index = 0; index < numberOfAdditionalItems; index++) {\n      additionalColumns.push(\n        inventoryAdditionalItemColumn(\n          additionalItemsLabels?.tableHeaders?.[index] || 'Additional Item',\n          index + 1,\n        ),\n      );\n    }\n\n    return [...additionalColumns, ...columns];\n  }, [additionalItemsLabels?.tableHeaders, columns, showAdditionalItems]);\n\n  useEffect(() => {\n    if (filteredTableData.length === 0) {\n      setSelectedItem([]);\n    } else if (filteredTableData.length === 1) {\n      setSelectedItem(filteredTableData[0].items);\n    }\n  }, [filteredTableData]);\n\n  const rowClickHandler = (\n    row: RowContents<InventoryTableData>,\n    table: TableContents<InventoryTableData>,\n  ) => {\n    table.setRowSelection(() => {\n      const newSelection: RowSelectionState = {};\n      newSelection[row.index] = true;\n      return newSelection;\n    });\n\n    setSelectedItem(row.original.items);\n  };\n\n  const handleScopeChange = (value: string) => {\n    if (value === 'book' || value === 'chapter' || value === 'verse') {\n      onScopeChange(value);\n    } else {\n      throw new Error(`Invalid scope value: ${value}`);\n    }\n  };\n\n  const handleStatusFilterChange = (value: string) => {\n    if (value === 'all' || value === 'approved' || value === 'unapproved' || value === 'unknown') {\n      setStatusFilter(value);\n    } else {\n      throw new Error(`Invalid status filter value: ${value}`);\n    }\n  };\n\n  const occurrenceData: InventoryItemOccurrence[] = useMemo(() => {\n    if (reducedTableData.length === 0 || selectedItem.length === 0) return [];\n    const occurrence = reducedTableData.filter((tableEntry: InventoryTableData) => {\n      return deepEqual(\n        showAdditionalItems ? tableEntry.items : [tableEntry.items[0]],\n        selectedItem,\n      );\n    });\n    if (occurrence.length > 1) throw new Error('Selected item is not unique');\n    if (occurrence.length === 0) return [];\n    return occurrence[0].occurrences;\n  }, [selectedItem, showAdditionalItems, reducedTableData]);\n\n  return (\n    <div className=\"pr-twp tw-flex tw-h-full tw-flex-col\">\n      <div className=\"tw-flex tw-items-stretch\">\n        <Select\n          onValueChange={(value) => handleStatusFilterChange(value)}\n          defaultValue={statusFilter}\n        >\n          <SelectTrigger className=\"tw-m-1\">\n            <SelectValue placeholder=\"Select filter\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">{allItemsText}</SelectItem>\n            <SelectItem value=\"approved\">{approvedItemsText}</SelectItem>\n            <SelectItem value=\"unapproved\">{unapprovedItemsText}</SelectItem>\n            <SelectItem value=\"unknown\">{unknownItemsText}</SelectItem>\n          </SelectContent>\n        </Select>\n        <Select onValueChange={(value) => handleScopeChange(value)} defaultValue={scope}>\n          <SelectTrigger className=\"tw-m-1\">\n            <SelectValue placeholder=\"Select scope\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"book\">{scopeBookText}</SelectItem>\n            <SelectItem value=\"chapter\">{scopeChapterText}</SelectItem>\n            <SelectItem value=\"verse\">{scopeVerseText}</SelectItem>\n          </SelectContent>\n        </Select>\n        <Input\n          className=\"tw-m-1 tw-rounded-md tw-border\"\n          placeholder={filterText}\n          value={textFilter}\n          onChange={(event) => {\n            setTextFilter(event.target.value);\n          }}\n        />\n        {additionalItemsLabels && (\n          <div className=\"tw-m-1 tw-flex tw-items-center tw-rounded-md tw-border\">\n            <Checkbox\n              className=\"tw-m-1\"\n              checked={showAdditionalItems}\n              onCheckedChange={(checked: boolean) => {\n                setShowAdditionalItems(checked);\n              }}\n            />\n            <Label className=\"tw-m-1 tw-flex-shrink-0 tw-whitespace-nowrap\">\n              {additionalItemsLabels?.checkboxText ?? showAdditionalItemsText}\n            </Label>\n          </div>\n        )}\n      </div>\n      <div className=\"tw-m-1 tw-flex-1 tw-overflow-auto tw-rounded-md tw-border\">\n        <DataTable\n          columns={allColumns}\n          data={filteredTableData}\n          onRowClickHandler={rowClickHandler}\n          stickyHeader\n        />\n      </div>\n      {occurrenceData.length > 0 && (\n        <div className=\"tw-m-1 tw-flex-1 tw-overflow-auto tw-rounded-md tw-border\">\n          <OccurrencesTable\n            occurrenceData={occurrenceData}\n            setScriptureReference={setVerseRef}\n            localizedStrings={localizedStrings}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Inventory;\n","import React from 'react';\nimport * as SeparatorPrimitive from '@radix-ui/react-separator';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * The Separator component visually or semantically separates content. This component is built on\n * Radix UI primitives and styled with Shadcn UI.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/separator}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/separator}\n */\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(({ className, orientation = 'horizontal', decorative = true, ...props }, ref) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn(\n      'pr-twp tw-shrink-0 tw-bg-border',\n      orientation === 'horizontal' ? 'tw-h-[1px] tw-w-full' : 'tw-h-full tw-w-[1px]',\n      className,\n    )}\n    {...props}\n  />\n));\nSeparator.displayName = SeparatorPrimitive.Root.displayName;\n\nexport { Separator };\n","import React from 'react';\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Use to show a placeholder while content is loading. This component is from Shadcn UI. See Shadcn\n * UI documentation: https://ui.shadcn.com/docs/components/skeleton\n */\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn('pr-twp tw-animate-pulse tw-rounded-md tw-bg-muted', className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n","import React from 'react';\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/** @inheritdoc Tooltip */\nconst TooltipProvider = TooltipPrimitive.Provider;\n\n/**\n * Tooltip components provide a popover that displays information related to an element when hovered\n * or focused. These components are built on Radix UI primitives and styled with Shadcn UI. See\n * Shadcn UI Documentation: https://ui.shadcn.com/docs/components/tooltip See Radix UI\n * Documentation: https://www.radix-ui.com/primitives/docs/components/tooltip\n */\nconst Tooltip = TooltipPrimitive.Root;\n\n/** @inheritdoc Tooltip */\nconst TooltipTrigger = TooltipPrimitive.Trigger;\n\n/** @inheritdoc Tooltip */\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      'pr-twp tw-z-50 tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-px-3 tw-py-1.5 tw-text-sm tw-text-popover-foreground tw-shadow-md tw-animate-in tw-fade-in-0 tw-zoom-in-95 data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=closed]:tw-zoom-out-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n      className,\n    )}\n    {...props}\n  />\n));\nTooltipContent.displayName = TooltipPrimitive.Content.displayName;\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n","import React from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { VariantProps, cva } from 'class-variance-authority';\nimport { PanelLeft, PanelRight } from 'lucide-react';\n\nimport { Button } from '@/components/shadcn-ui/button';\nimport { Input } from '@/components/shadcn-ui/input';\nimport { Separator } from '@/components/shadcn-ui/separator';\nimport { Skeleton } from '@/components/shadcn-ui/skeleton';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/shadcn-ui/tooltip';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * CUSTOM: Changes from the original code from Shadcn- Removed uses of useIsMobile, Sheet, and\n * SheetContent. Also removed the parts setting COOKIES.\n */\n\nconst SIDEBAR_WIDTH = '16rem';\nconst SIDEBAR_WIDTH_ICON = '3rem';\n// CUSTOM: Commented this out pending a discussion with UX about keyboard shortcuts\n// const SIDEBAR_KEYBOARD_SHORTCUT = 'b';\n\ntype Side = 'primary' | 'secondary';\n\ntype SidebarContextProps = {\n  state: 'expanded' | 'collapsed';\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  toggleSidebar: () => void;\n  // CUSTOM: this was moved from Sidebar to SidebarProvider to also be able to flip the icon based on the side\n  side: Side;\n};\n\nconst SidebarContext = React.createContext<SidebarContextProps | undefined>(undefined);\n\n/** @inheritdoc SidebarProvider */\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error('useSidebar must be used within a SidebarProvider.');\n  }\n\n  return context;\n}\n\n/**\n * Sidebar components providing an accessible sidebar along with all the sub components that can be\n * used to populate and style it. These components are adapted from Shadcn UI. See Shadcn UI\n * Documentation: https://ui.shadcn.com/docs/components/sidebar\n */\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n    side?: Side;\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      side = 'primary',\n      ...props\n    },\n    ref,\n  ) => {\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    const [_open, _setOpen] = React.useState(defaultOpen);\n    const isOpen = openProp ?? _open;\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === 'function' ? value(isOpen) : value;\n        if (setOpenProp) {\n          setOpenProp(openState);\n        } else {\n          _setOpen(openState);\n        }\n      },\n      [setOpenProp, isOpen],\n    );\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return setOpen((open) => !open);\n    }, [setOpen]);\n\n    // CUSTOM: Commented this out pending a discussion with UX about keyboard shortcuts\n    // Adds a keyboard shortcut to toggle the sidebar.\n    // React.useEffect(() => {\n    //   const handleKeyDown = (event: KeyboardEvent) => {\n    //     if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n    //       event.preventDefault();\n    //       toggleSidebar();\n    //     }\n    //   };\n\n    //   window.addEventListener('keydown', handleKeyDown);\n    //   return () => window.removeEventListener('keydown', handleKeyDown);\n    // }, [toggleSidebar]);\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = isOpen ? 'expanded' : 'collapsed';\n\n    const dir: Direction = readDirection();\n    const oppositeSide: Side = side === 'primary' ? 'secondary' : 'primary';\n    const directionAwareSide = dir === 'ltr' ? side : oppositeSide;\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open: isOpen,\n        setOpen,\n        toggleSidebar,\n        side: directionAwareSide,\n      }),\n      [state, isOpen, setOpen, toggleSidebar, directionAwareSide],\n    );\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              // eslint-disable-next-line no-type-assertion/no-type-assertion\n              {\n                '--sidebar-width': SIDEBAR_WIDTH,\n                '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              // Removed tw-min-h-svh\n              'tw-group/sidebar-wrapper pr-twp tw-flex tw-w-full has-[[data-variant=inset]]:tw-bg-sidebar',\n              className,\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    );\n  },\n);\nSidebarProvider.displayName = 'SidebarProvider';\n\n/** @inheritdoc SidebarProvider */\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    variant?: 'sidebar' | 'floating' | 'inset';\n    collapsible?: 'offcanvas' | 'icon' | 'none';\n  }\n>(({ variant = 'sidebar', collapsible = 'offcanvas', className, children, ...props }, ref) => {\n  const context = useSidebar();\n\n  if (collapsible === 'none') {\n    return (\n      <div\n        className={cn(\n          'tw-flex tw-h-full tw-w-[--sidebar-width] tw-flex-col tw-bg-sidebar tw-text-sidebar-foreground',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"tw-group tw-peer tw-hidden tw-text-sidebar-foreground md:tw-block\"\n      data-state={context.state}\n      data-collapsible={context.state === 'collapsed' ? collapsible : ''}\n      data-variant={variant}\n      data-side={context.side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          'tw-relative tw-h-svh tw-w-[--sidebar-width] tw-bg-transparent tw-transition-[width] tw-duration-200 tw-ease-linear',\n          'group-data-[collapsible=offcanvas]:tw-w-0',\n          'group-data-[side=secondary]:tw-rotate-180',\n          variant === 'floating' || variant === 'inset'\n            ? 'group-data-[collapsible=icon]:tw-w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]'\n            : 'group-data-[collapsible=icon]:tw-w-[--sidebar-width-icon]',\n        )}\n      />\n      <div\n        className={cn(\n          // CUSTOM: Switched tw-fixed to tw-absolute here to scope the sidebar inside of it's container\n          'tw-absolute tw-inset-y-0 tw-z-10 tw-hidden tw-h-svh tw-w-[--sidebar-width] tw-transition-[left,right,width] tw-duration-200 tw-ease-linear md:tw-flex',\n          context.side === 'primary'\n            ? 'tw-left-0 group-data-[collapsible=offcanvas]:tw-left-[calc(var(--sidebar-width)*-1)]'\n            : 'tw-right-0 group-data-[collapsible=offcanvas]:tw-right-[calc(var(--sidebar-width)*-1)]',\n          // Adjust the padding for floating and inset variants.\n          variant === 'floating' || variant === 'inset'\n            ? 'tw-p-2 group-data-[collapsible=icon]:tw-w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]'\n            : 'group-data-[collapsible=icon]:tw-w-[--sidebar-width-icon] group-data-[side=primary]:tw-border-r group-data-[side=secondary]:tw-border-l',\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"tw-flex tw-h-full tw-w-full tw-flex-col tw-bg-sidebar group-data-[variant=floating]:tw-rounded-lg group-data-[variant=floating]:tw-border group-data-[variant=floating]:tw-border-sidebar-border group-data-[variant=floating]:tw-shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = 'Sidebar';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const context = useSidebar();\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn('tw-h-7 tw-w-7', className)}\n      onClick={(event) => {\n        onClick?.(event);\n        context.toggleSidebar();\n      }}\n      {...props}\n    >\n      {context.side === 'primary' ? <PanelLeft /> : <PanelRight />}\n      <span className=\"tw-sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n});\nSidebarTrigger.displayName = 'SidebarTrigger';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<'button'>>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        type=\"button\"\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          'tw-absolute tw-inset-y-0 tw-z-20 tw-hidden tw-w-4 tw--translate-x-1/2 tw-transition-all tw-ease-linear after:tw-absolute after:tw-inset-y-0 after:tw-left-1/2 after:tw-w-[2px] hover:after:tw-bg-sidebar-border group-data-[side=primary]:tw--right-4 group-data-[side=secondary]:tw-left-0 sm:tw-flex',\n          '[[data-side=secondary]_&]:tw-cursor-e-resize [[data-side=secondary]_&]:tw-cursor-w-resize',\n          '[[data-side=primary][data-state=collapsed]_&]:tw-cursor-e-resize [[data-side=secondary][data-state=collapsed]_&]:tw-cursor-w-resize',\n          'group-data-[collapsible=offcanvas]:tw-translate-x-0 group-data-[collapsible=offcanvas]:after:tw-left-full group-data-[collapsible=offcanvas]:hover:tw-bg-sidebar',\n          '[[data-side=primary][data-collapsible=offcanvas]_&]:tw--right-2',\n          '[[data-side=secondary][data-collapsible=offcanvas]_&]:tw--left-2',\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = 'SidebarRail';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<'main'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <main\n        ref={ref}\n        className={cn(\n          // CUSTOM: Removed tw-min-h-svh\n          'tw-relative tw-flex tw-flex-1 tw-flex-col tw-bg-background',\n          'peer-data-[variant=inset]:tw-min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:tw-m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:tw-ml-2 md:peer-data-[variant=inset]:tw-ml-0 md:peer-data-[variant=inset]:tw-rounded-xl md:peer-data-[variant=inset]:tw-shadow',\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInset.displayName = 'SidebarInset';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        'tw-h-8 tw-w-full tw-bg-background tw-shadow-none focus-visible:tw-ring-2 focus-visible:tw-ring-sidebar-ring',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInput.displayName = 'SidebarInput';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        data-sidebar=\"header\"\n        className={cn('tw-flex tw-flex-col tw-gap-2 tw-p-2', className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarHeader.displayName = 'SidebarHeader';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        data-sidebar=\"footer\"\n        className={cn('tw-flex tw-flex-col tw-gap-2 tw-p-2', className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarFooter.displayName = 'SidebarFooter';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn('tw-mx-2 tw-w-auto tw-bg-sidebar-border', className)}\n      {...props}\n    />\n  );\n});\nSidebarSeparator.displayName = 'SidebarSeparator';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        data-sidebar=\"content\"\n        className={cn(\n          'tw-flex tw-min-h-0 tw-flex-1 tw-flex-col tw-gap-2 tw-overflow-auto group-data-[collapsible=icon]:tw-overflow-hidden',\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarContent.displayName = 'SidebarContent';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        data-sidebar=\"group\"\n        className={cn('tw-relative tw-flex tw-w-full tw-min-w-0 tw-flex-col tw-p-2', className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroup.displayName = 'SidebarGroup';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'div';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        'tw-flex tw-h-8 tw-shrink-0 tw-items-center tw-rounded-md tw-px-2 tw-text-xs tw-font-medium tw-text-sidebar-foreground/70 tw-outline-none tw-ring-sidebar-ring tw-transition-[margin,opa] tw-duration-200 tw-ease-linear focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0',\n        'group-data-[collapsible=icon]:tw--mt-8 group-data-[collapsible=icon]:tw-opacity-0',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupLabel.displayName = 'SidebarGroupLabel';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<'button'> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'button';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        'tw-absolute tw-right-3 tw-top-3.5 tw-flex tw-aspect-square tw-w-5 tw-items-center tw-justify-center tw-rounded-md tw-p-0 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring tw-transition-transform hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0',\n        // Increases the hit area of the button on mobile.\n        'after:tw-absolute after:tw--inset-2 after:md:tw-hidden',\n        'group-data-[collapsible=icon]:tw-hidden',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarGroupAction.displayName = 'SidebarGroupAction';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"group-content\"\n      className={cn('tw-w-full tw-text-sm', className)}\n      {...props}\n    />\n  ),\n);\nSidebarGroupContent.displayName = 'SidebarGroupContent';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<'ul'>>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu\"\n      className={cn('tw-flex tw-w-full tw-min-w-0 tw-flex-col tw-gap-1', className)}\n      {...props}\n    />\n  ),\n);\nSidebarMenu.displayName = 'SidebarMenu';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<'li'>>(\n  ({ className, ...props }, ref) => (\n    <li\n      ref={ref}\n      data-sidebar=\"menu-item\"\n      className={cn('tw-group/menu-item tw-relative', className)}\n      {...props}\n    />\n  ),\n);\nSidebarMenuItem.displayName = 'SidebarMenuItem';\n\nconst sidebarMenuButtonVariants = cva(\n  'tw-peer/menu-button tw-flex tw-w-full tw-items-center tw-gap-2 tw-overflow-hidden tw-rounded-md tw-p-2 tw-text-left tw-text-sm tw-outline-none tw-ring-sidebar-ring tw-transition-[width,height,padding] hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 active:tw-bg-sidebar-accent active:tw-text-sidebar-accent-foreground disabled:tw-pointer-events-none disabled:tw-opacity-50 tw-group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:tw-pointer-events-none aria-disabled:tw-opacity-50 data-[active=true]:tw-font-medium data-[active=true]:tw-text-sidebar-accent-foreground data-[active=true]:tw-bg-sidebar-accent data-[state=open]:hover:tw-bg-sidebar-accent data-[state=open]:hover:tw-text-sidebar-accent-foreground group-data-[collapsible=icon]:tw-!size-8 group-data-[collapsible=icon]:tw-!p-2 [&>span:last-child]:tw-truncate [&>svg]:tw-size-4 [&>svg]:tw-shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground',\n        outline:\n          'tw-bg-background tw-shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground hover:tw-shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]',\n      },\n      size: {\n        default: 'tw-h-8 tw-text-sm',\n        sm: 'tw-h-7 tw-text-xs',\n        lg: 'tw-h-12 tw-text-sm group-data-[collapsible=icon]:tw-!p-0',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<'button'> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = 'default',\n      size = 'default',\n      tooltip,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : 'button';\n    const { state } = useSidebar();\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    );\n\n    if (!tooltip) {\n      return button;\n    }\n\n    if (typeof tooltip === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      tooltip = {\n        children: tooltip,\n      };\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent side=\"right\" align=\"center\" hidden={state !== 'collapsed'} {...tooltip} />\n      </Tooltip>\n    );\n  },\n);\nSidebarMenuButton.displayName = 'SidebarMenuButton';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<'button'> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'button';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        'tw-peer-hover/menu-button:text-sidebar-accent-foreground tw-absolute tw-right-1 tw-top-1.5 tw-flex tw-aspect-square tw-w-5 tw-items-center tw-justify-center tw-rounded-md tw-p-0 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring tw-transition-transform hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 [&>svg]:tw-size-4 [&>svg]:tw-shrink-0',\n        // Increases the hit area of the button on mobile.\n        'after:tw-absolute after:tw--inset-2 after:md:tw-hidden',\n        'tw-peer-data-[size=sm]/menu-button:top-1',\n        'tw-peer-data-[size=default]/menu-button:top-1.5',\n        'tw-peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:tw-hidden',\n        showOnHover &&\n          'tw-group-focus-within/menu-item:opacity-100 tw-group-hover/menu-item:opacity-100 tw-peer-data-[active=true]/menu-button:text-sidebar-accent-foreground data-[state=open]:tw-opacity-100 md:tw-opacity-0',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = 'SidebarMenuAction';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<'div'>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        'tw-pointer-events-none tw-absolute tw-right-1 tw-flex tw-h-5 tw-min-w-5 tw-select-none tw-items-center tw-justify-center tw-rounded-md tw-px-1 tw-text-xs tw-font-medium tw-tabular-nums tw-text-sidebar-foreground',\n        'tw-peer-hover/menu-button:text-sidebar-accent-foreground tw-peer-data-[active=true]/menu-button:text-sidebar-accent-foreground',\n        'tw-peer-data-[size=sm]/menu-button:top-1',\n        'tw-peer-data-[size=default]/menu-button:top-1.5',\n        'tw-peer-data-[size=lg]/menu-button:top-2.5',\n        'group-data-[collapsible=icon]:tw-hidden',\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = 'SidebarMenuBadge';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<'div'> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn('tw-flex tw-h-8 tw-items-center tw-gap-2 tw-rounded-md tw-px-2', className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton className=\"tw-size-4 tw-rounded-md\" data-sidebar=\"menu-skeleton-icon\" />\n      )}\n      <Skeleton\n        className=\"tw-h-4 tw-max-w-[--skeleton-width] tw-flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          // eslint-disable-next-line no-type-assertion/no-type-assertion\n          {\n            '--skeleton-width': width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = 'SidebarMenuSkeleton';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<'ul'>>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        'tw-mx-3.5 tw-flex tw-min-w-0 tw-translate-x-px tw-flex-col tw-gap-1 tw-border-l tw-border-sidebar-border tw-px-2.5 tw-py-0.5',\n        'group-data-[collapsible=icon]:tw-hidden',\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = 'SidebarMenuSub';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<'li'>>(\n  ({ ...props }, ref) => <li ref={ref} {...props} />,\n);\nSidebarMenuSubItem.displayName = 'SidebarMenuSubItem';\n\n/** @inheritdoc SidebarProvider */\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<'a'> & {\n    asChild?: boolean;\n    size?: 'sm' | 'md';\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = 'md', isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : 'a';\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        'tw-flex tw-h-7 tw-min-w-0 tw--translate-x-px tw-items-center tw-gap-2 tw-overflow-hidden tw-rounded-md tw-px-2 tw-text-sidebar-foreground tw-outline-none tw-ring-sidebar-ring hover:tw-bg-sidebar-accent hover:tw-text-sidebar-accent-foreground focus-visible:tw-ring-2 active:tw-bg-sidebar-accent active:tw-text-sidebar-accent-foreground disabled:tw-pointer-events-none disabled:tw-opacity-50 aria-disabled:tw-pointer-events-none aria-disabled:tw-opacity-50 [&>span:last-child]:tw-truncate [&>svg]:tw-size-4 [&>svg]:tw-shrink-0 [&>svg]:tw-text-sidebar-accent-foreground',\n        'data-[active=true]:tw-bg-sidebar-accent data-[active=true]:tw-text-sidebar-accent-foreground',\n        size === 'sm' && 'tw-text-xs',\n        size === 'md' && 'tw-text-sm',\n        'group-data-[collapsible=icon]:tw-hidden',\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = 'SidebarMenuSubButton';\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","import { ComboBox } from '@/components/basics/combo-box.component';\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarGroup,\n  SidebarGroupLabel,\n  SidebarGroupContent,\n  SidebarMenu,\n  SidebarMenuItem,\n  SidebarMenuButton,\n} from '@/components/shadcn-ui/sidebar';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { ScrollText } from 'lucide-react';\nimport { useCallback } from 'react';\n\nexport type SelectedSettingsSidebarItem = {\n  label: string;\n  projectId?: string;\n};\n\nexport type ProjectInfo = { projectId: string; projectName: string };\n\nexport type SettingsSidebarProps = {\n  /** Optional id for testing */\n  id?: string;\n\n  /** Extension labels from contribution */\n  extensionLabels: Record<string, string>;\n\n  /** Project names and ids */\n  projectInfo: ProjectInfo[];\n\n  /** Handler for selecting a sidebar item */\n  handleSelectSidebarItem: (key: string, projectId?: string) => void;\n\n  /** The current selected value in the sidebar */\n  selectedSidebarItem: SelectedSettingsSidebarItem;\n\n  /** Label for the group of extensions setting groups */\n  extensionsSidebarGroupLabel: string;\n\n  /** Label for the group of projects settings */\n  projectsSidebarGroupLabel: string;\n\n  /** Placeholder text for the button */\n  buttonPlaceholderText: string;\n\n  /** Additional css classes to help with unique styling of the sidebar */\n  className?: string;\n};\n\n/**\n * The SettingsSidebar component is a sidebar that displays a list of extension settings and project\n * settings. It can be used to navigate to different settings pages. Must be wrapped in a\n * SidebarProvider component otherwise produces errors.\n *\n * @param props - {@link SettingsSidebarProps} The props for the component.\n */\nexport function SettingsSidebar({\n  id,\n  extensionLabels,\n  projectInfo,\n  handleSelectSidebarItem,\n  selectedSidebarItem,\n  extensionsSidebarGroupLabel,\n  projectsSidebarGroupLabel,\n  buttonPlaceholderText,\n  className,\n}: SettingsSidebarProps) {\n  const handleSelectItem = useCallback(\n    (item: string, projectId?: string) => {\n      handleSelectSidebarItem(item, projectId);\n    },\n    [handleSelectSidebarItem],\n  );\n\n  const getProjectNameFromProjectId = useCallback(\n    (projectId: string) => {\n      const project = projectInfo.find((info) => info.projectId === projectId);\n      return project ? project.projectName : projectId;\n    },\n    [projectInfo],\n  );\n\n  const getIsActive: (label: string) => boolean = useCallback(\n    (label: string) => !selectedSidebarItem.projectId && label === selectedSidebarItem.label,\n    [selectedSidebarItem],\n  );\n\n  return (\n    <Sidebar\n      id={id}\n      collapsible=\"none\"\n      variant=\"inset\"\n      className={cn('tw-w-96 tw-gap-2 tw-overflow-y-auto', className)}\n    >\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"tw-text-sm\">\n            {extensionsSidebarGroupLabel}\n          </SidebarGroupLabel>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {Object.entries(extensionLabels).map(([key, label]) => (\n                <SidebarMenuItem key={key}>\n                  <SidebarMenuButton\n                    onClick={() => handleSelectItem(key)}\n                    isActive={getIsActive(key)}\n                  >\n                    <span className=\"tw-pl-3\">{label}</span>\n                  </SidebarMenuButton>\n                </SidebarMenuItem>\n              ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n        <SidebarGroup>\n          <SidebarGroupLabel className=\"tw-text-sm\">{projectsSidebarGroupLabel}</SidebarGroupLabel>\n          <SidebarGroupContent className=\"tw-pl-3\">\n            <ComboBox\n              buttonVariant=\"ghost\"\n              buttonClassName={cn('tw-w-full', {\n                'tw-bg-sidebar-accent tw-text-sidebar-accent-foreground':\n                  selectedSidebarItem?.projectId,\n              })}\n              popoverContentClassName=\"tw-z-[1000]\"\n              options={projectInfo.flatMap((info) => info.projectId)}\n              getOptionLabel={getProjectNameFromProjectId}\n              buttonPlaceholder={buttonPlaceholderText}\n              onChange={(projectId: string) => {\n                const selectedProjectName = getProjectNameFromProjectId(projectId);\n                handleSelectItem(selectedProjectName, projectId);\n              }}\n              value={selectedSidebarItem?.projectId ?? undefined}\n              icon={<ScrollText />}\n            />\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n    </Sidebar>\n  );\n}\n\nexport default SettingsSidebar;\n","import { Button } from '@/components/shadcn-ui/button';\nimport { Input } from '@/components/shadcn-ui/input';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Search, X } from 'lucide-react';\nimport { forwardRef } from 'react';\n\n/** Props for the SearchBar component. */\nexport type SearchBarProps = {\n  /** Search query for the search bar */\n  value: string;\n  /**\n   * Callback fired to handle the search query is updated\n   *\n   * @param searchQuery\n   */\n  onSearch: (searchQuery: string) => void;\n\n  /** Optional string that appears in the search bar without a search string */\n  placeholder?: string;\n\n  /** Optional boolean to set the input base to full width */\n  isFullWidth?: boolean;\n\n  /** Additional css classes to help with unique styling of the search bar */\n  className?: string;\n\n  /** Optional boolean to disable the search bar */\n  isDisabled?: boolean;\n};\n\n/**\n * A search bar component with a search icon and a clear button when the search query is not empty.\n *\n * @param {SearchBarProps} props - The props for the component.\n * @param {string} props.value - The search query for the search bar\n * @param {(searchQuery: string) => void} props.onSearch - Callback fired to handle the search query\n *   is updated\n * @param {string} [props.placeholder] - Optional string that appears in the search bar without a\n *   search string\n * @param {boolean} [props.isFullWidth] - Optional boolean to set the input base to full width\n * @param {string} [props.className] - Additional css classes to help with unique styling of the\n *   search bar\n * @param {boolean} [props.isDisabled] - Optional boolean to disable the search bar\n */\nexport const SearchBar = forwardRef<HTMLInputElement, SearchBarProps>(\n  ({ value, onSearch, placeholder, isFullWidth, className, isDisabled = false }, inputRef) => {\n    const dir: Direction = readDirection();\n\n    return (\n      <div className={cn('tw-relative', { 'tw-w-full': isFullWidth }, className)}>\n        <Search\n          className={cn(\n            'tw-absolute tw-top-1/2 tw-h-4 tw-w-4 tw--translate-y-1/2 tw-transform tw-opacity-50',\n            { 'tw-right-3': dir === 'rtl' },\n            { 'tw-left-3': dir === 'ltr' },\n          )}\n        />\n        <Input\n          ref={inputRef}\n          className=\"tw-w-full tw-text-ellipsis tw-pe-9 tw-ps-9\"\n          placeholder={placeholder}\n          value={value}\n          onChange={(e) => onSearch(e.target.value)}\n          disabled={isDisabled}\n        />\n        {value && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\n              'tw-absolute tw-top-1/2 tw-h-7 tw--translate-y-1/2 tw-transform hover:tw-bg-transparent',\n              { 'tw-left-0': dir === 'rtl' },\n              { 'tw-right-0': dir === 'ltr' },\n            )}\n            onClick={() => {\n              onSearch('');\n            }}\n          >\n            <X className=\"tw-h-4 tw-w-4\" />\n            <span className=\"tw-sr-only\">Clear</span>\n          </Button>\n        )}\n      </div>\n    );\n  },\n);\n\nSearchBar.displayName = 'SearchBar';\n\nexport default SearchBar;\n","import { SidebarInset, SidebarProvider } from '@/components/shadcn-ui/sidebar';\nimport { PropsWithChildren } from 'react';\nimport { SearchBar } from '@/components/basics/search-bar.component';\nimport { SettingsSidebar, SettingsSidebarProps } from './settings-sidebar.component';\n\nexport type SettingsSidebarContentSearchProps = SettingsSidebarProps &\n  PropsWithChildren & {\n    /** The search query in the search bar */\n    searchValue: string;\n\n    /** Handler to run when the value of the search bar changes */\n    onSearch: (searchQuery: string) => void;\n  };\n\n/**\n * A component that wraps a search bar and a settings sidebar, providing a way to search and\n * navigate to different settings pages.\n *\n * @param {SettingsSidebarContentSearchProps} props - The props for the component.\n * @param {string} props.id - The id of the sidebar.\n */\nexport function SettingsSidebarContentSearch({\n  id,\n  extensionLabels,\n  projectInfo,\n  children,\n  handleSelectSidebarItem,\n  selectedSidebarItem,\n  searchValue,\n  onSearch,\n  extensionsSidebarGroupLabel,\n  projectsSidebarGroupLabel,\n  buttonPlaceholderText,\n}: SettingsSidebarContentSearchProps) {\n  return (\n    <div className=\"tw-box-border tw-flex tw-h-full tw-flex-col\">\n      <div className=\"tw-box-border tw-flex tw-items-center tw-justify-center tw-py-4\">\n        <SearchBar\n          className=\"tw-w-9/12\"\n          value={searchValue}\n          onSearch={onSearch}\n          placeholder=\"Search app settings, extension settings, and project settings\"\n        />\n      </div>\n      <SidebarProvider\n        id={id}\n        className=\"tw-h-full tw-flex-1 tw-gap-4 tw-overflow-auto tw-border-t\"\n      >\n        <SettingsSidebar\n          className=\"tw-w-1/2 tw-min-w-[140px] tw-max-w-[220px] tw-border-e\"\n          extensionLabels={extensionLabels}\n          projectInfo={projectInfo}\n          handleSelectSidebarItem={handleSelectSidebarItem}\n          selectedSidebarItem={selectedSidebarItem}\n          extensionsSidebarGroupLabel={extensionsSidebarGroupLabel}\n          projectsSidebarGroupLabel={projectsSidebarGroupLabel}\n          buttonPlaceholderText={buttonPlaceholderText}\n        />\n        <SidebarInset className=\"tw-min-w-[215px]\">{children}</SidebarInset>\n      </SidebarProvider>\n    </div>\n  );\n}\n\nexport default SettingsSidebarContentSearch;\n","import { Button } from '@/components/shadcn-ui/button';\nimport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/shadcn-ui/select';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/shadcn-ui/table';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Canon } from '@sillsdev/scripture';\nimport {\n  Cell,\n  ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  getExpandedRowModel,\n  getGroupedRowModel,\n  getSortedRowModel,\n  GroupingState,\n  Row,\n  RowSelectionState,\n  SortingState,\n  useReactTable,\n} from '@tanstack/react-table';\nimport '@/components/advanced/scripture-results-viewer/scripture-results-viewer.component.css';\nimport {\n  compareScrRefs,\n  formatScrRef,\n  ScriptureSelection,\n  scrRefToBBBCCCVVV,\n} from 'platform-bible-utils';\nimport { MouseEvent, useEffect, useMemo, useState } from 'react';\nimport { ChevronDown, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * Information (e.g., a checking error or some other type of \"transient\" annotation) about something\n * noteworthy at a specific place in an instance of the Scriptures.\n */\nexport type ScriptureItemDetail = ScriptureSelection & {\n  /**\n   * Text of the error, note, etc. In the future, we might want to support something more than just\n   * text so that a JSX element could be provided with a link or some other controls related to the\n   * issue being reported.\n   */\n  detail: string;\n};\n\n/**\n * A uniquely identifiable source of results that can be displayed in the ScriptureResultsViewer.\n * Generally, the source will be a particular Scripture check, but there may be other types of\n * sources.\n */\nexport type ResultsSource = {\n  /**\n   * Uniquely identifies the source.\n   *\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Name (potentially localized) of the source, suitable for display in the UI.\n   *\n   * @type {string}\n   */\n  displayName: string;\n};\n\nexport type ScriptureSrcItemDetail = ScriptureItemDetail & {\n  /** Source/type of detail. Can be used for grouping. */\n  source: ResultsSource;\n};\n\n/**\n * Represents a set of results keyed by Scripture reference. Generally, the source will be a\n * particular Scripture check, but this type also allows for other types of uniquely identifiable\n * sources.\n */\nexport type ResultsSet = {\n  /**\n   * The backing source associated with this set of results.\n   *\n   * @type {ResultsSource}\n   */\n  source: ResultsSource;\n\n  /**\n   * Array of Scripture item details (messages keyed by Scripture reference).\n   *\n   * @type {ScriptureItemDetail[]}\n   */\n  data: ScriptureItemDetail[];\n};\n\nconst scrBookColId = 'scrBook';\nconst scrRefColId = 'scrRef';\nconst typeColId = 'source';\nconst detailsColId = 'details';\n\nconst defaultScrRefColumnName = 'Scripture Reference';\nconst defaultScrBookGroupName = 'Scripture Book';\nconst defaultTypeColumnName = 'Type';\nconst defaultDetailsColumnName = 'Details';\n\nexport type ScriptureResultsViewerColumnInfo = {\n  /** Optional header to display for the Reference column. Default value: 'Scripture Reference'. */\n  scriptureReferenceColumnName?: string;\n\n  /** Optional text to display to refer to the Scripture book group. Default value: 'Scripture Book'. */\n  scriptureBookGroupName?: string;\n\n  /** Optional header to display for the Type column. Default value: 'Type'. */\n  typeColumnName?: string;\n\n  /** Optional header to display for the Details column. Default value: 'Details' */\n  detailsColumnName?: string;\n};\n\nexport type ScriptureResultsViewerProps = ScriptureResultsViewerColumnInfo & {\n  /** Groups of ScriptureItemDetail objects from particular sources (e.g., Scripture checks) */\n  sources: ResultsSet[];\n\n  /** Flag indicating whether to display column headers. Default is false. */\n  showColumnHeaders?: boolean;\n\n  /** Flag indicating whether to display source column. Default is false. */\n  showSourceColumn?: boolean;\n\n  /** Callback function to notify when a row is selected */\n  onRowSelected?: (selectedRow: ScriptureSrcItemDetail | undefined) => void;\n};\n\nfunction getColumns(\n  colInfo?: ScriptureResultsViewerColumnInfo,\n  showSourceColumn?: boolean,\n): ColumnDef<ScriptureSrcItemDetail>[] {\n  const showSrcCol = showSourceColumn ?? false;\n  return [\n    {\n      accessorFn: (row) => `${row.start.book} ${row.start.chapterNum}:${row.start.verseNum}`,\n      id: scrBookColId,\n      header: colInfo?.scriptureReferenceColumnName ?? defaultScrRefColumnName,\n      cell: (info) => {\n        const row = info.row.original;\n        if (info.row.getIsGrouped()) {\n          return Canon.bookIdToEnglishName(row.start.book);\n        }\n        return info.row.groupingColumnId === scrBookColId ? formatScrRef(row.start) : undefined;\n      },\n      getGroupingValue: (row) => Canon.bookIdToNumber(row.start.book),\n      sortingFn: (a, b) => {\n        return compareScrRefs(a.original.start, b.original.start);\n      },\n      enableGrouping: true,\n    },\n    {\n      accessorFn: (row) => formatScrRef(row.start),\n      id: scrRefColId,\n      header: undefined,\n      cell: (info) => {\n        const row = info.row.original;\n        return info.row.getIsGrouped() ? undefined : formatScrRef(row.start);\n      },\n      sortingFn: (a, b) => {\n        return compareScrRefs(a.original.start, b.original.start);\n      },\n      enableGrouping: false,\n    },\n    {\n      accessorFn: (row) => row.source.displayName,\n      id: typeColId,\n      header: showSrcCol ? (colInfo?.typeColumnName ?? defaultTypeColumnName) : undefined,\n      cell: (info) => (showSrcCol || info.row.getIsGrouped() ? info.getValue() : undefined),\n      getGroupingValue: (row) => row.source.id,\n      sortingFn: (a, b) =>\n        a.original.source.displayName.localeCompare(b.original.source.displayName),\n      enableGrouping: true,\n    },\n    {\n      accessorFn: (row) => row.detail,\n      id: detailsColId,\n      header: colInfo?.detailsColumnName ?? defaultDetailsColumnName,\n      cell: (info) => info.getValue(),\n      enableGrouping: false,\n    },\n  ];\n}\n\nconst toRefOrRange = (scriptureSelection: ScriptureSelection) => {\n  if (!('offset' in scriptureSelection.start))\n    throw new Error('No offset available in range start');\n  if (scriptureSelection.end && !('offset' in scriptureSelection.end))\n    throw new Error('No offset available in range end');\n  const { offset: offsetStart } = scriptureSelection.start;\n  let offsetEnd: number = 0;\n  if (scriptureSelection.end) ({ offset: offsetEnd } = scriptureSelection.end);\n  if (\n    !scriptureSelection.end ||\n    compareScrRefs(scriptureSelection.start, scriptureSelection.end) === 0\n  )\n    return `${scrRefToBBBCCCVVV(scriptureSelection.start)}+${offsetStart}`;\n  return `${scrRefToBBBCCCVVV(scriptureSelection.start)}+${offsetStart}-${scrRefToBBBCCCVVV(scriptureSelection.end)}+${offsetEnd}`;\n};\n\nconst getRowKey = (row: ScriptureSrcItemDetail) =>\n  `${toRefOrRange({ start: row.start, end: row.end })} ${row.source.displayName} ${row.detail}`;\n\n/**\n * Component to display a combined list of detailed items from one or more sources, where the items\n * are keyed primarily by Scripture reference. This is particularly useful for displaying a list of\n * results from Scripture checks, but more generally could be used to display any \"results\" from any\n * source(s). The component allows for grouping by Scripture book, source, or both. By default, it\n * displays somewhat \"tree-like\" which allows it to be more horizontally compact and intuitive. But\n * it also has the option of displaying as a traditional table with column headings (with or without\n * the source column showing).\n */\nexport function ScriptureResultsViewer({\n  sources,\n  showColumnHeaders = false,\n  showSourceColumn = false,\n  scriptureReferenceColumnName,\n  scriptureBookGroupName,\n  typeColumnName,\n  detailsColumnName,\n  onRowSelected,\n}: ScriptureResultsViewerProps) {\n  const [grouping, setGrouping] = useState<GroupingState>([]);\n  const [sorting, setSorting] = useState<SortingState>([{ id: scrBookColId, desc: false }]);\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({});\n\n  const scriptureResults = useMemo(\n    () =>\n      sources.flatMap((source) => {\n        return source.data.map((item) => ({\n          ...item,\n          source: source.source,\n        }));\n      }),\n    [sources],\n  );\n\n  const columns = useMemo(\n    () =>\n      getColumns(\n        {\n          scriptureReferenceColumnName,\n          typeColumnName,\n          detailsColumnName,\n        },\n        showSourceColumn,\n      ),\n    [scriptureReferenceColumnName, typeColumnName, detailsColumnName, showSourceColumn],\n  );\n\n  useEffect(() => {\n    // Ensure sorting is applied correctly when grouped by type\n    if (grouping.includes(typeColId)) {\n      setSorting([\n        { id: typeColId, desc: false },\n        { id: scrBookColId, desc: false },\n      ]);\n    } else {\n      setSorting([{ id: scrBookColId, desc: false }]);\n    }\n  }, [grouping]);\n\n  const table = useReactTable({\n    data: scriptureResults,\n    columns,\n    state: {\n      grouping,\n      sorting,\n      rowSelection,\n    },\n    onGroupingChange: setGrouping,\n    onSortingChange: setSorting,\n    onRowSelectionChange: setRowSelection,\n    getExpandedRowModel: getExpandedRowModel(),\n    getGroupedRowModel: getGroupedRowModel(),\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getRowId: getRowKey,\n    autoResetExpanded: false,\n    enableMultiRowSelection: false,\n    enableSubRowSelection: false,\n  });\n\n  useEffect(() => {\n    if (onRowSelected) {\n      const selectedRows = table.getSelectedRowModel().rowsById;\n      const keys = Object.keys(selectedRows);\n      if (keys.length === 1) {\n        const selectedRow = scriptureResults.find((row) => getRowKey(row) === keys[0]) || undefined;\n        if (selectedRow) onRowSelected(selectedRow);\n      }\n    }\n  }, [rowSelection, scriptureResults, onRowSelected, table]);\n\n  // Define possible grouping options\n  const scrBookGroupName = scriptureBookGroupName ?? defaultScrBookGroupName;\n  const typeGroupName = typeColumnName ?? defaultTypeColumnName;\n\n  const groupingOptions = [\n    { label: 'No Grouping', value: [] },\n    { label: `Group by ${scrBookGroupName}`, value: [scrBookColId] },\n    { label: `Group by ${typeGroupName}`, value: [typeColId] },\n    {\n      label: `Group by ${scrBookGroupName} and ${typeGroupName}`,\n      value: [scrBookColId, typeColId],\n    },\n    {\n      label: `Group by ${typeGroupName} and ${scrBookGroupName}`,\n      value: [typeColId, scrBookColId],\n    },\n  ];\n\n  const handleSelectChange = (selectedGrouping: string) => {\n    setGrouping(JSON.parse(selectedGrouping));\n  };\n\n  const handleRowClick = (row: Row<ScriptureSrcItemDetail>, event: MouseEvent) => {\n    if (!row.getIsGrouped() && !row.getIsSelected()) {\n      row.getToggleSelectedHandler()(event);\n    }\n  };\n\n  const getEvenOrOddBandingStyle = (row: Row<ScriptureSrcItemDetail>, index: number) => {\n    if (row.getIsGrouped()) return '';\n    // UX has now said they don't think they want banding. I'm leaving in the code to\n    // set even and odd styles, but there's nothing in the CSS to style them differently.\n    // The \"even\" style used to also have  tw-bg-neutral-300 (along with even) to create\n    // a visual banding effect. That could be added back in if UX changes the decision.\n    return cn('banded-row', index % 2 === 0 ? 'even' : 'odd');\n  };\n\n  const getIndent = (\n    groupingState: GroupingState,\n    row: Row<ScriptureSrcItemDetail>,\n    cell: Cell<ScriptureSrcItemDetail, unknown>,\n  ) => {\n    if (groupingState?.length === 0 || row.depth < cell.column.getGroupedIndex()) return undefined;\n    if (row.getIsGrouped()) {\n      switch (row.depth) {\n        case 1:\n          return 'tw-ps-4';\n        default:\n          return undefined;\n      }\n    }\n    switch (row.depth) {\n      case 1:\n        return 'tw-ps-8';\n      case 2:\n        return 'tw-ps-12';\n      default:\n        return undefined;\n    }\n  };\n\n  return (\n    <div className=\"pr-twp tw-flex tw-h-full tw-w-full tw-flex-col\">\n      {!showColumnHeaders && (\n        <Select\n          value={JSON.stringify(grouping)}\n          onValueChange={(value) => {\n            handleSelectChange(value);\n          }}\n        >\n          <SelectTrigger className=\"tw-mb-1 tw-mt-2\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent position=\"item-aligned\">\n            <SelectGroup>\n              {groupingOptions.map((option) => (\n                <SelectItem key={option.label} value={JSON.stringify(option.value)}>\n                  {option.label}\n                </SelectItem>\n              ))}\n            </SelectGroup>\n          </SelectContent>\n        </Select>\n      )}\n      <Table className=\"tw-relative tw-flex tw-flex-col tw-overflow-y-auto tw-p-0\">\n        {showColumnHeaders && (\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers\n                  .filter((h) => h.column.columnDef.header)\n                  .map((header) => (\n                    /* For sticky column headers to work, we probably need to change the default definition of the shadcn Table component. See https://github.com/shadcn-ui/ui/issues/1151 */\n                    <TableHead key={header.id} colSpan={header.colSpan} className=\"top-0 tw-sticky\">\n                      {header.isPlaceholder ? undefined : (\n                        <div>\n                          {header.column.getCanGroup() ? (\n                            <Button\n                              variant=\"ghost\"\n                              title={`Toggle grouping by ${header.column.columnDef.header}`}\n                              onClick={header.column.getToggleGroupingHandler()}\n                              type=\"button\"\n                            >\n                              {header.column.getIsGrouped() ? `ðŸ›‘` : `ðŸ‘Š `}\n                            </Button>\n                          ) : undefined}{' '}\n                          {flexRender(header.column.columnDef.header, header.getContext())}\n                        </div>\n                      )}\n                    </TableHead>\n                  ))}\n              </TableRow>\n            ))}\n          </TableHeader>\n        )}\n        <TableBody>\n          {table.getRowModel().rows.map((row, rowIndex) => {\n            const dir: Direction = readDirection();\n            return (\n              <TableRow\n                data-state={row.getIsSelected() ? 'selected' : ''}\n                key={row.id}\n                className={cn(getEvenOrOddBandingStyle(row, rowIndex))}\n                onClick={(event) => handleRowClick(row, event)}\n              >\n                {row.getVisibleCells().map((cell) => {\n                  if (\n                    cell.getIsPlaceholder() ||\n                    (cell.column.columnDef.enableGrouping &&\n                      !cell.getIsGrouped() &&\n                      (cell.column.columnDef.id !== typeColId || !showSourceColumn))\n                  )\n                    return undefined;\n                  return (\n                    <TableCell\n                      key={cell.id}\n                      // It seems like a hack to use tw-p-[1px] to override the \"built in\" tw-p-4\n                      // that comes in with the shadcn TableCell class. I could just remove it from\n                      // that class, but it's not clear that that is desirable. I'm not even 100%\n                      // sure I know what padding value to use here, but the problem with 4 (the\n                      // default) is that is prevents the nested indentation when grouping.\n                      className={cn(\n                        cell.column.columnDef.id,\n                        'tw-p-[1px]',\n                        getIndent(grouping, row, cell),\n                      )}\n                    >\n                      {(() => {\n                        if (cell.getIsGrouped()) {\n                          return (\n                            <Button\n                              variant=\"link\"\n                              onClick={row.getToggleExpandedHandler()}\n                              type=\"button\"\n                            >\n                              {row.getIsExpanded() && <ChevronDown />}\n                              {!row.getIsExpanded() &&\n                                (dir === 'ltr' ? <ChevronRight /> : <ChevronLeft />)}{' '}\n                              {flexRender(cell.column.columnDef.cell, cell.getContext())} (\n                              {row.subRows.length})\n                            </Button>\n                          );\n                        }\n\n                        // if (cell.getIsAggregated()) {\n                        //   flexRender(\n                        //     cell.column.columnDef.aggregatedCell ?? cell.column.columnDef.cell,\n                        //     cell.getContext(),\n                        //   );\n                        // }\n\n                        return flexRender(cell.column.columnDef.cell, cell.getContext());\n                      })()}\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n\nexport default ScriptureResultsViewer;\n","import { Canon } from '@sillsdev/scripture';\n\n/**\n * Represents the major sections of the Bible and extra materials. Used for grouping and filtering\n * books in the book selector.\n */\nexport enum Section {\n  /** Old Testament books (Genesis through Malachi) */\n  OT = 'OT',\n  /** New Testament books (Matthew through Revelation) */\n  NT = 'NT',\n  /** Deuterocanonical books (e.g. Tobit, Judith, 1-2 Maccabees) */\n  DC = 'DC',\n  /** Additional materials not part of the biblical canon (e.g. XXA, XXB etc.) */\n  Extra = 'Extra',\n}\n\n/**\n * Gets the localized full name of a Bible section from its enum value\n *\n * @param section - The section enum value to get the name for\n * @param otLongName - Optional localized name for Old Testament section\n * @param ntLongName - Optional localized name for New Testament section\n * @param dcLongName - Optional localized name for Deuterocanonical section\n * @param extraLongName - Optional localized name for Extra Materials section\n * @returns {string} The human-readable localized name of the section. Defaults to English names\n * @throws {Error} When the section enum value is not recognized\n */\nexport const getSectionLongName = (\n  section: Section,\n  otLongName?: string,\n  ntLongName?: string,\n  dcLongName?: string,\n  extraLongName?: string,\n): string => {\n  switch (section) {\n    case Section.OT:\n      return otLongName ?? 'Old Testament';\n    case Section.NT:\n      return ntLongName ?? 'New Testament';\n    case Section.DC:\n      return dcLongName ?? 'Deuterocanon';\n    case Section.Extra:\n      return extraLongName ?? 'Extra Materials';\n    default:\n      throw new Error(`Unknown section: ${section}`);\n  }\n};\n\n/**\n * Gets the short name of a Bible section from its enum value\n *\n * @param section - The section enum value to get the short name for\n * @param otShortName - Optional localized short name for Old Testament section\n * @param ntShortName - Optional localized short name for New Testament section\n * @param dcShortName - Optional localized short name for Deuterocanonical section\n * @param extraShortName - Optional localized short name for Extra Materials section\n * @returns {string} The short name of the section. Defaults to English\n * @throws {Error} When the section enum value is not recognized\n */\nexport const getSectionShortName = (\n  section: Section,\n  otShortName?: string,\n  ntShortName?: string,\n  dcShortName?: string,\n  extraShortName?: string,\n): string => {\n  switch (section) {\n    case Section.OT:\n      return otShortName ?? 'OT';\n    case Section.NT:\n      return ntShortName ?? 'NT';\n    case Section.DC:\n      return dcShortName ?? 'DC';\n    case Section.Extra:\n      return extraShortName ?? 'Extra';\n    default:\n      throw new Error(`Unknown section: ${section}`);\n  }\n};\n\n/**\n * Determines which section a book belongs to based on its ID\n *\n * @param bookId The ID of the book (e.g., 'GEN', 'MAT')\n * @returns The section (OT, NT, DC, or Extra) that the book belongs to\n * @throws Error if the book ID is not recognized or cannot be categorized\n */\nexport const getSectionForBook = (bookId: string): Section => {\n  if (Canon.isBookOT(bookId)) return Section.OT;\n  if (Canon.isBookNT(bookId)) return Section.NT;\n  if (Canon.isBookDC(bookId)) return Section.DC;\n  if (Canon.isExtraMaterial(bookId)) return Section.Extra;\n\n  throw new Error(`Unknown section for book: ${bookId}`);\n};\n\n/**\n * Filters an array of book IDs to only include books from a specific section\n *\n * @param bookIds Array of book IDs to filter\n * @param section The section to filter by\n * @returns Array of book IDs that belong to the specified section\n */\nexport const getBooksForSection = (bookIds: string[], section: Section) => {\n  return bookIds.filter((bookId) => {\n    try {\n      return getSectionForBook(bookId) === section;\n    } catch {\n      return false;\n    }\n  });\n};\n\n/**\n * Checks if all books in a given section are included in the selectedBookIds array\n *\n * @param bookIds Array of all available book IDs\n * @param section The section to check\n * @param selectedBookIds Array of currently selected book IDs\n * @returns True if all books from the specified section are selected, false otherwise\n */\nexport const isSectionFullySelected = (\n  bookIds: string[],\n  section: Section,\n  selectedBookIds: string[],\n) => getBooksForSection(bookIds, section).every((bookId) => selectedBookIds.includes(bookId));\n","import { CommandItem } from '@/components/shadcn-ui/command';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Canon } from '@sillsdev/scripture';\nimport { Check } from 'lucide-react';\nimport { MutableRefObject, useRef } from 'react';\nimport { getSectionForBook, Section } from './scope-selector-utils';\n\ntype BookItemProps = {\n  /** The book ID (e.g., 'GEN', 'EXO') */\n  bookId: string;\n  /** Array of currently selected book IDs */\n  selectedBookIds: string[];\n  /** Callback function to handle book selection/deselection with optional shift-key support */\n  toggleBook: (bookId: string, shiftKey: boolean) => void;\n  /** Reference to track if the last key event included the shift key */\n  lastKeyEventShiftKey: MutableRefObject<boolean>;\n  /**\n   * Optional map of localized book IDs/short names and full names. Key is the (English) book ID,\n   * value contains localized versions of the ID and full book name\n   */\n  localizedBookNames?: Map<string, { localizedId: string; localizedName: string }>;\n};\n\n/**\n * A component that represents a single book item in the book selector. Handles both keyboard and\n * mouse interactions for book selection, including shift-click for range selection. The component\n * shows the book's localized name, its ID, and visually indicates its testament (OT/NT/DC/Extra)\n * through color coding.\n */\nfunction BookItem({\n  bookId,\n  selectedBookIds,\n  toggleBook,\n  lastKeyEventShiftKey,\n  localizedBookNames,\n}: BookItemProps) {\n  const isMouseClick = useRef(false);\n  const mouseClickTimer = useRef<ReturnType<typeof setTimeout>>();\n  return (\n    <CommandItem\n      key={bookId}\n      value={bookId}\n      className=\"tw-flex tw-items-center\"\n      onSelect={() => {\n        // Only process selection if it wasn't triggered by mouse\n        if (!isMouseClick.current) {\n          toggleBook(bookId, lastKeyEventShiftKey.current);\n          lastKeyEventShiftKey.current = false;\n        }\n        if (mouseClickTimer.current) {\n          clearTimeout(mouseClickTimer.current);\n        }\n        mouseClickTimer.current = setTimeout(() => {\n          isMouseClick.current = false;\n        }, 100);\n      }}\n      onMouseDown={(e) => {\n        e.preventDefault();\n        isMouseClick.current = true;\n        toggleBook(bookId, e.shiftKey);\n      }}\n      role=\"option\"\n      aria-selected={selectedBookIds.includes(bookId)}\n      aria-label={`${Canon.bookIdToEnglishName(bookId)} (${bookId.toLocaleUpperCase()})`}\n    >\n      <Check\n        className={cn(\n          'tw-me-2 tw-h-4 tw-w-4',\n          selectedBookIds.includes(bookId) ? 'tw-opacity-100' : 'tw-opacity-0',\n        )}\n      />\n      <span\n        className={cn(\n          'tw-flex-1 tw-border-b-0 tw-border-e-0 tw-border-s-2 tw-border-t-0 tw-border-solid tw-px-2',\n          {\n            'tw-border-s-red-200': getSectionForBook(bookId) === Section.OT,\n            'tw-border-s-purple-200': getSectionForBook(bookId) === Section.NT,\n            'tw-border-s-indigo-200': getSectionForBook(bookId) === Section.DC,\n            'tw-border-s-yellow-200': getSectionForBook(bookId) === Section.Extra,\n          },\n        )}\n      >\n        {(localizedBookNames && localizedBookNames.get(bookId)?.localizedName) ||\n          Canon.bookIdToEnglishName(bookId)}\n      </span>\n\n      <span className=\"tw-ml-2 tw-text-xs tw-text-muted-foreground\">\n        {(localizedBookNames && localizedBookNames.get(bookId)?.localizedId) ||\n          bookId.toLocaleUpperCase()}\n      </span>\n    </CommandItem>\n  );\n}\n\nexport default BookItem;\n","import { Button } from '@/components/shadcn-ui/button';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { LanguageStrings } from 'platform-bible-utils';\nimport {\n  getBooksForSection,\n  getSectionShortName,\n  isSectionFullySelected,\n  Section,\n} from './scope-selector-utils';\n\n/**\n * A button component that represents a scripture section (testament) in the book selector. The\n * button shows a different state when all books in its section are selected and becomes disabled\n * when no books are available in its section.\n */\nfunction SectionButton({\n  section,\n  availableBookIds,\n  selectedBookIds,\n  onToggle,\n  localizedStrings,\n}: {\n  section: Section;\n  availableBookIds: string[];\n  selectedBookIds: string[];\n  onToggle: (section: Section) => void;\n  localizedStrings: LanguageStrings;\n}) {\n  const isDisabled = getBooksForSection(availableBookIds, section).length === 0;\n\n  const sectionOtShortText = localizedStrings['%scripture_section_ot_short%'];\n  const sectionNtShortText = localizedStrings['%scripture_section_nt_short%'];\n  const sectionDcShortText = localizedStrings['%scripture_section_dc_short%'];\n  const sectionExtraShortText = localizedStrings['%scripture_section_extra_short%'];\n\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"sm\"\n      onClick={() => onToggle(section)}\n      className={cn(\n        isSectionFullySelected(availableBookIds, section, selectedBookIds) &&\n          !isDisabled &&\n          'tw-bg-primary tw-text-primary-foreground hover:tw-bg-primary/70 hover:tw-text-primary-foreground',\n      )}\n      disabled={isDisabled}\n    >\n      {getSectionShortName(\n        section,\n        sectionOtShortText,\n        sectionNtShortText,\n        sectionDcShortText,\n        sectionExtraShortText,\n      )}\n    </Button>\n  );\n}\n\nexport default SectionButton;\n","import { Badge } from '@/components/shadcn-ui/badge';\nimport { Button } from '@/components/shadcn-ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandList,\n  CommandSeparator,\n} from '@/components/shadcn-ui/command';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/shadcn-ui/popover';\nimport { Canon } from '@sillsdev/scripture';\nimport { ChevronsUpDown } from 'lucide-react';\nimport { LanguageStrings } from 'platform-bible-utils';\nimport { Fragment, useCallback, useMemo, useRef, useState } from 'react';\nimport BookItem from './book-item.component';\nimport {\n  getBooksForSection,\n  getSectionForBook,\n  getSectionLongName,\n  isSectionFullySelected,\n  Section,\n} from './scope-selector-utils';\nimport SectionButton from './section-button.component';\n\n/** Maximum number of badges to show before collapsing into a \"+X more\" badge */\nconst VISIBLE_BADGES_COUNT = 5;\n/** Maximum number of badges that can be shown without triggering the collapse */\nconst MAX_VISIBLE_BADGES = 6;\n\ntype BookSelectorProps = {\n  /**\n   * Information about available books, formatted as a 123 character long string as defined in a\n   * projects BooksPresent setting\n   */\n  availableBookInfo: string;\n  /** Array of currently selected book IDs */\n  selectedBookIds: string[];\n  /** Callback function that is executed when the book selection changes */\n  onChangeSelectedBookIds: (books: string[]) => void;\n  /** Object containing the localized strings for the component */\n  localizedStrings: LanguageStrings;\n  /**\n   * Optional map of localized book IDs/short names and full names. Key is the (English) book ID,\n   * value contains localized versions of the ID and full book name\n   */\n  localizedBookNames?: Map<string, { localizedId: string; localizedName: string }>;\n};\n\n/**\n * A component for selecting multiple books from the Bible canon. It provides:\n *\n * - Quick selection buttons for major sections (OT, NT, DC, Extra)\n * - A searchable dropdown with all available books\n * - Support for shift-click range selection\n * - Visual feedback with badges showing selected books\n */\nexport function BookSelector({\n  availableBookInfo,\n  selectedBookIds,\n  onChangeSelectedBookIds,\n  localizedStrings,\n  localizedBookNames,\n}: BookSelectorProps) {\n  const booksSelectedText = localizedStrings['%webView_book_selector_books_selected%'];\n  const selectBooksText = localizedStrings['%webView_book_selector_select_books%'];\n  const searchBooksText = localizedStrings['%webView_book_selector_search_books%'];\n  const selectAllText = localizedStrings['%webView_book_selector_select_all%'];\n  const clearAllText = localizedStrings['%webView_book_selector_clear_all%'];\n  const noBookFoundText = localizedStrings['%webView_book_selector_no_book_found%'];\n  const moreText = localizedStrings['%webView_book_selector_more%'];\n  const sectionOtLongText = localizedStrings['%scripture_section_ot_long%'];\n  const sectionNtLongText = localizedStrings['%scripture_section_nt_long%'];\n  const sectionDcLongText = localizedStrings['%scripture_section_dc_long%'];\n  const sectionExtraLongText = localizedStrings['%scripture_section_extra_long%'];\n\n  const [isBooksSelectorOpen, setIsBooksSelectorOpen] = useState(false);\n  const lastSelectedBookRef = useRef<string | undefined>(undefined);\n  const lastKeyEventShiftKey = useRef(false);\n\n  if (availableBookInfo.length !== Canon.allBookIds.length) {\n    throw new Error('availableBookInfo length must match Canon.allBookIds length');\n  }\n\n  const availableBooksIds = useMemo(() => {\n    return Canon.allBookIds.filter(\n      (bookId, index) =>\n        availableBookInfo[index] === '1' && !Canon.isObsolete(Canon.bookIdToNumber(bookId)),\n    );\n  }, [availableBookInfo]);\n\n  const toggleBook = useCallback(\n    (bookId: string, shiftKey = false) => {\n      if (!shiftKey || !lastSelectedBookRef.current) {\n        onChangeSelectedBookIds(\n          selectedBookIds.includes(bookId)\n            ? selectedBookIds.filter((id) => id !== bookId)\n            : [...selectedBookIds, bookId],\n        );\n        lastSelectedBookRef.current = bookId;\n        return;\n      }\n\n      const lastIndex = availableBooksIds.findIndex((id) => id === lastSelectedBookRef.current);\n      const currentIndex = availableBooksIds.findIndex((id) => id === bookId);\n\n      if (lastIndex === -1 || currentIndex === -1) return;\n\n      const [startIndex, endIndex] = [\n        Math.min(lastIndex, currentIndex),\n        Math.max(lastIndex, currentIndex),\n      ];\n      const booksInRange = availableBooksIds.slice(startIndex, endIndex + 1).map((id) => id);\n\n      onChangeSelectedBookIds(\n        selectedBookIds.includes(bookId)\n          ? selectedBookIds.filter((shortname) => !booksInRange.includes(shortname))\n          : [...new Set([...selectedBookIds, ...booksInRange])],\n      );\n    },\n    [selectedBookIds, onChangeSelectedBookIds, availableBooksIds],\n  );\n\n  const toggleSection = useCallback(\n    (section: Section) => {\n      const sectionBooks = getBooksForSection(availableBooksIds, section).map((bookId) => bookId);\n      onChangeSelectedBookIds(\n        isSectionFullySelected(availableBooksIds, section, selectedBookIds)\n          ? selectedBookIds.filter((shortname) => !sectionBooks.includes(shortname))\n          : [...new Set([...selectedBookIds, ...sectionBooks])],\n      );\n    },\n    [selectedBookIds, onChangeSelectedBookIds, availableBooksIds],\n  );\n\n  const handleSelectAll = () => {\n    onChangeSelectedBookIds(availableBooksIds.map((bookId) => bookId));\n  };\n\n  const handleClearAll = () => {\n    onChangeSelectedBookIds([]);\n  };\n\n  return (\n    <div className=\"tw-space-y-2\">\n      <div className=\"tw-flex tw-flex-wrap tw-gap-2\">\n        {Object.values(Section).map((section) => {\n          return (\n            <SectionButton\n              key={section}\n              section={section}\n              availableBookIds={availableBooksIds}\n              selectedBookIds={selectedBookIds}\n              onToggle={toggleSection}\n              localizedStrings={localizedStrings}\n            />\n          );\n        })}\n      </div>\n\n      <Popover open={isBooksSelectorOpen} onOpenChange={setIsBooksSelectorOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            variant=\"outline\"\n            role=\"combobox\"\n            aria-expanded={isBooksSelectorOpen}\n            className=\"tw-max-w-64 tw-justify-between\"\n          >\n            {selectedBookIds.length > 0\n              ? `${booksSelectedText}: ${selectedBookIds.length}`\n              : selectBooksText}\n            <ChevronsUpDown className=\"tw-ml-2 tw-h-4 tw-w-4 tw-shrink-0 tw-opacity-50\" />\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"tw-w-full tw-p-0\" align=\"start\">\n          <Command\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') {\n                // Store shift state in a ref that will be used by onSelect\n                lastKeyEventShiftKey.current = e.shiftKey;\n              }\n            }}\n          >\n            <CommandInput placeholder={searchBooksText} />\n            <div className=\"tw-flex tw-justify-between tw-border-b tw-p-2\">\n              <Button variant=\"ghost\" size=\"sm\" onClick={handleSelectAll}>\n                {selectAllText}\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\" onClick={handleClearAll}>\n                {clearAllText}\n              </Button>\n            </div>\n            <CommandList>\n              <CommandEmpty>{noBookFoundText}</CommandEmpty>\n              {Object.values(Section).map((section, index) => {\n                const sectionBooks = availableBooksIds.filter(\n                  (bookId) => getSectionForBook(bookId) === section,\n                );\n\n                if (sectionBooks.length === 0) return undefined;\n\n                return (\n                  <Fragment key={section}>\n                    <CommandGroup\n                      heading={getSectionLongName(\n                        section,\n                        sectionOtLongText,\n                        sectionNtLongText,\n                        sectionDcLongText,\n                        sectionExtraLongText,\n                      )}\n                    >\n                      {sectionBooks.map((bookId) => (\n                        <BookItem\n                          key={bookId}\n                          bookId={bookId}\n                          selectedBookIds={selectedBookIds}\n                          toggleBook={toggleBook}\n                          lastKeyEventShiftKey={lastKeyEventShiftKey}\n                          localizedBookNames={localizedBookNames}\n                        />\n                      ))}\n                    </CommandGroup>\n                    {index < Object.values(Section).length - 1 && <CommandSeparator />}\n                  </Fragment>\n                );\n              })}\n            </CommandList>\n          </Command>\n        </PopoverContent>\n      </Popover>\n\n      {selectedBookIds.length > 0 && (\n        <div className=\"tw-mt-2 tw-flex tw-flex-wrap tw-gap-1\">\n          {selectedBookIds\n            .slice(\n              0,\n              selectedBookIds.length === MAX_VISIBLE_BADGES\n                ? MAX_VISIBLE_BADGES\n                : VISIBLE_BADGES_COUNT,\n            )\n            .map((bookId) => (\n              <Badge className=\"hover:tw-bg-secondary\" key={bookId} variant=\"secondary\">\n                {(localizedBookNames && localizedBookNames.get(bookId)?.localizedName) ||\n                  Canon.bookIdToEnglishName(bookId) ||\n                  bookId}\n              </Badge>\n            ))}\n          {selectedBookIds.length > MAX_VISIBLE_BADGES && (\n            <Badge\n              className=\"hover:tw-bg-secondary\"\n              variant=\"secondary\"\n            >{`+${selectedBookIds.length - VISIBLE_BADGES_COUNT} ${moreText}`}</Badge>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { BookSelector } from '@/components/advanced/scope-selector/book-selector.component';\nimport { Label } from '@/components/shadcn-ui/label';\nimport { RadioGroup, RadioGroupItem } from '@/components/shadcn-ui/radio-group';\nimport { Scope } from '@/components/utils/scripture.util';\nimport { LocalizedStringValue } from 'platform-bible-utils';\n\n/**\n * Object containing all keys used for localization in this component. If you're using this\n * component in an extension, you can pass it into the useLocalizedStrings hook to easily obtain the\n * localized strings and pass them into the localizedStrings prop of this component\n */\nexport const SCOPE_SELECTOR_STRING_KEYS = Object.freeze([\n  '%webView_scope_selector_selected_text%',\n  '%webView_scope_selector_current_verse%',\n  '%webView_scope_selector_current_chapter%',\n  '%webView_scope_selector_current_book%',\n  '%webView_scope_selector_choose_books%',\n  '%webView_scope_selector_scope%',\n  '%webView_scope_selector_select_books%',\n  '%webView_book_selector_books_selected%',\n  '%webView_book_selector_select_books%',\n  '%webView_book_selector_search_books%',\n  '%webView_book_selector_select_all%',\n  '%webView_book_selector_clear_all%',\n  '%webView_book_selector_no_book_found%',\n  '%webView_book_selector_more%',\n  '%scripture_section_ot_long%',\n  '%scripture_section_ot_short%',\n  '%scripture_section_nt_long%',\n  '%scripture_section_nt_short%',\n  '%scripture_section_dc_long%',\n  '%scripture_section_dc_short%',\n  '%scripture_section_extra_long%',\n  '%scripture_section_extra_short%',\n] as const);\n\n/** Type definition for the localized strings used in this component */\nexport type ScopeSelectorLocalizedStrings = {\n  [localizedInventoryKey in (typeof SCOPE_SELECTOR_STRING_KEYS)[number]]?: LocalizedStringValue;\n};\n\n/**\n * Gets the localized value for the provided key\n *\n * @param strings Object containing localized string\n * @param key Key for a localized string\n * @returns The localized value for the provided key, if available. Returns the key if no localized\n *   value is available\n */\nconst localizeString = (\n  strings: ScopeSelectorLocalizedStrings,\n  key: keyof ScopeSelectorLocalizedStrings,\n) => {\n  return strings[key] ?? key;\n};\n\n/** Props for configuring the ScopeSelector component */\ninterface ScopeSelectorProps {\n  /** The current scope selection */\n  scope: Scope;\n\n  /**\n   * Optional array of scopes that should be available in the selector. If not provided, all scopes\n   * will be shown as defined in the Scope type\n   */\n  availableScopes?: Scope[];\n\n  /** Callback function that is executed when the user changes the scope selection */\n  onScopeChange: (scope: Scope) => void;\n\n  /**\n   * Information about available books, formatted as a 123 character long string as defined in a\n   * projects BooksPresent setting\n   */\n  availableBookInfo: string;\n\n  /** Array of currently selected book IDs */\n  selectedBookIds: string[];\n\n  /** Callback function that is executed when the user changes the book selection */\n  onSelectedBookIdsChange: (books: string[]) => void;\n\n  /**\n   * Object with all localized strings that the component needs to work well across multiple\n   * languages. When using this component with Platform.Bible, you can import\n   * `SCOPE_SELECTOR_STRING_KEYS` from this library, pass it in to the Platform's localization hook,\n   * and pass the localized keys that are returned by the hook into this prop.\n   */\n  localizedStrings: ScopeSelectorLocalizedStrings;\n  /**\n   * Optional map of localized book IDs/short names and full names. Key is the (English) book ID,\n   * value contains localized versions of the ID and full book name\n   */\n  localizedBookNames?: Map<string, { localizedId: string; localizedName: string }>;\n}\n\n/**\n * A component that allows users to select the scope of their search or operation. Available scopes\n * are defined in the Scope type. When 'selectedBooks' is chosen as the scope, a BookSelector\n * component is displayed to allow users to choose specific books.\n */\nexport function ScopeSelector({\n  scope,\n  availableScopes,\n  onScopeChange,\n  availableBookInfo,\n  selectedBookIds,\n  onSelectedBookIdsChange,\n  localizedStrings,\n  localizedBookNames,\n}: ScopeSelectorProps) {\n  const selectedTextText = localizeString(\n    localizedStrings,\n    '%webView_scope_selector_selected_text%',\n  );\n  const currentVerseText = localizeString(\n    localizedStrings,\n    '%webView_scope_selector_current_verse%',\n  );\n  const currentChapterText = localizeString(\n    localizedStrings,\n    '%webView_scope_selector_current_chapter%',\n  );\n  const currentBookText = localizeString(localizedStrings, '%webView_scope_selector_current_book%');\n  const chooseBooksText = localizeString(localizedStrings, '%webView_scope_selector_choose_books%');\n  const scopeText = localizeString(localizedStrings, '%webView_scope_selector_scope%');\n  const selectBooksText = localizeString(localizedStrings, '%webView_scope_selector_select_books%');\n\n  const SCOPE_OPTIONS: Array<{ value: Scope; label: string; id: string }> = [\n    { value: 'selectedText', label: selectedTextText, id: 'scope-selected-text' },\n    { value: 'verse', label: currentVerseText, id: 'scope-verse' },\n    { value: 'chapter', label: currentChapterText, id: 'scope-chapter' },\n    { value: 'book', label: currentBookText, id: 'scope-book' },\n    { value: 'selectedBooks', label: chooseBooksText, id: 'scope-selected' },\n  ];\n\n  const displayedScopes = availableScopes\n    ? SCOPE_OPTIONS.filter((option) => availableScopes.includes(option.value))\n    : SCOPE_OPTIONS;\n\n  return (\n    <div className=\"tw-grid tw-gap-4\">\n      <div className=\"tw-grid tw-gap-2\">\n        <Label>{scopeText}</Label>\n        <RadioGroup\n          value={scope}\n          onValueChange={onScopeChange}\n          className=\"tw-flex tw-flex-col tw-space-y-1\"\n        >\n          {displayedScopes.map(({ value, label, id }) => (\n            <div key={id} className=\"tw-flex tw-items-center\">\n              <RadioGroupItem className=\"tw-me-2\" value={value} id={id} />\n              <Label htmlFor={id}>{label}</Label>\n            </div>\n          ))}\n        </RadioGroup>\n      </div>\n\n      {scope === 'selectedBooks' && (\n        <div className=\"tw-grid tw-gap-2\">\n          <Label>{selectBooksText}</Label>\n          <BookSelector\n            availableBookInfo={availableBookInfo}\n            selectedBookIds={selectedBookIds}\n            onChangeSelectedBookIds={onSelectedBookIdsChange}\n            localizedStrings={localizedStrings}\n            localizedBookNames={localizedBookNames}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ScopeSelector;\n","import {\n  getLocalizeKeyForScrollGroupId,\n  LanguageStrings,\n  ScrollGroupId,\n} from 'platform-bible-utils';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/shadcn-ui/select';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\nimport { cn } from '@/utils/shadcn-ui.util';\n\nconst DEFAULT_SCROLL_GROUP_LOCALIZED_STRINGS = {\n  [getLocalizeKeyForScrollGroupId('undefined')]: 'Ã˜',\n  [getLocalizeKeyForScrollGroupId(0)]: 'A',\n  [getLocalizeKeyForScrollGroupId(1)]: 'B',\n  [getLocalizeKeyForScrollGroupId(2)]: 'C',\n  [getLocalizeKeyForScrollGroupId(3)]: 'D',\n  [getLocalizeKeyForScrollGroupId(4)]: 'E',\n  [getLocalizeKeyForScrollGroupId(5)]: 'F',\n  [getLocalizeKeyForScrollGroupId(6)]: 'G',\n  [getLocalizeKeyForScrollGroupId(7)]: 'H',\n  [getLocalizeKeyForScrollGroupId(8)]: 'I',\n  [getLocalizeKeyForScrollGroupId(9)]: 'J',\n  [getLocalizeKeyForScrollGroupId(10)]: 'K',\n  [getLocalizeKeyForScrollGroupId(11)]: 'L',\n  [getLocalizeKeyForScrollGroupId(12)]: 'M',\n  [getLocalizeKeyForScrollGroupId(13)]: 'N',\n  [getLocalizeKeyForScrollGroupId(14)]: 'O',\n  [getLocalizeKeyForScrollGroupId(15)]: 'P',\n  [getLocalizeKeyForScrollGroupId(16)]: 'Q',\n  [getLocalizeKeyForScrollGroupId(17)]: 'R',\n  [getLocalizeKeyForScrollGroupId(18)]: 'S',\n  [getLocalizeKeyForScrollGroupId(19)]: 'T',\n  [getLocalizeKeyForScrollGroupId(20)]: 'U',\n  [getLocalizeKeyForScrollGroupId(21)]: 'V',\n  [getLocalizeKeyForScrollGroupId(22)]: 'W',\n  [getLocalizeKeyForScrollGroupId(23)]: 'X',\n  [getLocalizeKeyForScrollGroupId(24)]: 'Y',\n  [getLocalizeKeyForScrollGroupId(25)]: 'Z',\n};\n\nexport type ScrollGroupSelectorProps = {\n  /**\n   * List of scroll group ids to show to the user. Either a `ScrollGroupId` or `undefined` for no\n   * scroll group\n   */\n  availableScrollGroupIds: (ScrollGroupId | undefined)[];\n  /** Currently selected scroll group id. `undefined` for no scroll group */\n  scrollGroupId: ScrollGroupId | undefined;\n  /** Callback function run when the user tries to change the scroll group id */\n  onChangeScrollGroupId: (newScrollGroupId: ScrollGroupId | undefined) => void;\n  /**\n   * Localized strings to use for displaying scroll group ids. Must be an object whose keys are\n   * `getLocalizeKeyForScrollGroupId(scrollGroupId)` for all scroll group ids (and `undefined` if\n   * included) in {@link ScrollGroupSelectorProps.availableScrollGroupIds} and whose values are the\n   * localized strings to use for those scroll group ids.\n   *\n   * Defaults to English localizations of English alphabet for scroll groups 0-25 (e.g. 0 is A) and\n   * Ã˜ for `undefined`. Will fill in any that are not provided with these English localizations.\n   * Also, if any values match the keys, the English localization will be used. This is useful in\n   * case you want to pass in a temporary version of the localized strings while your localized\n   * strings load.\n   *\n   * @example\n   *\n   * ```typescript\n   * const myScrollGroupIdLocalizedStrings = {\n   *   [getLocalizeKeyForScrollGroupId('undefined')]: 'Ã˜',\n   *   [getLocalizeKeyForScrollGroupId(0)]: 'A',\n   *   [getLocalizeKeyForScrollGroupId(1)]: 'B',\n   *   [getLocalizeKeyForScrollGroupId(2)]: 'C',\n   *   [getLocalizeKeyForScrollGroupId(3)]: 'D',\n   *   [getLocalizeKeyForScrollGroupId(4)]: 'E',\n   * };\n   * ```\n   *\n   * @example\n   *\n   * ```tsx\n   * const availableScrollGroupIds = [undefined, 0, 1, 2, 3, 4];\n   *\n   * const localizeKeys = getLocalizeKeysForScrollGroupIds();\n   *\n   * const [localizedStrings] = useLocalizedStrings(localizeKeys);\n   *\n   * ...\n   *\n   * <ScrollGroupSelector localizedStrings={localizedStrings} />\n   * ```\n   */\n  localizedStrings?: LanguageStrings;\n\n  /** Size of the scroll group dropdown button. Defaults to 'sm' */\n  size?: 'default' | 'sm' | 'lg' | 'icon';\n\n  /** Additional css classes to help with unique styling */\n  className?: string;\n};\n\n/** Selector component for choosing a scroll group */\nexport function ScrollGroupSelector({\n  availableScrollGroupIds,\n  scrollGroupId,\n  onChangeScrollGroupId,\n  localizedStrings = {},\n  size = 'sm',\n  className,\n}: ScrollGroupSelectorProps) {\n  const localizedStringsDefaulted = {\n    ...DEFAULT_SCROLL_GROUP_LOCALIZED_STRINGS,\n    ...Object.fromEntries(\n      Object.entries(localizedStrings).map(\n        ([localizedStringKey, localizedStringValue]: [string, string]) => [\n          localizedStringKey,\n          localizedStringKey === localizedStringValue &&\n          localizedStringKey in DEFAULT_SCROLL_GROUP_LOCALIZED_STRINGS\n            ? DEFAULT_SCROLL_GROUP_LOCALIZED_STRINGS[localizedStringKey]\n            : localizedStringValue,\n        ],\n      ),\n    ),\n  };\n\n  const dir: Direction = readDirection();\n\n  return (\n    <Select\n      value={`${scrollGroupId}`}\n      onValueChange={(newScrollGroupString) =>\n        onChangeScrollGroupId(\n          newScrollGroupString === 'undefined' ? undefined : parseInt(newScrollGroupString, 10),\n        )\n      }\n    >\n      <SelectTrigger size={size} className={cn('pr-twp tw-w-auto', className)}>\n        <SelectValue\n          placeholder={\n            localizedStringsDefaulted[getLocalizeKeyForScrollGroupId(scrollGroupId)] ??\n            scrollGroupId\n          }\n        />\n      </SelectTrigger>\n      <SelectContent\n        align={dir === 'rtl' ? 'end' : 'start'}\n        // Need to get over the floating web view z-index 200\n        style={{ zIndex: 250 }}\n      >\n        {availableScrollGroupIds.map((scrollGroupOptionId) => (\n          <SelectItem key={`${scrollGroupOptionId}`} value={`${scrollGroupOptionId}`}>\n            {localizedStringsDefaulted[getLocalizeKeyForScrollGroupId(scrollGroupOptionId)]}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n}\n\nexport default ScrollGroupSelector;\n","import { PropsWithChildren } from 'react';\nimport { Separator } from '@/components/shadcn-ui/separator';\n\n/** Props for the SettingsList component, currently just children */\ntype SettingsListProps = PropsWithChildren;\n\n/**\n * SettingsList component is a wrapper for list items. Rendered with a formatted div\n *\n * @deprecated Jul 18 2025. This component is no longer supported or tested. Use of this component\n *   is discouraged and it may be removed in the future.\n * @param children To populate the list with\n * @returns Formatted div encompassing the children\n */\nexport function SettingsList({ children }: SettingsListProps) {\n  return <div className=\"pr-twp tw-grid\">{children}</div>;\n}\n\n/** Props for SettingsListItem component */\ntype SettingsListItemProps = PropsWithChildren & {\n  /** Primary text of the list item */\n  primary: string;\n\n  /** Optional text of the list item */\n  secondary?: string | undefined;\n\n  /** Optional boolean to display a message if the children aren't loaded yet. Defaults to false */\n  isLoading?: boolean;\n\n  /** Optional message to display if isLoading */\n  loadingMessage?: string;\n};\n\n/**\n * SettingsListItem component is a common list item. Rendered with a formatted div\n *\n * @deprecated Jul 18 2025. This component is no longer supported or tested. Use of this component\n *   is discouraged and it may be removed in the future.\n * @param SettingsListItemProps\n * @returns Formatted div encompassing the list item content\n */\nexport function SettingsListItem({\n  primary,\n  secondary,\n  children,\n  isLoading = false,\n  loadingMessage,\n}: SettingsListItemProps) {\n  return (\n    <div className=\"tw-flex tw-items-center tw-justify-between tw-space-x-4 tw-py-2\">\n      <div>\n        <p className=\"tw-text-sm tw-font-medium tw-leading-none\">{primary}</p>\n        <p className=\"tw-whitespace-normal tw-break-words tw-text-sm tw-text-muted-foreground\">\n          {secondary}\n        </p>\n      </div>\n\n      {isLoading ? (\n        <p className=\"tw-text-sm tw-text-muted-foreground\">{loadingMessage}</p>\n      ) : (\n        <div>{children}</div>\n      )}\n    </div>\n  );\n}\n\n/** Props for SettingsListHeader component */\ntype SettingsListHeaderProps = {\n  /** The primary text of the list header */\n  primary: string;\n\n  /** Optional secondary text of the list header */\n  secondary?: string | undefined;\n\n  /** Optional boolean to include a separator underneath the secondary text. Defaults to false */\n  includeSeparator?: boolean;\n};\n\n/**\n * SettingsListHeader component displays text above the list\n *\n * @deprecated Jul 18 2025. This component is no longer supported or tested. Use of this component\n *   is discouraged and it may be removed in the future.\n * @param SettingsListHeaderProps\n * @returns Formatted div with list header content\n */\nexport function SettingsListHeader({\n  primary,\n  secondary,\n  includeSeparator = false,\n}: SettingsListHeaderProps) {\n  return (\n    <div className=\"tw-space-y-4 tw-py-2\">\n      <div>\n        <h3 className=\"tw-text-lg tw-font-medium\">{primary}</h3>\n        <p className=\"tw-text-sm tw-text-muted-foreground\">{secondary}</p>\n      </div>\n      {includeSeparator ? <Separator /> : ''}\n    </div>\n  );\n}\n","import { GroupsInMultiColumnMenu, Localized } from 'platform-bible-utils';\n\n/**\n * Function that looks up the key of a sub-menu group using the value of it's `menuItem` property.\n *\n * @example\n *\n * ```ts\n * const groups = {\n *   'platform.subMenu': { menuItem: 'platform.subMenuId', order: 1 },\n *   'platform.subSubMenu': { menuItem: 'platform.subSubMenuId', order: 2 },\n * };\n * const id = 'platform.subMenuId';\n * const groupKey = getSubMenuGroupKeyForMenuItemId(groups, id);\n * console.log(groupKey); // Output: 'platform.subMenu'\n * ```\n *\n * @param groups The JSON Object containing the group definitions\n * @param id The value of the `menuItem` property of the group to look up\n * @returns The key of the group that has the `menuItem` property with the value of `id` or\n *   `undefined` if no such group exists.\n */\nexport function getSubMenuGroupKeyForMenuItemId(\n  groups: Localized<GroupsInMultiColumnMenu>,\n  id: string,\n): string | undefined {\n  return Object.entries(groups).find(\n    ([, value]) => 'menuItem' in value && value.menuItem === id,\n  )?.[0];\n}\n","import { cn } from '@/utils/shadcn-ui.util';\n\ntype MenuItemIconProps = {\n  /** The icon to display */\n  icon: string;\n  /** The label of the menu item */\n  menuLabel: string;\n  /** Whether the icon is leading or trailing */\n  leading?: boolean;\n};\n\nfunction MenuItemIcon({ icon, menuLabel, leading }: MenuItemIconProps) {\n  return icon ? (\n    <img\n      className={cn('tw-max-h-5 tw-max-w-5', leading ? 'tw-me-2' : 'tw-ms-2')}\n      src={icon}\n      alt={`${leading ? 'Leading' : 'Trailing'} icon for ${menuLabel}`}\n    />\n  ) : undefined;\n}\n\nexport default MenuItemIcon;\n","import {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuPortal,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from '@/components/shadcn-ui/dropdown-menu';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/shadcn-ui/tooltip';\nimport { MenuIcon } from 'lucide-react';\nimport {\n  GroupsInMultiColumnMenu,\n  Localized,\n  MenuItemContainingCommand,\n  MenuItemContainingSubmenu,\n  MultiColumnMenu,\n} from 'platform-bible-utils';\nimport { Fragment, ReactNode } from 'react';\nimport { Button } from '@/components/shadcn-ui/button';\nimport { getSubMenuGroupKeyForMenuItemId } from './menu.util';\nimport { SelectMenuItemHandler } from './platform-menubar.component';\nimport MenuItemIcon from './menu-icon.component';\n\nconst getGroupContent = (\n  groups: Localized<GroupsInMultiColumnMenu>,\n  items: Localized<(MenuItemContainingCommand | MenuItemContainingSubmenu)[]>,\n  columnOrSubMenuKey: string | undefined,\n  onSelectMenuItem: SelectMenuItemHandler,\n) => {\n  if (!columnOrSubMenuKey) return undefined;\n\n  const sortedGroupsForColumn = Object.entries(groups)\n    .filter(\n      ([key, group]) =>\n        ('column' in group && group.column === columnOrSubMenuKey) || key === columnOrSubMenuKey,\n    )\n    .sort(([, a], [, b]) => a.order - b.order);\n\n  return sortedGroupsForColumn.flatMap(([groupKey]) => {\n    const groupItems = items\n      .filter((item) => item.group === groupKey)\n      .sort((a, b) => a.order - b.order)\n      .map((item: Localized<MenuItemContainingCommand | MenuItemContainingSubmenu>) => {\n        return (\n          <Tooltip key={`tooltip-${item.label}-${'command' in item ? item.command : item.id}`}>\n            <TooltipTrigger asChild>\n              {'command' in item ? (\n                <DropdownMenuItem\n                  key={`dropdown-menu-item-${item.label}-${item.command}`}\n                  onClick={() => {\n                    // Since the item has a command, we know it is a MenuItemContainingCommand.\n                    // eslint-disable-next-line no-type-assertion/no-type-assertion\n                    onSelectMenuItem(item as MenuItemContainingCommand);\n                  }}\n                >\n                  {item.iconPathBefore && (\n                    <MenuItemIcon icon={item.iconPathBefore} menuLabel={item.label} leading />\n                  )}\n                  {item.label}\n                  {item.iconPathAfter && (\n                    <MenuItemIcon icon={item.iconPathAfter} menuLabel={item.label} />\n                  )}\n                </DropdownMenuItem>\n              ) : (\n                <DropdownMenuSub key={`dropdown-menu-sub-${item.label}-${item.id}`}>\n                  <DropdownMenuSubTrigger>{item.label}</DropdownMenuSubTrigger>\n\n                  <DropdownMenuPortal>\n                    <DropdownMenuSubContent>\n                      {getGroupContent(\n                        groups,\n                        items,\n                        getSubMenuGroupKeyForMenuItemId(groups, item.id),\n                        onSelectMenuItem,\n                      )}\n                    </DropdownMenuSubContent>\n                  </DropdownMenuPortal>\n                </DropdownMenuSub>\n              )}\n            </TooltipTrigger>\n            {item.tooltip && <TooltipContent>{item.tooltip}</TooltipContent>}\n          </Tooltip>\n        );\n      });\n\n    return groupItems;\n  });\n};\n\nexport type TabDropdownMenuProps = {\n  /** The handler to use for menu commands */\n  onSelectMenuItem: SelectMenuItemHandler;\n\n  /** The menu data to show on the dropdown menu */\n  menuData: Localized<MultiColumnMenu>;\n\n  /** Defines a string value that labels the current element */\n  tabLabel: string;\n\n  /** Optional icon for the dropdown menu trigger. Defaults to hamburger icon. */\n  icon?: ReactNode;\n\n  /** Additional css class(es) to help with unique styling of the tab dropdown menu */\n  className?: string;\n\n  /** Style variant for the app menubar component. */\n  variant?: 'default' | 'muted';\n\n  /** Optional unique identifier */\n  id?: string;\n};\n\n/**\n * Dropdown menu designed to be used with Platform.Bible menu data. Column headers are ignored.\n * Column data is separated by a horizontal divider, so groups are not distinguishable. Tooltips are\n * displayed on hovering over menu items, if a tooltip is defined for them.\n *\n * A child component can be passed in to show as an icon on the menu trigger button.\n */\nexport default function TabDropdownMenu({\n  onSelectMenuItem,\n  menuData,\n  tabLabel,\n  icon,\n  className,\n  variant,\n  id,\n}: TabDropdownMenuProps) {\n  return (\n    <DropdownMenu variant={variant}>\n      <DropdownMenuTrigger aria-label={tabLabel} className={className} asChild id={id}>\n        <Button variant=\"ghost\" size=\"icon\">\n          {icon ?? <MenuIcon />}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"start\" className=\"tw-z-[250]\">\n        {Object.entries(menuData.columns)\n          .filter(([, column]) => typeof column === 'object')\n          .sort(([, a], [, b]) => {\n            if (typeof a === 'boolean' || typeof b === 'boolean') return 0;\n            return a.order - b.order;\n          })\n          .map(([columnKey], index, array) => (\n            <Fragment key={columnKey}>\n              <DropdownMenuGroup>\n                <TooltipProvider>\n                  {getGroupContent(menuData.groups, menuData.items, columnKey, onSelectMenuItem)}\n                </TooltipProvider>\n              </DropdownMenuGroup>\n\n              {index < array.length - 1 && <DropdownMenuSeparator />}\n            </Fragment>\n          ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","import { PropsWithChildren, ReactNode } from 'react';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Localized, MultiColumnMenu } from 'platform-bible-utils';\nimport { Menu, EllipsisVertical } from 'lucide-react';\nimport { SelectMenuItemHandler } from './menus/platform-menubar.component';\nimport TabDropdownMenu from './menus/tab-dropdown-menu.component';\n\nexport type TabToolbarProps = PropsWithChildren<{\n  /** The handler to use for toolbar item commands */\n  onSelectProjectMenuItem: SelectMenuItemHandler;\n\n  /** The handler to use for toolbar item commands */\n  onSelectViewInfoMenuItem: SelectMenuItemHandler;\n\n  /** Menu data that is used to populate the Menubar component for the project menu. */\n  projectMenuData?: Localized<MultiColumnMenu>;\n\n  /** Menu data that is used to populate the Menubar component for the view info menu */\n  tabViewMenuData?: Localized<MultiColumnMenu>;\n\n  /** Optional unique identifier */\n  id?: string;\n\n  /** Additional css classes to help with unique styling of the extensible toolbar */\n  className?: string;\n\n  /**\n   * Toolbar children to be put at the start of the the toolbar after the project menu icon (left\n   * side in ltr, right side in rtl). Recommended for inner navigation.\n   */\n  startAreaChildren?: ReactNode;\n\n  /** Toolbar children to be put in the center area of the the toolbar. Recommended for tools. */\n  centerAreaChildren?: ReactNode;\n\n  /**\n   * Toolbar children to be put at the end of the the toolbar before the tab view menu icon (right\n   * side in ltr, left side in rtl). Recommended for secondary tools and view options.\n   */\n  endAreaChildren?: ReactNode;\n}>;\n\n/**\n * Component for rendering a customizable tab toolbar.\n *\n * The toolbar includes three main areas to place children components: start, center, and end. It\n * optionally displays dropdown menus for project and view info, populated by the given menu data.\n */\nexport function TabToolbar({\n  onSelectProjectMenuItem,\n  onSelectViewInfoMenuItem,\n  projectMenuData,\n  tabViewMenuData,\n  id,\n  className,\n  startAreaChildren,\n  centerAreaChildren,\n  endAreaChildren,\n}: TabToolbarProps) {\n  return (\n    <div\n      className={cn(\n        'tw-box-border tw-flex tw-h-12 tw-w-full tw-flex-row tw-items-start tw-justify-between tw-overflow-clip tw-border-b tw-border-border tw-text-foreground tw-@container/toolbar *:tw-p-2',\n        className,\n      )}\n      id={id}\n    >\n      {projectMenuData && (\n        // div wrapper gets padding instead of the button\n        <div>\n          <TabDropdownMenu\n            onSelectMenuItem={onSelectProjectMenuItem}\n            menuData={projectMenuData}\n            tabLabel=\"Project\"\n            icon={<Menu />}\n            className=\"tw-h-8 tw-w-8\"\n          />\n        </div>\n      )}\n      <div className=\"tw-flex tw-shrink tw-grow-[2] tw-flex-row tw-flex-wrap tw-items-start tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-start\">\n        {startAreaChildren}\n      </div>\n      <div className=\"tw-flex tw-shrink tw-basis-0 tw-flex-row tw-flex-wrap tw-items-start tw-justify-center tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-center @sm:tw-grow @sm:tw-basis-auto\">\n        {centerAreaChildren}\n      </div>\n      <div className=\"tw-flex tw-shrink tw-grow-[2] tw-flex-row-reverse tw-flex-wrap tw-items-start tw-gap-2 tw-overflow-clip tw-@container/tab-toolbar-end\">\n        {tabViewMenuData && (\n          // div wrapper gets padding instead of the button\n          <div>\n            <TabDropdownMenu\n              onSelectMenuItem={onSelectViewInfoMenuItem}\n              menuData={tabViewMenuData}\n              tabLabel=\"View Info\"\n              icon={<EllipsisVertical />}\n              className=\"tw-h-8\"\n            />\n          </div>\n        )}\n        {endAreaChildren}\n      </div>\n    </div>\n  );\n}\n\nexport default TabToolbar;\n","// adapted from: https://github.com/shadcn-ui/ui/discussions/752\n\n'use client';\n\nimport { TabsContentProps, TabsListProps, TabsTriggerProps } from '@/components/shadcn-ui/tabs';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\nimport React from 'react';\n\nexport type VerticalTabsProps = React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root> & {\n  className?: string;\n};\n\nexport type LeftTabsTriggerProps = TabsTriggerProps & {\n  value: string;\n  ref?: React.Ref<HTMLButtonElement>;\n};\n\n/**\n * Tabs components provide a set of layered sections of contentâ€”known as tab panelsâ€“that are\n * displayed one at a time. These components are built on Radix UI primitives and styled with Shadcn\n * UI. See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/tabs See Radix UI\n * Documentation: https://www.radix-ui.com/primitives/docs/components/tabs\n */\nexport const VerticalTabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  VerticalTabsProps\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <TabsPrimitive.Root\n      orientation=\"vertical\"\n      ref={ref}\n      className={cn('tw-flex tw-gap-1 tw-rounded-md tw-text-muted-foreground', className)}\n      {...props}\n      dir={dir}\n    />\n  );\n});\n\nVerticalTabs.displayName = TabsPrimitive.List.displayName;\n\n/** @inheritdoc VerticalTabs */\nexport const VerticalTabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  TabsListProps\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'tw-flex-fit tw-mlk-items-center tw-w-[124px] tw-justify-center tw-rounded-md tw-bg-muted tw-p-1 tw-text-muted-foreground',\n      className,\n    )}\n    {...props}\n  />\n));\nVerticalTabsList.displayName = TabsPrimitive.List.displayName;\n\n/** @inheritdoc VerticalTabs */\nexport const VerticalTabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  LeftTabsTriggerProps\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    {...props}\n    className={cn(\n      'overflow-clip tw-inline-flex tw-w-[116px] tw-cursor-pointer tw-items-center tw-justify-center tw-break-words tw-rounded-sm tw-border-0 tw-bg-muted tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-text-inherit tw-ring-offset-background tw-transition-all hover:tw-text-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=active]:tw-bg-background data-[state=active]:tw-text-foreground data-[state=active]:tw-shadow-sm',\n      className,\n    )}\n  />\n));\n\n/** @inheritdoc VerticalTabs */\nexport const VerticalTabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  TabsContentProps\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      // Removed tw-mt-2 because Sebastian said so\n      'tw-ms-5 tw-flex-grow tw-text-foreground tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n));\nVerticalTabsContent.displayName = TabsPrimitive.Content.displayName;\n","import { SearchBar } from '@/components/basics/search-bar.component';\nimport {\n  VerticalTabs,\n  VerticalTabsContent,\n  VerticalTabsList,\n  VerticalTabsTrigger,\n} from '@/components/basics/tabs-vertical';\nimport { ReactNode } from 'react';\n\nexport type TabKeyValueContent = {\n  key: string;\n  value: string;\n  content: ReactNode;\n};\n\nexport type TabNavigationContentSearchProps = {\n  /** List of values and keys for each tab this component should provide */\n  tabList: TabKeyValueContent[];\n\n  /** The search query in the search bar */\n  searchValue: string;\n\n  /** Handler to run when the value of the search bar changes */\n  onSearch: (searchQuery: string) => void;\n\n  /** Optional placeholder for the search bar */\n  searchPlaceholder?: string;\n\n  /** Optional title to include in the header */\n  headerTitle?: string;\n\n  /** Optional className to modify the search input */\n  searchClassName?: string;\n};\n\n/**\n * TabNavigationContentSearch component provides a vertical tab navigation interface with a search\n * bar at the top. This component allows users to filter content within tabs based on a search\n * query.\n *\n * @param {TabNavigationContentSearchProps} props\n * @param {TabKeyValueContent[]} props.tabList - List of objects containing keys, values, and\n *   content for each tab to be displayed.\n * @param {string} props.searchValue - The current value of the search input.\n * @param {function} props.onSearch - Callback function called when the search input changes;\n *   receives the new search query as an argument.\n * @param {string} [props.searchPlaceholder] - Optional placeholder text for the search input.\n * @param {string} [props.headerTitle] - Optional title to display above the search input.\n * @param {string} [props.searchClassName] - Optional CSS class name to apply custom styles to the\n *   search input.\n */\nexport function TabNavigationContentSearch({\n  tabList,\n  searchValue,\n  onSearch,\n  searchPlaceholder,\n  headerTitle,\n  searchClassName,\n}: TabNavigationContentSearchProps) {\n  return (\n    <div className=\"pr-twp\">\n      <div className=\"tw-sticky tw-top-0 tw-space-y-2 tw-pb-2\">\n        {headerTitle ? <h1>{headerTitle}</h1> : ''}\n        <SearchBar\n          className={searchClassName}\n          value={searchValue}\n          onSearch={onSearch}\n          placeholder={searchPlaceholder}\n        />\n      </div>\n      <VerticalTabs>\n        <VerticalTabsList>\n          {tabList.map((tab) => (\n            <VerticalTabsTrigger key={tab.key} value={tab.value}>\n              {tab.value}\n            </VerticalTabsTrigger>\n          ))}\n        </VerticalTabsList>\n        {tabList.map((tab) => (\n          <VerticalTabsContent key={tab.key} value={tab.value}>\n            {tab.content}\n          </VerticalTabsContent>\n        ))}\n      </VerticalTabs>\n    </div>\n  );\n}\n\nexport default TabNavigationContentSearch;\n","import {\n  MenuContext,\n  MenuContextProps,\n  menuVariants,\n  useMenuContext,\n} from '@/context/menu.context';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport * as MenubarPrimitive from '@radix-ui/react-menubar';\nimport { Check, ChevronRight, Circle } from 'lucide-react';\nimport React from 'react';\n\nfunction MenubarMenu({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />;\n}\n\nfunction MenubarGroup({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />;\n}\n\nfunction MenubarPortal({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />;\n}\n\nfunction MenubarRadioGroup({ ...props }: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />;\n}\n\nfunction MenubarSub({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />;\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root> & {\n    variant?: MenuContextProps['variant'];\n  }\n>(({ className, variant = 'default', ...props }, ref) => {\n  /* #region CUSTOM provide context to add variants */\n  const contextValue = React.useMemo<MenuContextProps>(\n    () => ({\n      variant,\n    }),\n    [variant],\n  );\n  return (\n    <MenuContext.Provider value={contextValue}>\n      {/* #endregion CUSTOM */}\n      <MenubarPrimitive.Root\n        ref={ref}\n        className={cn(\n          'tw-flex tw-h-10 tw-items-center tw-space-x-1 tw-rounded-md tw-border tw-bg-background tw-p-1',\n          className,\n        )}\n        {...props}\n      />\n    </MenuContext.Provider>\n  );\n});\nMenubar.displayName = MenubarPrimitive.Root.displayName;\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        'tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[state=open]:tw-bg-accent data-[state=open]:tw-text-accent-foreground',\n        // CUSTOM\n        menuVariants({ variant: context.variant, className }), // CUSTOM use context to add variants\n      )}\n      {...props}\n    />\n  );\n});\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.SubTrigger\n      ref={ref}\n      className={cn(\n        'tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[state=open]:tw-bg-accent data-[state=open]:tw-text-accent-foreground',\n        inset && 'tw-pl-8',\n        menuVariants({ variant: context.variant, className }), // CUSTOM use context to add variants\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRight className=\"tw-ml-auto tw-h-4 tw-w-4\" />\n    </MenubarPrimitive.SubTrigger>\n  );\n});\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.SubContent\n      ref={ref}\n      className={cn(\n        'tw-z-50 tw-min-w-[8rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground data-[state=open]:tw-animate-in data-[state=closed]:tw-animate-out data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n        // CUSTOM use context to add variants\n        {\n          'tw-bg-popover': context.variant === 'muted',\n        },\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(({ className, align = 'start', alignOffset = -4, sideOffset = 8, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          'tw-z-50 tw-min-w-[12rem] tw-overflow-hidden tw-rounded-md tw-border tw-bg-popover tw-p-1 tw-text-popover-foreground tw-shadow-md data-[state=open]:tw-animate-in data-[state=closed]:tw-fade-out-0 data-[state=open]:tw-fade-in-0 data-[state=closed]:tw-zoom-out-95 data-[state=open]:tw-zoom-in-95 data-[side=bottom]:tw-slide-in-from-top-2 data-[side=left]:tw-slide-in-from-right-2 data-[side=right]:tw-slide-in-from-left-2 data-[side=top]:tw-slide-in-from-bottom-2',\n          // CUSTOM reset styles so that only shadcn styles are applied\n          'pr-twp',\n          // CUSTOM use context to add variants\n          {\n            'tw-bg-popover': context.variant === 'muted',\n          },\n          className,\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  );\n});\nMenubarContent.displayName = MenubarPrimitive.Content.displayName;\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.Item\n      ref={ref}\n      className={cn(\n        'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-px-2 tw-py-1.5 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        inset && 'tw-pl-8',\n        menuVariants({ variant: context.variant, className }), // CUSTOM use context to add variants\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nMenubarItem.displayName = MenubarPrimitive.Item.displayName;\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.CheckboxItem\n      ref={ref}\n      className={cn(\n        'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        menuVariants({ variant: context.variant, className }), // CUSTOM use context to add variants\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center\">\n        <MenubarPrimitive.ItemIndicator>\n          <Check className=\"tw-h-4 tw-w-4\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.CheckboxItem>\n  );\n});\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => {\n  const context = useMenuContext(); // CUSTOM use context to add variants\n  return (\n    <MenubarPrimitive.RadioItem\n      ref={ref}\n      className={cn(\n        'tw-relative tw-flex tw-cursor-default tw-select-none tw-items-center tw-rounded-sm tw-py-1.5 tw-pl-8 tw-pr-2 tw-text-sm tw-outline-none focus:tw-bg-accent focus:tw-text-accent-foreground data-[disabled]:tw-pointer-events-none data-[disabled]:tw-opacity-50',\n        menuVariants({ variant: context.variant, className }), // CUSTOM use context to add variants\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"tw-absolute tw-left-2 tw-flex tw-h-3.5 tw-w-3.5 tw-items-center tw-justify-center\">\n        <MenubarPrimitive.ItemIndicator>\n          <Circle className=\"tw-h-2 tw-w-2 tw-fill-current\" />\n        </MenubarPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </MenubarPrimitive.RadioItem>\n  );\n});\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn('tw-px-2 tw-py-1.5 tw-text-sm tw-font-semibold', inset && 'tw-pl-8', className)}\n    {...props}\n  />\n));\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName;\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn('tw--mx-1 tw-my-1 tw-h-px tw-bg-muted', className)}\n    {...props}\n  />\n));\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;\n\nfunction MenubarShortcut({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) {\n  return (\n    <span\n      className={cn('tw-ml-auto tw-text-xs tw-tracking-widest tw-text-muted-foreground', className)}\n      {...props}\n    />\n  );\n}\nMenubarShortcut.displayname = 'MenubarShortcut';\n\nexport {\n  Menubar,\n  MenubarCheckboxItem,\n  MenubarContent,\n  MenubarGroup,\n  MenubarItem,\n  MenubarLabel,\n  MenubarMenu,\n  MenubarPortal,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarSeparator,\n  MenubarShortcut,\n  MenubarSub,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarTrigger,\n};\n","import {\n  Menubar,\n  MenubarContent,\n  MenubarItem,\n  MenubarMenu,\n  MenubarSeparator,\n  MenubarSub,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarTrigger,\n} from '@/components/shadcn-ui/menubar';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/shadcn-ui/tooltip';\nimport {\n  GroupsInMultiColumnMenu,\n  Localized,\n  MenuItemContainingCommand,\n  MenuItemContainingSubmenu,\n  MultiColumnMenu,\n} from 'platform-bible-utils';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { useHotkeys } from 'react-hotkeys-hook';\nimport { getSubMenuGroupKeyForMenuItemId } from './menu.util';\nimport MenuItemIcon from './menu-icon.component';\n\n/**\n * Callback function that is invoked when a user selects a menu item. Receives the full\n * `MenuItemContainingCommand` object as an argument.\n */\nexport interface SelectMenuItemHandler {\n  (selectedMenuItem: MenuItemContainingCommand): void;\n}\n\nconst simulateKeyPress = (ref: RefObject<HTMLButtonElement>, keys: KeyboardEventInit[]) => {\n  setTimeout(() => {\n    keys.forEach((key) => {\n      ref.current?.dispatchEvent(new KeyboardEvent('keydown', key));\n    });\n  }, 0);\n};\n\nconst getMenubarContent = (\n  groups: Localized<GroupsInMultiColumnMenu>,\n  items: Localized<(MenuItemContainingCommand | MenuItemContainingSubmenu)[]>,\n  columnOrSubMenuKey: string | undefined,\n  onSelectMenuItem: SelectMenuItemHandler,\n) => {\n  if (!columnOrSubMenuKey) return undefined;\n\n  const sortedGroupsForColumn = Object.entries(groups)\n    .filter(\n      ([key, group]) =>\n        ('column' in group && group.column === columnOrSubMenuKey) || key === columnOrSubMenuKey,\n    )\n    .sort(([, a], [, b]) => a.order - b.order);\n\n  return sortedGroupsForColumn.flatMap(([groupKey], index) => {\n    const groupItems = items\n      .filter((item) => item.group === groupKey)\n      .sort((a, b) => a.order - b.order)\n      .map((item: Localized<MenuItemContainingCommand | MenuItemContainingSubmenu>) => {\n        return (\n          <Tooltip key={`tooltip-${item.label}-${'command' in item ? item.command : item.id}`}>\n            <TooltipTrigger asChild>\n              {'command' in item ? (\n                <MenubarItem\n                  key={`menubar-item-${item.label}-${item.command}`}\n                  onClick={() => {\n                    // Since the item has a command, we know it is a MenuItemContainingCommand.\n                    // eslint-disable-next-line no-type-assertion/no-type-assertion\n                    onSelectMenuItem(item as MenuItemContainingCommand);\n                  }}\n                >\n                  {item.iconPathBefore && (\n                    <MenuItemIcon icon={item.iconPathBefore} menuLabel={item.label} leading />\n                  )}\n                  {item.label}\n                  {item.iconPathAfter && (\n                    <MenuItemIcon icon={item.iconPathAfter} menuLabel={item.label} />\n                  )}\n                </MenubarItem>\n              ) : (\n                <MenubarSub key={`menubar-sub-${item.label}-${item.id}`}>\n                  <MenubarSubTrigger>{item.label}</MenubarSubTrigger>\n                  <MenubarSubContent>\n                    {getMenubarContent(\n                      groups,\n                      items,\n                      getSubMenuGroupKeyForMenuItemId(groups, item.id),\n                      onSelectMenuItem,\n                    )}\n                  </MenubarSubContent>\n                </MenubarSub>\n              )}\n            </TooltipTrigger>\n            {item.tooltip && <TooltipContent>{item.tooltip}</TooltipContent>}\n          </Tooltip>\n        );\n      });\n\n    const itemsWithSeparator = [...groupItems];\n    if (groupItems.length > 0 && index < sortedGroupsForColumn.length - 1) {\n      itemsWithSeparator.push(<MenubarSeparator key={`separator-${groupKey}`} />);\n    }\n\n    return itemsWithSeparator;\n  });\n};\n\ntype PlatformMenubarProps = {\n  /** Menu data that is used to populate the Menubar component. */\n  menuData: Localized<MultiColumnMenu>;\n\n  /** The handler to use for menu commands. */\n  onSelectMenuItem: SelectMenuItemHandler;\n\n  /**\n   * Optional callback function that is executed whenever a menu on the Menubar is opened or closed.\n   * Helpful for handling updates to the menu, as changing menu data when the menu is opened is not\n   * desirable.\n   */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** Style variant for the app menubar component. */\n  variant?: 'default' | 'muted';\n};\n\n/** Menubar component tailored to work with Platform.Bible menu data */\nexport function PlatformMenubar({\n  menuData,\n  onSelectMenuItem,\n  onOpenChange,\n  variant,\n}: PlatformMenubarProps) {\n  // These refs will always be defined\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const menubarRef = useRef<HTMLDivElement>(undefined!);\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const projectMenuRef = useRef<HTMLButtonElement>(undefined!);\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const windowMenuRef = useRef<HTMLButtonElement>(undefined!);\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const layoutMenuRef = useRef<HTMLButtonElement>(undefined!);\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const helpMenuRef = useRef<HTMLButtonElement>(undefined!);\n\n  const getRefForColumn = (columnKey: string) => {\n    switch (columnKey) {\n      case 'platform.app':\n        return projectMenuRef;\n      case 'platform.window':\n        return windowMenuRef;\n      case 'platform.layout':\n        return layoutMenuRef;\n      case 'platform.help':\n        return helpMenuRef;\n      default:\n        return undefined;\n    }\n  };\n\n  // This is a quick and dirty way to implement some shortcuts by simulating key presses\n  useHotkeys(['alt', 'alt+p', 'alt+l', 'alt+n', 'alt+h'], (event, handler) => {\n    event.preventDefault();\n\n    const escKey: KeyboardEventInit = { key: 'Escape', code: 'Escape', keyCode: 27, bubbles: true };\n    const spaceKey: KeyboardEventInit = { key: ' ', code: 'Space', keyCode: 32, bubbles: true };\n\n    switch (handler.hotkey) {\n      case 'alt':\n        simulateKeyPress(projectMenuRef, [escKey]);\n        break;\n      case 'alt+p':\n        projectMenuRef.current?.focus();\n        simulateKeyPress(projectMenuRef, [escKey, spaceKey]);\n        break;\n      case 'alt+l':\n        windowMenuRef.current?.focus();\n        simulateKeyPress(windowMenuRef, [escKey, spaceKey]);\n        break;\n      case 'alt+n':\n        layoutMenuRef.current?.focus();\n        simulateKeyPress(layoutMenuRef, [escKey, spaceKey]);\n        break;\n      case 'alt+h':\n        helpMenuRef.current?.focus();\n        simulateKeyPress(helpMenuRef, [escKey, spaceKey]);\n        break;\n      default:\n        break;\n    }\n  });\n\n  useEffect(() => {\n    if (!onOpenChange || !menubarRef.current) return;\n\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.attributeName === 'data-state' && mutation.target instanceof HTMLElement) {\n          const state = mutation.target.getAttribute('data-state');\n\n          if (state === 'open') {\n            onOpenChange(true);\n          } else {\n            onOpenChange(false);\n          }\n        }\n      });\n    });\n\n    const menubarElement = menubarRef.current;\n    const dataStateAttributes = menubarElement.querySelectorAll('[data-state]');\n\n    dataStateAttributes.forEach((element) => {\n      observer.observe(element, { attributes: true });\n    });\n\n    return () => observer.disconnect();\n  }, [onOpenChange]);\n\n  if (!menuData) return undefined;\n\n  return (\n    <Menubar ref={menubarRef} className=\"pr-twp tw-border-0 tw-bg-transparent\" variant={variant}>\n      {Object.entries(menuData.columns)\n        .filter(([, column]) => typeof column === 'object')\n        .sort(([, a], [, b]) => {\n          if (typeof a === 'boolean' || typeof b === 'boolean') return 0;\n          return a.order - b.order;\n        })\n        .map(([columnKey, column]) => (\n          <MenubarMenu key={columnKey}>\n            <MenubarTrigger ref={getRefForColumn(columnKey)}>\n              {typeof column === 'object' && 'label' in column && column.label}\n            </MenubarTrigger>\n            <MenubarContent\n              className=\"tw-z-[250]\" // Need to get over the floating web view z-index 200\n            >\n              <TooltipProvider>\n                {getMenubarContent(menuData.groups, menuData.items, columnKey, onSelectMenuItem)}\n              </TooltipProvider>\n            </MenubarContent>\n          </MenubarMenu>\n        ))}\n    </Menubar>\n  );\n}\n\nexport default PlatformMenubar;\n","import {\n  SelectMenuItemHandler,\n  PlatformMenubar,\n} from '@/components/advanced/menus/platform-menubar.component';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Localized, MultiColumnMenu } from 'platform-bible-utils';\nimport { PropsWithChildren, ReactNode, useRef } from 'react';\n\nexport type ToolbarProps = PropsWithChildren<{\n  /** The handler to use for menu commands (and eventually toolbar commands). */\n  onSelectMenuItem: SelectMenuItemHandler;\n\n  /**\n   * Menu data that is used to populate the Menubar component. If empty object, no menus will be\n   * shown on the App Menubar\n   */\n  menuData?: Localized<MultiColumnMenu>;\n\n  /**\n   * Optional callback function that is executed whenever a menu on the App Menubar is opened or\n   * closed. Helpful for handling updates to the menu, as changing menu data when the menu is opened\n   * is not desirable.\n   */\n  onOpenChange?: (isOpen: boolean) => void;\n\n  /** Optional unique identifier */\n  id?: string;\n\n  /** Additional css classes to help with unique styling of the toolbar */\n  className?: string;\n\n  /**\n   * Whether the toolbar should be used as a draggable area for moving the application. This will\n   * add an electron specific style `WebkitAppRegion: 'drag'` to the toolbar in order to make it\n   * draggable. See:\n   * https://www.electronjs.org/docs/latest/tutorial/custom-title-bar#create-a-custom-title-bar\n   */\n  shouldUseAsAppDragArea?: boolean;\n\n  /** Toolbar children to be put at the start of the toolbar (left side in ltr, right side in rtl) */\n  appMenuAreaChildren?: ReactNode;\n\n  /** Toolbar children to be put at the end of the toolbar (right side in ltr, left side in rtl) */\n  configAreaChildren?: ReactNode;\n\n  /** Variant of the menubar */\n  menubarVariant?: 'default' | 'muted';\n}>;\n\n/**\n * Get tailwind class for reserved space for the window controls / macos \"traffic lights\". Passing\n * 'darwin' will reserve the necessary space for macos traffic lights at the start, otherwise a\n * different amount of space at the end for the window controls.\n *\n * Apply to the toolbar like: `<Toolbar className={cn('tw-h-8 tw-bg-background',\n * getToolbarOSReservedSpaceClassName('darwin'))}>` or `<Toolbar\n * className={getToolbarOSReservedSpaceClassName('linux')}>`\n *\n * @param operatingSystem The os platform: 'darwin' (macos) | anything else\n * @returns The class name to apply to the toolbar if os specific space should be reserved\n */\nexport function getToolbarOSReservedSpaceClassName(\n  operatingSystem: string | undefined,\n): string | undefined {\n  switch (operatingSystem) {\n    case undefined:\n      return undefined;\n    case 'darwin':\n      return 'tw-ps-[85px]';\n    default:\n      return 'tw-pe-[calc(138px+1rem)]';\n  }\n}\n\n/**\n * A customizable toolbar component with a menubar, content area, and configure area.\n *\n * This component is designed to be used in the window title bar of an electron application.\n *\n * @param {ToolbarProps} props - The props for the component.\n */\nexport function Toolbar({\n  menuData,\n  onOpenChange,\n  onSelectMenuItem,\n  className,\n  id,\n  children,\n  appMenuAreaChildren,\n  configAreaChildren,\n  shouldUseAsAppDragArea,\n  menubarVariant = 'default',\n}: ToolbarProps) {\n  // This ref will always be defined\n  // eslint-disable-next-line no-type-assertion/no-type-assertion\n  const containerRef = useRef<HTMLDivElement>(undefined!);\n\n  return (\n    <div\n      className={cn('tw-border tw-px-4 tw-text-foreground', className)}\n      ref={containerRef}\n      style={{ position: 'relative' }}\n      id={id}\n    >\n      <div\n        className=\"tw-flex tw-h-full tw-w-full tw-justify-between tw-overflow-hidden\"\n        /* @ts-ignore Electron-only property */\n        style={shouldUseAsAppDragArea ? { WebkitAppRegion: 'drag' } : undefined}\n      >\n        {/* App Menu area */}\n        <div className=\"tw-flex tw-grow tw-basis-0\">\n          <div\n            className=\"tw-flex tw-items-center tw-gap-2\"\n            /* @ts-ignore Electron-only property */\n            style={shouldUseAsAppDragArea ? { WebkitAppRegion: 'no-drag' } : undefined}\n          >\n            {appMenuAreaChildren}\n\n            {menuData && (\n              <PlatformMenubar\n                menuData={menuData}\n                onOpenChange={onOpenChange}\n                onSelectMenuItem={onSelectMenuItem}\n                variant={menubarVariant}\n              />\n            )}\n          </div>\n        </div>\n\n        {/* Content area */}\n        <div\n          className=\"tw-flex tw-items-center tw-gap-2 tw-px-2\"\n          /* @ts-ignore Electron-only property */\n          style={shouldUseAsAppDragArea ? { WebkitAppRegion: 'no-drag' } : undefined}\n        >\n          {children}\n        </div>\n\n        {/* Configure area */}\n        <div className=\"tw-flex tw-min-w-0 tw-grow tw-basis-0 tw-justify-end\">\n          <div\n            className=\"tw-flex tw-min-w-0 tw-items-center tw-gap-2 tw-pe-1\"\n            /* @ts-ignore Electron-only property */\n            style={shouldUseAsAppDragArea ? { WebkitAppRegion: 'no-drag' } : undefined}\n          >\n            {configAreaChildren}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Toolbar;\n","import { useState } from 'react';\nimport { LocalizedStringValue } from 'platform-bible-utils';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../shadcn-ui/select';\nimport { Label } from '../shadcn-ui/label';\n\n/**\n * Immutable array containing all keys used for localization in this component. If you're using this\n * component in an extension, you can pass it into the useLocalizedStrings hook to easily obtain the\n * localized strings and pass them into the localizedStrings prop of this component\n */\nexport const UI_LANGUAGE_SELECTOR_STRING_KEYS = Object.freeze([\n  '%settings_uiLanguageSelector_selectFallbackLanguages%',\n] as const);\n\nexport type UiLanguageSelectorLocalizedStrings = {\n  [localizedUiLanguageSelectorKey in (typeof UI_LANGUAGE_SELECTOR_STRING_KEYS)[number]]?: LocalizedStringValue;\n};\n\n/**\n * Gets the localized value for the provided key\n *\n * @param strings Object containing localized string\n * @param key Key for a localized string\n * @returns The localized value for the provided key, if available. Returns the key if no localized\n *   value is available\n */\nconst localizeString = (\n  strings: UiLanguageSelectorLocalizedStrings,\n  key: keyof UiLanguageSelectorLocalizedStrings,\n) => {\n  return strings[key] ?? key;\n};\n\nexport type LanguageInfo = {\n  /** The name of the language to be displayed (in its native script) */\n  autonym: string;\n  /**\n   * The name of the language in other languages, so that the language can also be displayed in the\n   * current UI language, if known.\n   */\n  uiNames?: Record<string, string>;\n  /**\n   * Other known names of the language (for searching). This can include pejorative names and should\n   * never be displayed unless typed by the user.\n   */\n  otherNames?: string[];\n};\n\nexport type UiLanguageSelectorProps = {\n  /** Full set of known languages to display. The keys are valid BCP-47 tags. */\n  knownUiLanguages: Record<string, LanguageInfo>;\n  /** IETF BCP-47 language tag of the current primary UI language. `undefined` => 'en' */\n  primaryLanguage: string;\n  /**\n   * Ordered list of fallback language tags to use if the localization key can't be found in the\n   * current primary UI language. This list never contains English ('en') because it is the ultimate\n   * fallback.\n   */\n  fallbackLanguages: string[] | undefined;\n  /**\n   * Handler for when either the primary or the fallback languages change (or both). For this\n   * handler, the primary UI language is the first one in the array, followed by the fallback\n   * languages in order of decreasing preference.\n   */\n  onLanguagesChange?: (newUiLanguages: string[]) => void;\n  /** Handler for the primary language changes. */\n  onPrimaryLanguageChange?: (newPrimaryUiLanguage: string) => void;\n  /**\n   * Handler for when the fallback languages change. The array contains the fallback languages in\n   * order of decreasing preference.\n   */\n  onFallbackLanguagesChange?: (newFallbackLanguages: string[]) => void;\n  /**\n   * Map whose keys are localized string keys as contained in UI_LANGUAGE_SELECTOR_STRING_KEYS and\n   * whose values are the localized strings (in the current UI language).\n   */\n  localizedStrings: UiLanguageSelectorLocalizedStrings;\n  /** Additional css classes to help with unique styling of the control */\n  className?: string;\n};\n\n/**\n * A component for selecting the user interface language and managing fallback languages. Allows\n * users to choose a primary UI language and optionally select fallback languages.\n *\n * @param {UiLanguageSelectorProps} props - The props for the component.\n */\nexport function UiLanguageSelector({\n  knownUiLanguages,\n  primaryLanguage = 'en',\n  fallbackLanguages = [],\n  onLanguagesChange,\n  onPrimaryLanguageChange,\n  onFallbackLanguagesChange,\n  localizedStrings,\n  className,\n}: UiLanguageSelectorProps) {\n  const selectFallbackLanguagesText = localizeString(\n    localizedStrings,\n    '%settings_uiLanguageSelector_selectFallbackLanguages%',\n  );\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleLanguageChange = (code: string) => {\n    if (onPrimaryLanguageChange) onPrimaryLanguageChange(code);\n    // REVIEW: Should fallback languages be preserved when primary language changes?\n    if (onLanguagesChange)\n      onLanguagesChange([code, ...fallbackLanguages.filter((lang) => lang !== code)]);\n    if (onFallbackLanguagesChange && fallbackLanguages.find((l) => l === code))\n      onFallbackLanguagesChange([...fallbackLanguages.filter((lang) => lang !== code)]);\n    setIsOpen(false); // Close the dropdown when a selection is made\n  };\n\n  /**\n   * Gets the display name for the given language. This will typically include the autonym (in the\n   * native script), along with the name of the language in the current UI locale if known, with a\n   * fallback to the English name (if known).\n   *\n   * @param {string} lang - The BCP-47 code of the language whose display name is being requested.\n   * @param {string} uiLang - The BCP-47 code of the current user-interface language used used to\n   *   try to look up the name of the language in a form that is likely to be helpful to the user if\n   *   they do not recognize the autonym.\n   * @returns {string} The display name of the language.\n   */\n  const getLanguageDisplayName = (lang: string, uiLang: string) => {\n    const altName =\n      uiLang !== lang\n        ? (knownUiLanguages[lang]?.uiNames?.[uiLang] ?? knownUiLanguages[lang]?.uiNames?.en)\n        : undefined;\n\n    return altName\n      ? `${knownUiLanguages[lang]?.autonym} (${altName})`\n      : knownUiLanguages[lang]?.autonym;\n  };\n\n  return (\n    <div className={cn('pr-twp tw-max-w-sm', className)}>\n      {/* Language Selector */}\n      <Select\n        name=\"uiLanguage\"\n        value={primaryLanguage}\n        onValueChange={handleLanguageChange}\n        open={isOpen}\n        onOpenChange={(open) => setIsOpen(open)}\n      >\n        <SelectTrigger>\n          <SelectValue />\n        </SelectTrigger>\n        <SelectContent\n          className=\"tw-z-[250]\" // Need to get over the floating web view z-index 200\n        >\n          {Object.keys(knownUiLanguages).map((key) => {\n            return (\n              <SelectItem key={key} value={key}>\n                {getLanguageDisplayName(key, primaryLanguage)}\n              </SelectItem>\n            );\n          })}\n        </SelectContent>\n      </Select>\n\n      {/* Fallback Language Button */}\n      {primaryLanguage !== 'en' && (\n        <>\n          <Label className=\"tw-ms-3\">{selectFallbackLanguagesText}</Label>\n          <div className=\"tw-ms-3\">\n            {/* Do not localize or \"improve\". This label is temporary. */}\n            <Label>\n              Currently:{'\\u00A0'}\n              {fallbackLanguages?.length > 0\n                ? `${fallbackLanguages\n                    .map((f) => getLanguageDisplayName(f, primaryLanguage))\n                    .join(', ')}`\n                : `default (${knownUiLanguages.en.autonym})`}\n            </Label>\n            {/* <MultiSelector>\n              Something like this will be added once UX decides exactly what they want.\n          </MultiSelector> */}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default UiLanguageSelector;\n","import { Label } from '@/components/shadcn-ui/label';\nimport { ReactNode } from 'react';\n\ntype SmartLabelProps = {\n  item: string;\n  createLabel?: (item: string) => string;\n  createComplexLabel?: (item: string) => ReactNode;\n};\n\n/** Create labels with text, react elements (e.g. links), or text + react elements */\nfunction SmartLabel({ item, createLabel, createComplexLabel }: SmartLabelProps): ReactNode {\n  if (createLabel) {\n    return <Label>{createLabel(item)}</Label>;\n  }\n  if (createComplexLabel) {\n    return <Label>{createComplexLabel(item)}</Label>;\n  }\n  return <Label>{item}</Label>;\n}\n\nexport default SmartLabel;\n","import { Checkbox } from '@/components/shadcn-ui/checkbox';\nimport { ReactNode } from 'react';\nimport SmartLabel from './smart-label.component';\n\nexport type ChecklistProps = {\n  /** Optional string representing the id attribute of the Checklist */\n  id?: string;\n  /** Optional string representing CSS class name(s) for styling */\n  className?: string;\n  /** Array of strings representing the checkable items */\n  listItems: string[];\n  /** Array of strings representing the checked items */\n  selectedListItems: string[];\n  /**\n   * Function that is called when a checkbox item is selected or deselected\n   *\n   * @param item The string description for this item\n   * @param selected True if selected, false if not selected\n   */\n  handleSelectListItem: (item: string, selected: boolean) => void;\n\n  /**\n   * Optional function creates a label for a provided checkable item\n   *\n   * @param item The item for which a label is to be created\n   * @returns A string representing the label text for the checkbox associated with that item\n   */\n  createLabel?: (item: string) => string;\n\n  /**\n   * Optional function creates a label for a provided checkable item\n   *\n   * @param item The item for which a label is to be created, including text and any additional\n   *   elements (e.g. links)\n   * @returns A react node representing the label text and any additional elements (e.g. links) for\n   *   the checkbox associated with that item\n   */\n  createComplexLabel?: (item: string) => ReactNode;\n};\n\n/** Renders a list of checkboxes. Each checkbox corresponds to an item from the `listItems` array. */\nexport function Checklist({\n  id,\n  className,\n  listItems,\n  selectedListItems,\n  handleSelectListItem,\n  createLabel,\n  createComplexLabel,\n}: ChecklistProps) {\n  return (\n    <div id={id} className={className}>\n      {listItems.map((item) => (\n        <div key={item} className=\"tw-m-2 tw-flex tw-items-center\">\n          <Checkbox\n            className=\"tw-me-2 tw-align-middle\"\n            checked={selectedListItems.includes(item)}\n            onCheckedChange={(value: boolean) => handleSelectListItem(item, value)}\n          />\n          <SmartLabel\n            item={item}\n            createLabel={createLabel}\n            createComplexLabel={createComplexLabel}\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default Checklist;\n","import { cn } from '@/utils/shadcn-ui.util';\nimport { LoaderCircle, LucideProps } from 'lucide-react';\nimport { forwardRef } from 'react';\n\nexport type SpinnerProps = LucideProps;\n\n/**\n * A spinner component that uses the LoaderCircle icon from lucide-react to indicate loading states.\n * The spinner rotates to indicate that a process is ongoing.\n */\nexport const Spinner = forwardRef<SVGSVGElement, SpinnerProps>(({ className, ...props }, ref) => {\n  return (\n    <LoaderCircle size={35} className={cn('tw-animate-spin', className)} {...props} ref={ref} />\n  );\n});\n\nSpinner.displayName = 'Spinner';\n\nexport default Spinner;\n","import { Input as ShadInput } from '@/components/shadcn-ui/input';\nimport { Label as ShadLabel } from '@/components/shadcn-ui/label';\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { ChangeEventHandler, FocusEventHandler } from 'react';\n\nexport type TextFieldProps = {\n  /** Optional unique identifier */\n  id?: string;\n  /**\n   * If `true`, the component is disabled.\n   *\n   * @default false\n   */\n  isDisabled?: boolean;\n  /**\n   * If `true`, the label is displayed in an error state.\n   *\n   * @default false\n   */\n  hasError?: boolean;\n  /**\n   * If `true`, the input will take up the full width of its container.\n   *\n   * @default false\n   */\n  isFullWidth?: boolean;\n  /** Text that gives the user instructions on what contents the TextField expects */\n  helperText?: string;\n  /** The title of the TextField */\n  label?: string;\n  /** The short hint displayed in the `input` before the user enters a value. */\n  placeholder?: string;\n  /**\n   * If `true`, the label is displayed as required and the `input` element is required.\n   *\n   * @default false\n   */\n  isRequired?: boolean;\n  /** Additional css classes to help with unique styling of the text field */\n  className?: string;\n  /** Starting value for the text field if it is not controlled */\n  defaultValue?: string | number;\n  /** Value of the text field if controlled */\n  value?: string | number;\n  /** Triggers when content of textfield is changed */\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n  /** Triggers when textfield gets focus */\n  onFocus?: FocusEventHandler<HTMLInputElement>;\n  /** Triggers when textfield loses focus */\n  onBlur?: FocusEventHandler<HTMLInputElement>;\n};\n\n/**\n * Text input field\n *\n * Thanks to Shadcn for heavy inspiration and documentation\n * https://ui.shadcn.com/docs/components/input#with-label\n */\nexport function TextField({\n  id,\n  isDisabled = false,\n  hasError = false,\n  isFullWidth = false,\n  helperText,\n  label,\n  placeholder,\n  isRequired = false,\n  className,\n  defaultValue,\n  value,\n  onChange,\n  onFocus,\n  onBlur,\n}: TextFieldProps) {\n  return (\n    <div className={cn('tw-inline-grid tw-items-center tw-gap-1.5', { 'tw-w-full': isFullWidth })}>\n      <ShadLabel\n        htmlFor={id}\n        className={cn({\n          'tw-text-red-600': hasError,\n          'tw-hidden': !label,\n        })}\n      >{`${label}${isRequired ? '*' : ''}`}</ShadLabel>\n      <ShadInput\n        id={id}\n        disabled={isDisabled}\n        placeholder={placeholder}\n        required={isRequired}\n        className={cn(className, { 'tw-border-red-600': hasError })}\n        defaultValue={defaultValue}\n        value={value}\n        onChange={onChange}\n        onFocus={onFocus}\n        onBlur={onBlur}\n      />\n      <p className={cn({ 'tw-hidden': !helperText })}>{helperText}</p>\n    </div>\n  );\n}\n\nexport default TextField;\n","import React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\nconst alertVariants = cva(\n  // CUSTOM: Copied all `svg` arbitrary selector variant classes as `img` variants so we can use\n  // images (or svgs from file) as icons\n  // Implemented by TJ Couch\n  // Approved by Alex Mercado\n  // 20 February 2025\n  'tw-relative tw-w-full tw-rounded-lg tw-border tw-p-4 [&>svg~*]:tw-pl-7 [&>svg+div]:tw-translate-y-[-3px] [&>svg]:tw-absolute [&>svg]:tw-left-4 [&>svg]:tw-top-4 [&>svg]:tw-text-foreground [&>img~*]:tw-pl-7 [&>img+div]:tw-translate-y-[-3px] [&>img]:tw-absolute [&>img]:tw-left-4 [&>img]:tw-top-4 [&>img]:tw-text-foreground',\n  {\n    variants: {\n      variant: {\n        default: 'tw-bg-background tw-text-foreground',\n        destructive:\n          // CUSTOM: Copied all `svg` arbitrary selector variant classes as `img` variants so we can\n          // use images (or svgs from file) as icons\n          // Implemented by TJ Couch\n          // Approved by Alex Mercado\n          // 20 February 2025\n          'tw-border-destructive/50 tw-text-destructive dark:tw-border-destructive [&>svg]:tw-text-destructive [&>img]:tw-text-destructive',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\n/**\n * The Alert displays a callout for user attention. The component is built and styled by Shadcn UI.\n * See Shadcn UI Documentation https://ui.shadcn.com/docs/components/alert\n */\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div ref={ref} role=\"alert\" className={cn(alertVariants({ variant }), className)} {...props} />\n));\nAlert.displayName = 'Alert';\n\n/** @inheritdoc Alert */\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h5\n      ref={ref}\n      className={cn('tw-mb-1 tw-font-medium tw-leading-none tw-tracking-tight', className)}\n      {...props}\n    >\n      {/* added because of https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/heading-has-content.md  */}\n      {props.children}{' '}\n    </h5>\n  ),\n);\nAlertTitle.displayName = 'AlertTitle';\n\n/** @inheritdoc Alert */\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('tw-text-sm [&_p]:tw-leading-relaxed', className)} {...props} />\n));\nAlertDescription.displayName = 'AlertDescription';\n\nexport { Alert, AlertTitle, AlertDescription };\n","import React from 'react';\nimport * as AvatarPrimitive from '@radix-ui/react-avatar';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * The Avatar component displays a user's profile picture or initials. The component is built and\n * styled by Shadcn UI. See Shadcn UI Documentation https://ui.shadcn.com/docs/components/avatar\n */\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      'pr-twp tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-overflow-hidden tw-rounded-full',\n      className,\n    )}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\n/** @inheritdoc Avatar */\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn('pr-twp tw-aspect-square tw-h-full tw-w-full', className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\n/** @inheritdoc Avatar */\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      'pr-twp tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center tw-rounded-full tw-bg-muted',\n      className,\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","import React from 'react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * The Card component displays a card with header, content, and footer. This component is built and\n * styled with Shadcn UI. See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/card\n */\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        'pr-twp tw-rounded-lg tw-border tw-bg-card tw-text-card-foreground tw-shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nCard.displayName = 'Card';\n\n/** @inheritdoc Card */\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('pr-twp tw-flex tw-flex-col tw-space-y-1.5 tw-p-6', className)}\n      {...props}\n    />\n  ),\n);\nCardHeader.displayName = 'CardHeader';\n\n/** @inheritdoc Card */\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn(\n        'pr-twp tw-text-2xl tw-font-semibold tw-leading-none tw-tracking-tight',\n        className,\n      )}\n      {...props}\n    >\n      {/* added because of https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/main/docs/rules/heading-has-content.md  */}\n      {props.children}\n    </h3>\n  ),\n);\nCardTitle.displayName = 'CardTitle';\n\n/** @inheritdoc Card */\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p ref={ref} className={cn('pr-twp tw-text-sm tw-text-muted-foreground', className)} {...props} />\n));\nCardDescription.displayName = 'CardDescription';\n\n/** @inheritdoc Card */\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('pr-twp tw-p-6 tw-pt-0', className)} {...props} />\n  ),\n);\nCardContent.displayName = 'CardContent';\n\n/** @inheritdoc Card */\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('pr-twp tw-flex tw-items-center tw-p-6 tw-pt-0', className)}\n      {...props}\n    />\n  ),\n);\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","import React from 'react';\nimport { Drawer as DrawerPrimitive } from 'vaul';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n// CUSTOM: Added context to manage drawer direction\nconst DrawerContext = React.createContext<{\n  direction?: 'top' | 'bottom' | 'left' | 'right';\n}>({\n  direction: 'bottom',\n});\n\n/**\n * A drawer component for React. These components are built on Vaul and styled with Shadcn UI. See\n * Shadcn UI Documentation: https://ui.shadcn.com/docs/components/drawer See Vaul Documentation:\n * https://vaul.emilkowal.ski/getting-started\n */\nfunction Drawer({\n  shouldScaleBackground = true,\n  direction = 'bottom',\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) {\n  // CUSTOM: Use context to provide direction to child components\n  const contextValue = React.useMemo(() => ({ direction }), [direction]);\n  return (\n    <DrawerContext.Provider value={contextValue}>\n      <DrawerPrimitive.Root\n        shouldScaleBackground={shouldScaleBackground}\n        direction={direction}\n        {...props}\n      />\n    </DrawerContext.Provider>\n  );\n}\nDrawer.displayName = 'Drawer';\n\n/** @inheritdoc Drawer */\nconst DrawerTrigger = DrawerPrimitive.Trigger;\n\n/** @inheritdoc Drawer */\nconst DrawerPortal = DrawerPrimitive.Portal;\n\n/** @inheritdoc Drawer */\nconst DrawerClose = DrawerPrimitive.Close;\n\n/** @inheritdoc Drawer */\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn('tw-fixed tw-inset-0 tw-z-50 tw-bg-black/80', className)}\n    {...props}\n  />\n));\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;\n\n/* CUSTOM: Extend DrawerPrimitive.Content with additional props */\ninterface DrawerContentProps\n  extends React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content> {\n  /** Optionally hide the drawer handle */\n  hideDrawerHandle?: boolean;\n}\n\n/** @inheritdoc Drawer */\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  DrawerContentProps\n>(({ className, children, hideDrawerHandle = false, ...props }, ref) => {\n  // CUSTOM: Use context to provide direction to child components\n  const { direction = 'bottom' } = React.useContext(DrawerContext);\n\n  // CUSTOM: Define positioning and styling based on direction\n  const directionStyles = {\n    bottom: 'tw-inset-x-0 tw-bottom-0 tw-mt-24 tw-rounded-t-[10px]',\n    top: 'tw-inset-x-0 tw-top-0 tw-mb-24 tw-rounded-b-[10px]',\n    left: 'tw-inset-y-0 tw-left-0 tw-mr-24 tw-rounded-r-[10px] tw-w-auto tw-max-w-sm',\n    right: 'tw-inset-y-0 tw-right-0 tw-ml-24 tw-rounded-l-[10px] tw-w-auto tw-max-w-sm',\n  };\n\n  // CUSTOM: Define handle styles for each direction\n  const handleStyles = {\n    bottom: 'tw-mx-auto tw-mt-4 tw-h-2 tw-w-[100px] tw-rounded-full tw-bg-muted',\n    top: 'tw-mx-auto tw-mb-4 tw-h-2 tw-w-[100px] tw-rounded-full tw-bg-muted',\n    left: 'tw-my-auto tw-mr-4 tw-w-2 tw-h-[100px] tw-rounded-full tw-bg-muted',\n    right: 'tw-my-auto tw-ml-4 tw-w-2 tw-h-[100px] tw-rounded-full tw-bg-muted',\n  };\n\n  return (\n    <DrawerPortal>\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        ref={ref}\n        className={cn(\n          // CUSTOM: Change Tailwind CSS classes for styling\n          // Removed tw-inset-x-0 tw-bottom-0 tw-mt-24 tw-rounded-t-[10px] tw-flex-col\n          'pr-twp tw-fixed tw-z-50 tw-flex tw-h-auto tw-border tw-bg-background',\n          direction === 'bottom' || direction === 'top' ? 'tw-flex-col' : 'tw-flex-row',\n          directionStyles[direction],\n          className,\n        )}\n        {...props}\n      >\n        {/* CUSTOM: Render handles and children based on direction and if the drawer handle is hidden */}\n        {!hideDrawerHandle && (direction === 'bottom' || direction === 'right') && (\n          <div className={handleStyles[direction]} />\n        )}\n        <div className=\"tw-flex tw-flex-col\">{children}</div>\n        {!hideDrawerHandle && (direction === 'top' || direction === 'left') && (\n          <div className={handleStyles[direction]} />\n        )}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  );\n});\nDrawerContent.displayName = 'DrawerContent';\n\n/** @inheritdoc Drawer */\nfunction DrawerHeader({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn('tw-grid tw-gap-1.5 tw-p-4 tw-text-center sm:tw-text-left', className)}\n      {...props}\n    />\n  );\n}\nDrawerHeader.displayName = 'DrawerHeader';\n\n/** @inheritdoc Drawer */\nfunction DrawerFooter({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div className={cn('tw-mt-auto tw-flex tw-flex-col tw-gap-2 tw-p-4', className)} {...props} />\n  );\n}\nDrawerFooter.displayName = 'DrawerFooter';\n\n/** @inheritdoc Drawer */\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn('tw-text-lg tw-font-semibold tw-leading-none tw-tracking-tight', className)}\n    {...props}\n  />\n));\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName;\n\n/** @inheritdoc Drawer */\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn('tw-text-sm tw-text-muted-foreground', className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName;\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n};\n","import React from 'react';\nimport * as ProgressPrimitive from '@radix-ui/react-progress';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Displays an indicator showing the completion progress of a task, typically displayed as a\n * progress bar. This component is built on Radix UI primitives and styled with Shadcn UI. See\n * Shadcn UI documentation: https://ui.shadcn.com/docs/components/progress See Radix UI\n * documentation: https://www.radix-ui.com/primitives/docs/components/progress#api-reference\n */\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      'pr-twp tw-relative tw-h-4 tw-w-full tw-overflow-hidden tw-rounded-full tw-bg-secondary',\n      className,\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"tw-h-full tw-w-full tw-flex-1 tw-bg-primary tw-transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n","import { ComponentProps } from 'react';\nimport { toast as sonner, Toaster } from 'sonner';\n\n/**\n * Props for Sonner component.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/sonner}\n * @see Sonner Documentation: {@link https://sonner.emilkowal.ski}\n */\ntype SonnerProps = ComponentProps<typeof Toaster>;\n\n/**\n * The Sonner component is an opinionated toast component for React. It is built on Sonner and\n * styled with Shadcn UI.\n *\n * @param SonnerProps\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/sonner}\n * @see Sonner Documentation: {@link https://sonner.emilkowal.ski}\n */\nfunction Sonner({ ...props }: SonnerProps) {\n  return (\n    <Toaster\n      className=\"tw-toaster tw-group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            'group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg',\n          description: 'group-[.toast]:text-muted-foreground',\n          actionButton: 'group-[.toast]:bg-primary group-[.toast]:text-primary-foreground',\n          cancelButton: 'group-[.toast]:bg-muted group-[.toast]:text-muted-foreground',\n        },\n      }}\n      {...props}\n    />\n  );\n}\n\n// The re-export of the sonner function was added manually\nexport { Sonner, sonner };\n","import React from 'react';\nimport * as SliderPrimitive from '@radix-ui/react-slider';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * The Slider component is an input where the user selects a value from within a given range. This\n * component is built on Radix UI primitives and styled with Shadcn UI.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/slider}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/slider}\n */\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <SliderPrimitive.Root\n      ref={ref}\n      className={cn(\n        'pr-twp tw-relative tw-flex tw-w-full tw-touch-none tw-select-none tw-items-center',\n        className,\n      )}\n      {...props}\n      dir={dir}\n    >\n      <SliderPrimitive.Track className=\"tw-relative tw-h-2 tw-w-full tw-grow tw-overflow-hidden tw-rounded-full tw-bg-secondary\">\n        <SliderPrimitive.Range className=\"tw-absolute tw-h-full tw-bg-primary\" />\n      </SliderPrimitive.Track>\n      <SliderPrimitive.Thumb className=\"tw-block tw-h-5 tw-w-5 tw-rounded-full tw-border-2 tw-border-primary tw-bg-background tw-ring-offset-background tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50\" />\n    </SliderPrimitive.Root>\n  );\n});\nSlider.displayName = SliderPrimitive.Root.displayName;\n\nexport { Slider };\n","import * as SwitchPrimitives from '@radix-ui/react-switch';\nimport React from 'react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * The Switch component is a control that allows the user to toggle between checked and not checked.\n * This component is built on Radix UI primitives and styled with Shadcn UI.\n *\n * @see Shadcn UI Documentation: {@link https://ui.shadcn.com/docs/components/switch}\n * @see Radix UI Documentation: {@link https://www.radix-ui.com/primitives/docs/components/switch}\n */\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <SwitchPrimitives.Root\n      className={cn(\n        'tw-peer pr-twp tw-inline-flex tw-h-6 tw-w-11 tw-shrink-0 tw-cursor-pointer tw-items-center tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 focus-visible:tw-ring-offset-background disabled:tw-cursor-not-allowed disabled:tw-opacity-50 data-[state=checked]:tw-bg-primary data-[state=unchecked]:tw-bg-input',\n        className,\n      )}\n      {...props}\n      ref={ref}\n    >\n      <SwitchPrimitives.Thumb\n        className={cn(\n          'pr-twp tw-pointer-events-none tw-block tw-h-5 tw-w-5 tw-rounded-full tw-bg-background tw-shadow-lg tw-ring-0 tw-transition-transform',\n          {\n            'data-[state=checked]:tw-translate-x-5 data-[state=unchecked]:tw-translate-x-0':\n              dir === 'ltr',\n          },\n          {\n            'data-[state=checked]:tw-translate-x-[-20px] data-[state=unchecked]:tw-translate-x-0':\n              dir === 'rtl',\n          },\n        )}\n      />\n    </SwitchPrimitives.Root>\n  );\n});\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n","import React from 'react';\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\n\nimport { cn } from '@/utils/shadcn-ui.util';\nimport { Direction, readDirection } from '@/utils/dir-helper.util';\n\n/**\n * Tabs components provide a set of layered sections of contentâ€”known as tab panelsâ€“that are\n * displayed one at a time. These components are built on Radix UI primitives and styled with Shadcn\n * UI. See Shadcn UI Documentation: https://ui.shadcn.com/docs/components/tabs See Radix UI\n * Documentation: https://www.radix-ui.com/primitives/docs/components/tabs\n */\nexport const Tabs = TabsPrimitive.Root;\n\n/** @inheritdoc Tabs */\nexport type TabsListProps = React.ComponentPropsWithoutRef<typeof TabsPrimitive.List> & {\n  className?: string;\n};\n\n/** @inheritdoc Tabs */\nexport type TabsTriggerProps = React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger> & {\n  className?: string;\n};\n\n/** @inheritdoc Tabs */\nexport type TabsContentProps = React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content> & {\n  className?: string;\n};\n\n/** @inheritdoc Tabs */\nexport const TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  TabsListProps\n>(({ className, ...props }, ref) => {\n  const dir: Direction = readDirection();\n  return (\n    <TabsPrimitive.List\n      ref={ref}\n      className={cn(\n        'pr-twp tw-inline-flex tw-h-10 tw-items-center tw-justify-center tw-rounded-md tw-bg-muted tw-p-1 tw-text-muted-foreground',\n        className,\n      )}\n      {...props}\n      dir={dir}\n    />\n  );\n});\nTabsList.displayName = TabsPrimitive.List.displayName;\n\n/** @inheritdoc Tabs */\nexport const TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  TabsTriggerProps\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'pr-twp tw-inline-flex tw-items-center tw-justify-center tw-whitespace-nowrap tw-rounded-sm tw-px-3 tw-py-1.5 tw-text-sm tw-font-medium tw-ring-offset-background tw-transition-all hover:tw-text-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-pointer-events-none disabled:tw-opacity-50 data-[state=active]:tw-bg-background data-[state=active]:tw-text-foreground data-[state=active]:tw-shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\n/** @inheritdoc Tabs */\nexport const TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  TabsContentProps\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'pr-twp tw-mt-2 tw-ring-offset-background focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n","import React from 'react';\n\nimport { cn } from '@/utils/shadcn-ui.util';\n\n/**\n * Displays a form textarea or a component that looks like a textarea. This component is from Shadcn\n * UI. See Shadcn UI documentation: https://ui.shadcn.com/docs/components/textarea\n */\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'pr-twp tw-flex tw-min-h-[80px] tw-w-full tw-rounded-md tw-border tw-border-input tw-bg-background tw-px-3 tw-py-2 tw-text-base tw-ring-offset-background placeholder:tw-text-muted-foreground focus-visible:tw-outline-none focus-visible:tw-ring-2 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 disabled:tw-cursor-not-allowed disabled:tw-opacity-50 md:tw-text-sm',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nTextarea.displayName = 'Textarea';\n\nexport { Textarea };\n","import { PlatformEvent, PlatformEventHandler } from 'platform-bible-utils';\nimport { useEffect } from 'react';\n\n/**\n * Adds an event handler to an event so the event handler runs when the event is emitted. Use\n * `papi.network.getNetworkEvent` to use a networked event with this hook.\n *\n * @param event The event to subscribe to.\n *\n *   - If event is a `PlatformEvent`, that event will be used\n *   - If event is undefined, the callback will not be subscribed. Useful if the event is not yet\n *       available for example\n *\n * @param eventHandler The callback to run when the event is emitted\n *\n *   WARNING: MUST BE STABLE - const or wrapped in useCallback. The reference must not be updated\n *   every render\n */\nexport const useEvent = <T>(\n  event: PlatformEvent<T> | undefined,\n  eventHandler: PlatformEventHandler<T>,\n) => {\n  useEffect(() => {\n    // Do nothing if the event is not provided (in case the event is not yet available, for example)\n    if (!event) return () => {};\n\n    const unsubscriber = event(eventHandler);\n    return () => {\n      unsubscriber();\n    };\n  }, [event, eventHandler]);\n};\nexport default useEvent;\n","import { useEffect, useRef, useState } from 'react';\n\nexport type UsePromiseOptions = {\n  /**\n   * Whether to leave the value as the most recent resolved promise value or set it back to\n   * defaultValue while running the promise again. Defaults to true\n   */\n  preserveValue?: boolean;\n};\n\n/** Set up defaults for options for usePromise hook */\nfunction getUsePromiseOptionsDefaults(options: UsePromiseOptions): UsePromiseOptions {\n  return {\n    preserveValue: true,\n    ...options,\n  };\n}\n\n/**\n * Awaits a promise and returns a loading value while the promise is unresolved\n *\n * @param promiseFactoryCallback A function that returns the promise to await. If this callback is\n *   undefined, the current value will be returned (defaultValue unless it was previously changed\n *   and `options.preserveValue` is true), and there will be no loading.\n *\n *   WARNING: MUST BE STABLE - const or wrapped in useCallback. The reference must not be updated\n *   every render\n * @param defaultValue The initial value to return while first awaiting the promise. If\n *   `options.preserveValue` is false, this value is also shown while awaiting the promise on\n *   subsequent calls.\n *\n *   Note: this parameter is internally assigned to a `ref`, so changing it will not cause any hooks\n *   to re-run with its new value. This means that, if the `promiseFactoryCallback` changes and\n *   `options.preserveValue` is `false`, the returned value will be set to the current\n *   `defaultValue`. However, the returned value will not be updated if`defaultValue` changes.\n * @param options Various options for adjusting how this hook runs the `promiseFactoryCallback`\n *\n *   Note: this parameter is internally assigned to a `ref`, so changing it will not cause any hooks\n *   to re-run with its new value. However, the latest `options.preserveValue` will always be used\n *   appropriately to determine whether to preserve the returned value when changing the\n *   `promiseFactoryCallback`\n * @returns `[value, isLoading]`\n *\n *   - `value`: the current value for the promise, either the defaultValue or the resolved promise value\n *   - `isLoading`: whether the promise is waiting to be resolved\n */\nexport const usePromise = <T>(\n  promiseFactoryCallback: (() => Promise<T>) | undefined,\n  defaultValue: T,\n  options: UsePromiseOptions = {},\n): [value: T, isLoading: boolean] => {\n  // Use defaultValue as a ref so it doesn't update dependency arrays\n  const defaultValueRef = useRef(defaultValue);\n  defaultValueRef.current = defaultValue;\n  // Use options as a ref so it doesn't update dependency arrays\n  const optionsDefaultedRef = useRef(options);\n  optionsDefaultedRef.current = getUsePromiseOptionsDefaults(optionsDefaultedRef.current);\n\n  const [value, setValue] = useState<T>(() => defaultValueRef.current);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  useEffect(() => {\n    let promiseIsCurrent = true;\n    // If a promiseFactoryCallback was provided, we are loading. Otherwise, there is no loading to do\n    setIsLoading(!!promiseFactoryCallback);\n    (async () => {\n      // If there is a callback to run, run it\n      if (promiseFactoryCallback) {\n        const result = await promiseFactoryCallback();\n        // If the promise was not already replaced, update the value\n        if (promiseIsCurrent) {\n          setValue(() => result);\n          setIsLoading(false);\n        }\n      }\n    })();\n\n    return () => {\n      // Mark this promise as old and not to be used\n      promiseIsCurrent = false;\n      if (!optionsDefaultedRef.current.preserveValue) setValue(() => defaultValueRef.current);\n    };\n  }, [promiseFactoryCallback]);\n\n  return [value, isLoading];\n};\nexport default usePromise;\n","import { useCallback, useEffect } from 'react';\nimport { PlatformEvent, PlatformEventAsync, PlatformEventHandler } from 'platform-bible-utils';\nimport { usePromise } from './use-promise.hook';\n\nconst noopUnsubscriber = () => false;\n\n/**\n * Adds an event handler to an asynchronously subscribing/unsubscribing event so the event handler\n * runs when the event is emitted. Use `papi.network.getNetworkEvent` to use a networked event with\n * this hook.\n *\n * @param event The asynchronously (un)subscribing event to subscribe to.\n *\n *   - If event is a `PlatformEvent` or `PlatformEventAsync`, that event will be used\n *   - If event is undefined, the callback will not be subscribed. Useful if the event is not yet\n *       available for example\n *\n * @param eventHandler The callback to run when the event is emitted\n *\n *   WARNING: MUST BE STABLE - const or wrapped in useCallback. The reference must not be updated\n *   every render\n */\nexport const useEventAsync = <T>(\n  event: PlatformEvent<T> | PlatformEventAsync<T> | undefined,\n  eventHandler: PlatformEventHandler<T>,\n) => {\n  // Subscribe to the event asynchronously\n  const [unsubscribe] = usePromise(\n    useCallback(async () => {\n      // Do nothing if the event is not provided (in case the event is not yet available, for example)\n      if (!event) return noopUnsubscriber;\n\n      // Wrap subscribe and unsubscribe in promises to allow normal events to be used as well\n      const unsub = await Promise.resolve(event(eventHandler));\n      return async () => unsub();\n    }, [eventHandler, event]),\n    noopUnsubscriber,\n    // We want the unsubscriber to return to default value immediately upon changing subscription\n    // So the useEffect below will unsubscribe asap\n    { preserveValue: false },\n  );\n\n  // Unsubscribe from the event asynchronously (but we aren't awaiting the unsub)\n  useEffect(() => {\n    return () => {\n      if (unsubscribe !== noopUnsubscriber) {\n        unsubscribe();\n      }\n    };\n  }, [unsubscribe]);\n};\n\nexport default useEventAsync;\n","import React, { useCallback, useRef, useState } from 'react';\n\n/** Properties of one option contained in a listbox */\nexport interface ListboxOption {\n  /** Unique identifier for the option */\n  id: string;\n}\n\n/** Props for the useListbox hook */\nexport interface UseListboxProps {\n  /** Array of options for the listbox */\n  options: ListboxOption[];\n  /** Callback when the focus changes to a different option */\n  onFocusChange?: (option: ListboxOption) => void;\n  /** Callback to toggle the selection of an option */\n  onOptionSelect?: (option: ListboxOption) => void;\n  /** Callback when a character key is pressed */\n  onCharacterPress?: (char: string) => void;\n}\n/**\n * Hook for handling keyboard navigation of a listbox.\n *\n * @param UseListboxProps - The properties for configuring the listbox behavior.\n * @returns An object containing:\n *\n *   - `listboxRef`: A ref to be attached to the listbox container element (e.g., `<ul>`), used for\n *       focus management.\n *   - `activeId`: The id of the currently focused (active) option, or `undefined` if none is focused.\n *   - `selectedId`: The id of the currently selected option, or `undefined` if none is selected.\n *   - `handleKeyDown`: A keyboard event handler to be attached to the listbox container for handling\n *       navigation and selection.\n *   - `focusOption`: A function to programmatically focus a specific option by id.\n */\nexport const useListbox = ({\n  options,\n  onFocusChange,\n  onOptionSelect,\n  onCharacterPress,\n}: UseListboxProps) => {\n  // ul/div ref property expects null and not undefined\n  // eslint-disable-next-line no-null/no-null\n  const listboxRef = useRef<HTMLElement>(null);\n  const [activeId, setActiveId] = useState<string | undefined>(undefined);\n  const [selectedId, setSelectedId] = useState<string | undefined>(undefined);\n\n  const focusOption = useCallback(\n    (id: string) => {\n      setActiveId(id);\n      const option = options.find((opt) => opt.id === id);\n      if (option) {\n        onFocusChange?.(option);\n      }\n\n      const element = document.getElementById(id);\n      if (element) {\n        element.scrollIntoView({ block: 'center' });\n        element.focus();\n      }\n\n      // Ensure aria-activedescendant is set on the listbox container for internal focus tracking\n      if (listboxRef.current) {\n        listboxRef.current.setAttribute('aria-activedescendant', id);\n      }\n    },\n    [onFocusChange, options],\n  );\n\n  const toggleSelectInternal = useCallback(\n    (id: string) => {\n      const option = options.find((opt) => opt.id === id);\n      if (!option) return;\n\n      setSelectedId((prev) => (prev === id ? undefined : id));\n      onOptionSelect?.(option);\n    },\n    [onOptionSelect, options],\n  );\n\n  const handleKeyDown = useCallback(\n    (evt: React.KeyboardEvent<HTMLElement>) => {\n      const currentIndex = options.findIndex((opt) => opt.id === activeId);\n      let nextIndex = currentIndex;\n\n      switch (evt.key) {\n        case 'ArrowDown':\n          nextIndex = Math.min(currentIndex + 1, options.length - 1);\n          evt.preventDefault();\n          break;\n        case 'ArrowUp':\n          nextIndex = Math.max(currentIndex - 1, 0);\n          evt.preventDefault();\n          break;\n        case 'Home':\n          nextIndex = 0;\n          evt.preventDefault();\n          break;\n        case 'End':\n          nextIndex = options.length - 1;\n          evt.preventDefault();\n          break;\n        case ' ':\n        case 'Enter':\n          if (activeId) {\n            toggleSelectInternal(activeId);\n          }\n          evt.preventDefault();\n          evt.stopPropagation();\n          return;\n        default:\n          if (evt.key.length === 1 && !evt.metaKey && !evt.ctrlKey && !evt.altKey) {\n            onCharacterPress?.(evt.key);\n            evt.preventDefault();\n          }\n          return;\n      }\n\n      const nextOption = options[nextIndex];\n      if (nextOption) focusOption(nextOption.id);\n    },\n    [options, focusOption, activeId, toggleSelectInternal, onCharacterPress],\n  );\n\n  return {\n    listboxRef,\n    activeId,\n    selectedId,\n    handleKeyDown,\n    focusOption,\n  };\n};\n"],"names":["P","R","e","s","n","N","B","O","S","K","g","k","x","T","X","V","w","L","G","A","H","C","I","y","q","U","m","l","h","c","E","r","D","i","o","u","v","f","d","b","p","J","twMergeCustom","extendTailwindMerge","cn","inputs","clsx","buttonVariants","cva","Button","React","className","variant","size","asChild","props","ref","Comp","Slot","jsx","STORAGE_KEY","readDirection","retrieved","DialogPortal","DialogPrimitive","DialogOverlay","DialogContent","children","dir","jsxs","DialogTitle","DialogDescription","Command","CommandPrimitive","CommandInput","Search","CommandList","CommandEmpty","CommandGroup","CommandSeparator","CommandItem","Popover","PopoverPrimitive","PopoverTrigger","PopoverContent","align","sideOffset","ALL_BOOK_IDS","Canon","bookId","ALL_ENGLISH_BOOK_NAMES","BOOK_TYPE_LABELS","SCRIPTURE_REGEX_PATTERNS","SEARCH_QUERY_FORMATS","fetchEndChapter","getChaptersForBook","BookChapterControl","scrRef","handleSubmit","getActiveBookIds","isCommandOpen","setIsCommandOpen","useState","commandValue","setCommandValue","inputValue","setInputValue","viewMode","setViewMode","selectedBookForChaptersView","setSelectedBookForChaptersView","commandInputRef","useRef","commandListRef","selectedBookItemRef","chapterRefs","activeBookIds","useMemo","availableBooksByType","availableBooks","filteredBooksByType","inputValueLowerCase","filteredBooks","type","calculateTopMatch","useCallback","query","smartParseResult","result","format","matches","book","chapter","verse","validBookId","matchingBookIdForFullName","bookName","bookUpperCase","bookLowerCase","allPotentialMatches","chapterNum","verseNum","topMatch","commandFilter","value","search","searchLower","valueLower","handleTopMatchSelect","handleBookSelect","handleChapterSelect","chapterNumber","handleBackToBooks","handlePreviousChapter","currentBookIndex","previousBook","lastChapter","handleNextChapter","maxChapter","nextBook","handlePreviousBook","handleNextBook","quickNavButtons","ChevronsLeft","ChevronsRight","ChevronLeft","ChevronRight","handleOpenChange","shouldCommandBeOpen","isChapterDisabled","currentDisplayValue","formatScrRef","chapterViewData","endChapter","generateCommandValue","setChapterRef","element","handleInputKeyDown","event","handleCommandKeyDown","isLetter","isDigit","currentBookName","prevValue","currentBookId","currentChapter","match","findValidChapter","startChapter","direction","maxSteps","targetChapter","GRID_COLS","targetElement","useLayoutEffect","scrollTimeout","listElement","itemElement","itemOffsetTop","listHeight","itemHeight","scrollPosition","isCurrentlySelectedBook","onClick","disabled","title","Icon","ArrowLeft","Fragment","books","_","labelVariants","Label","LabelPrimitive","RadioGroup","RadioGroupPrimitive","RadioGroupItem","Circle","getOptionLabelDefault","option","ComboBox","id","options","buttonClassName","popoverContentClassName","onChange","getOptionLabel","icon","buttonPlaceholder","textPlaceholder","commandEmptyMessage","buttonVariant","alignDropDown","isDisabled","open","setOpen","ChevronsUpDown","Check","ChapterRangeSelector","handleSelectStartChapter","handleSelectEndChapter","chapterCount","chapterOptions","index","onChangeStartChapter","onChangeEndChapter","BookSelectionMode","BOOK_SELECTOR_STRING_KEYS","localizeString","strings","key","BookSelector","handleBookSelectionModeChange","onSelectBooks","selectedBookIds","localizedStrings","currentBookText","chooseText","chooseBooksText","bookSelectionMode","setBookSelectionMode","onSelectionModeChange","newMode","MenuContext","createContext","useMenuContext","context","useContext","menuVariants","DropdownMenuTrigger","DropdownMenuPrimitive","DropdownMenuGroup","DropdownMenuPortal","DropdownMenuSub","DropdownMenuRadioGroup","DropdownMenu","contextValue","DropdownMenuSubTrigger","inset","DropdownMenuSubContent","DropdownMenuContent","DropdownMenuItem","DropdownMenuCheckboxItem","checked","DropdownMenuRadioItem","DropdownMenuLabel","DropdownMenuSeparator","DropdownMenuShortcut","DataTableViewOptions","table","FilterIcon","column","Select","SelectPrimitive","SelectGroup","SelectValue","selectTriggerVariants","SelectTrigger","ChevronDown","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","SelectContent","position","SelectLabel","SelectItem","SelectSeparator","DataTablePagination","pageSize","ArrowLeftIcon","ChevronLeftIcon","ChevronRightIcon","ArrowRightIcon","FOCUSABLE_SELECTOR","isVisible","el","getFocusableElements","container","uniqueQuerySelector","Table","stickyHeader","tableRef","currentTable","setTabIndexes","observer","handleKeyDownInTable","TableHeader","TableBody","TableFooter","useFocusableInRowKeyboardNavigation","rowRef","row","handleKeyDown","focusables","nextIndex","focusAdjacentFocusableElementInRow","focusablesInRow","currentIndexOfFocusables","nextFocusable","focusAdjacentRow","rowsInTable","currentRowIndex","nextRow","TableRow","onKeyDown","onSelect","setFocusAlsoRunsSelect","currentRow","closestTable","handleFocus","TableHead","TableCell","TableCaption","DataTable","columns","data","enablePagination","showPaginationControls","showColumnVisibilityControls","onRowClickHandler","sorting","setSorting","columnFilters","setColumnFilters","columnVisibility","setColumnVisibility","rowSelection","setRowSelection","useReactTable","getCoreRowModel","getPaginationRowModel","getSortedRowModel","getFilteredRowModel","headerGroup","header","flexRender","_a","cell","MarkdownRenderer","markdown","anchorTarget","Markdown","ERROR_DUMP_STRING_KEYS","ErrorDump","errorDetails","handleCopyNotify","headerText","infoMessage","handleCopy","Copy","ErrorPopover","DropdownMenuItemType","DropdownMenuItemType2","FilterDropdown","label","groups","checkedStates","setCheckedStates","group","entry","radioStates","setRadioStates","handleCheckboxUpdate","groupIndex","newCheckedState","oldCheckedStates","item","handleRadioUpdate","oldRadioStates","currentItem","Filter","MoreInfo","category","downloads","languages","moreInfoUrl","handleMoreInfoLinkClick","supportUrl","handleSupportLinkClick","numberFormatted","NumberFormat","a","handleScrollToBottom","User","locale","LucideLink","CircleHelp","VersionHistory","versionHistory","showAllVersions","setShowAllVersions","currentDate","formatTimeString","dateString","date","dateDiff","yearDiff","monthDiff","dayDiff","timeString","sortedEntries","Footer","publisherDisplayName","fileSize","locales","formattedFileSize","formatBytes","languageNames","codes","displayNames","code","badgeVariants","Badge","MultiSelectComboBox","entries","getEntriesCount","selected","placeholder","customSelectedText","sortSelected","handleSelect","getPlaceholderText","sortedOptions","starredItems","opt","nonStarredItems","aSelected","bSelected","count","Star","badgesPlaceholder","selectedType","OccurrencesTable","occurrenceData","setScriptureReference","referenceHeaderText","occurrenceHeaderText","occurrences","uniqueOccurrences","occurrence","uniqueOccurrence","deepEqual","Checkbox","CheckboxPrimitive","Input","toggleVariants","Toggle","TogglePrimitive","ToggleGroupContext","ToggleGroup","ToggleGroupPrimitive","ToggleGroupItem","getSortingIcon","sortDirection","ArrowUpIcon","ArrowDownIcon","ArrowUpDownIcon","inventoryItemColumn","itemLabel","inventoryAdditionalItemColumn","additionalItemLabel","additionalItemIndex","inventoryCountColumn","countLabel","statusChangeHandler","changedItems","newStatus","approvedItems","onApprovedItemsChange","unapprovedItems","onUnapprovedItemsChange","newApprovedItems","validItem","newUnapprovedItems","unapprovedItem","inventoryStatusColumn","statusLabel","status","CircleCheckIcon","CircleXIcon","CircleHelpIcon","getLinesFromUSFM","text","getNumberFromUSFM","regex","getBookIdFromUSFM","getStatusForItem","INVENTORY_STRING_KEYS","filterItemData","itemData","statusFilter","textFilter","filteredItemData","processInventoryItems","inventoryItems","tableData","existingItem","tableEntry","isString","newItem","Inventory","setVerseRef","additionalItemsLabels","scope","onScopeChange","allItemsText","approvedItemsText","unapprovedItemsText","unknownItemsText","scopeBookText","scopeChapterText","scopeVerseText","filterText","showAdditionalItemsText","showAdditionalItems","setShowAdditionalItems","setStatusFilter","setTextFilter","selectedItem","setSelectedItem","reducedTableData","newTableData","firstItem","existingEntry","newTableEntry","filteredTableData","allColumns","numberOfAdditionalItems","additionalColumns","_b","useEffect","rowClickHandler","newSelection","handleScopeChange","handleStatusFilterChange","Separator","orientation","decorative","SeparatorPrimitive","Skeleton","TooltipProvider","TooltipPrimitive","Tooltip","TooltipTrigger","TooltipContent","SIDEBAR_WIDTH","SIDEBAR_WIDTH_ICON","SidebarContext","useSidebar","SidebarProvider","defaultOpen","openProp","setOpenProp","style","side","_open","_setOpen","isOpen","openState","toggleSidebar","state","directionAwareSide","Sidebar","collapsible","SidebarTrigger","PanelLeft","PanelRight","SidebarRail","SidebarInset","SidebarInput","SidebarHeader","SidebarFooter","SidebarSeparator","SidebarContent","SidebarGroup","SidebarGroupLabel","SidebarGroupAction","SidebarGroupContent","SidebarMenu","SidebarMenuItem","sidebarMenuButtonVariants","SidebarMenuButton","isActive","tooltip","button","SidebarMenuAction","showOnHover","SidebarMenuBadge","SidebarMenuSkeleton","showIcon","width","SidebarMenuSub","SidebarMenuSubItem","SidebarMenuSubButton","SettingsSidebar","extensionLabels","projectInfo","handleSelectSidebarItem","selectedSidebarItem","extensionsSidebarGroupLabel","projectsSidebarGroupLabel","buttonPlaceholderText","handleSelectItem","projectId","getProjectNameFromProjectId","project","info","getIsActive","selectedProjectName","ScrollText","SearchBar","forwardRef","onSearch","isFullWidth","inputRef","SettingsSidebarContentSearch","searchValue","scrBookColId","scrRefColId","typeColId","detailsColId","defaultScrRefColumnName","defaultScrBookGroupName","defaultTypeColumnName","defaultDetailsColumnName","getColumns","colInfo","showSourceColumn","showSrcCol","compareScrRefs","toRefOrRange","scriptureSelection","offsetStart","offsetEnd","scrRefToBBBCCCVVV","getRowKey","ScriptureResultsViewer","sources","showColumnHeaders","scriptureReferenceColumnName","scriptureBookGroupName","typeColumnName","detailsColumnName","onRowSelected","grouping","setGrouping","scriptureResults","source","getExpandedRowModel","getGroupedRowModel","selectedRows","keys","selectedRow","scrBookGroupName","typeGroupName","groupingOptions","handleSelectChange","selectedGrouping","handleRowClick","getEvenOrOddBandingStyle","getIndent","groupingState","rowIndex","Section","getSectionLongName","section","otLongName","ntLongName","dcLongName","extraLongName","getSectionShortName","otShortName","ntShortName","dcShortName","extraShortName","getSectionForBook","getBooksForSection","bookIds","isSectionFullySelected","BookItem","toggleBook","lastKeyEventShiftKey","localizedBookNames","isMouseClick","mouseClickTimer","SectionButton","availableBookIds","onToggle","sectionOtShortText","sectionNtShortText","sectionDcShortText","sectionExtraShortText","VISIBLE_BADGES_COUNT","MAX_VISIBLE_BADGES","availableBookInfo","onChangeSelectedBookIds","booksSelectedText","selectBooksText","searchBooksText","selectAllText","clearAllText","noBookFoundText","moreText","sectionOtLongText","sectionNtLongText","sectionDcLongText","sectionExtraLongText","isBooksSelectorOpen","setIsBooksSelectorOpen","lastSelectedBookRef","availableBooksIds","shiftKey","lastIndex","currentIndex","startIndex","endIndex","booksInRange","shortname","toggleSection","sectionBooks","handleSelectAll","handleClearAll","SCOPE_SELECTOR_STRING_KEYS","ScopeSelector","availableScopes","onSelectedBookIdsChange","selectedTextText","currentVerseText","currentChapterText","scopeText","SCOPE_OPTIONS","displayedScopes","DEFAULT_SCROLL_GROUP_LOCALIZED_STRINGS","getLocalizeKeyForScrollGroupId","ScrollGroupSelector","availableScrollGroupIds","scrollGroupId","onChangeScrollGroupId","localizedStringsDefaulted","localizedStringKey","localizedStringValue","newScrollGroupString","scrollGroupOptionId","SettingsList","SettingsListItem","primary","secondary","isLoading","loadingMessage","SettingsListHeader","includeSeparator","getSubMenuGroupKeyForMenuItemId","MenuItemIcon","menuLabel","leading","getGroupContent","items","columnOrSubMenuKey","onSelectMenuItem","groupKey","TabDropdownMenu","menuData","tabLabel","MenuIcon","columnKey","array","TabToolbar","onSelectProjectMenuItem","onSelectViewInfoMenuItem","projectMenuData","tabViewMenuData","startAreaChildren","centerAreaChildren","endAreaChildren","Menu","EllipsisVertical","VerticalTabs","TabsPrimitive","VerticalTabsList","VerticalTabsTrigger","VerticalTabsContent","TabNavigationContentSearch","tabList","searchPlaceholder","headerTitle","searchClassName","tab","MenubarMenu","MenubarPrimitive","MenubarSub","Menubar","MenubarTrigger","MenubarSubTrigger","MenubarSubContent","MenubarContent","alignOffset","MenubarItem","MenubarCheckboxItem","MenubarRadioItem","MenubarLabel","MenubarSeparator","simulateKeyPress","getMenubarContent","sortedGroupsForColumn","groupItems","itemsWithSeparator","PlatformMenubar","onOpenChange","menubarRef","projectMenuRef","windowMenuRef","layoutMenuRef","helpMenuRef","getRefForColumn","useHotkeys","handler","escKey","spaceKey","_c","_d","mutations","mutation","getToolbarOSReservedSpaceClassName","operatingSystem","Toolbar","appMenuAreaChildren","configAreaChildren","shouldUseAsAppDragArea","menubarVariant","containerRef","UiLanguageSelector","knownUiLanguages","primaryLanguage","fallbackLanguages","onLanguagesChange","onPrimaryLanguageChange","onFallbackLanguagesChange","selectFallbackLanguagesText","setIsOpen","handleLanguageChange","lang","getLanguageDisplayName","uiLang","altName","_e","_f","SmartLabel","createLabel","createComplexLabel","Checklist","listItems","selectedListItems","handleSelectListItem","Spinner","LoaderCircle","TextField","hasError","helperText","isRequired","defaultValue","onFocus","onBlur","ShadLabel","ShadInput","alertVariants","Alert","AlertTitle","AlertDescription","Avatar","AvatarPrimitive","AvatarImage","AvatarFallback","Card","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","DrawerContext","Drawer","shouldScaleBackground","DrawerPrimitive","DrawerTrigger","DrawerPortal","DrawerClose","DrawerOverlay","DrawerContent","hideDrawerHandle","directionStyles","handleStyles","DrawerHeader","DrawerFooter","DrawerTitle","DrawerDescription","Progress","ProgressPrimitive","Sonner","Toaster","Slider","SliderPrimitive","Switch","SwitchPrimitives","Tabs","TabsList","TabsTrigger","TabsContent","Textarea","useEvent","eventHandler","unsubscriber","getUsePromiseOptionsDefaults","usePromise","promiseFactoryCallback","defaultValueRef","optionsDefaultedRef","setValue","setIsLoading","promiseIsCurrent","noopUnsubscriber","useEventAsync","unsubscribe","unsub","useListbox","onFocusChange","onOptionSelect","onCharacterPress","listboxRef","activeId","setActiveId","selectedId","setSelectedId","focusOption","toggleSelectInternal","prev","evt","nextOption"],"mappings":"khDAAA,IAAIA,GAAI,OAAO,eACXC,GAAI,CAAC,EAAGC,EAAGC,IAAMD,KAAK,EAAIF,GAAE,EAAGE,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAOC,CAAC,CAAE,EAAI,EAAED,CAAC,EAAIC,EACzGC,EAAI,CAAC,EAAGF,EAAGC,IAAMF,GAAE,EAAG,OAAOC,GAAK,SAAWA,EAAI,GAAKA,EAAGC,CAAC,EAW9D,MAAME,GAAI,CACR,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MAEA,MAEA,MAEA,MAEA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,MAEA,MAEA,MAEA,MAEA,MACA,MACA,MACA,MAEA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAEA,MACA,MACA,KACF,EAAGC,GAAI,CACL,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACF,EAAGC,GAAI,CACL,UACA,SACA,YACA,UACA,cACA,SACA,SACA,OACA,WACA,WACA,UACA,UACA,eACA,eACA,OACA,WACA,kBACA,MACA,SACA,WACA,eACA,gBACA,SACA,WACA,eACA,UACA,kBACA,QACA,OACA,OACA,UACA,QACA,QACA,QACA,WACA,YACA,SACA,YACA,UACA,UACA,OACA,OACA,OA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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}